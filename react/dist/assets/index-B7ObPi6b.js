(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function i(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(f){if(f.ep)return;f.ep=!0;const m=i(f);fetch(f.href,m)}})();function Md(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ua={exports:{}},Go={},da={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function Yp(){if(ud)return qe;ud=1;var l=Symbol.for("react.element"),u=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),B=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=B&&S[B]||S["@@iterator"],typeof S=="function"?S:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function R(S,_,me){this.props=S,this.context=_,this.refs=I,this.updater=me||K}R.prototype.isReactComponent={},R.prototype.setState=function(S,_){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,_,"setState")},R.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function G(){}G.prototype=R.prototype;function H(S,_,me){this.props=S,this.context=_,this.refs=I,this.updater=me||K}var xe=H.prototype=new G;xe.constructor=H,N(xe,R.prototype),xe.isPureReactComponent=!0;var je=Array.isArray,Be=Object.prototype.hasOwnProperty,Fe={current:null},fe={key:!0,ref:!0,__self:!0,__source:!0};function q(S,_,me){var be,ee={},P=null,Pe=null;if(_!=null)for(be in _.ref!==void 0&&(Pe=_.ref),_.key!==void 0&&(P=""+_.key),_)Be.call(_,be)&&!fe.hasOwnProperty(be)&&(ee[be]=_[be]);var Te=arguments.length-2;if(Te===1)ee.children=me;else if(1<Te){for(var Ve=Array(Te),ut=0;ut<Te;ut++)Ve[ut]=arguments[ut+2];ee.children=Ve}if(S&&S.defaultProps)for(be in Te=S.defaultProps,Te)ee[be]===void 0&&(ee[be]=Te[be]);return{$$typeof:l,type:S,key:P,ref:Pe,props:ee,_owner:Fe.current}}function ye(S,_){return{$$typeof:l,type:S.type,key:_,ref:S.ref,props:S.props,_owner:S._owner}}function ie(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function X(S){var _={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(me){return _[me]})}var ae=/\/+/g;function ke(S,_){return typeof S=="object"&&S!==null&&S.key!=null?X(""+S.key):_.toString(36)}function Se(S,_,me,be,ee){var P=typeof S;(P==="undefined"||P==="boolean")&&(S=null);var Pe=!1;if(S===null)Pe=!0;else switch(P){case"string":case"number":Pe=!0;break;case"object":switch(S.$$typeof){case l:case u:Pe=!0}}if(Pe)return Pe=S,ee=ee(Pe),S=be===""?"."+ke(Pe,0):be,je(ee)?(me="",S!=null&&(me=S.replace(ae,"$&/")+"/"),Se(ee,_,me,"",function(ut){return ut})):ee!=null&&(ie(ee)&&(ee=ye(ee,me+(!ee.key||Pe&&Pe.key===ee.key?"":(""+ee.key).replace(ae,"$&/")+"/")+S)),_.push(ee)),1;if(Pe=0,be=be===""?".":be+":",je(S))for(var Te=0;Te<S.length;Te++){P=S[Te];var Ve=be+ke(P,Te);Pe+=Se(P,_,me,Ve,ee)}else if(Ve=C(S),typeof Ve=="function")for(S=Ve.call(S),Te=0;!(P=S.next()).done;)P=P.value,Ve=be+ke(P,Te++),Pe+=Se(P,_,me,Ve,ee);else if(P==="object")throw _=String(S),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Qe(S,_,me){if(S==null)return S;var be=[],ee=0;return Se(S,be,"","",function(P){return _.call(me,P,ee++)}),be}function Ye(S){if(S._status===-1){var _=S._result;_=_(),_.then(function(me){(S._status===0||S._status===-1)&&(S._status=1,S._result=me)},function(me){(S._status===0||S._status===-1)&&(S._status=2,S._result=me)}),S._status===-1&&(S._status=0,S._result=_)}if(S._status===1)return S._result.default;throw S._result}var de={current:null},M={transition:null},Z={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:M,ReactCurrentOwner:Fe};function V(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Qe,forEach:function(S,_,me){Qe(S,function(){_.apply(this,arguments)},me)},count:function(S){var _=0;return Qe(S,function(){_++}),_},toArray:function(S){return Qe(S,function(_){return _})||[]},only:function(S){if(!ie(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},qe.Component=R,qe.Fragment=i,qe.Profiler=f,qe.PureComponent=H,qe.StrictMode=c,qe.Suspense=g,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,qe.act=V,qe.cloneElement=function(S,_,me){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var be=N({},S.props),ee=S.key,P=S.ref,Pe=S._owner;if(_!=null){if(_.ref!==void 0&&(P=_.ref,Pe=Fe.current),_.key!==void 0&&(ee=""+_.key),S.type&&S.type.defaultProps)var Te=S.type.defaultProps;for(Ve in _)Be.call(_,Ve)&&!fe.hasOwnProperty(Ve)&&(be[Ve]=_[Ve]===void 0&&Te!==void 0?Te[Ve]:_[Ve])}var Ve=arguments.length-2;if(Ve===1)be.children=me;else if(1<Ve){Te=Array(Ve);for(var ut=0;ut<Ve;ut++)Te[ut]=arguments[ut+2];be.children=Te}return{$$typeof:l,type:S.type,key:ee,ref:P,props:be,_owner:Pe}},qe.createContext=function(S){return S={$$typeof:x,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:m,_context:S},S.Consumer=S},qe.createElement=q,qe.createFactory=function(S){var _=q.bind(null,S);return _.type=S,_},qe.createRef=function(){return{current:null}},qe.forwardRef=function(S){return{$$typeof:w,render:S}},qe.isValidElement=ie,qe.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:Ye}},qe.memo=function(S,_){return{$$typeof:k,type:S,compare:_===void 0?null:_}},qe.startTransition=function(S){var _=M.transition;M.transition={};try{S()}finally{M.transition=_}},qe.unstable_act=V,qe.useCallback=function(S,_){return de.current.useCallback(S,_)},qe.useContext=function(S){return de.current.useContext(S)},qe.useDebugValue=function(){},qe.useDeferredValue=function(S){return de.current.useDeferredValue(S)},qe.useEffect=function(S,_){return de.current.useEffect(S,_)},qe.useId=function(){return de.current.useId()},qe.useImperativeHandle=function(S,_,me){return de.current.useImperativeHandle(S,_,me)},qe.useInsertionEffect=function(S,_){return de.current.useInsertionEffect(S,_)},qe.useLayoutEffect=function(S,_){return de.current.useLayoutEffect(S,_)},qe.useMemo=function(S,_){return de.current.useMemo(S,_)},qe.useReducer=function(S,_,me){return de.current.useReducer(S,_,me)},qe.useRef=function(S){return de.current.useRef(S)},qe.useState=function(S){return de.current.useState(S)},qe.useSyncExternalStore=function(S,_,me){return de.current.useSyncExternalStore(S,_,me)},qe.useTransition=function(){return de.current.useTransition()},qe.version="18.3.1",qe}var dd;function wa(){return dd||(dd=1,da.exports=Yp()),da.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function Jp(){if(fd)return Go;fd=1;var l=wa(),u=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function x(w,g,k){var E,B={},C=null,K=null;k!==void 0&&(C=""+k),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(K=g.ref);for(E in g)c.call(g,E)&&!m.hasOwnProperty(E)&&(B[E]=g[E]);if(w&&w.defaultProps)for(E in g=w.defaultProps,g)B[E]===void 0&&(B[E]=g[E]);return{$$typeof:u,type:w,key:C,ref:K,props:B,_owner:f.current}}return Go.Fragment=i,Go.jsx=x,Go.jsxs=x,Go}var pd;function Qp(){return pd||(pd=1,ua.exports=Jp()),ua.exports}var n=Qp(),h=wa();const Kp=Md(h);var xl={},fa={exports:{}},on={},pa={exports:{}},ha={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd;function Gp(){return hd||(hd=1,(function(l){function u(M,Z){var V=M.length;M.push(Z);e:for(;0<V;){var S=V-1>>>1,_=M[S];if(0<f(_,Z))M[S]=Z,M[V]=_,V=S;else break e}}function i(M){return M.length===0?null:M[0]}function c(M){if(M.length===0)return null;var Z=M[0],V=M.pop();if(V!==Z){M[0]=V;e:for(var S=0,_=M.length,me=_>>>1;S<me;){var be=2*(S+1)-1,ee=M[be],P=be+1,Pe=M[P];if(0>f(ee,V))P<_&&0>f(Pe,ee)?(M[S]=Pe,M[P]=V,S=P):(M[S]=ee,M[be]=V,S=be);else if(P<_&&0>f(Pe,V))M[S]=Pe,M[P]=V,S=P;else break e}}return Z}function f(M,Z){var V=M.sortIndex-Z.sortIndex;return V!==0?V:M.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var x=Date,w=x.now();l.unstable_now=function(){return x.now()-w}}var g=[],k=[],E=1,B=null,C=3,K=!1,N=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xe(M){for(var Z=i(k);Z!==null;){if(Z.callback===null)c(k);else if(Z.startTime<=M)c(k),Z.sortIndex=Z.expirationTime,u(g,Z);else break;Z=i(k)}}function je(M){if(I=!1,xe(M),!N)if(i(g)!==null)N=!0,Ye(Be);else{var Z=i(k);Z!==null&&de(je,Z.startTime-M)}}function Be(M,Z){N=!1,I&&(I=!1,G(q),q=-1),K=!0;var V=C;try{for(xe(Z),B=i(g);B!==null&&(!(B.expirationTime>Z)||M&&!X());){var S=B.callback;if(typeof S=="function"){B.callback=null,C=B.priorityLevel;var _=S(B.expirationTime<=Z);Z=l.unstable_now(),typeof _=="function"?B.callback=_:B===i(g)&&c(g),xe(Z)}else c(g);B=i(g)}if(B!==null)var me=!0;else{var be=i(k);be!==null&&de(je,be.startTime-Z),me=!1}return me}finally{B=null,C=V,K=!1}}var Fe=!1,fe=null,q=-1,ye=5,ie=-1;function X(){return!(l.unstable_now()-ie<ye)}function ae(){if(fe!==null){var M=l.unstable_now();ie=M;var Z=!0;try{Z=fe(!0,M)}finally{Z?ke():(Fe=!1,fe=null)}}else Fe=!1}var ke;if(typeof H=="function")ke=function(){H(ae)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Qe=Se.port2;Se.port1.onmessage=ae,ke=function(){Qe.postMessage(null)}}else ke=function(){R(ae,0)};function Ye(M){fe=M,Fe||(Fe=!0,ke())}function de(M,Z){q=R(function(){M(l.unstable_now())},Z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_continueExecution=function(){N||K||(N=!0,Ye(Be))},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_getFirstCallbackNode=function(){return i(g)},l.unstable_next=function(M){switch(C){case 1:case 2:case 3:var Z=3;break;default:Z=C}var V=C;C=Z;try{return M()}finally{C=V}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(M,Z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=C;C=M;try{return Z()}finally{C=V}},l.unstable_scheduleCallback=function(M,Z,V){var S=l.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?S+V:S):V=S,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=V+_,M={id:E++,callback:Z,priorityLevel:M,startTime:V,expirationTime:_,sortIndex:-1},V>S?(M.sortIndex=V,u(k,M),i(g)===null&&M===i(k)&&(I?(G(q),q=-1):I=!0,de(je,V-S))):(M.sortIndex=_,u(g,M),N||K||(N=!0,Ye(Be))),M},l.unstable_shouldYield=X,l.unstable_wrapCallback=function(M){var Z=C;return function(){var V=C;C=Z;try{return M.apply(this,arguments)}finally{C=V}}}})(ha)),ha}var md;function qp(){return md||(md=1,pa.exports=Gp()),pa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function Xp(){if(gd)return on;gd=1;var l=wa(),u=qp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,f={};function m(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(f[e]=t,e=0;e<t.length;e++)c.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},B={};function C(e){return g.call(B,e)?!0:g.call(E,e)?!1:k.test(e)?B[e]=!0:(E[e]=!0,!1)}function K(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,r,o){if(t===null||typeof t>"u"||K(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function I(e,t,r,o,s,a,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=p}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new I(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G,H);R[t]=new I(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G,H);R[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G,H);R[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function xe(e,t,r,o){var s=R.hasOwnProperty(t)?R[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,r,s,o)&&(r=null),o||s===null?C(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var je=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Be=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),M=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,S;function _(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var me=!1;function be(e,t){if(!e||me)return"";me=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var o=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){o=A}e.call(t.prototype)}else{try{throw Error()}catch(A){o=A}e()}}catch(A){if(A&&o&&typeof A.stack=="string"){for(var s=A.stack.split(`
`),a=o.stack.split(`
`),p=s.length-1,v=a.length-1;1<=p&&0<=v&&s[p]!==a[v];)v--;for(;1<=p&&0<=v;p--,v--)if(s[p]!==a[v]){if(p!==1||v!==1)do if(p--,v--,0>v||s[p]!==a[v]){var b=`
`+s[p].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=p&&0<=v);break}}}finally{me=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_(e):""}function ee(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=be(e.type,!1),e;case 11:return e=be(e.type.render,!1),e;case 1:return e=be(e.type,!0),e;default:return""}}function P(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fe:return"Fragment";case Fe:return"Portal";case ye:return"Profiler";case q:return"StrictMode";case ke:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qe:return t=e.displayName||null,t!==null?t:P(e.type)||"Memo";case Ye:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}function Pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(t);case 8:return t===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ut(e){var t=Ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(p){o=""+p,a.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xe(e){e._valueTracker||(e._valueTracker=ut(e))}function it(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=Ve(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function U(e,t){var r=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ce(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=Te(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ke(e,t){t=t.checked,t!=null&&xe(e,"checked",t,!1)}function zt(e,t){Ke(e,t);var r=Te(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dt(e,t.type,r):t.hasOwnProperty("defaultValue")&&dt(e,t.type,Te(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dt(e,t,r){(t!=="number"||kt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rt=Array.isArray;function xt(e,t,r,o){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Te(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(rt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Te(r)}}function Ft(e,t){var r=Te(t.value),o=Te(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function T(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Le(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pt,ve=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function J(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(e){_t.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),et[t]=et[e]})});function bt(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||et.hasOwnProperty(e)&&et[e]?(""+t).trim():t+"px"}function _e(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=bt(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var Ie=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Je(e,t){if(t){if(Ie[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function j(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ne=null;function Y(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ge=null,Q=null,we=null;function Ee(e){if(e=Po(e)){if(typeof ge!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Ls(t),ge(e.stateNode,e.type,t))}}function $e(e){Q?we?we.push(e):we=[e]:Q=e}function d(){if(Q){var e=Q,t=we;if(we=Q=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function L(e,t){return e(t)}function W(){}var F=!1;function y(e,t,r){if(F)return e(t,r);F=!0;try{return L(e,t,r)}finally{F=!1,(Q!==null||we!==null)&&(W(),d())}}function O(e,t){var r=e.stateNode;if(r===null)return null;var o=Ls(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var te=!1;if(w)try{var se={};Object.defineProperty(se,"passive",{get:function(){te=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{te=!1}function he(e,t,r,o,s,a,p,v,b){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(oe){this.onError(oe)}}var Ae=!1,pe=null,at=!1,ot=null,wt={onError:function(e){Ae=!0,pe=e}};function ne(e,t,r,o,s,a,p,v,b){Ae=!1,pe=null,he.apply(wt,arguments)}function Jt(e,t,r,o,s,a,p,v,b){if(ne.apply(this,arguments),Ae){if(Ae){var A=pe;Ae=!1,pe=null}else throw Error(i(198));at||(at=!0,ot=A)}}function Nt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Br(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nr(e){if(Nt(e)!==e)throw Error(i(188))}function go(e){var t=e.alternate;if(!t){if(t=Nt(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,o=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return nr(s),e;if(a===o)return nr(s),t;a=a.sibling}throw Error(i(188))}if(r.return!==o.return)r=s,o=a;else{for(var p=!1,v=s.child;v;){if(v===r){p=!0,r=s,o=a;break}if(v===o){p=!0,o=s,r=a;break}v=v.sibling}if(!p){for(v=a.child;v;){if(v===r){p=!0,r=a,o=s;break}if(v===o){p=!0,o=a,r=s;break}v=v.sibling}if(!p)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function Et(e){return e=go(e),e!==null?yt(e):null}function yt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yt(e);if(t!==null)return t;e=e.sibling}return null}var ds=u.unstable_scheduleCallback,Aa=u.unstable_cancelCallback,nf=u.unstable_shouldYield,rf=u.unstable_requestPaint,Mt=u.unstable_now,of=u.unstable_getCurrentPriorityLevel,Tl=u.unstable_ImmediatePriority,Ba=u.unstable_UserBlockingPriority,fs=u.unstable_NormalPriority,sf=u.unstable_LowPriority,Fa=u.unstable_IdlePriority,ps=null,_n=null;function lf(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(ps,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:uf,af=Math.log,cf=Math.LN2;function uf(e){return e>>>=0,e===0?32:31-(af(e)/cf|0)|0}var hs=64,ms=4194304;function xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gs(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,a=e.pingedLanes,p=r&268435455;if(p!==0){var v=p&~s;v!==0?o=xo(v):(a&=p,a!==0&&(o=xo(a)))}else p=r&~s,p!==0?o=xo(p):a!==0&&(o=xo(a));if(o===0)return 0;if(t!==0&&t!==o&&(t&s)===0&&(s=o&-o,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if((o&4)!==0&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-jn(t),s=1<<r,o|=e[r],t&=~s;return o}function df(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ff(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var p=31-jn(a),v=1<<p,b=s[p];b===-1?((v&r)===0||(v&o)!==0)&&(s[p]=df(v,t)):b<=t&&(e.expiredLanes|=v),a&=~v}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oa(){var e=hs;return hs<<=1,(hs&4194240)===0&&(hs=64),e}function Ll(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=r}function pf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-jn(r),a=1<<s;t[s]=0,o[s]=-1,e[s]=-1,r&=~a}}function Rl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-jn(r),s=1<<o;s&t|e[o]&t&&(e[o]|=t),r&=~s}}var ct=0;function Wa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ua,Dl,Va,Ha,Ya,Pl=!1,xs=[],rr=null,or=null,sr=null,vo=new Map,jo=new Map,lr=[],hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(t.pointerId)}}function ko(e,t,r,o,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Po(t),t!==null&&Dl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mf(e,t,r,o,s){switch(t){case"focusin":return rr=ko(rr,e,t,r,o,s),!0;case"dragenter":return or=ko(or,e,t,r,o,s),!0;case"mouseover":return sr=ko(sr,e,t,r,o,s),!0;case"pointerover":var a=s.pointerId;return vo.set(a,ko(vo.get(a)||null,e,t,r,o,s)),!0;case"gotpointercapture":return a=s.pointerId,jo.set(a,ko(jo.get(a)||null,e,t,r,o,s)),!0}return!1}function Qa(e){var t=wr(e.target);if(t!==null){var r=Nt(t);if(r!==null){if(t=r.tag,t===13){if(t=Br(r),t!==null){e.blockedOn=t,Ya(e.priority,function(){Va(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ne=o,r.target.dispatchEvent(o),Ne=null}else return t=Po(r),t!==null&&Dl(t),e.blockedOn=r,!1;t.shift()}return!0}function Ka(e,t,r){ys(e)&&r.delete(t)}function gf(){Pl=!1,rr!==null&&ys(rr)&&(rr=null),or!==null&&ys(or)&&(or=null),sr!==null&&ys(sr)&&(sr=null),vo.forEach(Ka),jo.forEach(Ka)}function wo(e,t){e.blockedOn===t&&(e.blockedOn=null,Pl||(Pl=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,gf)))}function Co(e){function t(s){return wo(s,e)}if(0<xs.length){wo(xs[0],e);for(var r=1;r<xs.length;r++){var o=xs[r];o.blockedOn===e&&(o.blockedOn=null)}}for(rr!==null&&wo(rr,e),or!==null&&wo(or,e),sr!==null&&wo(sr,e),vo.forEach(t),jo.forEach(t),r=0;r<lr.length;r++)o=lr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)Qa(r),r.blockedOn===null&&lr.shift()}var Fr=je.ReactCurrentBatchConfig,vs=!0;function xf(e,t,r,o){var s=ct,a=Fr.transition;Fr.transition=null;try{ct=1,zl(e,t,r,o)}finally{ct=s,Fr.transition=a}}function yf(e,t,r,o){var s=ct,a=Fr.transition;Fr.transition=null;try{ct=4,zl(e,t,r,o)}finally{ct=s,Fr.transition=a}}function zl(e,t,r,o){if(vs){var s=Il(e,t,r,o);if(s===null)ei(e,t,o,js,r),Ja(e,o);else if(mf(s,e,t,r,o))o.stopPropagation();else if(Ja(e,o),t&4&&-1<hf.indexOf(e)){for(;s!==null;){var a=Po(s);if(a!==null&&Ua(a),a=Il(e,t,r,o),a===null&&ei(e,t,o,js,r),a===s)break;s=a}s!==null&&o.stopPropagation()}else ei(e,t,o,null,r)}}var js=null;function Il(e,t,r,o){if(js=null,e=Y(o),e=wr(e),e!==null)if(t=Nt(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Br(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return js=e,null}function Ga(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(of()){case Tl:return 1;case Ba:return 4;case fs:case sf:return 16;case Fa:return 536870912;default:return 16}default:return 16}}var ir=null,Al=null,ks=null;function qa(){if(ks)return ks;var e,t=Al,r=t.length,o,s="value"in ir?ir.value:ir.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var p=r-e;for(o=1;o<=p&&t[r-o]===s[a-o];o++);return ks=s.slice(e,1<o?1-o:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Xa(){return!1}function sn(e){function t(r,o,s,a,p){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=a,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(a):a[v]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cs:Xa,this.isPropagationStopped=Xa,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=sn(Or),So=V({},Or,{view:0,detail:0}),vf=sn(So),Fl,Ol,bo,Ss=V({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bo&&(bo&&e.type==="mousemove"?(Fl=e.screenX-bo.screenX,Ol=e.screenY-bo.screenY):Ol=Fl=0,bo=e),Fl)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),Za=sn(Ss),jf=V({},Ss,{dataTransfer:0}),kf=sn(jf),wf=V({},So,{relatedTarget:0}),Wl=sn(wf),Cf=V({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=sn(Cf),bf=V({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nf=sn(bf),Ef=V({},Or,{data:0}),ec=sn(Ef),$f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _f(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tf[e])?!!t[e]:!1}function Ul(){return _f}var Lf=V({},So,{key:function(e){if(e.key){var t=$f[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rf=sn(Lf),Df=V({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=sn(Df),Pf=V({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),zf=sn(Pf),If=V({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Af=sn(If),Bf=V({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ff=sn(Bf),Of=[9,13,27,32],Vl=w&&"CompositionEvent"in window,No=null;w&&"documentMode"in document&&(No=document.documentMode);var Wf=w&&"TextEvent"in window&&!No,nc=w&&(!Vl||No&&8<No&&11>=No),rc=" ",oc=!1;function sc(e,t){switch(e){case"keyup":return Of.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function Uf(e,t){switch(e){case"compositionend":return lc(t);case"keypress":return t.which!==32?null:(oc=!0,rc);case"textInput":return e=t.data,e===rc&&oc?null:e;default:return null}}function Vf(e,t){if(Wr)return e==="compositionend"||!Vl&&sc(e,t)?(e=qa(),ks=Al=ir=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nc&&t.locale!=="ko"?null:t.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hf[e.type]:t==="textarea"}function ac(e,t,r,o){$e(o),t=Ms(t,"onChange"),0<t.length&&(r=new Bl("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Eo=null,$o=null;function Yf(e){Nc(e,0)}function bs(e){var t=Jr(e);if(it(t))return e}function Jf(e,t){if(e==="change")return t}var cc=!1;if(w){var Hl;if(w){var Yl="oninput"in document;if(!Yl){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),Yl=typeof uc.oninput=="function"}Hl=Yl}else Hl=!1;cc=Hl&&(!document.documentMode||9<document.documentMode)}function dc(){Eo&&(Eo.detachEvent("onpropertychange",fc),$o=Eo=null)}function fc(e){if(e.propertyName==="value"&&bs($o)){var t=[];ac(t,$o,e,Y(e)),y(Yf,t)}}function Qf(e,t,r){e==="focusin"?(dc(),Eo=t,$o=r,Eo.attachEvent("onpropertychange",fc)):e==="focusout"&&dc()}function Kf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bs($o)}function Gf(e,t){if(e==="click")return bs(t)}function qf(e,t){if(e==="input"||e==="change")return bs(t)}function Xf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:Xf;function Mo(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!g.call(t,s)||!kn(e[s],t[s]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var r=pc(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pc(r)}}function mc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gc(){for(var e=window,t=kt();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kt(e.document)}return t}function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zf(e){var t=gc(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mc(r.ownerDocument.documentElement,r)){if(o!==null&&Jl(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(o.start,s);o=o.end===void 0?a:Math.min(o.end,s),!e.extend&&a>o&&(s=o,o=a,a=s),s=hc(r,a);var p=hc(r,o);s&&p&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ep=w&&"documentMode"in document&&11>=document.documentMode,Ur=null,Ql=null,To=null,Kl=!1;function xc(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kl||Ur==null||Ur!==kt(o)||(o=Ur,"selectionStart"in o&&Jl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),To&&Mo(To,o)||(To=o,o=Ms(Ql,"onSelect"),0<o.length&&(t=new Bl("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Ur)))}function Ns(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},Gl={},yc={};w&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Es(e){if(Gl[e])return Gl[e];if(!Vr[e])return e;var t=Vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yc)return Gl[e]=t[r];return e}var vc=Es("animationend"),jc=Es("animationiteration"),kc=Es("animationstart"),wc=Es("transitionend"),Cc=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){Cc.set(e,t),m(t,[e])}for(var ql=0;ql<Sc.length;ql++){var Xl=Sc[ql],tp=Xl.toLowerCase(),np=Xl[0].toUpperCase()+Xl.slice(1);ar(tp,"on"+np)}ar(vc,"onAnimationEnd"),ar(jc,"onAnimationIteration"),ar(kc,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(wc,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rp=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function bc(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,Jt(o,t,void 0,e),e.currentTarget=null}function Nc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var p=o.length-1;0<=p;p--){var v=o[p],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==a&&s.isPropagationStopped())break e;bc(s,v,A),a=b}else for(p=0;p<o.length;p++){if(v=o[p],b=v.instance,A=v.currentTarget,v=v.listener,b!==a&&s.isPropagationStopped())break e;bc(s,v,A),a=b}}}if(at)throw e=ot,at=!1,ot=null,e}function mt(e,t){var r=t[li];r===void 0&&(r=t[li]=new Set);var o=e+"__bubble";r.has(o)||(Ec(t,e,2,!1),r.add(o))}function Zl(e,t,r){var o=0;t&&(o|=4),Ec(r,e,o,t)}var $s="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[$s]){e[$s]=!0,c.forEach(function(r){r!=="selectionchange"&&(rp.has(r)||Zl(r,!1,e),Zl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$s]||(t[$s]=!0,Zl("selectionchange",!1,t))}}function Ec(e,t,r,o){switch(Ga(t)){case 1:var s=xf;break;case 4:s=yf;break;default:s=zl}r=s.bind(null,t,r,e),s=void 0,!te||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ei(e,t,r,o,s){var a=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===s||v.nodeType===8&&v.parentNode===s)break;if(p===4)for(p=o.return;p!==null;){var b=p.tag;if((b===3||b===4)&&(b=p.stateNode.containerInfo,b===s||b.nodeType===8&&b.parentNode===s))return;p=p.return}for(;v!==null;){if(p=wr(v),p===null)return;if(b=p.tag,b===5||b===6){o=a=p;continue e}v=v.parentNode}}o=o.return}y(function(){var A=a,oe=Y(r),le=[];e:{var re=Cc.get(e);if(re!==void 0){var Ce=Bl,Re=e;switch(e){case"keypress":if(ws(r)===0)break e;case"keydown":case"keyup":Ce=Rf;break;case"focusin":Re="focus",Ce=Wl;break;case"focusout":Re="blur",Ce=Wl;break;case"beforeblur":case"afterblur":Ce=Wl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=zf;break;case vc:case jc:case kc:Ce=Sf;break;case wc:Ce=Af;break;case"scroll":Ce=vf;break;case"wheel":Ce=Ff;break;case"copy":case"cut":case"paste":Ce=Nf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=tc}var De=(t&4)!==0,Tt=!De&&e==="scroll",D=De?re!==null?re+"Capture":null:re;De=[];for(var $=A,z;$!==null;){z=$;var ue=z.stateNode;if(z.tag===5&&ue!==null&&(z=ue,D!==null&&(ue=O($,D),ue!=null&&De.push(Ro($,ue,z)))),Tt)break;$=$.return}0<De.length&&(re=new Ce(re,Re,null,r,oe),le.push({event:re,listeners:De}))}}if((t&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",Ce=e==="mouseout"||e==="pointerout",re&&r!==Ne&&(Re=r.relatedTarget||r.fromElement)&&(wr(Re)||Re[Un]))break e;if((Ce||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,Ce?(Re=r.relatedTarget||r.toElement,Ce=A,Re=Re?wr(Re):null,Re!==null&&(Tt=Nt(Re),Re!==Tt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ce=null,Re=A),Ce!==Re)){if(De=Za,ue="onMouseLeave",D="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(De=tc,ue="onPointerLeave",D="onPointerEnter",$="pointer"),Tt=Ce==null?re:Jr(Ce),z=Re==null?re:Jr(Re),re=new De(ue,$+"leave",Ce,r,oe),re.target=Tt,re.relatedTarget=z,ue=null,wr(oe)===A&&(De=new De(D,$+"enter",Re,r,oe),De.target=z,De.relatedTarget=Tt,ue=De),Tt=ue,Ce&&Re)t:{for(De=Ce,D=Re,$=0,z=De;z;z=Hr(z))$++;for(z=0,ue=D;ue;ue=Hr(ue))z++;for(;0<$-z;)De=Hr(De),$--;for(;0<z-$;)D=Hr(D),z--;for(;$--;){if(De===D||D!==null&&De===D.alternate)break t;De=Hr(De),D=Hr(D)}De=null}else De=null;Ce!==null&&$c(le,re,Ce,De,!1),Re!==null&&Tt!==null&&$c(le,Tt,Re,De,!0)}}e:{if(re=A?Jr(A):window,Ce=re.nodeName&&re.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&re.type==="file")var ze=Jf;else if(ic(re))if(cc)ze=qf;else{ze=Kf;var We=Qf}else(Ce=re.nodeName)&&Ce.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(ze=Gf);if(ze&&(ze=ze(e,A))){ac(le,ze,r,oe);break e}We&&We(e,re,A),e==="focusout"&&(We=re._wrapperState)&&We.controlled&&re.type==="number"&&dt(re,"number",re.value)}switch(We=A?Jr(A):window,e){case"focusin":(ic(We)||We.contentEditable==="true")&&(Ur=We,Ql=A,To=null);break;case"focusout":To=Ql=Ur=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,xc(le,r,oe);break;case"selectionchange":if(ep)break;case"keydown":case"keyup":xc(le,r,oe)}var Ue;if(Vl)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Wr?sc(e,r)&&(He="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(nc&&r.locale!=="ko"&&(Wr||He!=="onCompositionStart"?He==="onCompositionEnd"&&Wr&&(Ue=qa()):(ir=oe,Al="value"in ir?ir.value:ir.textContent,Wr=!0)),We=Ms(A,He),0<We.length&&(He=new ec(He,e,null,r,oe),le.push({event:He,listeners:We}),Ue?He.data=Ue:(Ue=lc(r),Ue!==null&&(He.data=Ue)))),(Ue=Wf?Uf(e,r):Vf(e,r))&&(A=Ms(A,"onBeforeInput"),0<A.length&&(oe=new ec("onBeforeInput","beforeinput",null,r,oe),le.push({event:oe,listeners:A}),oe.data=Ue))}Nc(le,t)})}function Ro(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ms(e,t){for(var r=t+"Capture",o=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=O(e,r),a!=null&&o.unshift(Ro(e,a,s)),a=O(e,t),a!=null&&o.push(Ro(e,a,s))),e=e.return}return o}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $c(e,t,r,o,s){for(var a=t._reactName,p=[];r!==null&&r!==o;){var v=r,b=v.alternate,A=v.stateNode;if(b!==null&&b===o)break;v.tag===5&&A!==null&&(v=A,s?(b=O(r,a),b!=null&&p.unshift(Ro(r,b,v))):s||(b=O(r,a),b!=null&&p.push(Ro(r,b,v)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var op=/\r\n?/g,sp=/\u0000|\uFFFD/g;function Mc(e){return(typeof e=="string"?e:""+e).replace(op,`
`).replace(sp,"")}function Ts(e,t,r){if(t=Mc(t),Mc(e)!==t&&r)throw Error(i(425))}function _s(){}var ti=null,ni=null;function ri(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oi=typeof setTimeout=="function"?setTimeout:void 0,lp=typeof clearTimeout=="function"?clearTimeout:void 0,Tc=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof Tc<"u"?function(e){return Tc.resolve(null).then(e).catch(ap)}:oi;function ap(e){setTimeout(function(){throw e})}function si(e,t){var r=t,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),Co(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);Co(t)}function cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Yr,Do="__reactProps$"+Yr,Un="__reactContainer$"+Yr,li="__reactEvents$"+Yr,cp="__reactListeners$"+Yr,up="__reactHandles$"+Yr;function wr(e){var t=e[Ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Un]||r[Ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_c(e);e!==null;){if(r=e[Ln])return r;e=_c(e)}return t}e=r,r=e.parentNode}return null}function Po(e){return e=e[Ln]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Ls(e){return e[Do]||null}var ii=[],Qr=-1;function ur(e){return{current:e}}function gt(e){0>Qr||(e.current=ii[Qr],ii[Qr]=null,Qr--)}function ht(e,t){Qr++,ii[Qr]=e.current,e.current=t}var dr={},Ut=ur(dr),Zt=ur(!1),Cr=dr;function Kr(e,t){var r=e.type.contextTypes;if(!r)return dr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function en(e){return e=e.childContextTypes,e!=null}function Rs(){gt(Zt),gt(Ut)}function Lc(e,t,r){if(Ut.current!==dr)throw Error(i(168));ht(Ut,t),ht(Zt,r)}function Rc(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(i(108,Pe(e)||"Unknown",s));return V({},r,o)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Cr=Ut.current,ht(Ut,e),ht(Zt,Zt.current),!0}function Dc(e,t,r){var o=e.stateNode;if(!o)throw Error(i(169));r?(e=Rc(e,t,Cr),o.__reactInternalMemoizedMergedChildContext=e,gt(Zt),gt(Ut),ht(Ut,e)):gt(Zt),ht(Zt,r)}var Vn=null,Ps=!1,ai=!1;function Pc(e){Vn===null?Vn=[e]:Vn.push(e)}function dp(e){Ps=!0,Pc(e)}function fr(){if(!ai&&Vn!==null){ai=!0;var e=0,t=ct;try{var r=Vn;for(ct=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Vn=null,Ps=!1}catch(s){throw Vn!==null&&(Vn=Vn.slice(e+1)),ds(Tl,fr),s}finally{ct=t,ai=!1}}return null}var Gr=[],qr=0,zs=null,Is=0,dn=[],fn=0,Sr=null,Hn=1,Yn="";function br(e,t){Gr[qr++]=Is,Gr[qr++]=zs,zs=e,Is=t}function zc(e,t,r){dn[fn++]=Hn,dn[fn++]=Yn,dn[fn++]=Sr,Sr=e;var o=Hn;e=Yn;var s=32-jn(o)-1;o&=~(1<<s),r+=1;var a=32-jn(t)+s;if(30<a){var p=s-s%5;a=(o&(1<<p)-1).toString(32),o>>=p,s-=p,Hn=1<<32-jn(t)+s|r<<s|o,Yn=a+e}else Hn=1<<a|r<<s|o,Yn=e}function ci(e){e.return!==null&&(br(e,1),zc(e,1,0))}function ui(e){for(;e===zs;)zs=Gr[--qr],Gr[qr]=null,Is=Gr[--qr],Gr[qr]=null;for(;e===Sr;)Sr=dn[--fn],dn[fn]=null,Yn=dn[--fn],dn[fn]=null,Hn=dn[--fn],dn[fn]=null}var ln=null,an=null,vt=!1,wn=null;function Ic(e,t){var r=gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ac(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sr!==null?{id:Hn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ln=e,an=null,!0):!1;default:return!1}}function di(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fi(e){if(vt){var t=an;if(t){var r=t;if(!Ac(e,t)){if(di(e))throw Error(i(418));t=cr(r.nextSibling);var o=ln;t&&Ac(e,t)?Ic(o,r):(e.flags=e.flags&-4097|2,vt=!1,ln=e)}}else{if(di(e))throw Error(i(418));e.flags=e.flags&-4097|2,vt=!1,ln=e}}}function Bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function As(e){if(e!==ln)return!1;if(!vt)return Bc(e),vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ri(e.type,e.memoizedProps)),t&&(t=an)){if(di(e))throw Fc(),Error(i(418));for(;t;)Ic(e,t),t=cr(t.nextSibling)}if(Bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){an=cr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?cr(e.stateNode.nextSibling):null;return!0}function Fc(){for(var e=an;e;)e=cr(e.nextSibling)}function Xr(){an=ln=null,vt=!1}function pi(e){wn===null?wn=[e]:wn.push(e)}var fp=je.ReactCurrentBatchConfig;function zo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var o=r.stateNode}if(!o)throw Error(i(147,e));var s=o,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(p){var v=s.refs;p===null?delete v[a]:v[a]=p},t._stringRef=a,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Bs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oc(e){var t=e._init;return t(e._payload)}function Wc(e){function t(D,$){if(e){var z=D.deletions;z===null?(D.deletions=[$],D.flags|=16):z.push($)}}function r(D,$){if(!e)return null;for(;$!==null;)t(D,$),$=$.sibling;return null}function o(D,$){for(D=new Map;$!==null;)$.key!==null?D.set($.key,$):D.set($.index,$),$=$.sibling;return D}function s(D,$){return D=jr(D,$),D.index=0,D.sibling=null,D}function a(D,$,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<$?(D.flags|=2,$):z):(D.flags|=2,$)):(D.flags|=1048576,$)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function v(D,$,z,ue){return $===null||$.tag!==6?($=oa(z,D.mode,ue),$.return=D,$):($=s($,z),$.return=D,$)}function b(D,$,z,ue){var ze=z.type;return ze===fe?oe(D,$,z.props.children,ue,z.key):$!==null&&($.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ye&&Oc(ze)===$.type)?(ue=s($,z.props),ue.ref=zo(D,$,z),ue.return=D,ue):(ue=cl(z.type,z.key,z.props,null,D.mode,ue),ue.ref=zo(D,$,z),ue.return=D,ue)}function A(D,$,z,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==z.containerInfo||$.stateNode.implementation!==z.implementation?($=sa(z,D.mode,ue),$.return=D,$):($=s($,z.children||[]),$.return=D,$)}function oe(D,$,z,ue,ze){return $===null||$.tag!==7?($=Rr(z,D.mode,ue,ze),$.return=D,$):($=s($,z),$.return=D,$)}function le(D,$,z){if(typeof $=="string"&&$!==""||typeof $=="number")return $=oa(""+$,D.mode,z),$.return=D,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Be:return z=cl($.type,$.key,$.props,null,D.mode,z),z.ref=zo(D,null,$),z.return=D,z;case Fe:return $=sa($,D.mode,z),$.return=D,$;case Ye:var ue=$._init;return le(D,ue($._payload),z)}if(rt($)||Z($))return $=Rr($,D.mode,z,null),$.return=D,$;Bs(D,$)}return null}function re(D,$,z,ue){var ze=$!==null?$.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ze!==null?null:v(D,$,""+z,ue);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Be:return z.key===ze?b(D,$,z,ue):null;case Fe:return z.key===ze?A(D,$,z,ue):null;case Ye:return ze=z._init,re(D,$,ze(z._payload),ue)}if(rt(z)||Z(z))return ze!==null?null:oe(D,$,z,ue,null);Bs(D,z)}return null}function Ce(D,$,z,ue,ze){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return D=D.get(z)||null,v($,D,""+ue,ze);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Be:return D=D.get(ue.key===null?z:ue.key)||null,b($,D,ue,ze);case Fe:return D=D.get(ue.key===null?z:ue.key)||null,A($,D,ue,ze);case Ye:var We=ue._init;return Ce(D,$,z,We(ue._payload),ze)}if(rt(ue)||Z(ue))return D=D.get(z)||null,oe($,D,ue,ze,null);Bs($,ue)}return null}function Re(D,$,z,ue){for(var ze=null,We=null,Ue=$,He=$=0,Bt=null;Ue!==null&&He<z.length;He++){Ue.index>He?(Bt=Ue,Ue=null):Bt=Ue.sibling;var st=re(D,Ue,z[He],ue);if(st===null){Ue===null&&(Ue=Bt);break}e&&Ue&&st.alternate===null&&t(D,Ue),$=a(st,$,He),We===null?ze=st:We.sibling=st,We=st,Ue=Bt}if(He===z.length)return r(D,Ue),vt&&br(D,He),ze;if(Ue===null){for(;He<z.length;He++)Ue=le(D,z[He],ue),Ue!==null&&($=a(Ue,$,He),We===null?ze=Ue:We.sibling=Ue,We=Ue);return vt&&br(D,He),ze}for(Ue=o(D,Ue);He<z.length;He++)Bt=Ce(Ue,D,He,z[He],ue),Bt!==null&&(e&&Bt.alternate!==null&&Ue.delete(Bt.key===null?He:Bt.key),$=a(Bt,$,He),We===null?ze=Bt:We.sibling=Bt,We=Bt);return e&&Ue.forEach(function(kr){return t(D,kr)}),vt&&br(D,He),ze}function De(D,$,z,ue){var ze=Z(z);if(typeof ze!="function")throw Error(i(150));if(z=ze.call(z),z==null)throw Error(i(151));for(var We=ze=null,Ue=$,He=$=0,Bt=null,st=z.next();Ue!==null&&!st.done;He++,st=z.next()){Ue.index>He?(Bt=Ue,Ue=null):Bt=Ue.sibling;var kr=re(D,Ue,st.value,ue);if(kr===null){Ue===null&&(Ue=Bt);break}e&&Ue&&kr.alternate===null&&t(D,Ue),$=a(kr,$,He),We===null?ze=kr:We.sibling=kr,We=kr,Ue=Bt}if(st.done)return r(D,Ue),vt&&br(D,He),ze;if(Ue===null){for(;!st.done;He++,st=z.next())st=le(D,st.value,ue),st!==null&&($=a(st,$,He),We===null?ze=st:We.sibling=st,We=st);return vt&&br(D,He),ze}for(Ue=o(D,Ue);!st.done;He++,st=z.next())st=Ce(Ue,D,He,st.value,ue),st!==null&&(e&&st.alternate!==null&&Ue.delete(st.key===null?He:st.key),$=a(st,$,He),We===null?ze=st:We.sibling=st,We=st);return e&&Ue.forEach(function(Hp){return t(D,Hp)}),vt&&br(D,He),ze}function Tt(D,$,z,ue){if(typeof z=="object"&&z!==null&&z.type===fe&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Be:e:{for(var ze=z.key,We=$;We!==null;){if(We.key===ze){if(ze=z.type,ze===fe){if(We.tag===7){r(D,We.sibling),$=s(We,z.props.children),$.return=D,D=$;break e}}else if(We.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ye&&Oc(ze)===We.type){r(D,We.sibling),$=s(We,z.props),$.ref=zo(D,We,z),$.return=D,D=$;break e}r(D,We);break}else t(D,We);We=We.sibling}z.type===fe?($=Rr(z.props.children,D.mode,ue,z.key),$.return=D,D=$):(ue=cl(z.type,z.key,z.props,null,D.mode,ue),ue.ref=zo(D,$,z),ue.return=D,D=ue)}return p(D);case Fe:e:{for(We=z.key;$!==null;){if($.key===We)if($.tag===4&&$.stateNode.containerInfo===z.containerInfo&&$.stateNode.implementation===z.implementation){r(D,$.sibling),$=s($,z.children||[]),$.return=D,D=$;break e}else{r(D,$);break}else t(D,$);$=$.sibling}$=sa(z,D.mode,ue),$.return=D,D=$}return p(D);case Ye:return We=z._init,Tt(D,$,We(z._payload),ue)}if(rt(z))return Re(D,$,z,ue);if(Z(z))return De(D,$,z,ue);Bs(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,$!==null&&$.tag===6?(r(D,$.sibling),$=s($,z),$.return=D,D=$):(r(D,$),$=oa(z,D.mode,ue),$.return=D,D=$),p(D)):r(D,$)}return Tt}var Zr=Wc(!0),Uc=Wc(!1),Fs=ur(null),Os=null,eo=null,hi=null;function mi(){hi=eo=Os=null}function gi(e){var t=Fs.current;gt(Fs),e._currentValue=t}function xi(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function to(e,t){Os=e,hi=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tn=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(hi!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(Os===null)throw Error(i(308));eo=e,Os.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var Nr=null;function yi(e){Nr===null?Nr=[e]:Nr.push(e)}function Vc(e,t,r,o){var s=t.interleaved;return s===null?(r.next=r,yi(t)):(r.next=s.next,s.next=r),t.interleaved=r,Jn(e,o)}function Jn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pr=!1;function vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(tt&2)!==0){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,Jn(e,r)}return s=o.interleaved,s===null?(t.next=t,yi(o)):(t.next=s.next,s.next=t),o.interleaved=t,Jn(e,r)}function Ws(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Rl(e,r)}}function Yc(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=p:a=a.next=p,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Us(e,t,r,o){var s=e.updateQueue;pr=!1;var a=s.firstBaseUpdate,p=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var b=v,A=b.next;b.next=null,p===null?a=A:p.next=A,p=b;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,v=oe.lastBaseUpdate,v!==p&&(v===null?oe.firstBaseUpdate=A:v.next=A,oe.lastBaseUpdate=b))}if(a!==null){var le=s.baseState;p=0,oe=A=b=null,v=a;do{var re=v.lane,Ce=v.eventTime;if((o&re)===re){oe!==null&&(oe=oe.next={eventTime:Ce,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Re=e,De=v;switch(re=t,Ce=r,De.tag){case 1:if(Re=De.payload,typeof Re=="function"){le=Re.call(Ce,le,re);break e}le=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=De.payload,re=typeof Re=="function"?Re.call(Ce,le,re):Re,re==null)break e;le=V({},le,re);break e;case 2:pr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,re=s.effects,re===null?s.effects=[v]:re.push(v))}else Ce={eventTime:Ce,lane:re,tag:v.tag,payload:v.payload,callback:v.callback,next:null},oe===null?(A=oe=Ce,b=le):oe=oe.next=Ce,p|=re;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;re=v,v=re.next,re.next=null,s.lastBaseUpdate=re,s.shared.pending=null}}while(!0);if(oe===null&&(b=le),s.baseState=b,s.firstBaseUpdate=A,s.lastBaseUpdate=oe,t=s.shared.interleaved,t!==null){s=t;do p|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Mr|=p,e.lanes=p,e.memoizedState=le}}function Jc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(i(191,s));s.call(o)}}}var Io={},Rn=ur(Io),Ao=ur(Io),Bo=ur(Io);function Er(e){if(e===Io)throw Error(i(174));return e}function ji(e,t){switch(ht(Bo,t),ht(Ao,e),ht(Rn,Io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ft(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ft(t,e)}gt(Rn),ht(Rn,t)}function no(){gt(Rn),gt(Ao),gt(Bo)}function Qc(e){Er(Bo.current);var t=Er(Rn.current),r=ft(t,e.type);t!==r&&(ht(Ao,e),ht(Rn,r))}function ki(e){Ao.current===e&&(gt(Rn),gt(Ao))}var Ct=ur(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wi=[];function Ci(){for(var e=0;e<wi.length;e++)wi[e]._workInProgressVersionPrimary=null;wi.length=0}var Hs=je.ReactCurrentDispatcher,Si=je.ReactCurrentBatchConfig,$r=0,St=null,Dt=null,It=null,Ys=!1,Fo=!1,Oo=0,pp=0;function Vt(){throw Error(i(321))}function bi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kn(e[r],t[r]))return!1;return!0}function Ni(e,t,r,o,s,a){if($r=a,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?xp:yp,e=r(o,s),Fo){a=0;do{if(Fo=!1,Oo=0,25<=a)throw Error(i(301));a+=1,It=Dt=null,t.updateQueue=null,Hs.current=vp,e=r(o,s)}while(Fo)}if(Hs.current=Ks,t=Dt!==null&&Dt.next!==null,$r=0,It=Dt=St=null,Ys=!1,t)throw Error(i(300));return e}function Ei(){var e=Oo!==0;return Oo=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?St.memoizedState=It=e:It=It.next=e,It}function hn(){if(Dt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=It===null?St.memoizedState:It.next;if(t!==null)It=t,Dt=e;else{if(e===null)throw Error(i(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},It===null?St.memoizedState=It=e:It=It.next=e}return It}function Wo(e,t){return typeof t=="function"?t(e):t}function $i(e){var t=hn(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=Dt,s=o.baseQueue,a=r.pending;if(a!==null){if(s!==null){var p=s.next;s.next=a.next,a.next=p}o.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,o=o.baseState;var v=p=null,b=null,A=a;do{var oe=A.lane;if(($r&oe)===oe)b!==null&&(b=b.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),o=A.hasEagerState?A.eagerState:e(o,A.action);else{var le={lane:oe,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};b===null?(v=b=le,p=o):b=b.next=le,St.lanes|=oe,Mr|=oe}A=A.next}while(A!==null&&A!==a);b===null?p=o:b.next=v,kn(o,t.memoizedState)||(tn=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=b,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do a=s.lane,St.lanes|=a,Mr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mi(e){var t=hn(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var p=s=s.next;do a=e(a,p.action),p=p.next;while(p!==s);kn(a,t.memoizedState)||(tn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,o]}function Kc(){}function Gc(e,t){var r=St,o=hn(),s=t(),a=!kn(o.memoizedState,s);if(a&&(o.memoizedState=s,tn=!0),o=o.queue,Ti(Zc.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||It!==null&&It.memoizedState.tag&1){if(r.flags|=2048,Uo(9,Xc.bind(null,r,o,s,t),void 0,null),At===null)throw Error(i(349));($r&30)!==0||qc(r,t,s)}return s}function qc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xc(e,t,r,o){t.value=r,t.getSnapshot=o,eu(t)&&tu(e)}function Zc(e,t,r){return r(function(){eu(t)&&tu(e)})}function eu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kn(e,r)}catch{return!0}}function tu(e){var t=Jn(e,1);t!==null&&Nn(t,e,1,-1)}function nu(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=gp.bind(null,St,e),[t.memoizedState,e]}function Uo(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function ru(){return hn().memoizedState}function Js(e,t,r,o){var s=Dn();St.flags|=e,s.memoizedState=Uo(1|t,r,void 0,o===void 0?null:o)}function Qs(e,t,r,o){var s=hn();o=o===void 0?null:o;var a=void 0;if(Dt!==null){var p=Dt.memoizedState;if(a=p.destroy,o!==null&&bi(o,p.deps)){s.memoizedState=Uo(t,r,a,o);return}}St.flags|=e,s.memoizedState=Uo(1|t,r,a,o)}function ou(e,t){return Js(8390656,8,e,t)}function Ti(e,t){return Qs(2048,8,e,t)}function su(e,t){return Qs(4,2,e,t)}function lu(e,t){return Qs(4,4,e,t)}function iu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function au(e,t,r){return r=r!=null?r.concat([e]):null,Qs(4,4,iu.bind(null,t,e),r)}function _i(){}function cu(e,t){var r=hn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&bi(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function uu(e,t){var r=hn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&bi(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function du(e,t,r){return($r&21)===0?(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=r):(kn(r,t)||(r=Oa(),St.lanes|=r,Mr|=r,e.baseState=!0),t)}function hp(e,t){var r=ct;ct=r!==0&&4>r?r:4,e(!0);var o=Si.transition;Si.transition={};try{e(!1),t()}finally{ct=r,Si.transition=o}}function fu(){return hn().memoizedState}function mp(e,t,r){var o=yr(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},pu(e))hu(t,r);else if(r=Vc(e,t,r,o),r!==null){var s=Kt();Nn(r,e,o,s),mu(r,t,o)}}function gp(e,t,r){var o=yr(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(pu(e))hu(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var p=t.lastRenderedState,v=a(p,r);if(s.hasEagerState=!0,s.eagerState=v,kn(v,p)){var b=t.interleaved;b===null?(s.next=s,yi(t)):(s.next=b.next,b.next=s),t.interleaved=s;return}}catch{}finally{}r=Vc(e,t,s,o),r!==null&&(s=Kt(),Nn(r,e,o,s),mu(r,t,o))}}function pu(e){var t=e.alternate;return e===St||t!==null&&t===St}function hu(e,t){Fo=Ys=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mu(e,t,r){if((r&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Rl(e,r)}}var Ks={readContext:pn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},xp={readContext:pn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:ou,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Js(4194308,4,iu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var r=Dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=Dn();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=mp.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:nu,useDebugValue:_i,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=nu(!1),t=e[0];return e=hp.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=St,s=Dn();if(vt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),At===null)throw Error(i(349));($r&30)!==0||qc(o,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,ou(Zc.bind(null,o,a,e),[e]),o.flags|=2048,Uo(9,Xc.bind(null,o,a,r,t),void 0,null),r},useId:function(){var e=Dn(),t=At.identifierPrefix;if(vt){var r=Yn,o=Hn;r=(o&~(1<<32-jn(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=Oo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yp={readContext:pn,useCallback:cu,useContext:pn,useEffect:Ti,useImperativeHandle:au,useInsertionEffect:su,useLayoutEffect:lu,useMemo:uu,useReducer:$i,useRef:ru,useState:function(){return $i(Wo)},useDebugValue:_i,useDeferredValue:function(e){var t=hn();return du(t,Dt.memoizedState,e)},useTransition:function(){var e=$i(Wo)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Kc,useSyncExternalStore:Gc,useId:fu,unstable_isNewReconciler:!1},vp={readContext:pn,useCallback:cu,useContext:pn,useEffect:Ti,useImperativeHandle:au,useInsertionEffect:su,useLayoutEffect:lu,useMemo:uu,useReducer:Mi,useRef:ru,useState:function(){return Mi(Wo)},useDebugValue:_i,useDeferredValue:function(e){var t=hn();return Dt===null?t.memoizedState=e:du(t,Dt.memoizedState,e)},useTransition:function(){var e=Mi(Wo)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Kc,useSyncExternalStore:Gc,useId:fu,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Li(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:V({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gs={isMounted:function(e){return(e=e._reactInternals)?Nt(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Kt(),s=yr(e),a=Qn(o,s);a.payload=t,r!=null&&(a.callback=r),t=hr(e,a,s),t!==null&&(Nn(t,e,s,o),Ws(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Kt(),s=yr(e),a=Qn(o,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=hr(e,a,s),t!==null&&(Nn(t,e,s,o),Ws(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kt(),o=yr(e),s=Qn(r,o);s.tag=2,t!=null&&(s.callback=t),t=hr(e,s,o),t!==null&&(Nn(t,e,o,r),Ws(t,e,o))}};function gu(e,t,r,o,s,a,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,a,p):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,o)||!Mo(s,a):!0}function xu(e,t,r){var o=!1,s=dr,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(s=en(t)?Cr:Ut.current,o=t.contextTypes,a=(o=o!=null)?Kr(e,s):dr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function yu(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Gs.enqueueReplaceState(t,t.state,null)}function Ri(e,t,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},vi(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pn(a):(a=en(t)?Cr:Ut.current,s.context=Kr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Li(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gs.enqueueReplaceState(s,s.state,null),Us(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ro(e,t){try{var r="",o=t;do r+=ee(o),o=o.return;while(o);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Di(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pi(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jp=typeof WeakMap=="function"?WeakMap:Map;function vu(e,t,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){rl||(rl=!0,Gi=o),Pi(e,t)},r}function ju(e,t,r){r=Qn(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;r.payload=function(){return o(s)},r.callback=function(){Pi(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Pi(e,t),typeof o!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function ku(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new jp;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(r)||(s.add(r),e=Dp.bind(null,e,t,r),t.then(e,e))}function wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cu(e,t,r,o,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qn(-1,1),t.tag=2,hr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var kp=je.ReactCurrentOwner,tn=!1;function Qt(e,t,r,o){t.child=e===null?Uc(t,null,r,o):Zr(t,e.child,r,o)}function Su(e,t,r,o,s){r=r.render;var a=t.ref;return to(t,s),o=Ni(e,t,r,o,a,s),r=Ei(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(vt&&r&&ci(t),t.flags|=1,Qt(e,t,o,s),t.child)}function bu(e,t,r,o,s){if(e===null){var a=r.type;return typeof a=="function"&&!ra(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Nu(e,t,a,o,s)):(e=cl(r.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&s)===0){var p=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(p,o)&&e.ref===t.ref)return Kn(e,t,s)}return t.flags|=1,e=jr(a,o),e.ref=t.ref,e.return=t,t.child=e}function Nu(e,t,r,o,s){if(e!==null){var a=e.memoizedProps;if(Mo(a,o)&&e.ref===t.ref)if(tn=!1,t.pendingProps=o=a,(e.lanes&s)!==0)(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,Kn(e,t,s)}return zi(e,t,r,o,s)}function Eu(e,t,r){var o=t.pendingProps,s=o.children,a=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(so,cn),cn|=r;else{if((r&1073741824)===0)return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(so,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=a!==null?a.baseLanes:r,ht(so,cn),cn|=o}else a!==null?(o=a.baseLanes|r,t.memoizedState=null):o=r,ht(so,cn),cn|=o;return Qt(e,t,s,r),t.child}function $u(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zi(e,t,r,o,s){var a=en(r)?Cr:Ut.current;return a=Kr(t,a),to(t,s),r=Ni(e,t,r,o,a,s),o=Ei(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(vt&&o&&ci(t),t.flags|=1,Qt(e,t,r,s),t.child)}function Mu(e,t,r,o,s){if(en(r)){var a=!0;Ds(t)}else a=!1;if(to(t,s),t.stateNode===null)Xs(e,t),xu(t,r,o),Ri(t,r,o,s),o=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var b=p.context,A=r.contextType;typeof A=="object"&&A!==null?A=pn(A):(A=en(r)?Cr:Ut.current,A=Kr(t,A));var oe=r.getDerivedStateFromProps,le=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function";le||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==o||b!==A)&&yu(t,p,o,A),pr=!1;var re=t.memoizedState;p.state=re,Us(t,o,p,s),b=t.memoizedState,v!==o||re!==b||Zt.current||pr?(typeof oe=="function"&&(Li(t,r,oe,o),b=t.memoizedState),(v=pr||gu(t,r,v,o,re,b,A))?(le||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=b),p.props=o,p.state=b,p.context=A,o=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,Hc(e,t),v=t.memoizedProps,A=t.type===t.elementType?v:Cn(t.type,v),p.props=A,le=t.pendingProps,re=p.context,b=r.contextType,typeof b=="object"&&b!==null?b=pn(b):(b=en(r)?Cr:Ut.current,b=Kr(t,b));var Ce=r.getDerivedStateFromProps;(oe=typeof Ce=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==le||re!==b)&&yu(t,p,o,b),pr=!1,re=t.memoizedState,p.state=re,Us(t,o,p,s);var Re=t.memoizedState;v!==le||re!==Re||Zt.current||pr?(typeof Ce=="function"&&(Li(t,r,Ce,o),Re=t.memoizedState),(A=pr||gu(t,r,A,o,re,Re,b)||!1)?(oe||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,Re,b),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,Re,b)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Re),p.props=o,p.state=Re,p.context=b,o=A):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),o=!1)}return Ii(e,t,r,o,a,s)}function Ii(e,t,r,o,s,a){$u(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return s&&Dc(t,r,!1),Kn(e,t,a);o=t.stateNode,kp.current=t;var v=p&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=Zr(t,e.child,null,a),t.child=Zr(t,null,v,a)):Qt(e,t,v,a),t.memoizedState=o.state,s&&Dc(t,r,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lc(e,t.context,!1),ji(e,t.containerInfo)}function _u(e,t,r,o,s){return Xr(),pi(s),t.flags|=256,Qt(e,t,r,o),t.child}var Ai={dehydrated:null,treeContext:null,retryLane:0};function Bi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t,r){var o=t.pendingProps,s=Ct.current,a=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(s&2)!==0),v?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ht(Ct,s&1),e===null)return fi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=o.children,e=o.fallback,a?(o=t.mode,a=t.child,p={mode:"hidden",children:p},(o&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=p):a=ul(p,o,0,null),e=Rr(e,o,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Bi(r),t.memoizedState=Ai,e):Fi(t,p));if(s=e.memoizedState,s!==null&&(v=s.dehydrated,v!==null))return wp(e,t,p,o,v,s,r);if(a){a=o.fallback,p=t.mode,s=e.child,v=s.sibling;var b={mode:"hidden",children:o.children};return(p&1)===0&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=b,t.deletions=null):(o=jr(s,b),o.subtreeFlags=s.subtreeFlags&14680064),v!==null?a=jr(v,a):(a=Rr(a,p,r,null),a.flags|=2),a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,p=e.child.memoizedState,p=p===null?Bi(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},a.memoizedState=p,a.childLanes=e.childLanes&~r,t.memoizedState=Ai,o}return a=e.child,e=a.sibling,o=jr(a,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Fi(e,t){return t=ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,r,o){return o!==null&&pi(o),Zr(t,e.child,null,r),e=Fi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wp(e,t,r,o,s,a,p){if(r)return t.flags&256?(t.flags&=-257,o=Di(Error(i(422))),qs(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=o.fallback,s=t.mode,o=ul({mode:"visible",children:o.children},s,0,null),a=Rr(a,s,p,null),a.flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,(t.mode&1)!==0&&Zr(t,e.child,null,p),t.child.memoizedState=Bi(p),t.memoizedState=Ai,a);if((t.mode&1)===0)return qs(e,t,p,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var v=o.dgst;return o=v,a=Error(i(419)),o=Di(a,o,void 0),qs(e,t,p,o)}if(v=(p&e.childLanes)!==0,tn||v){if(o=At,o!==null){switch(p&-p){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(o.suspendedLanes|p))!==0?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Jn(e,s),Nn(o,e,s,-1))}return na(),o=Di(Error(i(421))),qs(e,t,p,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Pp.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,an=cr(s.nextSibling),ln=t,vt=!0,wn=null,e!==null&&(dn[fn++]=Hn,dn[fn++]=Yn,dn[fn++]=Sr,Hn=e.id,Yn=e.overflow,Sr=t),t=Fi(t,o.children),t.flags|=4096,t)}function Ru(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),xi(e.return,t,r)}function Oi(e,t,r,o,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=r,a.tailMode=s)}function Du(e,t,r){var o=t.pendingProps,s=o.revealOrder,a=o.tail;if(Qt(e,t,o.children,r),o=Ct.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ru(e,r,t);else if(e.tag===19)Ru(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ht(Ct,o),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vs(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Oi(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vs(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Oi(t,!0,r,null,a);break;case"together":Oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Cp(e,t,r){switch(t.tag){case 3:Tu(t),Xr();break;case 5:Qc(t);break;case 1:en(t.type)&&Ds(t);break;case 4:ji(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;ht(Fs,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ht(Ct,Ct.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Lu(e,t,r):(ht(Ct,Ct.current&1),e=Kn(e,t,r),e!==null?e.sibling:null);ht(Ct,Ct.current&1);break;case 19:if(o=(r&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Du(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(Ct,Ct.current),o)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,r)}return Kn(e,t,r)}var Pu,Wi,zu,Iu;Pu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Wi=function(){},zu=function(e,t,r,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,Er(Rn.current);var a=null;switch(r){case"input":s=U(e,s),o=U(e,o),a=[];break;case"select":s=V({},s,{value:void 0}),o=V({},o,{value:void 0}),a=[];break;case"textarea":s=Rt(e,s),o=Rt(e,o),a=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=_s)}Je(r,o);var p;r=null;for(A in s)if(!o.hasOwnProperty(A)&&s.hasOwnProperty(A)&&s[A]!=null)if(A==="style"){var v=s[A];for(p in v)v.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(f.hasOwnProperty(A)?a||(a=[]):(a=a||[]).push(A,null));for(A in o){var b=o[A];if(v=s?.[A],o.hasOwnProperty(A)&&b!==v&&(b!=null||v!=null))if(A==="style")if(v){for(p in v)!v.hasOwnProperty(p)||b&&b.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in b)b.hasOwnProperty(p)&&v[p]!==b[p]&&(r||(r={}),r[p]=b[p])}else r||(a||(a=[]),a.push(A,r)),r=b;else A==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,v=v?v.__html:void 0,b!=null&&v!==b&&(a=a||[]).push(A,b)):A==="children"?typeof b!="string"&&typeof b!="number"||(a=a||[]).push(A,""+b):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(f.hasOwnProperty(A)?(b!=null&&A==="onScroll"&&mt("scroll",e),a||v===b||(a=[])):(a=a||[]).push(A,b))}r&&(a=a||[]).push("style",r);var A=a;(t.updateQueue=A)&&(t.flags|=4)}},Iu=function(e,t,r,o){r!==o&&(t.flags|=4)};function Vo(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function Sp(e,t,r){var o=t.pendingProps;switch(ui(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return en(t.type)&&Rs(),Ht(t),null;case 3:return o=t.stateNode,no(),gt(Zt),gt(Ut),Ci(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(As(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wn!==null&&(Zi(wn),wn=null))),Wi(e,t),Ht(t),null;case 5:ki(t);var s=Er(Bo.current);if(r=t.type,e!==null&&t.stateNode!=null)zu(e,t,r,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return Ht(t),null}if(e=Er(Rn.current),As(t)){o=t.stateNode,r=t.type;var a=t.memoizedProps;switch(o[Ln]=t,o[Do]=a,e=(t.mode&1)!==0,r){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(s=0;s<_o.length;s++)mt(_o[s],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":ce(o,a),mt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},mt("invalid",o);break;case"textarea":vn(o,a),mt("invalid",o)}Je(r,a),s=null;for(var p in a)if(a.hasOwnProperty(p)){var v=a[p];p==="children"?typeof v=="string"?o.textContent!==v&&(a.suppressHydrationWarning!==!0&&Ts(o.textContent,v,e),s=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(a.suppressHydrationWarning!==!0&&Ts(o.textContent,v,e),s=["children",""+v]):f.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&mt("scroll",o)}switch(r){case"input":Xe(o),Oe(o,a,!0);break;case"textarea":Xe(o),T(o);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(o.onclick=_s)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Le(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(r,{is:o.is}):(e=p.createElement(r),r==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,r),e[Ln]=t,e[Do]=o,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(p=j(r,o),r){case"dialog":mt("cancel",e),mt("close",e),s=o;break;case"iframe":case"object":case"embed":mt("load",e),s=o;break;case"video":case"audio":for(s=0;s<_o.length;s++)mt(_o[s],e);s=o;break;case"source":mt("error",e),s=o;break;case"img":case"image":case"link":mt("error",e),mt("load",e),s=o;break;case"details":mt("toggle",e),s=o;break;case"input":ce(e,o),s=U(e,o),mt("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=V({},o,{value:void 0}),mt("invalid",e);break;case"textarea":vn(e,o),s=Rt(e,o),mt("invalid",e);break;default:s=o}Je(r,s),v=s;for(a in v)if(v.hasOwnProperty(a)){var b=v[a];a==="style"?_e(e,b):a==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&ve(e,b)):a==="children"?typeof b=="string"?(r!=="textarea"||b!=="")&&J(e,b):typeof b=="number"&&J(e,""+b):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(f.hasOwnProperty(a)?b!=null&&a==="onScroll"&&mt("scroll",e):b!=null&&xe(e,a,b,p))}switch(r){case"input":Xe(e),Oe(e,o,!1);break;case"textarea":Xe(e),T(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Te(o.value));break;case"select":e.multiple=!!o.multiple,a=o.value,a!=null?xt(e,!!o.multiple,a,!1):o.defaultValue!=null&&xt(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_s)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)Iu(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(r=Er(Bo.current),Er(Rn.current),As(t)){if(o=t.stateNode,r=t.memoizedProps,o[Ln]=t,(a=o.nodeValue!==r)&&(e=ln,e!==null))switch(e.tag){case 3:Ts(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(o.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Ln]=t,t.stateNode=o}return Ht(t),null;case 13:if(gt(Ct),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vt&&an!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Fc(),Xr(),t.flags|=98560,a=!1;else if(a=As(t),o!==null&&o.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));a[Ln]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ht(t),a=!1}else wn!==null&&(Zi(wn),wn=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ct.current&1)!==0?Pt===0&&(Pt=3):na())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return no(),Wi(e,t),e===null&&Lo(t.stateNode.containerInfo),Ht(t),null;case 10:return gi(t.type._context),Ht(t),null;case 17:return en(t.type)&&Rs(),Ht(t),null;case 19:if(gt(Ct),a=t.memoizedState,a===null)return Ht(t),null;if(o=(t.flags&128)!==0,p=a.rendering,p===null)if(o)Vo(a,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Vs(e),p!==null){for(t.flags|=128,Vo(a,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)a=r,e=o,a.flags&=14680066,p=a.alternate,p===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,e=p.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ht(Ct,Ct.current&1|2),t.child}e=e.sibling}a.tail!==null&&Mt()>lo&&(t.flags|=128,o=!0,Vo(a,!1),t.lanes=4194304)}else{if(!o)if(e=Vs(p),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!vt)return Ht(t),null}else 2*Mt()-a.renderingStartTime>lo&&r!==1073741824&&(t.flags|=128,o=!0,Vo(a,!1),t.lanes=4194304);a.isBackwards?(p.sibling=t.child,t.child=p):(r=a.last,r!==null?r.sibling=p:t.child=p,a.last=p)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Mt(),t.sibling=null,r=Ct.current,ht(Ct,o?r&1|2:r&1),t):(Ht(t),null);case 22:case 23:return ta(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(cn&1073741824)!==0&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function bp(e,t){switch(ui(t),t.tag){case 1:return en(t.type)&&Rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return no(),gt(Zt),gt(Ut),Ci(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ki(t),null;case 13:if(gt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(Ct),null;case 4:return no(),null;case 10:return gi(t.type._context),null;case 22:case 23:return ta(),null;case 24:return null;default:return null}}var Zs=!1,Yt=!1,Np=typeof WeakSet=="function"?WeakSet:Set,Me=null;function oo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){$t(e,t,o)}else r.current=null}function Ui(e,t,r){try{r()}catch(o){$t(e,t,o)}}var Au=!1;function Ep(e,t){if(ti=vs,e=gc(),Jl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var p=0,v=-1,b=-1,A=0,oe=0,le=e,re=null;t:for(;;){for(var Ce;le!==r||s!==0&&le.nodeType!==3||(v=p+s),le!==a||o!==0&&le.nodeType!==3||(b=p+o),le.nodeType===3&&(p+=le.nodeValue.length),(Ce=le.firstChild)!==null;)re=le,le=Ce;for(;;){if(le===e)break t;if(re===r&&++A===s&&(v=p),re===a&&++oe===o&&(b=p),(Ce=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=Ce}r=v===-1||b===-1?null:{start:v,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(ni={focusedElem:e,selectionRange:r},vs=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var Re=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var De=Re.memoizedProps,Tt=Re.memoizedState,D=t.stateNode,$=D.getSnapshotBeforeUpdate(t.elementType===t.type?De:Cn(t.type,De),Tt);D.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var z=t.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ue){$t(t,t.return,ue)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return Re=Au,Au=!1,Re}function Ho(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ui(t,r,a)}s=s.next}while(s!==o)}}function el(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function Vi(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bu(e){var t=e.alternate;t!==null&&(e.alternate=null,Bu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[Do],delete t[li],delete t[cp],delete t[up])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fu(e){return e.tag===5||e.tag===3||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hi(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_s));else if(o!==4&&(e=e.child,e!==null))for(Hi(e,t,r),e=e.sibling;e!==null;)Hi(e,t,r),e=e.sibling}function Yi(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Yi(e,t,r),e=e.sibling;e!==null;)Yi(e,t,r),e=e.sibling}var Ot=null,Sn=!1;function mr(e,t,r){for(r=r.child;r!==null;)Wu(e,t,r),r=r.sibling}function Wu(e,t,r){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(ps,r)}catch{}switch(r.tag){case 5:Yt||oo(r,t);case 6:var o=Ot,s=Sn;Ot=null,mr(e,t,r),Ot=o,Sn=s,Ot!==null&&(Sn?(e=Ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(Sn?(e=Ot,r=r.stateNode,e.nodeType===8?si(e.parentNode,r):e.nodeType===1&&si(e,r),Co(e)):si(Ot,r.stateNode));break;case 4:o=Ot,s=Sn,Ot=r.stateNode.containerInfo,Sn=!0,mr(e,t,r),Ot=o,Sn=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var a=s,p=a.destroy;a=a.tag,p!==void 0&&((a&2)!==0||(a&4)!==0)&&Ui(r,t,p),s=s.next}while(s!==o)}mr(e,t,r);break;case 1:if(!Yt&&(oo(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(v){$t(r,t,v)}mr(e,t,r);break;case 21:mr(e,t,r);break;case 22:r.mode&1?(Yt=(o=Yt)||r.memoizedState!==null,mr(e,t,r),Yt=o):mr(e,t,r);break;default:mr(e,t,r)}}function Uu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Np),t.forEach(function(o){var s=zp.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function bn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var a=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:Ot=v.stateNode,Sn=!1;break e;case 3:Ot=v.stateNode.containerInfo,Sn=!0;break e;case 4:Ot=v.stateNode.containerInfo,Sn=!0;break e}v=v.return}if(Ot===null)throw Error(i(160));Wu(a,p,s),Ot=null,Sn=!1;var b=s.alternate;b!==null&&(b.return=null),s.return=null}catch(A){$t(s,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vu(t,e),t=t.sibling}function Vu(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Pn(e),o&4){try{Ho(3,e,e.return),el(3,e)}catch(De){$t(e,e.return,De)}try{Ho(5,e,e.return)}catch(De){$t(e,e.return,De)}}break;case 1:bn(t,e),Pn(e),o&512&&r!==null&&oo(r,r.return);break;case 5:if(bn(t,e),Pn(e),o&512&&r!==null&&oo(r,r.return),e.flags&32){var s=e.stateNode;try{J(s,"")}catch(De){$t(e,e.return,De)}}if(o&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,p=r!==null?r.memoizedProps:a,v=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{v==="input"&&a.type==="radio"&&a.name!=null&&Ke(s,a),j(v,p);var A=j(v,a);for(p=0;p<b.length;p+=2){var oe=b[p],le=b[p+1];oe==="style"?_e(s,le):oe==="dangerouslySetInnerHTML"?ve(s,le):oe==="children"?J(s,le):xe(s,oe,le,A)}switch(v){case"input":zt(s,a);break;case"textarea":Ft(s,a);break;case"select":var re=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var Ce=a.value;Ce!=null?xt(s,!!a.multiple,Ce,!1):re!==!!a.multiple&&(a.defaultValue!=null?xt(s,!!a.multiple,a.defaultValue,!0):xt(s,!!a.multiple,a.multiple?[]:"",!1))}s[Do]=a}catch(De){$t(e,e.return,De)}}break;case 6:if(bn(t,e),Pn(e),o&4){if(e.stateNode===null)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(De){$t(e,e.return,De)}}break;case 3:if(bn(t,e),Pn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Co(t.containerInfo)}catch(De){$t(e,e.return,De)}break;case 4:bn(t,e),Pn(e);break;case 13:bn(t,e),Pn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ki=Mt())),o&4&&Uu(e);break;case 22:if(oe=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(A=Yt)||oe,bn(t,e),Yt=A):bn(t,e),Pn(e),o&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!oe&&(e.mode&1)!==0)for(Me=e,oe=e.child;oe!==null;){for(le=Me=oe;Me!==null;){switch(re=Me,Ce=re.child,re.tag){case 0:case 11:case 14:case 15:Ho(4,re,re.return);break;case 1:oo(re,re.return);var Re=re.stateNode;if(typeof Re.componentWillUnmount=="function"){o=re,r=re.return;try{t=o,Re.props=t.memoizedProps,Re.state=t.memoizedState,Re.componentWillUnmount()}catch(De){$t(o,r,De)}}break;case 5:oo(re,re.return);break;case 22:if(re.memoizedState!==null){Ju(le);continue}}Ce!==null?(Ce.return=re,Me=Ce):Ju(le)}oe=oe.sibling}e:for(oe=null,le=e;;){if(le.tag===5){if(oe===null){oe=le;try{s=le.stateNode,A?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(v=le.stateNode,b=le.memoizedProps.style,p=b!=null&&b.hasOwnProperty("display")?b.display:null,v.style.display=bt("display",p))}catch(De){$t(e,e.return,De)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=A?"":le.memoizedProps}catch(De){$t(e,e.return,De)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:bn(t,e),Pn(e),o&4&&Uu(e);break;case 21:break;default:bn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fu(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(J(s,""),o.flags&=-33);var a=Ou(e);Yi(e,a,s);break;case 3:case 4:var p=o.stateNode.containerInfo,v=Ou(e);Hi(e,v,p);break;default:throw Error(i(161))}}catch(b){$t(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $p(e,t,r){Me=e,Hu(e)}function Hu(e,t,r){for(var o=(e.mode&1)!==0;Me!==null;){var s=Me,a=s.child;if(s.tag===22&&o){var p=s.memoizedState!==null||Zs;if(!p){var v=s.alternate,b=v!==null&&v.memoizedState!==null||Yt;v=Zs;var A=Yt;if(Zs=p,(Yt=b)&&!A)for(Me=s;Me!==null;)p=Me,b=p.child,p.tag===22&&p.memoizedState!==null?Qu(s):b!==null?(b.return=p,Me=b):Qu(s);for(;a!==null;)Me=a,Hu(a),a=a.sibling;Me=s,Zs=v,Yt=A}Yu(e)}else(s.subtreeFlags&8772)!==0&&a!==null?(a.return=s,Me=a):Yu(e)}}function Yu(e){for(;Me!==null;){var t=Me;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Yt||el(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Yt)if(r===null)o.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Cn(t.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Jc(t,a,o);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jc(t,p,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&r.focus();break;case"img":b.src&&(r.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var oe=A.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&Co(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Yt||t.flags&512&&Vi(t)}catch(re){$t(t,t.return,re)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Ju(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Qu(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{el(4,t)}catch(b){$t(t,r,b)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(b){$t(t,s,b)}}var a=t.return;try{Vi(t)}catch(b){$t(t,a,b)}break;case 5:var p=t.return;try{Vi(t)}catch(b){$t(t,p,b)}}}catch(b){$t(t,t.return,b)}if(t===e){Me=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Me=v;break}Me=t.return}}var Mp=Math.ceil,tl=je.ReactCurrentDispatcher,Ji=je.ReactCurrentOwner,mn=je.ReactCurrentBatchConfig,tt=0,At=null,Lt=null,Wt=0,cn=0,so=ur(0),Pt=0,Yo=null,Mr=0,nl=0,Qi=0,Jo=null,nn=null,Ki=0,lo=1/0,Gn=null,rl=!1,Gi=null,gr=null,ol=!1,xr=null,sl=0,Qo=0,qi=null,ll=-1,il=0;function Kt(){return(tt&6)!==0?Mt():ll!==-1?ll:ll=Mt()}function yr(e){return(e.mode&1)===0?1:(tt&2)!==0&&Wt!==0?Wt&-Wt:fp.transition!==null?(il===0&&(il=Oa()),il):(e=ct,e!==0||(e=window.event,e=e===void 0?16:Ga(e.type)),e)}function Nn(e,t,r,o){if(50<Qo)throw Qo=0,qi=null,Error(i(185));yo(e,r,o),((tt&2)===0||e!==At)&&(e===At&&((tt&2)===0&&(nl|=r),Pt===4&&vr(e,Wt)),rn(e,o),r===1&&tt===0&&(t.mode&1)===0&&(lo=Mt()+500,Ps&&fr()))}function rn(e,t){var r=e.callbackNode;ff(e,t);var o=gs(e,e===At?Wt:0);if(o===0)r!==null&&Aa(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&Aa(r),t===1)e.tag===0?dp(Gu.bind(null,e)):Pc(Gu.bind(null,e)),ip(function(){(tt&6)===0&&fr()}),r=null;else{switch(Wa(o)){case 1:r=Tl;break;case 4:r=Ba;break;case 16:r=fs;break;case 536870912:r=Fa;break;default:r=fs}r=od(r,Ku.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ku(e,t){if(ll=-1,il=0,(tt&6)!==0)throw Error(i(327));var r=e.callbackNode;if(io()&&e.callbackNode!==r)return null;var o=gs(e,e===At?Wt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=al(e,o);else{t=o;var s=tt;tt|=2;var a=Xu();(At!==e||Wt!==t)&&(Gn=null,lo=Mt()+500,_r(e,t));do try{Lp();break}catch(v){qu(e,v)}while(!0);mi(),tl.current=a,tt=s,Lt!==null?t=0:(At=null,Wt=0,t=Pt)}if(t!==0){if(t===2&&(s=_l(e),s!==0&&(o=s,t=Xi(e,s))),t===1)throw r=Yo,_r(e,0),vr(e,o),rn(e,Mt()),r;if(t===6)vr(e,o);else{if(s=e.current.alternate,(o&30)===0&&!Tp(s)&&(t=al(e,o),t===2&&(a=_l(e),a!==0&&(o=a,t=Xi(e,a))),t===1))throw r=Yo,_r(e,0),vr(e,o),rn(e,Mt()),r;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:Lr(e,nn,Gn);break;case 3:if(vr(e,o),(o&130023424)===o&&(t=Ki+500-Mt(),10<t)){if(gs(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){Kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=oi(Lr.bind(null,e,nn,Gn),t);break}Lr(e,nn,Gn);break;case 4:if(vr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var p=31-jn(o);a=1<<p,p=t[p],p>s&&(s=p),o&=~a}if(o=s,o=Mt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Mp(o/1960))-o,10<o){e.timeoutHandle=oi(Lr.bind(null,e,nn,Gn),o);break}Lr(e,nn,Gn);break;case 5:Lr(e,nn,Gn);break;default:throw Error(i(329))}}}return rn(e,Mt()),e.callbackNode===r?Ku.bind(null,e):null}function Xi(e,t){var r=Jo;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=al(e,t),e!==2&&(t=nn,nn=r,t!==null&&Zi(t)),e}function Zi(e){nn===null?nn=e:nn.push.apply(nn,e)}function Tp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],a=s.getSnapshot;s=s.value;try{if(!kn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vr(e,t){for(t&=~Qi,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jn(t),o=1<<r;e[r]=-1,t&=~o}}function Gu(e){if((tt&6)!==0)throw Error(i(327));io();var t=gs(e,0);if((t&1)===0)return rn(e,Mt()),null;var r=al(e,t);if(e.tag!==0&&r===2){var o=_l(e);o!==0&&(t=o,r=Xi(e,o))}if(r===1)throw r=Yo,_r(e,0),vr(e,t),rn(e,Mt()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,nn,Gn),rn(e,Mt()),null}function ea(e,t){var r=tt;tt|=1;try{return e(t)}finally{tt=r,tt===0&&(lo=Mt()+500,Ps&&fr())}}function Tr(e){xr!==null&&xr.tag===0&&(tt&6)===0&&io();var t=tt;tt|=1;var r=mn.transition,o=ct;try{if(mn.transition=null,ct=1,e)return e()}finally{ct=o,mn.transition=r,tt=t,(tt&6)===0&&fr()}}function ta(){cn=so.current,gt(so)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lp(r)),Lt!==null)for(r=Lt.return;r!==null;){var o=r;switch(ui(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Rs();break;case 3:no(),gt(Zt),gt(Ut),Ci();break;case 5:ki(o);break;case 4:no();break;case 13:gt(Ct);break;case 19:gt(Ct);break;case 10:gi(o.type._context);break;case 22:case 23:ta()}r=r.return}if(At=e,Lt=e=jr(e.current,null),Wt=cn=t,Pt=0,Yo=null,Qi=nl=Mr=0,nn=Jo=null,Nr!==null){for(t=0;t<Nr.length;t++)if(r=Nr[t],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,a=r.pending;if(a!==null){var p=a.next;a.next=s,o.next=p}r.pending=o}Nr=null}return e}function qu(e,t){do{var r=Lt;try{if(mi(),Hs.current=Ks,Ys){for(var o=St.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Ys=!1}if($r=0,It=Dt=St=null,Fo=!1,Oo=0,Ji.current=null,r===null||r.return===null){Pt=1,Yo=t,Lt=null;break}e:{var a=e,p=r.return,v=r,b=t;if(t=Wt,v.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var A=b,oe=v,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var re=oe.alternate;re?(oe.updateQueue=re.updateQueue,oe.memoizedState=re.memoizedState,oe.lanes=re.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var Ce=wu(p);if(Ce!==null){Ce.flags&=-257,Cu(Ce,p,v,a,t),Ce.mode&1&&ku(a,A,t),t=Ce,b=A;var Re=t.updateQueue;if(Re===null){var De=new Set;De.add(b),t.updateQueue=De}else Re.add(b);break e}else{if((t&1)===0){ku(a,A,t),na();break e}b=Error(i(426))}}else if(vt&&v.mode&1){var Tt=wu(p);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),Cu(Tt,p,v,a,t),pi(ro(b,v));break e}}a=b=ro(b,v),Pt!==4&&(Pt=2),Jo===null?Jo=[a]:Jo.push(a),a=p;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var D=vu(a,b,t);Yc(a,D);break e;case 1:v=b;var $=a.type,z=a.stateNode;if((a.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(gr===null||!gr.has(z)))){a.flags|=65536,t&=-t,a.lanes|=t;var ue=ju(a,v,t);Yc(a,ue);break e}}a=a.return}while(a!==null)}ed(r)}catch(ze){t=ze,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function Xu(){var e=tl.current;return tl.current=Ks,e===null?Ks:e}function na(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),At===null||(Mr&268435455)===0&&(nl&268435455)===0||vr(At,Wt)}function al(e,t){var r=tt;tt|=2;var o=Xu();(At!==e||Wt!==t)&&(Gn=null,_r(e,t));do try{_p();break}catch(s){qu(e,s)}while(!0);if(mi(),tt=r,tl.current=o,Lt!==null)throw Error(i(261));return At=null,Wt=0,Pt}function _p(){for(;Lt!==null;)Zu(Lt)}function Lp(){for(;Lt!==null&&!nf();)Zu(Lt)}function Zu(e){var t=rd(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?ed(e):Lt=t,Ji.current=null}function ed(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Sp(r,t,cn),r!==null){Lt=r;return}}else{if(r=bp(r,t),r!==null){r.flags&=32767,Lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,Lt=null;return}}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Pt===0&&(Pt=5)}function Lr(e,t,r){var o=ct,s=mn.transition;try{mn.transition=null,ct=1,Rp(e,t,r,o)}finally{mn.transition=s,ct=o}return null}function Rp(e,t,r,o){do io();while(xr!==null);if((tt&6)!==0)throw Error(i(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(pf(e,a),e===At&&(Lt=At=null,Wt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ol||(ol=!0,od(fs,function(){return io(),null})),a=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||a){a=mn.transition,mn.transition=null;var p=ct;ct=1;var v=tt;tt|=4,Ji.current=null,Ep(e,r),Vu(r,e),Zf(ni),vs=!!ti,ni=ti=null,e.current=r,$p(r),rf(),tt=v,ct=p,mn.transition=a}else e.current=r;if(ol&&(ol=!1,xr=e,sl=s),a=e.pendingLanes,a===0&&(gr=null),lf(r.stateNode),rn(e,Mt()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(rl)throw rl=!1,e=Gi,Gi=null,e;return(sl&1)!==0&&e.tag!==0&&io(),a=e.pendingLanes,(a&1)!==0?e===qi?Qo++:(Qo=0,qi=e):Qo=0,fr(),null}function io(){if(xr!==null){var e=Wa(sl),t=mn.transition,r=ct;try{if(mn.transition=null,ct=16>e?16:e,xr===null)var o=!1;else{if(e=xr,xr=null,sl=0,(tt&6)!==0)throw Error(i(331));var s=tt;for(tt|=4,Me=e.current;Me!==null;){var a=Me,p=a.child;if((Me.flags&16)!==0){var v=a.deletions;if(v!==null){for(var b=0;b<v.length;b++){var A=v[b];for(Me=A;Me!==null;){var oe=Me;switch(oe.tag){case 0:case 11:case 15:Ho(8,oe,a)}var le=oe.child;if(le!==null)le.return=oe,Me=le;else for(;Me!==null;){oe=Me;var re=oe.sibling,Ce=oe.return;if(Bu(oe),oe===A){Me=null;break}if(re!==null){re.return=Ce,Me=re;break}Me=Ce}}}var Re=a.alternate;if(Re!==null){var De=Re.child;if(De!==null){Re.child=null;do{var Tt=De.sibling;De.sibling=null,De=Tt}while(De!==null)}}Me=a}}if((a.subtreeFlags&2064)!==0&&p!==null)p.return=a,Me=p;else e:for(;Me!==null;){if(a=Me,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Ho(9,a,a.return)}var D=a.sibling;if(D!==null){D.return=a.return,Me=D;break e}Me=a.return}}var $=e.current;for(Me=$;Me!==null;){p=Me;var z=p.child;if((p.subtreeFlags&2064)!==0&&z!==null)z.return=p,Me=z;else e:for(p=$;Me!==null;){if(v=Me,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:el(9,v)}}catch(ze){$t(v,v.return,ze)}if(v===p){Me=null;break e}var ue=v.sibling;if(ue!==null){ue.return=v.return,Me=ue;break e}Me=v.return}}if(tt=s,fr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(ps,e)}catch{}o=!0}return o}finally{ct=r,mn.transition=t}}return!1}function td(e,t,r){t=ro(r,t),t=vu(e,t,1),e=hr(e,t,1),t=Kt(),e!==null&&(yo(e,1,t),rn(e,t))}function $t(e,t,r){if(e.tag===3)td(e,e,r);else for(;t!==null;){if(t.tag===3){td(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gr===null||!gr.has(o))){e=ro(r,e),e=ju(t,e,1),t=hr(t,e,1),e=Kt(),t!==null&&(yo(t,1,e),rn(t,e));break}}t=t.return}}function Dp(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Wt&r)===r&&(Pt===4||Pt===3&&(Wt&130023424)===Wt&&500>Mt()-Ki?_r(e,0):Qi|=r),rn(e,t)}function nd(e,t){t===0&&((e.mode&1)===0?t=1:(t=ms,ms<<=1,(ms&130023424)===0&&(ms=4194304)));var r=Kt();e=Jn(e,t),e!==null&&(yo(e,t,r),rn(e,r))}function Pp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nd(e,r)}function zp(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),nd(e,r)}var rd;rd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)tn=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return tn=!1,Cp(e,t,r);tn=(e.flags&131072)!==0}else tn=!1,vt&&(t.flags&1048576)!==0&&zc(t,Is,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Xs(e,t),e=t.pendingProps;var s=Kr(t,Ut.current);to(t,r),s=Ni(null,t,o,e,s,r);var a=Ei();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(o)?(a=!0,Ds(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vi(t),s.updater=Gs,t.stateNode=s,s._reactInternals=t,Ri(t,o,e,r),t=Ii(null,t,o,!0,a,r)):(t.tag=0,vt&&a&&ci(t),Qt(null,t,s,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=Ap(o),e=Cn(o,e),s){case 0:t=zi(null,t,o,e,r);break e;case 1:t=Mu(null,t,o,e,r);break e;case 11:t=Su(null,t,o,e,r);break e;case 14:t=bu(null,t,o,Cn(o.type,e),r);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),zi(e,t,o,s,r);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),Mu(e,t,o,s,r);case 3:e:{if(Tu(t),e===null)throw Error(i(387));o=t.pendingProps,a=t.memoizedState,s=a.element,Hc(e,t),Us(t,o,null,r);var p=t.memoizedState;if(o=p.element,a.isDehydrated)if(a={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ro(Error(i(423)),t),t=_u(e,t,o,r,s);break e}else if(o!==s){s=ro(Error(i(424)),t),t=_u(e,t,o,r,s);break e}else for(an=cr(t.stateNode.containerInfo.firstChild),ln=t,vt=!0,wn=null,r=Uc(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),o===s){t=Kn(e,t,r);break e}Qt(e,t,o,r)}t=t.child}return t;case 5:return Qc(t),e===null&&fi(t),o=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,p=s.children,ri(o,s)?p=null:a!==null&&ri(o,a)&&(t.flags|=32),$u(e,t),Qt(e,t,p,r),t.child;case 6:return e===null&&fi(t),null;case 13:return Lu(e,t,r);case 4:return ji(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Zr(t,null,o,r):Qt(e,t,o,r),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),Su(e,t,o,s,r);case 7:return Qt(e,t,t.pendingProps,r),t.child;case 8:return Qt(e,t,t.pendingProps.children,r),t.child;case 12:return Qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,a=t.memoizedProps,p=s.value,ht(Fs,o._currentValue),o._currentValue=p,a!==null)if(kn(a.value,p)){if(a.children===s.children&&!Zt.current){t=Kn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var v=a.dependencies;if(v!==null){p=a.child;for(var b=v.firstContext;b!==null;){if(b.context===o){if(a.tag===1){b=Qn(-1,r&-r),b.tag=2;var A=a.updateQueue;if(A!==null){A=A.shared;var oe=A.pending;oe===null?b.next=b:(b.next=oe.next,oe.next=b),A.pending=b}}a.lanes|=r,b=a.alternate,b!==null&&(b.lanes|=r),xi(a.return,r,t),v.lanes|=r;break}b=b.next}}else if(a.tag===10)p=a.type===t.type?null:a.child;else if(a.tag===18){if(p=a.return,p===null)throw Error(i(341));p.lanes|=r,v=p.alternate,v!==null&&(v.lanes|=r),xi(p,r,t),p=a.sibling}else p=a.child;if(p!==null)p.return=a;else for(p=a;p!==null;){if(p===t){p=null;break}if(a=p.sibling,a!==null){a.return=p.return,p=a;break}p=p.return}a=p}Qt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,to(t,r),s=pn(s),o=o(s),t.flags|=1,Qt(e,t,o,r),t.child;case 14:return o=t.type,s=Cn(o,t.pendingProps),s=Cn(o.type,s),bu(e,t,o,s,r);case 15:return Nu(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),Xs(e,t),t.tag=1,en(o)?(e=!0,Ds(t)):e=!1,to(t,r),xu(t,o,s),Ri(t,o,s,r),Ii(null,t,o,!0,e,r);case 19:return Du(e,t,r);case 22:return Eu(e,t,r)}throw Error(i(156,t.tag))};function od(e,t){return ds(e,t)}function Ip(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,r,o){return new Ip(e,t,r,o)}function ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ap(e){if(typeof e=="function")return ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ae)return 11;if(e===Qe)return 14}return 2}function jr(e,t){var r=e.alternate;return r===null?(r=gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cl(e,t,r,o,s,a){var p=2;if(o=e,typeof e=="function")ra(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case fe:return Rr(r.children,s,a,t);case q:p=8,s|=8;break;case ye:return e=gn(12,r,t,s|2),e.elementType=ye,e.lanes=a,e;case ke:return e=gn(13,r,t,s),e.elementType=ke,e.lanes=a,e;case Se:return e=gn(19,r,t,s),e.elementType=Se,e.lanes=a,e;case de:return ul(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:p=10;break e;case X:p=9;break e;case ae:p=11;break e;case Qe:p=14;break e;case Ye:p=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=gn(p,r,t,s),t.elementType=e,t.type=o,t.lanes=a,t}function Rr(e,t,r,o){return e=gn(7,e,o,t),e.lanes=r,e}function ul(e,t,r,o){return e=gn(22,e,o,t),e.elementType=de,e.lanes=r,e.stateNode={isHidden:!1},e}function oa(e,t,r){return e=gn(6,e,null,t),e.lanes=r,e}function sa(e,t,r){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bp(e,t,r,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function la(e,t,r,o,s,a,p,v,b){return e=new Bp(e,t,r,v,b),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vi(a),e}function Fp(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fe,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function sd(e){if(!e)return dr;e=e._reactInternals;e:{if(Nt(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(en(r))return Rc(e,r,t)}return t}function ld(e,t,r,o,s,a,p,v,b){return e=la(r,o,!0,e,s,a,p,v,b),e.context=sd(null),r=e.current,o=Kt(),s=yr(r),a=Qn(o,s),a.callback=t??null,hr(r,a,s),e.current.lanes=s,yo(e,s,o),rn(e,o),e}function dl(e,t,r,o){var s=t.current,a=Kt(),p=yr(s);return r=sd(r),t.context===null?t.context=r:t.pendingContext=r,t=Qn(a,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=hr(s,t,p),e!==null&&(Nn(e,s,p,a),Ws(e,s,p)),p}function fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ia(e,t){id(e,t),(e=e.alternate)&&id(e,t)}function Op(){return null}var ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function aa(e){this._internalRoot=e}pl.prototype.render=aa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));dl(e,t,null,null)},pl.prototype.unmount=aa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){dl(null,e,null,null)}),t[Un]=null}};function pl(e){this._internalRoot=e}pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ha();e={blockedOn:null,target:e,priority:t};for(var r=0;r<lr.length&&t!==0&&t<lr[r].priority;r++);lr.splice(r,0,e),r===0&&Qa(e)}};function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cd(){}function Wp(e,t,r,o,s){if(s){if(typeof o=="function"){var a=o;o=function(){var A=fl(p);a.call(A)}}var p=ld(t,o,e,0,null,!1,!1,"",cd);return e._reactRootContainer=p,e[Un]=p.current,Lo(e.nodeType===8?e.parentNode:e),Tr(),p}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var v=o;o=function(){var A=fl(b);v.call(A)}}var b=la(e,0,!1,null,null,!1,!1,"",cd);return e._reactRootContainer=b,e[Un]=b.current,Lo(e.nodeType===8?e.parentNode:e),Tr(function(){dl(t,b,r,o)}),b}function ml(e,t,r,o,s){var a=r._reactRootContainer;if(a){var p=a;if(typeof s=="function"){var v=s;s=function(){var b=fl(p);v.call(b)}}dl(t,p,e,s)}else p=Wp(r,t,e,s,o);return fl(p)}Ua=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xo(t.pendingLanes);r!==0&&(Rl(t,r|1),rn(t,Mt()),(tt&6)===0&&(lo=Mt()+500,fr()))}break;case 13:Tr(function(){var o=Jn(e,1);if(o!==null){var s=Kt();Nn(o,e,1,s)}}),ia(e,1)}},Dl=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var r=Kt();Nn(t,e,134217728,r)}ia(e,134217728)}},Va=function(e){if(e.tag===13){var t=yr(e),r=Jn(e,t);if(r!==null){var o=Kt();Nn(r,e,t,o)}ia(e,t)}},Ha=function(){return ct},Ya=function(e,t){var r=ct;try{return ct=e,t()}finally{ct=r}},ge=function(e,t,r){switch(t){case"input":if(zt(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var s=Ls(o);if(!s)throw Error(i(90));it(o),zt(o,s)}}}break;case"textarea":Ft(e,r);break;case"select":t=r.value,t!=null&&xt(e,!!r.multiple,t,!1)}},L=ea,W=Tr;var Up={usingClientEntryPoint:!1,Events:[Po,Jr,Ls,$e,d,ea]},Ko={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vp={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:je.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Et(e),e===null?null:e.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||Op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{ps=gl.inject(Vp),_n=gl}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Up,on.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ca(t))throw Error(i(200));return Fp(e,t,null,r)},on.createRoot=function(e,t){if(!ca(e))throw Error(i(299));var r=!1,o="",s=ad;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=la(e,1,!1,null,null,r,!1,o,s),e[Un]=t.current,Lo(e.nodeType===8?e.parentNode:e),new aa(t)},on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Et(t),e=e===null?null:e.stateNode,e},on.flushSync=function(e){return Tr(e)},on.hydrate=function(e,t,r){if(!hl(t))throw Error(i(200));return ml(null,e,t,!0,r)},on.hydrateRoot=function(e,t,r){if(!ca(e))throw Error(i(405));var o=r!=null&&r.hydratedSources||null,s=!1,a="",p=ad;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=ld(t,null,e,1,r??null,s,!1,a,p),e[Un]=t.current,Lo(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new pl(t)},on.render=function(e,t,r){if(!hl(t))throw Error(i(200));return ml(null,e,t,!1,r)},on.unmountComponentAtNode=function(e){if(!hl(e))throw Error(i(40));return e._reactRootContainer?(Tr(function(){ml(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1},on.unstable_batchedUpdates=ea,on.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!hl(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return ml(e,t,r,!1,o)},on.version="18.3.1-next-f1338f8080-20240426",on}var xd;function Zp(){if(xd)return fa.exports;xd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(u){console.error(u)}}return l(),fa.exports=Xp(),fa.exports}var yd;function eh(){if(yd)return xl;yd=1;var l=Zp();return xl.createRoot=l.createRoot,xl.hydrateRoot=l.hydrateRoot,xl}var th=eh();const nh=Md(th);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vd="popstate";function rh(l={}){function u(c,f){let{pathname:m,search:x,hash:w}=c.location;return va("",{pathname:m,search:x,hash:w},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function i(c,f){return typeof f=="string"?f:Zo(f)}return sh(u,i,null,l)}function jt(l,u){if(l===!1||l===null||typeof l>"u")throw new Error(u)}function $n(l,u){if(!l){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function oh(){return Math.random().toString(36).substring(2,10)}function jd(l,u){return{usr:l.state,key:l.key,idx:u}}function va(l,u,i=null,c){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof u=="string"?fo(u):u,state:i,key:u&&u.key||c||oh()}}function Zo({pathname:l="/",search:u="",hash:i=""}){return u&&u!=="?"&&(l+=u.charAt(0)==="?"?u:"?"+u),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i),l}function fo(l){let u={};if(l){let i=l.indexOf("#");i>=0&&(u.hash=l.substring(i),l=l.substring(0,i));let c=l.indexOf("?");c>=0&&(u.search=l.substring(c),l=l.substring(0,c)),l&&(u.pathname=l)}return u}function sh(l,u,i,c={}){let{window:f=document.defaultView,v5Compat:m=!1}=c,x=f.history,w="POP",g=null,k=E();k==null&&(k=0,x.replaceState({...x.state,idx:k},""));function E(){return(x.state||{idx:null}).idx}function B(){w="POP";let R=E(),G=R==null?null:R-k;k=R,g&&g({action:w,location:I.location,delta:G})}function C(R,G){w="PUSH";let H=va(I.location,R,G);k=E()+1;let xe=jd(H,k),je=I.createHref(H);try{x.pushState(xe,"",je)}catch(Be){if(Be instanceof DOMException&&Be.name==="DataCloneError")throw Be;f.location.assign(je)}m&&g&&g({action:w,location:I.location,delta:1})}function K(R,G){w="REPLACE";let H=va(I.location,R,G);k=E();let xe=jd(H,k),je=I.createHref(H);x.replaceState(xe,"",je),m&&g&&g({action:w,location:I.location,delta:0})}function N(R){return lh(R)}let I={get action(){return w},get location(){return l(f,x)},listen(R){if(g)throw new Error("A history only accepts one active listener");return f.addEventListener(vd,B),g=R,()=>{f.removeEventListener(vd,B),g=null}},createHref(R){return u(f,R)},createURL:N,encodeLocation(R){let G=N(R);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:K,go(R){return x.go(R)}};return I}function lh(l,u=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),jt(i,"No window.location.(origin|href) available to create URL");let c=typeof l=="string"?l:Zo(l);return c=c.replace(/ $/,"%20"),!u&&c.startsWith("//")&&(c=i+c),new URL(c,i)}function Td(l,u,i="/"){return ih(l,u,i,!1)}function ih(l,u,i,c){let f=typeof u=="string"?fo(u):u,m=er(f.pathname||"/",i);if(m==null)return null;let x=_d(l);ah(x);let w=null;for(let g=0;w==null&&g<x.length;++g){let k=vh(m);w=xh(x[g],k,c)}return w}function _d(l,u=[],i=[],c="",f=!1){let m=(x,w,g=f,k)=>{let E={relativePath:k===void 0?x.path||"":k,caseSensitive:x.caseSensitive===!0,childrenIndex:w,route:x};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(c)&&g)return;jt(E.relativePath.startsWith(c),`Absolute route path "${E.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(c.length)}let B=Zn([c,E.relativePath]),C=i.concat(E);x.children&&x.children.length>0&&(jt(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${B}".`),_d(x.children,u,C,B,g)),!(x.path==null&&!x.index)&&u.push({path:B,score:mh(B,x.index),routesMeta:C})};return l.forEach((x,w)=>{if(x.path===""||!x.path?.includes("?"))m(x,w);else for(let g of Ld(x.path))m(x,w,!0,g)}),u}function Ld(l){let u=l.split("/");if(u.length===0)return[];let[i,...c]=u,f=i.endsWith("?"),m=i.replace(/\?$/,"");if(c.length===0)return f?[m,""]:[m];let x=Ld(c.join("/")),w=[];return w.push(...x.map(g=>g===""?m:[m,g].join("/"))),f&&w.push(...x),w.map(g=>l.startsWith("/")&&g===""?"/":g)}function ah(l){l.sort((u,i)=>u.score!==i.score?i.score-u.score:gh(u.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}var ch=/^:[\w-]+$/,uh=3,dh=2,fh=1,ph=10,hh=-2,kd=l=>l==="*";function mh(l,u){let i=l.split("/"),c=i.length;return i.some(kd)&&(c+=hh),u&&(c+=dh),i.filter(f=>!kd(f)).reduce((f,m)=>f+(ch.test(m)?uh:m===""?fh:ph),c)}function gh(l,u){return l.length===u.length&&l.slice(0,-1).every((c,f)=>c===u[f])?l[l.length-1]-u[u.length-1]:0}function xh(l,u,i=!1){let{routesMeta:c}=l,f={},m="/",x=[];for(let w=0;w<c.length;++w){let g=c[w],k=w===c.length-1,E=m==="/"?u:u.slice(m.length)||"/",B=wl({path:g.relativePath,caseSensitive:g.caseSensitive,end:k},E),C=g.route;if(!B&&k&&i&&!c[c.length-1].route.index&&(B=wl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!B)return null;Object.assign(f,B.params),x.push({params:f,pathname:Zn([m,B.pathname]),pathnameBase:Ch(Zn([m,B.pathnameBase])),route:C}),B.pathnameBase!=="/"&&(m=Zn([m,B.pathnameBase]))}return x}function wl(l,u){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[i,c]=yh(l.path,l.caseSensitive,l.end),f=u.match(i);if(!f)return null;let m=f[0],x=m.replace(/(.)\/+$/,"$1"),w=f.slice(1);return{params:c.reduce((k,{paramName:E,isOptional:B},C)=>{if(E==="*"){let N=w[C]||"";x=m.slice(0,m.length-N.length).replace(/(.)\/+$/,"$1")}const K=w[C];return B&&!K?k[E]=void 0:k[E]=(K||"").replace(/%2F/g,"/"),k},{}),pathname:m,pathnameBase:x,pattern:l}}function yh(l,u=!1,i=!0){$n(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let c=[],f="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,w,g)=>(c.push({paramName:w,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(c.push({paramName:"*"}),f+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?f+="\\/*$":l!==""&&l!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,u?void 0:"i"),c]}function vh(l){try{return l.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return $n(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${u}).`),l}}function er(l,u){if(u==="/")return l;if(!l.toLowerCase().startsWith(u.toLowerCase()))return null;let i=u.endsWith("/")?u.length-1:u.length,c=l.charAt(i);return c&&c!=="/"?null:l.slice(i)||"/"}function jh(l,u="/"){let{pathname:i,search:c="",hash:f=""}=typeof l=="string"?fo(l):l;return{pathname:i?i.startsWith("/")?i:kh(i,u):u,search:Sh(c),hash:bh(f)}}function kh(l,u){let i=u.replace(/\/+$/,"").split("/");return l.split("/").forEach(f=>{f===".."?i.length>1&&i.pop():f!=="."&&i.push(f)}),i.length>1?i.join("/"):"/"}function ma(l,u,i,c){return`Cannot include a '${l}' character in a manually specified \`to.${u}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wh(l){return l.filter((u,i)=>i===0||u.route.path&&u.route.path.length>0)}function Ca(l){let u=wh(l);return u.map((i,c)=>c===u.length-1?i.pathname:i.pathnameBase)}function Sa(l,u,i,c=!1){let f;typeof l=="string"?f=fo(l):(f={...l},jt(!f.pathname||!f.pathname.includes("?"),ma("?","pathname","search",f)),jt(!f.pathname||!f.pathname.includes("#"),ma("#","pathname","hash",f)),jt(!f.search||!f.search.includes("#"),ma("#","search","hash",f)));let m=l===""||f.pathname==="",x=m?"/":f.pathname,w;if(x==null)w=i;else{let B=u.length-1;if(!c&&x.startsWith("..")){let C=x.split("/");for(;C[0]==="..";)C.shift(),B-=1;f.pathname=C.join("/")}w=B>=0?u[B]:"/"}let g=jh(f,w),k=x&&x!=="/"&&x.endsWith("/"),E=(m||x===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(k||E)&&(g.pathname+="/"),g}var Zn=l=>l.join("/").replace(/\/\/+/g,"/"),Ch=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Sh=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,bh=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Nh(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rd=["POST","PUT","PATCH","DELETE"];new Set(Rd);var Eh=["GET",...Rd];new Set(Eh);var po=h.createContext(null);po.displayName="DataRouter";var bl=h.createContext(null);bl.displayName="DataRouterState";h.createContext(!1);var Dd=h.createContext({isTransitioning:!1});Dd.displayName="ViewTransition";var $h=h.createContext(new Map);$h.displayName="Fetchers";var Mh=h.createContext(null);Mh.displayName="Await";var Tn=h.createContext(null);Tn.displayName="Navigation";var ts=h.createContext(null);ts.displayName="Location";var Wn=h.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var ba=h.createContext(null);ba.displayName="RouteError";function Th(l,{relative:u}={}){jt(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:c}=h.useContext(Tn),{hash:f,pathname:m,search:x}=ns(l,{relative:u}),w=m;return i!=="/"&&(w=m==="/"?i:Zn([i,m])),c.createHref({pathname:w,search:x,hash:f})}function ho(){return h.useContext(ts)!=null}function un(){return jt(ho(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(ts).location}var Pd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zd(l){h.useContext(Tn).static||h.useLayoutEffect(l)}function yn(){let{isDataRoute:l}=h.useContext(Wn);return l?Uh():_h()}function _h(){jt(ho(),"useNavigate() may be used only in the context of a <Router> component.");let l=h.useContext(po),{basename:u,navigator:i}=h.useContext(Tn),{matches:c}=h.useContext(Wn),{pathname:f}=un(),m=JSON.stringify(Ca(c)),x=h.useRef(!1);return zd(()=>{x.current=!0}),h.useCallback((g,k={})=>{if($n(x.current,Pd),!x.current)return;if(typeof g=="number"){i.go(g);return}let E=Sa(g,JSON.parse(m),f,k.relative==="path");l==null&&u!=="/"&&(E.pathname=E.pathname==="/"?u:Zn([u,E.pathname])),(k.replace?i.replace:i.push)(E,k.state,k)},[u,i,m,f,l])}h.createContext(null);function ns(l,{relative:u}={}){let{matches:i}=h.useContext(Wn),{pathname:c}=un(),f=JSON.stringify(Ca(i));return h.useMemo(()=>Sa(l,JSON.parse(f),c,u==="path"),[l,f,c,u])}function Lh(l,u){return Id(l,u)}function Id(l,u,i,c,f){jt(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=h.useContext(Tn),{matches:x}=h.useContext(Wn),w=x[x.length-1],g=w?w.params:{},k=w?w.pathname:"/",E=w?w.pathnameBase:"/",B=w&&w.route;{let H=B&&B.path||"";Ad(k,!B||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${k}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let C=un(),K;if(u){let H=typeof u=="string"?fo(u):u;jt(E==="/"||H.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${H.pathname}" was given in the \`location\` prop.`),K=H}else K=C;let N=K.pathname||"/",I=N;if(E!=="/"){let H=E.replace(/^\//,"").split("/");I="/"+N.replace(/^\//,"").split("/").slice(H.length).join("/")}let R=Td(l,{pathname:I});$n(B||R!=null,`No routes matched location "${K.pathname}${K.search}${K.hash}" `),$n(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${K.pathname}${K.search}${K.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=Ih(R&&R.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:Zn([E,m.encodeLocation?m.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?E:Zn([E,m.encodeLocation?m.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),x,i,c,f);return u&&G?h.createElement(ts.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...K},navigationType:"POP"}},G):G}function Rh(){let l=Wh(),u=Nh(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),i=l instanceof Error?l.stack:null,c="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},x=null;return console.error("Error handled by React Router default ErrorBoundary:",l),x=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:m},"ErrorBoundary")," or"," ",h.createElement("code",{style:m},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},u),i?h.createElement("pre",{style:f},i):null,x)}var Dh=h.createElement(Rh,null),Ph=class extends h.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,u){return u.location!==l.location||u.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:u.error,location:u.location,revalidation:l.revalidation||u.revalidation}}componentDidCatch(l,u){this.props.unstable_onError?this.props.unstable_onError(l,u):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?h.createElement(Wn.Provider,{value:this.props.routeContext},h.createElement(ba.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zh({routeContext:l,match:u,children:i}){let c=h.useContext(po);return c&&c.static&&c.staticContext&&(u.route.errorElement||u.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=u.route.id),h.createElement(Wn.Provider,{value:l},i)}function Ih(l,u=[],i=null,c=null,f=null){if(l==null){if(!i)return null;if(i.errors)l=i.matches;else if(u.length===0&&!i.initialized&&i.matches.length>0)l=i.matches;else return null}let m=l,x=i?.errors;if(x!=null){let k=m.findIndex(E=>E.route.id&&x?.[E.route.id]!==void 0);jt(k>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,k+1))}let w=!1,g=-1;if(i)for(let k=0;k<m.length;k++){let E=m[k];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=k),E.route.id){let{loaderData:B,errors:C}=i,K=E.route.loader&&!B.hasOwnProperty(E.route.id)&&(!C||C[E.route.id]===void 0);if(E.route.lazy||K){w=!0,g>=0?m=m.slice(0,g+1):m=[m[0]];break}}}return m.reduceRight((k,E,B)=>{let C,K=!1,N=null,I=null;i&&(C=x&&E.route.id?x[E.route.id]:void 0,N=E.route.errorElement||Dh,w&&(g<0&&B===0?(Ad("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,I=null):g===B&&(K=!0,I=E.route.hydrateFallbackElement||null)));let R=u.concat(m.slice(0,B+1)),G=()=>{let H;return C?H=N:K?H=I:E.route.Component?H=h.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=k,h.createElement(zh,{match:E,routeContext:{outlet:k,matches:R,isDataRoute:i!=null},children:H})};return i&&(E.route.ErrorBoundary||E.route.errorElement||B===0)?h.createElement(Ph,{location:i.location,revalidation:i.revalidation,component:N,error:C,children:G(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:c}):G()},null)}function Na(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ah(l){let u=h.useContext(po);return jt(u,Na(l)),u}function Bh(l){let u=h.useContext(bl);return jt(u,Na(l)),u}function Fh(l){let u=h.useContext(Wn);return jt(u,Na(l)),u}function Ea(l){let u=Fh(l),i=u.matches[u.matches.length-1];return jt(i.route.id,`${l} can only be used on routes that contain a unique "id"`),i.route.id}function Oh(){return Ea("useRouteId")}function Wh(){let l=h.useContext(ba),u=Bh("useRouteError"),i=Ea("useRouteError");return l!==void 0?l:u.errors?.[i]}function Uh(){let{router:l}=Ah("useNavigate"),u=Ea("useNavigate"),i=h.useRef(!1);return zd(()=>{i.current=!0}),h.useCallback(async(f,m={})=>{$n(i.current,Pd),i.current&&(typeof f=="number"?l.navigate(f):await l.navigate(f,{fromRouteId:u,...m}))},[l,u])}var wd={};function Ad(l,u,i){!u&&!wd[l]&&(wd[l]=!0,$n(!1,i))}h.memo(Vh);function Vh({routes:l,future:u,state:i,unstable_onError:c}){return Id(l,void 0,i,c,u)}function Dr({to:l,replace:u,state:i,relative:c}){jt(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=h.useContext(Tn);$n(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=h.useContext(Wn),{pathname:x}=un(),w=yn(),g=Sa(l,Ca(m),x,c==="path"),k=JSON.stringify(g);return h.useEffect(()=>{w(JSON.parse(k),{replace:u,state:i,relative:c})},[w,k,c,u,i]),null}function xn(l){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hh({basename:l="/",children:u=null,location:i,navigationType:c="POP",navigator:f,static:m=!1}){jt(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=l.replace(/^\/*/,"/"),w=h.useMemo(()=>({basename:x,navigator:f,static:m,future:{}}),[x,f,m]);typeof i=="string"&&(i=fo(i));let{pathname:g="/",search:k="",hash:E="",state:B=null,key:C="default"}=i,K=h.useMemo(()=>{let N=er(g,x);return N==null?null:{location:{pathname:N,search:k,hash:E,state:B,key:C},navigationType:c}},[x,g,k,E,B,C,c]);return $n(K!=null,`<Router basename="${x}"> is not able to match the URL "${g}${k}${E}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:h.createElement(Tn.Provider,{value:w},h.createElement(ts.Provider,{children:u,value:K}))}function Yh({children:l,location:u}){return Lh(ja(l),u)}function ja(l,u=[]){let i=[];return h.Children.forEach(l,(c,f)=>{if(!h.isValidElement(c))return;let m=[...u,f];if(c.type===h.Fragment){i.push.apply(i,ja(c.props.children,m));return}jt(c.type===xn,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let x={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(x.children=ja(c.props.children,m)),i.push(x)}),i}var jl="get",kl="application/x-www-form-urlencoded";function Nl(l){return l!=null&&typeof l.tagName=="string"}function Jh(l){return Nl(l)&&l.tagName.toLowerCase()==="button"}function Qh(l){return Nl(l)&&l.tagName.toLowerCase()==="form"}function Kh(l){return Nl(l)&&l.tagName.toLowerCase()==="input"}function Gh(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function qh(l,u){return l.button===0&&(!u||u==="_self")&&!Gh(l)}var yl=null;function Xh(){if(yl===null)try{new FormData(document.createElement("form"),0),yl=!1}catch{yl=!0}return yl}var Zh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ga(l){return l!=null&&!Zh.has(l)?($n(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kl}"`),null):l}function em(l,u){let i,c,f,m,x;if(Qh(l)){let w=l.getAttribute("action");c=w?er(w,u):null,i=l.getAttribute("method")||jl,f=ga(l.getAttribute("enctype"))||kl,m=new FormData(l)}else if(Jh(l)||Kh(l)&&(l.type==="submit"||l.type==="image")){let w=l.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=l.getAttribute("formaction")||w.getAttribute("action");if(c=g?er(g,u):null,i=l.getAttribute("formmethod")||w.getAttribute("method")||jl,f=ga(l.getAttribute("formenctype"))||ga(w.getAttribute("enctype"))||kl,m=new FormData(w,l),!Xh()){let{name:k,type:E,value:B}=l;if(E==="image"){let C=k?`${k}.`:"";m.append(`${C}x`,"0"),m.append(`${C}y`,"0")}else k&&m.append(k,B)}}else{if(Nl(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=jl,c=null,f=kl,x=l}return m&&f==="text/plain"&&(x=m,m=void 0),{action:c,method:i.toLowerCase(),encType:f,formData:m,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $a(l,u){if(l===!1||l===null||typeof l>"u")throw new Error(u)}function tm(l,u,i){let c=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return c.pathname==="/"?c.pathname=`_root.${i}`:u&&er(c.pathname,u)==="/"?c.pathname=`${u.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function nm(l,u){if(l.id in u)return u[l.id];try{let i=await import(l.module);return u[l.id]=i,i}catch(i){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rm(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function om(l,u,i){let c=await Promise.all(l.map(async f=>{let m=u.routes[f.route.id];if(m){let x=await nm(m,i);return x.links?x.links():[]}return[]}));return am(c.flat(1).filter(rm).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Cd(l,u,i,c,f,m){let x=(g,k)=>i[k]?g.route.id!==i[k].route.id:!0,w=(g,k)=>i[k].pathname!==g.pathname||i[k].route.path?.endsWith("*")&&i[k].params["*"]!==g.params["*"];return m==="assets"?u.filter((g,k)=>x(g,k)||w(g,k)):m==="data"?u.filter((g,k)=>{let E=c.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(x(g,k)||w(g,k))return!0;if(g.route.shouldRevalidate){let B=g.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof B=="boolean")return B}return!0}):[]}function sm(l,u,{includeHydrateFallback:i}={}){return lm(l.map(c=>{let f=u.routes[c.route.id];if(!f)return[];let m=[f.module];return f.clientActionModule&&(m=m.concat(f.clientActionModule)),f.clientLoaderModule&&(m=m.concat(f.clientLoaderModule)),i&&f.hydrateFallbackModule&&(m=m.concat(f.hydrateFallbackModule)),f.imports&&(m=m.concat(f.imports)),m}).flat(1))}function lm(l){return[...new Set(l)]}function im(l){let u={},i=Object.keys(l).sort();for(let c of i)u[c]=l[c];return u}function am(l,u){let i=new Set;return new Set(u),l.reduce((c,f)=>{let m=JSON.stringify(im(f));return i.has(m)||(i.add(m),c.push({key:m,link:f})),c},[])}function Bd(){let l=h.useContext(po);return $a(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function cm(){let l=h.useContext(bl);return $a(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Ma=h.createContext(void 0);Ma.displayName="FrameworkContext";function Fd(){let l=h.useContext(Ma);return $a(l,"You must render this element inside a <HydratedRouter> element"),l}function um(l,u){let i=h.useContext(Ma),[c,f]=h.useState(!1),[m,x]=h.useState(!1),{onFocus:w,onBlur:g,onMouseEnter:k,onMouseLeave:E,onTouchStart:B}=u,C=h.useRef(null);h.useEffect(()=>{if(l==="render"&&x(!0),l==="viewport"){let I=G=>{G.forEach(H=>{x(H.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return C.current&&R.observe(C.current),()=>{R.disconnect()}}},[l]),h.useEffect(()=>{if(c){let I=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(I)}}},[c]);let K=()=>{f(!0)},N=()=>{f(!1),x(!1)};return i?l!=="intent"?[m,C,{}]:[m,C,{onFocus:qo(w,K),onBlur:qo(g,N),onMouseEnter:qo(k,K),onMouseLeave:qo(E,N),onTouchStart:qo(B,K)}]:[!1,C,{}]}function qo(l,u){return i=>{l&&l(i),i.defaultPrevented||u(i)}}function dm({page:l,...u}){let{router:i}=Bd(),c=h.useMemo(()=>Td(i.routes,l,i.basename),[i.routes,l,i.basename]);return c?h.createElement(pm,{page:l,matches:c,...u}):null}function fm(l){let{manifest:u,routeModules:i}=Fd(),[c,f]=h.useState([]);return h.useEffect(()=>{let m=!1;return om(l,u,i).then(x=>{m||f(x)}),()=>{m=!0}},[l,u,i]),c}function pm({page:l,matches:u,...i}){let c=un(),{manifest:f,routeModules:m}=Fd(),{basename:x}=Bd(),{loaderData:w,matches:g}=cm(),k=h.useMemo(()=>Cd(l,u,g,f,c,"data"),[l,u,g,f,c]),E=h.useMemo(()=>Cd(l,u,g,f,c,"assets"),[l,u,g,f,c]),B=h.useMemo(()=>{if(l===c.pathname+c.search+c.hash)return[];let N=new Set,I=!1;if(u.forEach(G=>{let H=f.routes[G.route.id];!H||!H.hasLoader||(!k.some(xe=>xe.route.id===G.route.id)&&G.route.id in w&&m[G.route.id]?.shouldRevalidate||H.hasClientLoader?I=!0:N.add(G.route.id))}),N.size===0)return[];let R=tm(l,x,"data");return I&&N.size>0&&R.searchParams.set("_routes",u.filter(G=>N.has(G.route.id)).map(G=>G.route.id).join(",")),[R.pathname+R.search]},[x,w,c,f,k,u,l,m]),C=h.useMemo(()=>sm(E,f),[E,f]),K=fm(E);return h.createElement(h.Fragment,null,B.map(N=>h.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),C.map(N=>h.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),K.map(({key:N,link:I})=>h.createElement("link",{key:N,nonce:i.nonce,...I})))}function hm(...l){return u=>{l.forEach(i=>{typeof i=="function"?i(u):i!=null&&(i.current=u)})}}var Od=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Od&&(window.__reactRouterVersion="7.9.5")}catch{}function mm({basename:l,children:u,window:i}){let c=h.useRef();c.current==null&&(c.current=rh({window:i,v5Compat:!0}));let f=c.current,[m,x]=h.useState({action:f.action,location:f.location}),w=h.useCallback(g=>{h.startTransition(()=>x(g))},[x]);return h.useLayoutEffect(()=>f.listen(w),[f,w]),h.createElement(Hh,{basename:l,children:u,location:m.location,navigationType:m.action,navigator:f})}var Wd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ud=h.forwardRef(function({onClick:u,discover:i="render",prefetch:c="none",relative:f,reloadDocument:m,replace:x,state:w,target:g,to:k,preventScrollReset:E,viewTransition:B,...C},K){let{basename:N}=h.useContext(Tn),I=typeof k=="string"&&Wd.test(k),R,G=!1;if(typeof k=="string"&&I&&(R=k,Od))try{let ye=new URL(window.location.href),ie=k.startsWith("//")?new URL(ye.protocol+k):new URL(k),X=er(ie.pathname,N);ie.origin===ye.origin&&X!=null?k=X+ie.search+ie.hash:G=!0}catch{$n(!1,`<Link to="${k}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Th(k,{relative:f}),[xe,je,Be]=um(c,C),Fe=vm(k,{replace:x,state:w,target:g,preventScrollReset:E,relative:f,viewTransition:B});function fe(ye){u&&u(ye),ye.defaultPrevented||Fe(ye)}let q=h.createElement("a",{...C,...Be,href:R||H,onClick:G||m?u:fe,ref:hm(K,je),target:g,"data-discover":!I&&i==="render"?"true":void 0});return xe&&!I?h.createElement(h.Fragment,null,q,h.createElement(dm,{page:H})):q});Ud.displayName="Link";var gm=h.forwardRef(function({"aria-current":u="page",caseSensitive:i=!1,className:c="",end:f=!1,style:m,to:x,viewTransition:w,children:g,...k},E){let B=ns(x,{relative:k.relative}),C=un(),K=h.useContext(bl),{navigator:N,basename:I}=h.useContext(Tn),R=K!=null&&Sm(B)&&w===!0,G=N.encodeLocation?N.encodeLocation(B).pathname:B.pathname,H=C.pathname,xe=K&&K.navigation&&K.navigation.location?K.navigation.location.pathname:null;i||(H=H.toLowerCase(),xe=xe?xe.toLowerCase():null,G=G.toLowerCase()),xe&&I&&(xe=er(xe,I)||xe);const je=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Be=H===G||!f&&H.startsWith(G)&&H.charAt(je)==="/",Fe=xe!=null&&(xe===G||!f&&xe.startsWith(G)&&xe.charAt(G.length)==="/"),fe={isActive:Be,isPending:Fe,isTransitioning:R},q=Be?u:void 0,ye;typeof c=="function"?ye=c(fe):ye=[c,Be?"active":null,Fe?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ie=typeof m=="function"?m(fe):m;return h.createElement(Ud,{...k,"aria-current":q,className:ye,ref:E,style:ie,to:x,viewTransition:w},typeof g=="function"?g(fe):g)});gm.displayName="NavLink";var xm=h.forwardRef(({discover:l="render",fetcherKey:u,navigate:i,reloadDocument:c,replace:f,state:m,method:x=jl,action:w,onSubmit:g,relative:k,preventScrollReset:E,viewTransition:B,...C},K)=>{let N=wm(),I=Cm(w,{relative:k}),R=x.toLowerCase()==="get"?"get":"post",G=typeof w=="string"&&Wd.test(w),H=xe=>{if(g&&g(xe),xe.defaultPrevented)return;xe.preventDefault();let je=xe.nativeEvent.submitter,Be=je?.getAttribute("formmethod")||x;N(je||xe.currentTarget,{fetcherKey:u,method:Be,navigate:i,replace:f,state:m,relative:k,preventScrollReset:E,viewTransition:B})};return h.createElement("form",{ref:K,method:R,action:I,onSubmit:c?g:H,...C,"data-discover":!G&&l==="render"?"true":void 0})});xm.displayName="Form";function ym(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vd(l){let u=h.useContext(po);return jt(u,ym(l)),u}function vm(l,{target:u,replace:i,state:c,preventScrollReset:f,relative:m,viewTransition:x}={}){let w=yn(),g=un(),k=ns(l,{relative:m});return h.useCallback(E=>{if(qh(E,u)){E.preventDefault();let B=i!==void 0?i:Zo(g)===Zo(k);w(l,{replace:B,state:c,preventScrollReset:f,relative:m,viewTransition:x})}},[g,w,k,i,c,u,l,f,m,x])}var jm=0,km=()=>`__${String(++jm)}__`;function wm(){let{router:l}=Vd("useSubmit"),{basename:u}=h.useContext(Tn),i=Oh();return h.useCallback(async(c,f={})=>{let{action:m,method:x,encType:w,formData:g,body:k}=em(c,u);if(f.navigate===!1){let E=f.fetcherKey||km();await l.fetch(E,i,f.action||m,{preventScrollReset:f.preventScrollReset,formData:g,body:k,formMethod:f.method||x,formEncType:f.encType||w,flushSync:f.flushSync})}else await l.navigate(f.action||m,{preventScrollReset:f.preventScrollReset,formData:g,body:k,formMethod:f.method||x,formEncType:f.encType||w,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,i])}function Cm(l,{relative:u}={}){let{basename:i}=h.useContext(Tn),c=h.useContext(Wn);jt(c,"useFormAction must be used inside a RouteContext");let[f]=c.matches.slice(-1),m={...ns(l||".",{relative:u})},x=un();if(l==null){m.search=x.search;let w=new URLSearchParams(m.search),g=w.getAll("index");if(g.some(E=>E==="")){w.delete("index"),g.filter(B=>B).forEach(B=>w.append("index",B));let E=w.toString();m.search=E?`?${E}`:""}}return(!l||l===".")&&f.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(m.pathname=m.pathname==="/"?i:Zn([i,m.pathname])),Zo(m)}function Sm(l,{relative:u}={}){let i=h.useContext(Dd);jt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=Vd("useViewTransitionState"),f=ns(l,{relative:u});if(!i.isTransitioning)return!1;let m=er(i.currentLocation.pathname,c)||i.currentLocation.pathname,x=er(i.nextLocation.pathname,c)||i.nextLocation.pathname;return wl(f.pathname,x)!=null||wl(f.pathname,m)!=null}function qn({children:l,requireAdmin:u=!1,requireUser:i=!1}){const[c,f]=h.useState(!0),[m,x]=h.useState(!1);return h.useEffect(()=>{const w=sessionStorage.getItem("user");if(!w){x(!1),f(!1);return}try{const g=JSON.parse(w),k=g.isAuthenticated,E=g.role==="admin";if(!k){x(!1),f(!1);return}if(u&&!E){x(!1),f(!1);return}if(i&&E){x(!1),f(!1);return}x(!0),f(!1)}catch{x(!1),f(!1)}},[u,i]),c?n.jsx("div",{children:"Loading..."}):m?n.jsx(n.Fragment,{children:l}):u?n.jsx(Dr,{to:"/calendrier",replace:!0}):n.jsx(Dr,{to:"/login",replace:!0})}function bm(){const[l,u]=h.useState(!0),[i,c]=h.useState(null);return h.useEffect(()=>{const f=sessionStorage.getItem("user");if(!f){c(n.jsx(Dr,{to:"/login",replace:!0})),u(!1);return}try{const m=JSON.parse(f),x=m.isAuthenticated,w=m.role==="admin";if(!x){c(n.jsx(Dr,{to:"/login",replace:!0})),u(!1);return}c(w?n.jsx(Dr,{to:"/dashboard",replace:!0}):n.jsx(Dr,{to:"/calendrier",replace:!0})),u(!1)}catch{c(n.jsx(Dr,{to:"/login",replace:!0})),u(!1)}},[]),l?n.jsx("div",{children:"Loading..."}):n.jsx(n.Fragment,{children:i})}function El({isDarkMode:l}){const[u]=h.useState(()=>Array.from({length:30},(c,f)=>({id:f,left:Math.random()*100,delay:Math.random()*5,duration:3+Math.random()*4,size:5+Math.random()*10}))),[i]=h.useState(()=>Array.from({length:15},(c,f)=>({id:f,left:Math.random()*100,top:Math.random()*100,delay:Math.random()*2,size:10+Math.random()*15})));return n.jsxs("div",{className:"noel-decorations",children:[u.map(c=>n.jsx("div",{className:"snowflake",style:{left:`${c.left}%`,animationDelay:`${c.delay}s`,animationDuration:`${c.duration}s`,width:`${c.size}px`,height:`${c.size}px`},children:""},`snowflake-${c.id}`)),i.map(c=>n.jsx("div",{className:`star ${l?"star-dark":"star-light"}`,style:{left:`${c.left}%`,top:`${c.top}%`,animationDelay:`${c.delay}s`,width:`${c.size}px`,height:`${c.size}px`},children:""},`star-${c.id}`)),n.jsx("div",{className:"ornament ornament-1",children:""}),n.jsx("div",{className:"ornament ornament-2",children:""}),n.jsx("div",{className:"ornament ornament-3",children:""}),n.jsx("div",{className:"ornament ornament-4",children:""}),n.jsx("div",{className:"ornament ornament-5",children:""}),n.jsx("div",{className:"corner-decoration corner-top-left",children:""}),n.jsx("div",{className:"corner-decoration corner-top-right",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-left",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-right",children:""})]})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Em=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(u,i,c)=>c?c.toUpperCase():i.toLowerCase()),Sd=l=>{const u=Em(l);return u.charAt(0).toUpperCase()+u.slice(1)},Hd=(...l)=>l.filter((u,i,c)=>!!u&&u.trim()!==""&&c.indexOf(u)===i).join(" ").trim(),$m=l=>{for(const u in l)if(u.startsWith("aria-")||u==="role"||u==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=h.forwardRef(({color:l="currentColor",size:u=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:f="",children:m,iconNode:x,...w},g)=>h.createElement("svg",{ref:g,...Mm,width:u,height:u,stroke:l,strokeWidth:c?Number(i)*24/Number(u):i,className:Hd("lucide",f),...!m&&!$m(w)&&{"aria-hidden":"true"},...w},[...x.map(([k,E])=>h.createElement(k,E)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(l,u)=>{const i=h.forwardRef(({className:c,...f},m)=>h.createElement(Tm,{ref:m,iconNode:u,className:Hd(`lucide-${Nm(Sd(l))}`,`lucide-${l}`,c),...f}));return i.displayName=Sd(l),i};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Lm=lt("bell-off",_m);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Dm=lt("bell-ring",Rm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zr=lt("bell",Pm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],ao=lt("calendar-check",zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nt=lt("calendar",Im);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rs=lt("chevron-down",Am);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],os=lt("chevrons-right",Bm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Om=lt("circle-check",Fm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ss=lt("clipboard-list",Wm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vm=lt("clock",Um);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xa=lt("database",Hm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bd=lt("download",Ym);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Qm=lt("globe",Jm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ls=lt("house",Km);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tr=lt("log-out",Gm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xm=lt("mail",qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],is=lt("menu",Zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M5 12h14",key:"1ays0h"}]],as=lt("minus",eg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],qt=lt("moon",tg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ya=lt("palette",ng);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],og=lt("percent",rg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yd=lt("plus",sg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ta=lt("refresh-cw",lg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ag=lt("save",ig);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pr=lt("settings",cg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xt=lt("sun",ug);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nd=lt("trash-2",dg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pg=lt("trending-up",fg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ed=lt("upload",hg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],co=lt("users",mg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cs=lt("x",gg);function Jd({disableAnimations:l=!1,isAdminView:u=!1}){const i=yn(),[c,f]=h.useState(()=>{const C=localStorage.getItem("darkMode");return C?JSON.parse(C):!0}),[m,x]=h.useState(""),[w,g]=h.useState("");h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(c)),document.documentElement.setAttribute("data-theme",c?"dark":"light")},[c]),h.useEffect(()=>{const C=sessionStorage.getItem("user");if(C)try{const K=JSON.parse(C);x(K.name||""),g(K.role||"")}catch(K){console.error("Error parsing user data:",K)}},[]);const k=()=>{f(!c)},E=()=>{sessionStorage.removeItem("user"),i("/login")},B=C=>{i(`/${C}`)};return n.jsxs("div",{className:`home-page ${c?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(El,{isDarkMode:c}),!u&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`home-header ${u?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[u?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Calendrier"}),n.jsx("p",{children:"Gestion des calendriers"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous"}),n.jsx("p",{children:"Slectionnez un type de rendez-vous"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[w==="technicien"&&m&&!u&&n.jsxs("div",{style:{fontSize:"16px",fontWeight:500,color:c?"#ffffff":"#111827",marginBottom:"4px"},children:["Bienvenue ",m]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[!u&&n.jsx("button",{className:"home-button",onClick:()=>i("/calendrier"),"aria-label":"Home",title:"Accueil",children:""}),n.jsxs("button",{style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:c?"#1a1a1a":"#ffffff",border:`1px solid ${c?"#333333":"#e5e7eb"}`,color:c?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:C=>{C.currentTarget.style.color=c?"#ffffff":"#111827",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f9fafb"},onMouseLeave:C=>{C.currentTarget.style.color=c?"#9ca3af":"#6b7280",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#ffffff"},children:[n.jsx(zr,{style:{width:"20px",height:"20px"}}),n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%"}})]}),n.jsx("button",{onClick:k,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${c?"#333333":"#e5e7eb"}`,backgroundColor:c?"#1a1a1a":"#ffffff",color:c?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:C=>{C.currentTarget.style.color=c?"#ffffff":"#111827",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f9fafb"},onMouseLeave:C=>{C.currentTarget.style.color=c?"#9ca3af":"#6b7280",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#ffffff"},children:c?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:E,style:{padding:"8px",borderRadius:"8px",backgroundColor:c?"#1a1a1a":"#ffffff",border:`1px solid ${c?"#333333":"#e5e7eb"}`,color:c?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:C=>{C.currentTarget.style.color=c?"#ffffff":"#111827",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f9fafb"},onMouseLeave:C=>{C.currentTarget.style.color=c?"#9ca3af":"#6b7280",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#ffffff"},children:n.jsx(tr,{style:{width:"20px",height:"20px"}})})]})]})]})}),n.jsx("main",{className:"home-main",children:n.jsxs("div",{className:"calendar-buttons-container",children:[n.jsx("button",{className:"calendar-button metric-button",onClick:()=>B("metre"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Metr"}),n.jsx("p",{children:"Rservation Metr"})]})}),n.jsx("button",{className:"calendar-button pose-button",onClick:()=>B("pose"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Pose"}),n.jsx("p",{children:"Rservation Pose"})]})}),n.jsx("button",{className:"calendar-button sav-button",onClick:()=>B("sav"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"SAV"}),n.jsx("p",{children:"Rservation SAV"})]})})]})})]})}const xg={},Qd="calendar1",Ge={calendar1:"calendar1",calendar2:"calendar2",calendar3:"calendar3"},Kd=Ge[Qd],yg=xg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",mo=l=>l||Kd,ka=l=>({id:String(l.id),date:l.booking_date,name:l.client_name,phone:l.client_phone,designer:l.designer_name,message:l.message,time:l.booking_time||"21h00",timestamp:new Date(l.created_at).getTime()}),Mn=async(l,u)=>{const i=await fetch(`${yg}${l}`,{headers:{"Content-Type":"application/json",...u?.headers||{}},...u});if(!i.ok){let c=`API request failed with status ${i.status}`;const f=i.clone();try{const m=await i.json();if(m.detail)c=m.detail;else if(m.non_field_errors&&m.non_field_errors.length>0)c=m.non_field_errors[0];else if(typeof m=="object"){const x=Object.keys(m)[0];x&&Array.isArray(m[x])&&m[x].length>0?c=m[x][0]:x&&typeof m[x]=="string"&&(c=m[x])}}catch{try{const m=await f.text();m&&(c=m)}catch{}}throw new Error(c)}if(i.status!==204)return await i.json()},Gd={calendar1:"Pose",calendar2:"SAV",calendar3:"Metr"},_a=(l="calendar1")=>Ge[l]||Ge[Qd],En=l=>{if(!l)return"Pose";for(const[u,i]of Object.entries(Ge))if(i===l)return Gd[u]||"Pose";return"Pose"},On=new Map,Cl=3e4,La=l=>{const u=[];On.forEach((i,c)=>{c.startsWith("bookings_")&&(!l||c.includes(l))&&u.push(c)}),u.forEach(i=>On.delete(i)),console.log(`[Cache] Cleared ${u.length} bookings cache entries`)},qd=l=>{const u=[];On.forEach((i,c)=>{c.startsWith("holidays_")&&(!l||c.includes(l))&&u.push(c)}),u.forEach(i=>On.delete(i)),console.log(`[Cache] Cleared ${u.length} holidays cache entries`)},Ir=async(l,u)=>{const i=mo(l),c=new URLSearchParams({calendar_id:i}),f=`bookings_${i}_${c.toString()}`,m=On.get(f);if(m&&Date.now()-m.timestamp<Cl)return console.log(`[getAllBookings] Using cached request for calendar_id: ${i}`),m.promise;console.log(`[getAllBookings] Querying bookings for calendar_id: ${i}`);const x=(async()=>{try{const w=await Mn(`/bookings/?${c.toString()}`);return console.log(`[getAllBookings] Received ${w.length} bookings from API for calendar_id: ${i}`),w.map(ka)}catch(w){if(console.warn(`[getAllBookings] Failed to fetch bookings for calendar_id: ${i}`,w),i==="calendar1"||i==="calendar2"||i==="calendar3"){const g=i==="calendar1"?"1":i==="calendar2"?"2":"3";console.log(`[getAllBookings] Trying legacy format: ${g}`);try{const k=new URLSearchParams({calendar_id:g});u?.startDate,u?.endDate;const E=await Mn(`/bookings/?${k.toString()}`);return console.log(`[getAllBookings] Received ${E.length} bookings from API using legacy format`),E.map(ka)}catch(k){console.warn("[getAllBookings] Legacy format also failed:",k)}}return[]}finally{setTimeout(()=>{On.delete(f)},Cl)}})();return On.set(f,{promise:x,timestamp:Date.now()}),x},vg={[Ge.calendar1]:2,[Ge.calendar2]:3,[Ge.calendar3]:8},Ra=l=>l?vg[l]??3:3,Gt=l=>l?l===Ge.calendar2||l===Ge.calendar3:!1,jg=async(l,u,i)=>{try{const c=new Date;c.setHours(0,0,0,0);const f=new Date(l+"T00:00:00");if(f.setHours(0,0,0,0),f<c)return!1;const x=(await Ir(u)).filter(g=>{const k=new Date(g.date+"T00:00:00");return k.setHours(0,0,0,0),g.date===l&&k>=c}),w=i??Ra(u);return x.length>=w}catch(c){return console.error("Error checking booking limit:",c),!1}},es=async(l,u,i)=>{const c=mo(u);try{if(await Ng(l.date,c))throw new Error("Cette date est un jour fri ou un jour non disponible. Les rservations ne sont pas autorises pour cette date.");const m=await Ir(c);if(Gt(c)&&l.timeSlot){const g=new Date;g.setHours(0,0,0,0);const k=new Date(l.date+"T00:00:00");if(k.setHours(0,0,0,0),k>=g){const E=K=>K.trim().toLowerCase(),B=E(l.timeSlot);if(m.some(K=>{const N=new Date(K.date+"T00:00:00");if(N.setHours(0,0,0,0),N<g)return!1;const I=E(K.time||"");return K.date===l.date&&I===B}))throw new Error(`Ce crneau (${l.timeSlot}) est dj rserv pour cette date. Veuillez choisir un autre crneau.`)}}if(!Gt(c)){const g=i??Ra(c);if(await jg(l.date,c,g))throw new Error(`This date is fully booked. Maximum ${g} bookings per day.`)}let x=l.timeSlot||"21h00";Gt(c)&&!l.timeSlot&&(console.warn("[addBooking] Time slot calendar but no timeSlot provided!"),x="");const w={calendar_id:c,booking_date:l.date,booking_time:x,client_name:l.name,client_phone:l.phone,designer_name:l.designer,message:l.message};return console.log("[addBooking] Sending booking to API:",w),console.log("[addBooking] Time slot from bookingData:",l.timeSlot),console.log("[addBooking] Calendar uses time slots:",Gt(c)),await Mn("/bookings/",{method:"POST",body:JSON.stringify(w)}),La(c),!0}catch(f){throw console.error("Error adding booking:",f),f}},kg=async l=>{const u=mo(l);try{return await Mn(`/bookings/reset/?calendar_id=${u}`,{method:"DELETE"}),console.log(`Cleared backend bookings for calendar: ${u}`),!0}catch(i){return console.error("Error resetting bookings:",i),!1}},wg=async()=>{console.log(" Resetting all calendars...");const l=Object.values(Ge),u=[...new Set(l)];for(const i of u)await kg(i);console.log(" All calendars have been reset to 0 bookings")},Xd=async(l,u)=>{try{console.log("[updateBooking] Updating booking:",l,u);const i=await Mn(`/bookings/${l}/`,{method:"PUT",body:JSON.stringify(u)});return La(u.calendar_id),ka(i)}catch(i){throw console.error("Error updating booking:",i),i}},Xo=async(l,u)=>{try{return console.log("[deleteBooking] Deleting booking:",l),await Mn(`/bookings/${l}/`,{method:"DELETE"}),La(u),!0}catch(i){throw console.error("Error deleting booking:",i),i}},Sl=l=>({id:l.id,calendar_id:l.calendar_id,holiday_date:l.holiday_date,description:l.description,created_at:l.created_at}),uo=async(l,u)=>{const i=mo(l),c=new URLSearchParams({calendar_id:i}),f=`holidays_${i}_${c.toString()}`,m=On.get(f);if(m&&Date.now()-m.timestamp<Cl)return console.log(`[getAllHolidays] Using cached request for calendar_id: ${i}`),m.promise;const x=(async()=>{try{return(await Mn(`/holidays/?${c.toString()}`)).map(Sl)}catch(w){if(console.warn(`[getAllHolidays] Failed to fetch holidays for calendar_id: ${i}`,w),i==="calendar1"||i==="calendar2"||i==="calendar3"){const g=i==="calendar1"?"1":i==="calendar2"?"2":"3";try{const k=new URLSearchParams({calendar_id:g});return u?.startDate,u?.endDate,(await Mn(`/holidays/?${k.toString()}`)).map(Sl)}catch(k){console.warn("[getAllHolidays] Legacy format also failed:",k)}}return[]}finally{setTimeout(()=>{On.delete(f)},Cl)}})();return On.set(f,{promise:x,timestamp:Date.now()}),x},Cg=async(l,u,i)=>{const c=mo(l);try{const m=await Mn("/holidays/",{method:"POST",body:JSON.stringify({calendar_id:c,holiday_date:u,description:i||""})});return qd(c),Sl(m)}catch(f){throw console.error("Error adding holiday:",f),f}},Sg=async(l,u,i,c)=>{const f=mo(u);try{const m={calendar_id:f,holiday_date:i,description:c||""},x=await Mn(`/holidays/${l}/`,{method:"PUT",body:JSON.stringify(m)});return Sl(x)}catch(m){throw console.error("Error updating holiday:",m),m}},bg=async(l,u)=>{try{return await Mn(`/holidays/${l}/`,{method:"DELETE"}),qd(u),!0}catch(i){throw console.error("Error deleting holiday:",i),i}},Ng=async(l,u)=>{try{return(await uo(u)).some(c=>c.holiday_date===l)}catch(i){return console.error("Error checking holiday:",i),!1}},Eg={},$g=Eg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",$l=async(l,u={})=>{const i=`${$g}${l}`,f={...u,headers:{...{"Content-Type":"application/json"},...u.headers}},m=await fetch(i,f);if(!m.ok){let x=`Erreur ${m.status}: ${m.statusText}`;try{const w=await m.json();if(w.detail)x=w.detail;else if(w.password)x=w.password[0]||x;else if(w.confirm_password)x=w.confirm_password[0]||x;else if(w.email)x=w.email[0]||x;else if(typeof w=="object"){const g=Object.keys(w)[0];g&&w[g]&&(x=Array.isArray(w[g])?w[g][0]:w[g])}}catch{}throw new Error(x)}if(m.status!==204)return await m.json()},Da=l=>({id:l.id,name:l.name,email:l.email,phone:l.phone||"",role:l.role,created_at:l.created_at,updated_at:l.updated_at}),Ar=async l=>{const u=new URLSearchParams;l&&l!=="all"&&u.append("role",l);const i=u.toString()?`/users/?${u.toString()}`:"/users/";try{return(await $l(i)).map(Da)}catch(c){throw console.error("Error fetching users:",c),c}},Mg=async l=>{try{const u=await $l("/users/",{method:"POST",body:JSON.stringify(l)});return Da(u)}catch(u){throw console.error("Error creating user:",u),u}},Tg=async(l,u)=>{try{const i=await $l(`/users/${l}/`,{method:"PUT",body:JSON.stringify(u)});return Da(i)}catch(i){throw console.error(`Error updating user ${l}:`,i),i}},_g=async l=>{try{await $l(`/users/${l}/`,{method:"DELETE"})}catch(u){throw console.error(`Error deleting user ${l}:`,u),u}},Ml=({selectedDate:l,selectedTimeSlot:u,onClose:i,onSubmit:c,isDarkMode:f=!1,initialData:m,users:x=[],existingBookings:w=[],holidays:g=[],maxBookingsPerDay:k=2,showDurationField:E=!1})=>{const[B,C]=h.useState(""),[K,N]=h.useState(!1);h.useEffect(()=>{const X=sessionStorage.getItem("user");if(X)try{const ae=JSON.parse(X);ae.role==="technicien"&&ae.name&&C(ae.name),ae.role==="admin"&&N(!0)}catch(ae){console.error("Error parsing user data:",ae)}},[]);const[I,R]=h.useState({name:m?.name||"",phone:m?.phone||"",designer:m?.designer||"",duree:"1",message:m?.message||""}),[G,H]=h.useState({}),xe=X=>{const ae=X.getFullYear(),ke=String(X.getMonth()+1).padStart(2,"0"),Se=String(X.getDate()).padStart(2,"0");return`${ae}-${ke}-${Se}`},je=(X,ae)=>{const ke=new Date(X);return ke.setDate(ke.getDate()+ae),ke},{canFitDuration2:Be,canFitDuration3:Fe}=h.useMemo(()=>{if(!E)return{canFitDuration2:!0,canFitDuration3:!0};const X=M=>{const Z=xe(M);return w.filter(V=>V.date===Z).length},ae=M=>{const Z=xe(M);return g.some(V=>V.holiday_date===Z)},ke=M=>M.getDay()===0,Se=M=>ae(M)||ke(M),Qe=(M,Z=1)=>{let V=je(M,Z),S=0;const _=14;for(;Se(V)&&S<_;)V=je(V,1),S++;return V},Ye=()=>{if(X(l)>=k||Se(l))return!1;const Z=Qe(l,1);return!(Se(Z)||X(Z)>=k)},de=()=>{if(X(l)>=k||Se(l))return!1;const Z=Qe(l,1);if(Se(Z)||X(Z)>=k)return!1;const S=Qe(Z,1);return!(Se(S)||X(S)>=k)};return{canFitDuration2:Ye(),canFitDuration3:de()}},[l,w,g,k,E]);h.useEffect(()=>{B&&!m?.designer&&R(X=>X.designer.trim()?X:{...X,designer:B})},[B,m?.designer]),h.useEffect(()=>{m&&R({name:m.name||"",phone:m.phone||"",designer:m.designer||"",duree:"1",message:m.message||""})},[m]);const fe=X=>{const{name:ae,value:ke}=X.target;if(ae==="phone"){const Se=ke.replace(/\D/g,"");R(Qe=>({...Qe,[ae]:Se}))}else R(Se=>({...Se,[ae]:ke}));G[ae]&&H(Se=>({...Se,[ae]:""}))},q=()=>{const X={};return I.name.trim()||(X.name="Le nom est requis"),I.phone.trim()?/^\d+$/.test(I.phone)||(X.phone="Le numro de tlphone ne doit contenir que des chiffres"):X.phone="Le numro de tlphone est requis",I.designer.trim()||(X.designer="Le nom du concepteur est requis"),H(X),Object.keys(X).length===0},ye=X=>{if(X.preventDefault(),q()){const ae=l.getFullYear(),ke=String(l.getMonth()+1).padStart(2,"0"),Se=String(l.getDate()).padStart(2,"0"),Qe=`${ae}-${ke}-${Se}`,Ye={...I,date:Qe,selectedDate:l,timeSlot:u};console.log("[BookingModal] Submitting booking:",Ye),c(Ye)}},ie=X=>X.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return n.jsx("div",{className:"modal-overlay",onClick:i,children:n.jsxs("div",{className:`modal-content ${f?"dark-mode":"light-mode"}`,onClick:X=>X.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Rservez Votre Rendez-vous"}),n.jsx("button",{className:"close-button",onClick:i,"aria-label":"Fermer",children:""})]}),n.jsxs("div",{className:"selected-date",children:[n.jsx("strong",{children:"Date slectionne :"})," ",ie(l)]}),n.jsxs("form",{onSubmit:ye,className:"booking-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:I.name,onChange:fe,className:G.name?"error":"",placeholder:"Entrez le nom du client"}),G.name&&n.jsx("span",{className:"error-message",children:G.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Numro de tlphone *"}),n.jsx("input",{type:"text",id:"phone",name:"phone",value:I.phone,onChange:fe,className:G.phone?"error":"",placeholder:"Entrez le numro de tlphone",required:!0,inputMode:"numeric"}),G.phone&&n.jsx("span",{className:"error-message",children:G.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer",children:"Nom du concepteur *"}),K&&x.length>0?n.jsxs("select",{id:"designer",name:"designer",value:I.designer,onChange:fe,className:G.designer?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),x.filter(X=>X.role!=="admin").map(X=>n.jsxs("option",{value:X.name,children:[X.name," (Technicien)"]},X.id))]}):n.jsx("input",{type:"text",id:"designer",name:"designer",value:I.designer,onChange:fe,className:G.designer?"error":"",placeholder:"Entrez le nom du concepteur",readOnly:!!B,style:B?{backgroundColor:f?"#555":"#f5f5f5",cursor:"not-allowed",opacity:.8}:{}}),G.designer&&n.jsx("span",{className:"error-message",children:G.designer}),B&&!K&&n.jsx("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:" Automatiquement rempli avec votre nom (non modifiable)"})]}),E&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"duree",children:"Dure par jour *"}),n.jsxs("select",{id:"duree",name:"duree",value:I.duree,onChange:fe,children:[n.jsx("option",{value:"1",children:"1"}),n.jsxs("option",{value:"2",disabled:!Be,children:["2 ",!Be&&"(indisponible)"]}),n.jsxs("option",{value:"3",disabled:!Fe,children:["3 ",!Fe&&"(indisponible)"]})]}),(I.duree==="2"||I.duree==="3")&&n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[" Dure ",I.duree," crera ",I.duree," rservation(s) sur plusieurs jours"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message ou commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:I.message,onChange:fe,placeholder:"Toute information supplmentaire ou demande spciale",rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:i,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:"Rserver"})]})]})]})})},Ze=()=>n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%",display:"block"},children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#fa541c",strokeWidth:"2",fill:"none"}),n.jsx("path",{d:"M12 16V12",stroke:"#fa541c",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("circle",{cx:"12",cy:"8",r:"1",fill:"#fa541c"})]}),Pa=({onDateSelect:l,isDarkMode:u=!0,refreshTrigger:i,binId:c,view:f="monthly",showTimeSlots:m=!0,timeSlotType:x="numerical"})=>{const w=()=>{const d=localStorage.getItem(`calendar_currentDate_${c||"default"}`);if(d)try{const L=new Date(d);if(!isNaN(L.getTime()))return L}catch{}return new Date},[g,k]=h.useState(w()),[E,B]=h.useState(0);h.useEffect(()=>{g&&localStorage.setItem(`calendar_currentDate_${c||"default"}`,g.toISOString())},[g,c]);const[C,K]=h.useState({}),[N,I]=h.useState(!1),[R,G]=h.useState({}),[H,xe]=h.useState({}),[je,Be]=h.useState([]),[Fe,fe]=h.useState(!1),[q,ye]=h.useState(!1),[ie,X]=h.useState(!1),[ae,ke]=h.useState(""),[Se,Qe]=h.useState(""),[Ye,de]=h.useState({}),[M,Z]=h.useState(null),[V,S]=h.useState(!1),[_,me]=h.useState(null),[be,ee]=h.useState([]),[P,Pe]=h.useState(null),Te=h.useRef(null),Ve=h.useRef(null),ut=async()=>{try{const d=await Ar();ee(d)}catch(d){console.error("Error loading users:",d)}};h.useEffect(()=>{const d=sessionStorage.getItem("user");if(d){const L=JSON.parse(d);fe(L.role==="admin"),ye(L.role==="technicien"),X(L.role!=="admin"&&L.role!=="technicien"),ke(L.email||""),Qe(L.name||L.email||""),L.role==="admin"&&ut(),console.log("=== CALENDAR USER INFO ===",{role:L.role,email:L.email,name:L.name,isAdmin:L.role==="admin",isTechnicien:L.role==="technicien"})}else console.log("=== CALENDAR USER INFO === No user found in localStorage")},[]);const Xe=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],it=d=>d===0?6:d-1,kt=d=>{const L=d.getFullYear(),W=d.getMonth(),F=new Date(L,W+1,0).getDate(),y=new Date(L,W,1),O=it(y.getDay()),te=[];for(let se=0;se<O;se++)te.push(null);for(let se=1;se<=F;se++)te.push(new Date(L,W,se));return te},U=d=>{const L=d.getDay(),W=L===0?-6:1-L,F=new Date(d);F.setDate(d.getDate()+W),F.setHours(0,0,0,0);const y=[];for(let O=0;O<7;O++){const te=new Date(F);te.setDate(F.getDate()+O),y.push(te)}return y},ce=(d,L)=>{l(d,L)},Ke=d=>{k(L=>{const W=new Date(L);return W.setMonth(L.getMonth()+d),W})},zt=d=>{k(L=>{const W=new Date(L);return W.setDate(L.getDate()+d*7),W})},Oe=d=>{const L=new Date;return L.setHours(0,0,0,0),d<L},dt=d=>d.getDay()===0,rt=d=>{const L=d.getFullYear(),W=String(d.getMonth()+1).padStart(2,"0"),F=String(d.getDate()).padStart(2,"0"),y=`${L}-${W}-${F}`;return Ye[y]||!1},xt=d=>Oe(d)||dt(d)||rt(d),Rt=f==="monthly"?kt(g):[],vn=f==="weekly"?U(g):[];h.useEffect(()=>{const d=`holidays_${c}_${i}`;return Te.current===d?void 0:(Te.current=d,(async()=>{try{const W=await uo(c),F={};W.forEach(y=>{F[y.holiday_date]=!0}),de(F)}catch(W){console.error("Error loading holidays:",W),de({})}finally{Te.current===d&&(Te.current=null)}})(),()=>{Te.current===d&&(Te.current=null)})},[i,c]),h.useEffect(()=>{const d=`bookings_${c}_${i}_${E}`;return Ve.current===d?void 0:(Ve.current=d,(async()=>{try{const W=await Ir(c),F=new Date;F.setHours(0,0,0,0);const y={},O={},te={};W.forEach(se=>{const he=new Date(se.date+"T00:00:00");if(he.setHours(0,0,0,0),he>=F)if(Gt(c)){if(se.time&&se.time.trim()&&se.time!=="21h00"){const Ae=se.time.trim().toLowerCase(),pe=`${se.date}|${Ae}`;O[pe]=!0,te[pe]=se}}else y[se.date]=(y[se.date]||0)+1}),console.log(`[Calendar] Loaded ${W.length} bookings for calendar: ${c}`),console.log("[Calendar] All bookings:",W),console.log(`[Calendar] Booking counts for ${Object.keys(y).length} future dates:`,y),console.log("[Calendar] Booked time slots:",O),console.log("[Calendar] Today's date:",F.toISOString().split("T")[0]),y["2025-11-18"]?console.log(`[Calendar] DEBUG: Found ${y["2025-11-18"]} bookings for 2025-11-18`):console.log("[Calendar] DEBUG: No bookings found for 2025-11-18 in counts"),K(y),G(O),xe(te),Be(W),I(!0)}catch(W){if(console.error("Error loading booking counts:",W),c){const F=`booking_calendar_data_${c}`;localStorage.getItem(F)||(K({}),G({}))}else K({}),G({});I(!0)}finally{Ve.current===d&&(Ve.current=null)}})(),()=>{Ve.current===d&&(Ve.current=null)})},[i,c,E]);const Ft=d=>{const L=d.getFullYear(),W=String(d.getMonth()+1).padStart(2,"0"),F=String(d.getDate()).padStart(2,"0"),y=`${L}-${W}-${F}`,O=xt(d),te=Ra(c);if(!N&&!O)return{count:0,isFullyBooked:!1,isDisabled:!0,statusText:""};const se=Ye[y]||!1,he=C[y]||0,Ae=!O&&!se&&he>=te;return(y==="2025-11-18"||he>0||Ae||se)&&console.log(`[getBookingStatus] Date: ${y}, Count: ${he}, Max: ${te}, isFullyBooked: ${Ae}, isDisabled: ${O}, isHoliday: ${se}, binId: ${c}, bookingCounts keys:`,Object.keys(C)),{count:O||se?0:he,isFullyBooked:Ae,isDisabled:O||Ae||se,statusText:se?"Jour fri":O?"":Ae?`${te} sur ${te} rservs`:`${he} sur ${te} rservs`}},T=(d,L)=>{const W=new Date;W.setHours(0,0,0,0);const F=new Date(d);if(F.setHours(0,0,0,0),F<W)return!1;const y=d.getFullYear(),O=String(d.getMonth()+1).padStart(2,"0"),te=String(d.getDate()).padStart(2,"0"),se=`${y}-${O}-${te}`,he=L.trim().toLowerCase(),Ae=`${se}|${he}`,pe=R[Ae]||!1;return se==="2025-11-18"&&L&&console.log(`[isSlotBooked] Date: ${se}, TimeSlot: ${L}, Normalized: ${he}, Key: ${Ae}, IsBooked: ${pe}`),pe},Le=(d,L)=>{const W=d.getFullYear(),F=String(d.getMonth()+1).padStart(2,"0"),y=String(d.getDate()).padStart(2,"0"),O=`${W}-${F}-${y}`,te=L.trim().toLowerCase(),se=`${O}|${te}`;return H[se]||null},ft=(d,L)=>pt(d,L).map(F=>F.name),pt=(d,L)=>{const W=d.getFullYear(),F=String(d.getMonth()+1).padStart(2,"0"),y=String(d.getDate()).padStart(2,"0"),O=`${W}-${F}-${y}`,te=new Date;te.setHours(0,0,0,0);const se=new Date(d);if(se.setHours(0,0,0,0),se<te)return[];if(L){const he=Le(d,L);if(he){if(Fe)return[he];if(_t(he))return[he]}return[]}else{const he=[];return je.forEach(Ae=>{Ae.date===O&&he.push(Ae)}),he}},ve=(d,L)=>{if(c==="calendar2"||c==="calendar3")return!1;if(Fe)return L?T(d,L):Ft(d).count>0;if(q)if(L){const W=Le(d,L);return W?_t(W):!1}else{const W=d.getFullYear(),F=String(d.getMonth()+1).padStart(2,"0"),y=String(d.getDate()).padStart(2,"0"),O=`${W}-${F}-${y}`;return je.filter(he=>he.date===O).filter(he=>_t(he)).length>0}else return L?T(d,L)&&ft(d,L).length>0:Ft(d).count>0&&ft(d).length>0},J=(d,L,W)=>{d.stopPropagation();const F=pt(L,W);if(F.length>0){const y=d.currentTarget,O=y.closest(".calendar");if(O){const te=O.getBoundingClientRect(),se=y.getBoundingClientRect();me({x:se.right-te.left+8,y:se.top-te.top,names:F.map(he=>he.name),bookings:F,date:L,timeSlot:W})}}};h.useEffect(()=>{const d=()=>{me(null)};if(_){document.addEventListener("click",d);const L=setTimeout(()=>{me(null)},2e3);return()=>{document.removeEventListener("click",d),clearTimeout(L)}}},[_]),h.useEffect(()=>{const d=L=>{L.target.closest(".booking-select-popup")||Pe(null)};if(P)return document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}},[P]);const et=d=>{if(!q||!Se)return console.log("[isBookingByTechnicien] Not a technicien or no name:",{isTechnicien:q,userName:Se,userEmail:ae}),!1;const L=d.designer.toLowerCase().trim()===Se.toLowerCase().trim(),W=d.designer.toLowerCase().includes(Se.toLowerCase()),F=L||W;return console.log("[isBookingByTechnicien]",{bookingId:d.id,bookingDesigner:d.designer,bookingName:d.name,userName:Se,userEmail:ae,designerMatch:L,designerContains:W,matches:F}),F},_t=d=>q?!et(d):!1,bt=d=>{if(!ie||!ae&&!Se)return!1;const L=ae&&(d.name.toLowerCase().includes(ae.toLowerCase())||d.designer.toLowerCase().includes(ae.toLowerCase())||d.phone===ae),W=Se&&(d.name.toLowerCase()===Se.toLowerCase()||d.name.toLowerCase().includes(Se.toLowerCase()));return L||W||!1},_e=(d,L)=>{if(!q)return console.log("[getBookingForDateAndSlot] Not a technicien"),null;if(L){const W=Le(d,L),F=W&&et(W)?W:null;return console.log("[getBookingForDateAndSlot] Time slot booking:",{timeSlot:L,booking:W,result:F}),F}else{const W=d.getFullYear(),F=String(d.getMonth()+1).padStart(2,"0"),y=String(d.getDate()).padStart(2,"0"),O=`${W}-${F}-${y}`;console.log("[getBookingForDateAndSlot] Looking for Pose booking:",{dateString:O,allBookingsCount:je.length});const te=je.find(se=>{const he=se.date===O,Ae=et(se);return console.log("[getBookingForDateAndSlot] Checking booking:",{bookingDate:se.date,dateString:O,matchesDate:he,matchesTechnicien:Ae,booking:se}),he&&Ae});return console.log("[getBookingForDateAndSlot] Found booking:",te),te||null}},Ie=(d,L)=>{if(L){const W=Le(d,L);return W&&bt(W)?W:null}else{const W=d.getFullYear(),F=String(d.getMonth()+1).padStart(2,"0"),y=String(d.getDate()).padStart(2,"0"),O=`${W}-${F}-${y}`;return je.find(se=>se.date===O&&bt(se))||null}},Je=(d,L)=>{const W=Ie(d,L);W&&(Z(W),S(!0),me(null))},j=async(d,L)=>{const W=Ie(d,L);if(!W)return;const F=L?`tes-vous sr de vouloir supprimer votre rservation du ${new Date(W.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${L} ?`:`tes-vous sr de vouloir supprimer votre rservation du ${new Date(W.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(F))try{await Xo(W.id),alert(" Rservation supprime avec succs"),me(null),B(y=>y+1)}catch(y){console.error("Error deleting booking:",y),alert(" Erreur lors de la suppression de la rservation")}},Ne=d=>{const L=d.getFullYear(),W=String(d.getMonth()+1).padStart(2,"0"),F=String(d.getDate()).padStart(2,"0"),y=`${L}-${W}-${F}`;return je.filter(O=>O.date!==y?!1:q?et(O):ie?bt(O):!1)},Y=(d,L,W)=>{if(L){const y=_e(d,L);y&&(Z(y),S(!0));return}const F=Ne(d);if(F.length!==0)if(F.length===1)Z(F[0]),S(!0);else{const y=W?.currentTarget?.getBoundingClientRect();Pe({x:y?y.left+y.width/2:200,y:y?y.bottom+5:200,bookings:F,date:d,action:"edit"})}},ge=async(d,L,W)=>{if(L){const y=_e(d,L);if(!y)return;const O=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(y.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${L} ?`;if(!window.confirm(O))return;try{await Xo(y.id),alert("Rservation supprime avec succs"),B(te=>te+1)}catch(te){console.error("Error deleting booking:",te),alert("Erreur lors de la suppression de la rservation")}return}const F=Ne(d);if(F.length!==0)if(F.length===1){const y=F[0],O=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(y.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(!window.confirm(O))return;try{await Xo(y.id),alert("Rservation supprime avec succs"),B(te=>te+1)}catch(te){console.error("Error deleting booking:",te),alert("Erreur lors de la suppression de la rservation")}}else{const y=W?.currentTarget?.getBoundingClientRect();Pe({x:y?y.left+y.width/2:200,y:y?y.bottom+5:200,bookings:F,date:d,action:"delete"})}},Q=async d=>{if(P){if(P.action==="edit")Z(d),S(!0);else if(P.action==="delete"){const L=`tes-vous sr de vouloir supprimer la rservation de ${d.name} du ${new Date(d.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(L))try{await Xo(d.id),alert("Rservation supprime avec succs"),B(W=>W+1)}catch(W){console.error("Error deleting booking:",W),alert("Erreur lors de la suppression de la rservation")}}Pe(null)}},we=async d=>{if(M){if(ie&&!bt(M)){alert(" Vous ne pouvez modifier que vos propres rservations");return}if(q&&!et(M)){alert(" Vous ne pouvez modifier que vos propres rservations");return}try{const L={calendar_id:c,booking_date:d.date,booking_time:d.timeSlot||"21h00",client_name:d.name,client_phone:d.phone,designer_name:d.designer,message:d.message};await Xd(M.id,L),alert(" Rservation modifie avec succs"),S(!1),Z(null),B(W=>W+1)}catch(L){console.error("Error updating booking:",L);const W=L?.message||"Erreur lors de la modification de la rservation";alert(` ${W}`)}}},Ee=x!=="pose"&&x!=="sav"&&x!=="numerical",$e=()=>{const d=U(g)[0],L=U(g)[6];return d.getMonth()===L.getMonth()?`${d.getDate()} - ${L.getDate()} ${Xe[d.getMonth()]} ${d.getFullYear()}`:`${d.getDate()} ${Xe[d.getMonth()].slice(0,3)} - ${L.getDate()} ${Xe[L.getMonth()].slice(0,3)} ${L.getFullYear()}`};return n.jsxs("div",{className:`calendar ${u?"dark-mode":"light-mode"}`,style:{position:"relative"},children:[n.jsxs("div",{className:"calendar-header",children:[n.jsx("button",{className:"nav-button",onClick:()=>f==="weekly"?zt(-1):Ke(-1),"aria-label":f==="weekly"?"Previous week":"Previous month",children:""}),n.jsx("h2",{className:"month-year",children:f==="weekly"?$e():`${Xe[g.getMonth()].charAt(0).toUpperCase()+Xe[g.getMonth()].slice(1)} ${g.getFullYear()}`}),n.jsx("button",{className:"nav-button",onClick:()=>f==="weekly"?zt(1):Ke(1),"aria-label":f==="weekly"?"Next week":"Next month",children:""})]}),n.jsx("div",{className:"calendar-container",children:n.jsxs("div",{className:"calendar-grid",children:[n.jsx("div",{className:"day-headers-row",children:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"].map((d,L)=>n.jsx("div",{className:"day-header-cell",children:d},L))}),f==="weekly"?n.jsx("div",{className:"date-headers",children:vn.map((d,L)=>{const W=Ft(d),F=W.isFullyBooked,y=W.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${F?"fully-booked":""}`,children:[n.jsxs("div",{className:`date-number ${y?"past":""} ${F?"fully-booked-number":""}`,onClick:Ee?(()=>!y&&!F&&ce(d)):void 0,style:{cursor:Ee?y||F?"not-allowed":"pointer":"default"},children:[n.jsx("span",{children:d.getDate()}),!Gt(c)&&ve(d)&&n.jsx("button",{className:"calendar-info-button",onClick:O=>J(O,d),title:"Voir les rservations",children:n.jsx(Ze,{})})]}),m&&n.jsx(n.Fragment,{children:x==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Aprs-midi"})]}):x==="pose"?n.jsx(n.Fragment,{children:(()=>{const O=T(d,"8:00-11:00"),te=T(d,"11:00-14:00"),se=T(d,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||O?"disabled":""}`,onClick:()=>!y&&!O&&ce(d,"8:00-11:00"),style:{cursor:y||O?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),ve(d,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:he=>J(he,d,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(Ze,{})})]}),n.jsxs("div",{className:`time-slot ${y||te?"disabled":""}`,onClick:()=>!y&&!te&&ce(d,"11:00-14:00"),style:{cursor:y||te?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),ve(d,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:he=>J(he,d,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(Ze,{})})]}),n.jsxs("div",{className:`time-slot ${y||se?"disabled":""}`,onClick:()=>!y&&!se&&ce(d,"14:00-17:00"),style:{cursor:y||se?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),ve(d,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:he=>J(he,d,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(Ze,{})})]})]})})()}):x==="sav"?n.jsx(n.Fragment,{children:(()=>{const O=T(d,"8:00"),te=T(d,"9:30"),se=T(d,"11:00"),he=T(d,"12:30"),Ae=T(d,"14:00"),pe=T(d,"15:30"),at=T(d,"17:00"),ot=T(d,"18:30"),wt=(ne,Jt)=>{if(Jt&&(c==="calendar2"||c==="calendar3")){const Nt=Le(d,ne);if(Nt&&Nt.name)return`client: ${Nt.name}`}return ne};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||O?"disabled":""}`,onClick:()=>!y&&!O&&ce(d,"8:00"),style:{cursor:y||O?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:O&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:O&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("8:00",O)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"8:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||te?"disabled":""}`,onClick:()=>!y&&!te&&ce(d,"9:30"),style:{cursor:y||te?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:te&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:te&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("9:30",te)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"9:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||se?"disabled":""}`,onClick:()=>!y&&!se&&ce(d,"11:00"),style:{cursor:y||se?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:se&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:se&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("11:00",se)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"11:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||he?"disabled":""}`,onClick:()=>!y&&!he&&ce(d,"12:30"),style:{cursor:y||he?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:he&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:he&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("12:30",he)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"12:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||Ae?"disabled":""}`,onClick:()=>!y&&!Ae&&ce(d,"14:00"),style:{cursor:y||Ae?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:Ae&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:Ae&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("14:00",Ae)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"14:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||pe?"disabled":""}`,onClick:()=>!y&&!pe&&ce(d,"15:30"),style:{cursor:y||pe?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:pe&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:pe&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("15:30",pe)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"15:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||at?"disabled":""}`,onClick:()=>!y&&!at&&ce(d,"17:00"),style:{cursor:y||at?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:at&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:at&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("17:00",at)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"17:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ot?"disabled":""}`,onClick:()=>!y&&!ot&&ce(d,"18:30"),style:{cursor:y||ot?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ot&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ot&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("18:30",ot)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"18:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const O=T(d,"8-10"),te=T(d,"10-12"),se=T(d,"14-16"),he=T(d,"16-18"),Ae=(pe,at)=>{if(at&&(c==="calendar2"||c==="calendar3")){const ot=Le(d,pe);if(ot&&ot.name)return`client: ${ot.name}`}return pe};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||O?"disabled":""}`,onClick:()=>!y&&!O&&ce(d,"8-10"),style:{cursor:y||O?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:O&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:O&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("8-10",O)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"8-10")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"8-10"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"8-10")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"8-10")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"8-10")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||te?"disabled":""}`,onClick:()=>!y&&!te&&ce(d,"10-12"),style:{cursor:y||te?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:te&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:te&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("10-12",te)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"10-12")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"10-12"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"10-12")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"10-12")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"10-12")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||se?"disabled":""}`,onClick:()=>!y&&!se&&ce(d,"14-16"),style:{cursor:y||se?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:se&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:se&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("14-16",se)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"14-16")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"14-16"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"14-16")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"14-16")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"14-16")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||he?"disabled":""}`,onClick:()=>!y&&!he&&ce(d,"16-18"),style:{cursor:y||he?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:he&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:he&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("16-18",he)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"16-18")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"16-18"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"16-18")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"16-18")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},L)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"date-headers",children:Rt.slice(0,7).map((d,L)=>{if(d===null)return n.jsx("div",{className:"date-header empty"},L);const W=Ft(d),F=W.isFullyBooked,y=W.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${F?"fully-booked":""}`,children:[!Gt(c)&&ve(d)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:O=>J(O,d),title:"Voir les rservations",children:n.jsx(Ze,{})})}),q&&!Gt(c)&&_e(d)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:O=>{O.stopPropagation(),Y(d,void 0,O)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:O=>{O.stopPropagation(),ge(d,void 0,O)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${F?"fully-booked-number":""} ${Ee?"":"not-clickable"}`,onClick:Ee?(()=>!y&&!F&&ce(d)):void 0,style:{cursor:Ee?y||F?"not-allowed":"pointer":"default"},children:d.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},L)})}),n.jsx("div",{className:"date-headers",children:Rt.slice(7,14).map((d,L)=>{if(d===null)return n.jsx("div",{className:"date-header empty"},`second-${L}`);const W=Ft(d),F=W.isFullyBooked,y=W.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${F?"fully-booked":""}`,children:[!Gt(c)&&ve(d)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:O=>J(O,d),title:"Voir les rservations",children:n.jsx(Ze,{})})}),q&&!Gt(c)&&_e(d)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:O=>{O.stopPropagation(),Y(d)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:O=>{O.stopPropagation(),ge(d)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${F?"fully-booked-number":""}`,onClick:Ee?(()=>!y&&!F&&ce(d)):void 0,style:{cursor:Ee?y||F?"not-allowed":"pointer":"default"},children:d.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`second-${L}`)})}),n.jsx("div",{className:"date-headers",children:Rt.slice(14,21).map((d,L)=>{if(d===null)return n.jsx("div",{className:"date-header empty"},`third-${L}`);const W=Ft(d),F=W.isFullyBooked,y=W.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${F?"fully-booked":""}`,children:[!Gt(c)&&ve(d)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:O=>J(O,d),title:"Voir les rservations",children:n.jsx(Ze,{})})}),q&&!Gt(c)&&_e(d)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:O=>{O.stopPropagation(),Y(d)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:O=>{O.stopPropagation(),ge(d)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${F?"fully-booked-number":""}`,onClick:Ee?(()=>!y&&!F&&ce(d)):void 0,style:{cursor:Ee?y||F?"not-allowed":"pointer":"default"},children:d.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`third-${L}`)})}),n.jsx("div",{className:"date-headers",children:Rt.slice(21,28).map((d,L)=>{if(d===null)return n.jsx("div",{className:"date-header empty"},`fourth-${L}`);const W=Ft(d),F=W.isFullyBooked,y=W.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${F?"fully-booked":""}`,children:[!Gt(c)&&ve(d)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:O=>J(O,d),title:"Voir les rservations",children:n.jsx(Ze,{})})}),q&&!Gt(c)&&_e(d)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:O=>{O.stopPropagation(),Y(d)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:O=>{O.stopPropagation(),ge(d)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${F?"fully-booked-number":""}`,onClick:Ee?(()=>!y&&!F&&ce(d)):void 0,style:{cursor:Ee?y||F?"not-allowed":"pointer":"default"},children:d.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`fourth-${L}`)})}),Rt.length>28&&n.jsx("div",{className:"date-headers",children:Rt.slice(28).map((d,L)=>{if(d===null)return n.jsx("div",{className:"date-header empty"},`fifth-${L}`);const W=Ft(d),F=W.isFullyBooked,y=W.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${F?"fully-booked":""}`,children:[n.jsxs("div",{className:`date-number ${y?"past":""} ${F?"fully-booked-number":""}`,onClick:Ee?(()=>!y&&!F&&ce(d)):void 0,style:{cursor:Ee?y||F?"not-allowed":"pointer":"default"},children:[n.jsx("span",{children:d.getDate()}),!Gt(c)&&ve(d)&&n.jsx("button",{className:"calendar-info-button",onClick:O=>J(O,d),title:"Voir les rservations",children:n.jsx(Ze,{})})]}),m&&n.jsx(n.Fragment,{children:x==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!F&&ce(d),style:{cursor:y||F?"not-allowed":"pointer"},children:"Aprs-midi"})]}):x==="pose"?n.jsx(n.Fragment,{children:(()=>{const O=T(d,"8:00-11:00"),te=T(d,"11:00-14:00"),se=T(d,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||O?"disabled":""}`,onClick:()=>!y&&!O&&ce(d,"8:00-11:00"),style:{cursor:y||O?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),ve(d,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:he=>J(he,d,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(Ze,{})})]}),n.jsxs("div",{className:`time-slot ${y||te?"disabled":""}`,onClick:()=>!y&&!te&&ce(d,"11:00-14:00"),style:{cursor:y||te?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),ve(d,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:he=>J(he,d,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(Ze,{})})]}),n.jsxs("div",{className:`time-slot ${y||se?"disabled":""}`,onClick:()=>!y&&!se&&ce(d,"14:00-17:00"),style:{cursor:y||se?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),ve(d,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:he=>J(he,d,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(Ze,{})})]})]})})()}):x==="sav"?n.jsx(n.Fragment,{children:(()=>{const O=T(d,"8:00"),te=T(d,"9:30"),se=T(d,"11:00"),he=T(d,"12:30"),Ae=T(d,"14:00"),pe=T(d,"15:30"),at=T(d,"17:00"),ot=T(d,"18:30"),wt=(ne,Jt)=>{if(Jt&&(c==="calendar2"||c==="calendar3")){const Nt=Le(d,ne);if(Nt&&Nt.name)return`client: ${Nt.name}`}return ne};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||O?"disabled":""}`,onClick:()=>!y&&!O&&ce(d,"8:00"),style:{cursor:y||O?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:O&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:O&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("8:00",O)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"8:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||te?"disabled":""}`,onClick:()=>!y&&!te&&ce(d,"9:30"),style:{cursor:y||te?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:te&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:te&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("9:30",te)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"9:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||se?"disabled":""}`,onClick:()=>!y&&!se&&ce(d,"11:00"),style:{cursor:y||se?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:se&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:se&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("11:00",se)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"11:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||he?"disabled":""}`,onClick:()=>!y&&!he&&ce(d,"12:30"),style:{cursor:y||he?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:he&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:he&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("12:30",he)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"12:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||Ae?"disabled":""}`,onClick:()=>!y&&!Ae&&ce(d,"14:00"),style:{cursor:y||Ae?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:Ae&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:Ae&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("14:00",Ae)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"14:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||pe?"disabled":""}`,onClick:()=>!y&&!pe&&ce(d,"15:30"),style:{cursor:y||pe?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:pe&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:pe&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("15:30",pe)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"15:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||at?"disabled":""}`,onClick:()=>!y&&!at&&ce(d,"17:00"),style:{cursor:y||at?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:at&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:at&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("17:00",at)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"17:00"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ot?"disabled":""}`,onClick:()=>!y&&!ot&&ce(d,"18:30"),style:{cursor:y||ot?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ot&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ot&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("18:30",ot)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:ne=>J(ne,d,"18:30"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ne=>{ne.stopPropagation(),Y(d,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ne=>{ne.stopPropagation(),ge(d,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const O=T(d,"8-10"),te=T(d,"10-12"),se=T(d,"14-16"),he=T(d,"16-18"),Ae=(pe,at)=>{if(at&&(c==="calendar2"||c==="calendar3")){const ot=Le(d,pe);if(ot&&ot.name)return`client: ${ot.name}`}return pe};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||O?"disabled":""}`,onClick:()=>!y&&!O&&ce(d,"8-10"),style:{cursor:y||O?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:O&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:O&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("8-10",O)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"8-10")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"8-10"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"8-10")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"8-10")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"8-10")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||te?"disabled":""}`,onClick:()=>!y&&!te&&ce(d,"10-12"),style:{cursor:y||te?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:te&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:te&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("10-12",te)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"10-12")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"10-12"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"10-12")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"10-12")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"10-12")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||se?"disabled":""}`,onClick:()=>!y&&!se&&ce(d,"14-16"),style:{cursor:y||se?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:se&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:se&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("14-16",se)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"14-16")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"14-16"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"14-16")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"14-16")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"14-16")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||he?"disabled":""}`,onClick:()=>!y&&!he&&ce(d,"16-18"),style:{cursor:y||he?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:he&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:he&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:Ae("16-18",he)}),n.jsxs("div",{className:"time-slot-actions",children:[ve(d,"16-18")&&n.jsx("button",{className:"calendar-info-button",onClick:pe=>J(pe,d,"16-18"),title:"Voir les rservations",children:n.jsx(Ze,{})}),q&&_e(d,"16-18")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:pe=>{pe.stopPropagation(),Y(d,"16-18")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:pe=>{pe.stopPropagation(),ge(d,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},`fifth-${L}`)})})]})]})}),_&&n.jsx("div",{className:"calendar-info-popup",style:{position:"absolute",left:`${_.x}px`,top:`${_.y}px`,zIndex:1e3},onClick:d=>d.stopPropagation(),children:n.jsxs("div",{className:"calendar-info-popup-content",children:[n.jsx("button",{className:"calendar-info-popup-close",onClick:()=>me(null),"aria-label":"Fermer",children:""}),n.jsx("div",{className:"calendar-info-popup-title",children:"Rserve pour:"}),n.jsx("div",{className:"calendar-info-popup-names",children:_.bookings&&_.bookings.length>0?_.bookings.map((d,L)=>n.jsx("div",{children:d.name},L)):_.names.map((d,L)=>n.jsx("div",{children:d},L))}),ie&&_&&Ie(_.date,_.timeSlot)&&n.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${u?"#333333":"#e5e7eb"}`,display:"flex",gap:"8px",justifyContent:"flex-end"},children:[n.jsxs("button",{onClick:d=>{d.stopPropagation(),Je(_.date,_.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#fa541c",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(250, 84, 28, 0.3)"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="#ff6b35",d.currentTarget.style.transform="translateY(-1px)",d.currentTarget.style.boxShadow="0 4px 8px rgba(250, 84, 28, 0.4)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="#fa541c",d.currentTarget.style.transform="translateY(0)",d.currentTarget.style.boxShadow="0 2px 4px rgba(250, 84, 28, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Modifier"})]}),n.jsxs("button",{onClick:d=>{d.stopPropagation(),j(_.date,_.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:u?"#dc2626":"#ef4444",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor=u?"#b91c1c":"#dc2626",d.currentTarget.style.transform="translateY(-1px)",d.currentTarget.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.4)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor=u?"#dc2626":"#ef4444",d.currentTarget.style.transform="translateY(0)",d.currentTarget.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Supprimer"})]})]})]})}),P&&n.jsxs("div",{className:"booking-select-popup",style:{position:"fixed",left:Math.min(P.x,window.innerWidth-280),top:P.y,zIndex:1e4,backgroundColor:u?"#1a1a1a":"#ffffff",border:`1px solid ${u?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",padding:"12px",minWidth:"250px",maxWidth:"350px"},onClick:d=>d.stopPropagation(),children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:u?"#ffffff":"#111827",marginBottom:"12px",paddingBottom:"8px",borderBottom:`1px solid ${u?"#333333":"#e5e7eb"}`},children:P.action==="edit"?" Slectionner une rservation  modifier":" Slectionner une rservation  supprimer"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"300px",overflowY:"auto"},children:P.bookings.sort((d,L)=>d.name.localeCompare(L.name)).map((d,L)=>n.jsxs("button",{onClick:()=>Q(d),style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",padding:"10px 12px",borderRadius:"8px",border:`1px solid ${u?"#333333":"#e5e7eb"}`,backgroundColor:u?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left"},onMouseEnter:W=>{W.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f0f0f0",W.currentTarget.style.borderColor="#fa541c"},onMouseLeave:W=>{W.currentTarget.style.backgroundColor=u?"#0a0a0a":"#f9fafb",W.currentTarget.style.borderColor=u?"#333333":"#e5e7eb"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:600,color:u?"#ffffff":"#111827"},children:[" ",d.name]}),n.jsxs("div",{style:{fontSize:"12px",color:u?"#9ca3af":"#6b7280"},children:[" ",d.phone]}),n.jsxs("div",{style:{fontSize:"11px",color:u?"#6b7280":"#9ca3af"},children:[" Concepteur: ",d.designer]})]},d.id||L))}),n.jsx("button",{onClick:()=>Pe(null),style:{marginTop:"12px",padding:"8px 16px",borderRadius:"6px",border:`1px solid ${u?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:u?"#9ca3af":"#6b7280",cursor:"pointer",fontSize:"13px",width:"100%",transition:"all 0.2s"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f0f0f0"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="transparent"},children:"Annuler"})]}),V&&M&&n.jsx(Ml,{selectedDate:new Date(M.date+"T00:00:00"),selectedTimeSlot:M.time&&M.time!=="21h00"?M.time:void 0,onClose:()=>{S(!1),Z(null)},onSubmit:we,isDarkMode:u,initialData:{name:M.name,phone:M.phone,designer:M.designer,message:M.message},users:Fe?be:[]})]})};function Zd({disableAnimations:l=!1,isAdminView:u=!1}){const i=yn(),[c,f]=h.useState(null),[m,x]=h.useState(void 0),[w,g]=h.useState(!1),[k,E]=h.useState(0),[B,C]=h.useState(null),[K,N]=h.useState(null),[I,R]=h.useState(()=>{const X=localStorage.getItem("darkMode");return X?JSON.parse(X):!0}),[G,H]=h.useState(!1),[xe,je]=h.useState([]),Be=_a("calendar3");h.useEffect(()=>{const X=sessionStorage.getItem("user");X&&JSON.parse(X).role==="admin"&&(H(!0),Fe())},[]);const Fe=async()=>{try{const X=await Ar();je(X)}catch(X){console.error("Error loading users:",X)}};h.useEffect(()=>{E(X=>X+1)},[Be]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(I)),document.documentElement.setAttribute("data-theme",I?"dark":"light")},[I]),h.useEffect(()=>{const X=ae=>{const ke=ae.detail.isDarkMode;ke!==I&&R(ke)};return window.addEventListener("darkModeChanged",X),()=>{window.removeEventListener("darkModeChanged",X)}},[I]),h.useEffect(()=>{if(K){const X=setTimeout(()=>{N(null)},3e3);return()=>clearTimeout(X)}},[K]);const fe=()=>{R(!I)},q=(X,ae)=>{f(X),x(ae),g(!0)},ye=()=>{g(!1),f(null),x(void 0)},ie=async X=>{console.log("Booking submitted:",X);try{N("Traitement de votre rservation..."),await es(X,Be),await new Promise(ae=>setTimeout(ae,500)),N(null),C(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{E(ae=>ae+1)},300)}catch(ae){console.error("Booking submission error:",ae),N(null),ae instanceof Error&&ae.message?alert(` ${ae.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}ye()};return n.jsxs("div",{className:`App ${I?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(El,{isDarkMode:I}),!u&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${u?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[u?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Metr"}),n.jsx("p",{children:"Gestion des rservations Metr"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Metr"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!u&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:fe,"aria-label":"Toggle dark mode",title:I?"Switch to light mode":"Switch to dark mode",children:I?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Pa,{onDateSelect:q,isDarkMode:I,refreshTrigger:k,binId:Be,view:"weekly",timeSlotType:"numerical"})}),w&&c&&n.jsx(Ml,{selectedDate:c,selectedTimeSlot:m,onClose:ye,onSubmit:ie,isDarkMode:I,users:G?xe:[]}),B&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:B}),n.jsx("button",{className:"notification-toast-button",onClick:()=>C(null),children:"j'ai compris"})]}),K&&n.jsx("div",{className:"notification-toast",children:K})]})}function ef({disableAnimations:l=!1,isAdminView:u=!1}){const i=yn(),[c,f]=h.useState(null),[m,x]=h.useState(!1),[w,g]=h.useState(0),[k,E]=h.useState(null),[B,C]=h.useState(null),[K,N]=h.useState(()=>{const de=localStorage.getItem("darkMode");return de?JSON.parse(de):!0}),[I,R]=h.useState(!1),[G,H]=h.useState([]),[xe,je]=h.useState([]),[Be,Fe]=h.useState([]),fe=_a("calendar1");h.useEffect(()=>{const de=sessionStorage.getItem("user");de&&JSON.parse(de).role==="admin"&&(R(!0),q())},[]);const q=async()=>{try{const de=await Ar();H(de)}catch(de){console.error("Error loading users:",de)}};h.useEffect(()=>{g(de=>de+1)},[fe]);const ye=async()=>{try{const[de,M]=await Promise.all([Ir(fe),uo(fe)]);je(de),Fe(M)}catch(de){console.error("Error loading bookings/holidays:",de)}};h.useEffect(()=>{ye()},[fe,w]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(K)),document.documentElement.setAttribute("data-theme",K?"dark":"light")},[K]),h.useEffect(()=>{const de=M=>{const Z=M.detail.isDarkMode;Z!==K&&N(Z)};return window.addEventListener("darkModeChanged",de),()=>{window.removeEventListener("darkModeChanged",de)}},[K]),h.useEffect(()=>{if(B){const de=setTimeout(()=>{C(null)},3e3);return()=>clearTimeout(de)}},[B]);const ie=()=>{N(!K)},X=de=>{f(de),x(!0)},ae=()=>{x(!1),f(null)},ke=(de,M)=>{const Z=new Date(de);return Z.setDate(Z.getDate()+M),Z},Se=de=>{const M=de.getFullYear(),Z=String(de.getMonth()+1).padStart(2,"0"),V=String(de.getDate()).padStart(2,"0");return`${M}-${Z}-${V}`},Qe=(de,M)=>{const Z=[],V=be=>{const ee=Se(be);return Be.some(P=>P.holiday_date===ee)},S=be=>be.getDay()===0,_=be=>V(be)||S(be),me=(be,ee=1)=>{let P=ke(be,ee),Pe=0;const Te=14;for(;_(P)&&Pe<Te;)P=ke(P,1),Pe++;return P};if(M===1)Z.push(Se(de));else if(M===2){Z.push(Se(de));const be=me(de,1);Z.push(Se(be))}else if(M===3){Z.push(Se(de));const be=me(de,1);Z.push(Se(be));const ee=me(be,1);Z.push(Se(ee))}return Z},Ye=async de=>{console.log("Booking submitted:",de);try{C("Traitement de votre rservation...");const M=parseInt(de.duree||"1")||1;if(M===1)await es(de,fe);else{const V=Qe(de.selectedDate,M);console.log(`[Calendar1Page] Creating ${V.length} bookings for duration ${M}:`,V);for(const S of V){const _={...de,date:S};await es(_,fe),await new Promise(me=>setTimeout(me,100))}}await new Promise(V=>setTimeout(V,500)),C(null);const Z=M>1?` (${M} rservations cres)`:"";E(` Rservation confirme${Z}.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart`),setTimeout(()=>{g(V=>V+1)},300)}catch(M){console.error("Booking submission error:",M),C(null),M instanceof Error&&M.message?alert(` ${M.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}ae()};return n.jsxs("div",{className:`App ${K?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(El,{isDarkMode:K}),!u&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${u?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[u?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Pose"}),n.jsx("p",{children:"Gestion des rservations Pose"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Pose"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!u&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:ie,"aria-label":"Toggle dark mode",title:K?"Switch to light mode":"Switch to dark mode",children:K?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Pa,{onDateSelect:X,isDarkMode:K,refreshTrigger:w,binId:fe,view:"monthly",showTimeSlots:!1,timeSlotType:"basic"})}),m&&c&&n.jsx(Ml,{selectedDate:c,onClose:ae,onSubmit:Ye,isDarkMode:K,users:I?G:[],existingBookings:xe.map(de=>({date:de.date})),holidays:Be.map(de=>({holiday_date:de.holiday_date})),maxBookingsPerDay:2,showDurationField:!0}),k&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:k}),n.jsx("button",{className:"notification-toast-button",onClick:()=>E(null),children:"j'ai compris"})]}),B&&n.jsx("div",{className:"notification-toast",children:B})]})}function tf({disableAnimations:l=!1,isAdminView:u=!1}){const i=yn(),[c,f]=h.useState(null),[m,x]=h.useState(void 0),[w,g]=h.useState(!1),[k,E]=h.useState(0),[B,C]=h.useState(null),[K,N]=h.useState(null),[I,R]=h.useState(()=>{const X=localStorage.getItem("darkMode");return X?JSON.parse(X):!0}),[G,H]=h.useState(!1),[xe,je]=h.useState([]),Be=_a("calendar2");h.useEffect(()=>{const X=sessionStorage.getItem("user");X&&JSON.parse(X).role==="admin"&&(H(!0),Fe())},[]);const Fe=async()=>{try{const X=await Ar();je(X)}catch(X){console.error("Error loading users:",X)}};h.useEffect(()=>{E(X=>X+1)},[Be]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(I)),document.documentElement.setAttribute("data-theme",I?"dark":"light")},[I]),h.useEffect(()=>{const X=ae=>{const ke=ae.detail.isDarkMode;ke!==I&&R(ke)};return window.addEventListener("darkModeChanged",X),()=>{window.removeEventListener("darkModeChanged",X)}},[I]),h.useEffect(()=>{if(K){const X=setTimeout(()=>{N(null)},3e3);return()=>clearTimeout(X)}},[K]);const fe=()=>{R(!I)},q=(X,ae)=>{f(X),x(ae),g(!0)},ye=()=>{g(!1),f(null),x(void 0)},ie=async X=>{console.log("Booking submitted:",X);try{N("Traitement de votre rservation..."),await es(X,Be),await new Promise(ae=>setTimeout(ae,500)),N(null),C(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{E(ae=>ae+1)},300)}catch(ae){console.error("Booking submission error:",ae),N(null),ae instanceof Error&&ae.message?alert(` ${ae.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}ye()};return n.jsxs("div",{className:`App ${I?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(El,{isDarkMode:I}),!u&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${u?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[u?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - SAV"}),n.jsx("p",{children:"Gestion des rservations SAV"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de SAV"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!u&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:fe,"aria-label":"Toggle dark mode",title:I?"Switch to light mode":"Switch to dark mode",children:I?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Pa,{onDateSelect:q,isDarkMode:I,refreshTrigger:k,binId:Be,view:"weekly",timeSlotType:"sav"})}),w&&c&&n.jsx(Ml,{selectedDate:c,selectedTimeSlot:m,onClose:ye,onSubmit:ie,isDarkMode:I,users:G?xe:[]}),B&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:B}),n.jsx("button",{className:"notification-toast-button",onClick:()=>C(null),children:"j'ai compris"})]}),K&&n.jsx("div",{className:"notification-toast",children:K})]})}const za=async()=>{const l=[],u=Date.now(),i=u-1440*60*1e3,c=u-10080*60*1e3;try{const m=Object.values(Ge).map(w=>Ir(w).then(g=>({calendarId:w,bookings:g})));(await Promise.all(m)).forEach(({calendarId:w,bookings:g})=>{g.forEach(k=>{if(k.timestamp>i){const E=En(w);l.push({id:`booking-${k.id}`,type:"booking",title:"Nouvelle rservation",message:`${k.name} - ${E}`,timestamp:k.timestamp,data:{...k,calendarId:w}})}})})}catch(f){console.error("Error loading booking notifications:",f)}try{const m=Object.values(Ge).map(w=>uo(w).then(g=>({calendarId:w,holidays:g})));(await Promise.all(m)).forEach(({calendarId:w,holidays:g})=>{g.forEach(k=>{const E=new Date(k.created_at).getTime();if(E>c){const B=En(w);l.push({id:`holiday-${k.id}`,type:"holiday",title:"Nouveau jour fri",message:`${B} - ${k.holiday_date}`,timestamp:E,data:{...k,calendarId:w}})}})})}catch(f){console.error("Error loading holiday notifications:",f)}return l.sort((f,m)=>m.timestamp-f.timestamp),l},Lg=l=>{const i=Date.now()-10080*60*1e3,c=[];return l.forEach(f=>{const m=new Date(f.createdAt).getTime();m>i&&c.push({id:`user-${f.id}`,type:"user",title:"Nouvel utilisateur",message:`${f.name} (${f.role})`,timestamp:m,data:f})}),c.sort((f,m)=>m.timestamp-f.timestamp)},Ia=l=>{const i=Date.now()-l,c=Math.floor(i/6e4),f=Math.floor(i/36e5),m=Math.floor(i/864e5);return c<1?" l'instant":c<60?`Il y a ${c} min`:f<24?`Il y a ${f} h`:m<7?`Il y a ${m} j`:new Date(l).toLocaleDateString("fr-FR")};function us(){const l=yn(),u=un(),[i,c]=h.useState(()=>{const j=localStorage.getItem("darkMode");return j?JSON.parse(j):!0}),[f,m]=h.useState(!0),[x,w]=h.useState(!1),[g,k]=h.useState(!1),[E,B]=h.useState(!1),[C,K]=h.useState(!1),[N,I]=h.useState([]),[R,G]=h.useState(!0),[H,xe]=h.useState([]),[je,Be]=h.useState(!0),[Fe,fe]=h.useState(!0),[q,ye]=h.useState(0),[ie,X]=h.useState(0),[ae,ke]=h.useState(0),[Se,Qe]=h.useState(0),[Ye,de]=h.useState(0),[M,Z]=h.useState([]),[V,S]=h.useState([]),[_,me]=h.useState(0),[be,ee]=h.useState(0),[P,Pe]=h.useState(0),[Te,Ve]=h.useState(0),[ut,Xe]=h.useState(null),[it,kt]=h.useState(!1),[U,ce]=h.useState(0),[Ke,zt]=h.useState([]),[Oe,dt]=h.useState("month"),[rt,xt]=h.useState(0),[Rt,vn]=h.useState(0);h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light");const j=sessionStorage.getItem("user");if(j){const Ne=JSON.parse(j);B(Ne.role==="admin")}},[i]),h.useEffect(()=>{const j=setTimeout(()=>{setTimeout(()=>K(!0),300)},300);return()=>clearTimeout(j)},[]),h.useEffect(()=>{const j=()=>{k(window.innerWidth<=768),window.innerWidth>768&&w(!1)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),h.useEffect(()=>{w(!1)},[u.pathname]),h.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[x]),h.useEffect(()=>{(async()=>{try{G(!0),Be(!0);const Y=["calendar1","calendar2","calendar3"].map(async Et=>{try{return(await Ir(Et)).map(ds=>({...ds,calendarId:Et}))}catch(yt){return console.warn(`Failed to fetch bookings for ${Et}:`,yt),[]}}),ge=await Promise.all(Y),Q=ge.flat(),we=ge[0]?.length||0,Ee=ge[1]?.length||0,$e=ge[2]?.length||0;ye(Q.length),Qe(we),ke(Ee),de($e);const d=new Date,L=d.getMonth(),W=d.getFullYear(),F=new Date(W,L+1,0).getDate(),y=ge[0]?.filter(Et=>{const yt=new Date(Et.date);return yt.getMonth()===L&&yt.getFullYear()===W})||[],O=ge[1]?.filter(Et=>{const yt=new Date(Et.date);return yt.getMonth()===L&&yt.getFullYear()===W})||[],te=ge[2]?.filter(Et=>{const yt=new Date(Et.date);return yt.getMonth()===L&&yt.getFullYear()===W})||[],se=F*2,he=F*1,Ae=F*1,pe=F*4,at=se>0?Math.round(y.length/se*100):0,ot=he>0?Math.round(te.length/he*100):0,wt=Ae>0?Math.round(O.length/Ae*100):0,ne=y.length+te.length+O.length,Jt=pe>0?Math.round(ne/pe*100):0;ee(at),Pe(ot),Ve(wt),me(Jt),S(Q);const Nt=Q.sort((Et,yt)=>yt.timestamp-Et.timestamp).slice(0,5);I(Nt);const Br=Q.filter(Et=>Et.calendarId==="calendar2"),nr={};Br.forEach(Et=>{const yt=Et.name;yt&&(nr[yt]=(nr[yt]||0)+1)});const go=Object.entries(nr).map(([Et,yt])=>({name:Et,count:yt})).sort((Et,yt)=>yt.count-Et.count).slice(0,10);xe(go)}catch(Ne){console.error("Error loading bookings data:",Ne),xe([])}finally{G(!1),Be(!1)}})()},[]),h.useEffect(()=>{if(V.length===0){Z([]);return}const j=["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Aot","Sep","Oct","Nov","Dc"],Ne=[],Y=new Date,ge=new Date(Y.getFullYear(),Y.getMonth()+rt,1),Q=ge.getMonth(),we=ge.getFullYear(),Ee=new Date(we,Q+1,0).getDate();if(Oe==="month"){let $e=0,d=0,L=0;for(let W=1;W<=Ee;W++){const F=V.filter(he=>{const Ae=he.date.split("-");if(Ae.length===3){const pe=parseInt(Ae[0],10),at=parseInt(Ae[1],10)-1,ot=parseInt(Ae[2],10);return at===Q&&pe===we&&ot===W}return!1}),y=F.filter(he=>he.calendarId==="calendar3").length,O=F.filter(he=>he.calendarId==="calendar1").length,te=F.filter(he=>he.calendarId==="calendar2").length;$e+=y,d+=O,L+=te;const se=W===1||W===Ee?`${W} ${j[Q]}`:"";Ne.push({month:se,Metr:y,Pose:O,SAV:te,day:W,cumulMetr:$e,cumulPose:d,cumulSAV:L})}}else{const $e=new Date,d=new Date($e),L=$e.getDay(),W=L===0?-6:1-L;d.setDate($e.getDate()+W+Rt*7),d.setHours(0,0,0,0);let F=0,y=0,O=0;for(let te=0;te<7;te++){const se=new Date(d);se.setDate(d.getDate()+te);const he=V.filter(Jt=>{const Nt=Jt.date.split("-");if(Nt.length===3){const Br=parseInt(Nt[0],10),nr=parseInt(Nt[1],10)-1,go=parseInt(Nt[2],10);return nr===se.getMonth()&&Br===se.getFullYear()&&go===se.getDate()}return!1}),Ae=he.filter(Jt=>Jt.calendarId==="calendar3").length,pe=he.filter(Jt=>Jt.calendarId==="calendar1").length,at=he.filter(Jt=>Jt.calendarId==="calendar2").length;F+=Ae,y+=pe,O+=at;const ot=se.getDate(),wt=j[se.getMonth()],ne=`${ot} ${wt}`;Ne.push({month:ne,Metr:Ae,Pose:pe,SAV:at,day:ot,cumulMetr:F,cumulPose:y,cumulSAV:O})}}Z(Ne)},[V,Oe,rt,Rt]),h.useEffect(()=>{(async()=>{try{const Ne=await Ar();X(Ne.length)}catch(Ne){console.error("Error loading users count:",Ne),X(0)}})()},[]);const Ft=async()=>{try{const j=await za();zt(j),ce(j.length)}catch(j){console.error("Error loading notifications:",j)}};h.useEffect(()=>{Ft();const j=setInterval(Ft,6e4),Ne=()=>Ft();return window.addEventListener("notificationRefresh",Ne),()=>{clearInterval(j),window.removeEventListener("notificationRefresh",Ne)}},[]),h.useEffect(()=>{const j=Ne=>{const Y=Ne.target;it&&!Y.closest("[data-notifications-dropdown]")&&kt(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[it]);const T=M.length>0?Math.max(...M.flatMap(j=>[j.Metr,j.Pose,j.SAV]),1):5,Le=Math.max(5,Math.ceil(T/5)*5),ft=j=>{const Y=Date.now()-j,ge=Math.floor(Y/6e4),Q=Math.floor(Y/36e5),we=Math.floor(Y/864e5);return ge<1?" l'instant":ge<60?`Il y a ${ge} min`:Q<24?`Il y a ${Q} h`:we<7?`Il y a ${we} j`:new Date(j).toLocaleDateString("fr-FR")},pt=()=>{const j=!i;c(j),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{isDarkMode:j}}))},ve=()=>{sessionStorage.removeItem("user"),l("/")},[J,et]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const j=()=>{const Y=localStorage.getItem("accentColor");Y&&(et(Y),document.documentElement.style.setProperty("--accent-color",Y))};window.addEventListener("settingsUpdated",j),window.addEventListener("storage",j);const Ne=localStorage.getItem("accentColor");return Ne&&(et(Ne),document.documentElement.style.setProperty("--accent-color",Ne)),()=>{window.removeEventListener("settingsUpdated",j),window.removeEventListener("storage",j)}},[]);const _t=i?"#000000":"#f5f5f5",bt=i?"#1a1a1a":"#ffffff",_e=i?"#ffffff":"#111827",Ie=i?"#9ca3af":"#6b7280",Je=i?"#333333":"#e5e7eb";return n.jsxs("div",{className:"dashboard-container",style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:_t},children:[x&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>w(!1),style:{display:g?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),g&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${Je}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>w(!x),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:_e,zIndex:1001,position:"relative"},"aria-label":x?"Fermer le menu":"Ouvrir le menu",children:x?n.jsx(cs,{size:24}):n.jsx(is,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${J} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:_e},children:"Tableau de Bord"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>kt(!it),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:"transparent",border:"none",color:Ie,cursor:"pointer"},children:[n.jsx(zr,{style:{width:"20px",height:"20px"}}),U>0&&n.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",minWidth:"16px",height:"16px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:600,color:"#ffffff"},children:U>99?"99+":U})]}),n.jsx("button",{onClick:pt,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:Ie,cursor:"pointer"},children:i?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})]})]}),n.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
      `}),n.jsxs("nav",{className:`dashboard-sidebar ${x?"mobile-open":""}`,style:{position:g?"fixed":"sticky",top:g?"60px":0,left:0,height:g?"calc(100vh - 60px)":"100vh",width:g?"280px":f?"256px":"64px",borderRight:`1px solid ${Je}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:g?x?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${Je}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${J} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),f&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:_e},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:Ie},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(zn,{Icon:ls,title:"Accueil",isActive:u.pathname==="/"||u.pathname==="/dashboard",open:f,onClick:()=>l("/dashboard"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie}),E&&n.jsx(zn,{Icon:ss,title:"Rservation",isActive:u.pathname==="/rservation",open:f,onClick:()=>l("/rservation"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie}),E&&n.jsx(zn,{Icon:ao,title:"Gestion des jours-fris",isActive:u.pathname==="/jours-feries",open:f,onClick:()=>l("/jours-feries"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie}),E&&n.jsx(zn,{Icon:co,title:"Utilisateurs",isActive:u.pathname==="/utilisateurs",open:f,onClick:()=>l("/utilisateurs"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie}),n.jsxs("button",{onClick:()=>fe(!Fe),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:Ie,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=_e},onMouseLeave:j=>{j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=Ie},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),f&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),Fe?n.jsx(as,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(rs,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),E&&Fe&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(zn,{Icon:nt,title:"Metr",isActive:u.pathname==="/metre",open:f,onClick:()=>l("/metre"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie}),n.jsx(zn,{Icon:nt,title:"Pose",isActive:u.pathname==="/pose",open:f,onClick:()=>l("/pose"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie}),n.jsx(zn,{Icon:nt,title:"SAV",isActive:u.pathname==="/sav",open:f,onClick:()=>l("/sav"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie})]})]}),f&&n.jsxs("div",{style:{borderTop:`1px solid ${Je}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:Ie,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(zn,{Icon:i?Xt:qt,title:i?"Mode clair":"Mode sombre",isActive:!1,open:f,onClick:pt,isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie}),n.jsx(zn,{Icon:Pr,title:"Paramtres",isActive:u.pathname==="/parametres",open:f,onClick:()=>l("/parametres"),isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie})]}),n.jsx("div",{style:{borderTop:`1px solid ${Je}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(zn,{Icon:tr,title:"Dconnexion",isActive:!1,open:f,onClick:ve,isDarkMode:i,orangeColor:J,textColor:_e,textSecondary:Ie})}),n.jsxs("button",{onClick:()=>m(!f),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${Je}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:Ie,transition:"background-color 0.2s",height:"48px"},onMouseEnter:j=>j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:j=>j.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(os,{style:{width:"16px",height:"16px",transform:f?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),f&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{className:"dashboard-main",style:{flex:1,overflow:"auto",backgroundColor:_t,display:"flex",flexDirection:"column",paddingTop:g?"60px":0},children:u.pathname==="/calendrier"?n.jsx(Jd,{disableAnimations:!0,isAdminView:!0}):u.pathname==="/metre"?n.jsx(Zd,{disableAnimations:!0,isAdminView:!0}):u.pathname==="/pose"?n.jsx(ef,{disableAnimations:!0,isAdminView:!0}):u.pathname==="/sav"?n.jsx(tf,{disableAnimations:!0,isAdminView:!0}):n.jsxs("div",{className:"dashboard-content",style:{padding:g?"16px":"24px",flex:1,display:"flex",flexDirection:"column",minHeight:0},children:[n.jsxs("div",{className:"dashboard-header",style:{display:"flex",alignItems:g?"flex-start":"center",justifyContent:"space-between",marginBottom:g?"20px":"32px",animation:"fadeInDown 0.5s ease-out",flexDirection:g?"column":"row",gap:g?"16px":"0"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{fontSize:"30px",fontWeight:700,color:_e,marginBottom:"4px"},children:"Tableau de Bord"}),n.jsx("p",{style:{fontSize:"16px",color:Ie,marginTop:"4px"},children:"Bienvenue sur votre tableau de bord"})]}),n.jsxs("div",{className:"header-actions",style:{display:g?"none":"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>kt(!it),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:bt,border:`1px solid ${Je}`,color:Ie,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:j=>{j.currentTarget.style.color=_e,j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:j=>{j.currentTarget.style.color=Ie,j.currentTarget.style.backgroundColor=bt},children:[n.jsx(zr,{style:{width:"20px",height:"20px"}}),U>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:U>99?"99+":U})]}),it&&n.jsxs("div",{"data-notifications-dropdown":!0,className:"notifications-dropdown",style:{position:g?"fixed":"absolute",top:g?"60px":"50px",right:"0",left:g?"0":"auto",width:g?"100%":"380px",maxHeight:g?"calc(100vh - 60px)":"500px",backgroundColor:bt,border:g?"none":`1px solid ${Je}`,borderRadius:g?"0":"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${Je}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:_e},children:"Notifications"}),U>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[U," nouvelle",U>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:Ke.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:Ie},children:"Aucune notification"}):Ke.slice(0,10).map(j=>{const Ne=Ia(j.timestamp),ge=(()=>{if(j.type==="booking"){const Q=j.data,we=En(Q.calendarId);return{subtitle:`${Q.name} - ${we}`,details:`${Q.date} ${Q.time&&Q.time!=="21h00"?` ${Q.time}`:""}`,onClick:()=>{kt(!1),l("/rservation")}}}else if(j.type==="holiday"){const Q=j.data;return{subtitle:`${En(Q.calendarId)} - ${($e=>new Date($e+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(Q.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{kt(!1),l("/jours-feries")}}}else if(j.type==="user"){const Q=j.data,we=Ee=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[Ee]||Ee;return{subtitle:`${Q.name} (${we(Q.role)})`,details:Q.email,onClick:()=>{kt(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:ge.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${Je}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Q=>{Q.currentTarget.style.backgroundColor=i?"#2a2a2a":"#f9fafb"},onMouseLeave:Q=>{Q.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:_e,marginBottom:"4px"},children:j.title}),n.jsx("div",{style:{fontSize:"13px",color:Ie,marginBottom:"4px"},children:ge.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:Ie},children:ge.details})]}),n.jsx("div",{style:{fontSize:"11px",color:Ie,whiteSpace:"nowrap"},children:Ne})]})},j.id)})}),Ke.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${Je}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{kt(!1),Ke[0]?.type==="booking"?l("/rservation"):Ke[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:J,cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:pt,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${Je}`,backgroundColor:bt,color:Ie,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:j=>{j.currentTarget.style.color=_e,j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:j=>{j.currentTarget.style.color=Ie,j.currentTarget.style.backgroundColor=bt},children:i?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:ve,style:{padding:"8px",borderRadius:"8px",backgroundColor:bt,border:`1px solid ${Je}`,color:Ie,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:j=>{j.currentTarget.style.color=_e,j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:j=>{j.currentTarget.style.color=Ie,j.currentTarget.style.backgroundColor=bt},children:n.jsx(tr,{style:{width:"20px",height:"20px"}})})]})]}),n.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:g?"1fr":"repeat(auto-fit, minmax(220px, 1fr))",gap:g?"12px":"24px",marginBottom:g?"20px":"32px",animation:"fadeInUp 0.6s ease-out"},children:[n.jsx(vl,{title:"Taux d'engorgement",value:`${_} %`,change:`Pose: ${be}% | Metr: ${P}% | SAV: ${Te}%`,Icon:og,iconBg:i?`${J}30`:`${J}20`,iconColor:J,cardBg:bt,textColor:_e,textSecondary:Ie,borderColor:Je}),n.jsx(vl,{title:"Utilisateurs",value:ie.toLocaleString("fr-FR"),change:"Comptes enregistrs",Icon:co,iconBg:i?"#10b98130":"#10b98120",iconColor:"#10b981",cardBg:bt,textColor:_e,textSecondary:Ie,borderColor:Je}),n.jsx(vl,{title:"Total Rservations",value:q.toLocaleString("fr-FR"),change:`Pose: ${Se} | Metr: ${Ye}  | SAV: ${ae}`,Icon:ao,iconBg:i?"#8b5cf630":"#8b5cf620",iconColor:"#8b5cf6",cardBg:bt,textColor:_e,textSecondary:Ie,borderColor:Je}),n.jsx(vl,{title:"Rservations SAV",value:ae.toLocaleString("fr-FR"),change:"Interventions SAV",Icon:nt,iconBg:i?`${J}30`:`${J}20`,iconColor:J,cardBg:bt,textColor:_e,textSecondary:Ie,borderColor:Je})]}),n.jsxs("div",{className:"content-grid",style:{display:"grid",gridTemplateColumns:g?"1fr":"2fr 1fr",gridTemplateRows:"auto auto",gap:g?"16px":"32px",animation:"fadeInUp 0.8s ease-out",flex:1,minHeight:0},children:[n.jsxs("div",{style:{backgroundColor:bt,borderRadius:"16px",padding:"24px",border:`1px solid ${Je}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 1s ease-out",transition:"all 0.3s ease",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:j=>{j.currentTarget.style.transform="translateY(-4px)",j.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",j.currentTarget.style.borderColor=Je==="#333333"?"#444444":"#d1d5db"},onMouseLeave:j=>{j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",j.currentTarget.style.borderColor=Je},children:[n.jsxs("div",{className:"chart-header",style:{display:"flex",justifyContent:"space-between",alignItems:g?"flex-start":"center",marginBottom:"20px",flexDirection:g?"column":"row",gap:g?"12px":"0"},children:[n.jsx("h3",{style:{fontSize:g?"16px":"20px",fontWeight:600,color:_e,margin:0},children:"volution des Rservations"}),n.jsxs("div",{className:"chart-controls",style:{display:"flex",gap:"8px",backgroundColor:i?"#1a1a1a":"#f5f5f5",borderRadius:"8px",padding:"4px",border:`1px solid ${Je}`,width:g?"100%":"auto",justifyContent:g?"center":"flex-start"},children:[n.jsx("button",{onClick:()=>dt("month"),style:{padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:Oe==="month"?J:"transparent",color:Oe==="month"?"#ffffff":Ie,cursor:"pointer",fontSize:"13px",fontWeight:Oe==="month"?600:500,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:j=>{Oe!=="month"&&(j.currentTarget.style.backgroundColor=i?"#2a2a2a":"#e5e7eb")},onMouseLeave:j=>{Oe!=="month"&&(j.currentTarget.style.backgroundColor="transparent")},children:"Par mois"}),n.jsx("button",{onClick:()=>{dt("week"),xt(0),vn(0)},style:{padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:Oe==="week"?J:"transparent",color:Oe==="week"?"#ffffff":Ie,cursor:"pointer",fontSize:"13px",fontWeight:Oe==="week"?600:500,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:j=>{Oe!=="week"&&(j.currentTarget.style.backgroundColor=i?"#2a2a2a":"#e5e7eb")},onMouseLeave:j=>{Oe!=="week"&&(j.currentTarget.style.backgroundColor="transparent")},children:"Par semaine"})]})]}),Oe==="month"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>xt(j=>j-1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Je}`,backgroundColor:i?"#262626":"#ffffff",color:Ie,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=J,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=J},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Ie,j.currentTarget.style.borderColor=Je},children:""}),n.jsx("div",{style:{minWidth:"180px",textAlign:"center",fontSize:"15px",fontWeight:600,color:_e,padding:"8px 20px",borderRadius:"20px",backgroundColor:i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",border:`1px solid ${Je}`},children:(()=>{const j=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],Ne=new Date,Y=new Date(Ne.getFullYear(),Ne.getMonth()+rt,1);return`${j[Y.getMonth()]} ${Y.getFullYear()}`})()}),n.jsx("button",{onClick:()=>xt(j=>j+1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Je}`,backgroundColor:i?"#262626":"#ffffff",color:Ie,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=J,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=J},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Ie,j.currentTarget.style.borderColor=Je},children:""}),rt!==0&&n.jsx("button",{onClick:()=>xt(0),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:J,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s",marginLeft:"4px",boxShadow:`0 2px 8px ${J}40`},onMouseEnter:j=>{j.currentTarget.style.transform="scale(1.05)",j.currentTarget.style.boxShadow=`0 4px 12px ${J}60`},onMouseLeave:j=>{j.currentTarget.style.transform="scale(1)",j.currentTarget.style.boxShadow=`0 2px 8px ${J}40`},children:"Ce mois"})]}),Oe==="week"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>vn(j=>j-1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Je}`,backgroundColor:i?"#262626":"#ffffff",color:Ie,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=J,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=J},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Ie,j.currentTarget.style.borderColor=Je},children:""}),n.jsx("div",{style:{minWidth:"180px",textAlign:"center",fontSize:"15px",fontWeight:600,color:_e,padding:"8px 20px",borderRadius:"20px",backgroundColor:i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",border:`1px solid ${Je}`},children:(()=>{const j=new Date,Ne=new Date(j),Y=j.getDay(),ge=Y===0?-6:1-Y;Ne.setDate(j.getDate()+ge+Rt*7);const Q=new Date(Ne);Q.setDate(Ne.getDate()+6);const we=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],Ee=Ne.getDate(),$e=Q.getDate(),d=we[Ne.getMonth()],L=we[Q.getMonth()];return d===L?`${Ee}-${$e} ${d}`:`${Ee} ${d} - ${$e} ${L}`})()}),n.jsx("button",{onClick:()=>vn(j=>j+1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Je}`,backgroundColor:i?"#262626":"#ffffff",color:Ie,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=J,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=J},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Ie,j.currentTarget.style.borderColor=Je},children:""}),Rt!==0&&n.jsx("button",{onClick:()=>vn(0),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:J,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s",marginLeft:"4px",boxShadow:`0 2px 8px ${J}40`},onMouseEnter:j=>{j.currentTarget.style.transform="scale(1.05)",j.currentTarget.style.boxShadow=`0 4px 12px ${J}60`},onMouseLeave:j=>{j.currentTarget.style.transform="scale(1)",j.currentTarget.style.boxShadow=`0 2px 8px ${J}40`},children:"Cette semaine"})]}),n.jsxs("div",{className:"chart-legend",style:{display:"flex",gap:g?"8px":"16px",marginBottom:g?"16px":"24px",flexWrap:"wrap",justifyContent:g?"center":"flex-start"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6",boxShadow:"0 0 6px rgba(59, 130, 246, 0.6)"}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:"#3b82f6"},children:"Metr"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?`${J}15`:`${J}10`,border:`1px solid ${J}30`},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:J,boxShadow:`0 0 6px ${J}80`}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:J},children:"Pose"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?"rgba(16, 185, 129, 0.1)":"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#10b981",boxShadow:"0 0 6px rgba(16, 185, 129, 0.6)"}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:"#10b981"},children:"SAV"})]})]}),n.jsx("div",{className:"chart-container",style:{position:"relative",width:"100%",flex:1,minHeight:g?"300px":"420px",overflow:"visible"},children:M.length===0?n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"420px",color:Ie,fontSize:"16px",flexDirection:"column",gap:"12px"},children:[n.jsx(nt,{style:{width:"48px",height:"48px",opacity:.5}}),n.jsx("span",{children:"Aucune rservation pour afficher le graphique"})]}):n.jsxs("svg",{width:"100%",height:"100%",style:{overflow:"visible"},viewBox:"0 0 900 430",preserveAspectRatio:"xMidYMid meet",children:[[0,1,2,3,4,5].map(j=>{const Ne=j/5*380+10;return n.jsx("line",{x1:"60",y1:Ne,x2:"860",y2:Ne,stroke:i?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",strokeWidth:"1",style:{animation:C?`fadeIn 0.5s ease-out ${j*.05}s both`:"none"}},`grid-${j}`)}),[0,1,2,3,4,5].map(j=>{const Ne=Math.round(Le/5*(5-j)),Y=j/5*380+10;return n.jsx("g",{children:n.jsx("text",{x:"50",y:Y+4,textAnchor:"end",fontSize:"11",fontWeight:"500",fill:Ie,style:{animation:C?`fadeIn 0.5s ease-out ${j*.05}s both`:"none"},children:Ne})},`y-label-${j}`)}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"metreGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.02"})]}),n.jsxs("linearGradient",{id:"poseGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:J,stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:J,stopOpacity:"0.02"})]}),n.jsxs("linearGradient",{id:"savGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0.02"})]})]}),n.jsxs("g",{transform:"translate(60, 10)",children:[M.length>0&&M.map((j,Ne)=>{const ge=M.length>1?M.length-1:1,Q=Ne/ge*800;return j.month?n.jsx("text",{x:Q,y:"395",textAnchor:"middle",fontSize:"12",fontWeight:"500",fill:Ie,style:{animation:C?"fadeInUp 0.5s ease-out 0.6s both":"none"},children:j.month},`x-label-${Ne}`):null}),M.length>0&&n.jsx("path",{d:(()=>{const Ne=M.length>1?M.length-1:1,Y=M.map((Q,we)=>({x:we/Ne*800,y:380-Q.Metr/Le*380}));let ge=`M ${Y[0].x} 380 L ${Y[0].x} ${Y[0].y}`;for(let Q=0;Q<Y.length-1;Q++){const we=Y[Math.max(0,Q-1)],Ee=Y[Q],$e=Y[Q+1],d=Y[Math.min(Y.length-1,Q+2)],L=Ee.x+($e.x-we.x)/6,W=Ee.y+($e.y-we.y)/6,F=$e.x-(d.x-Ee.x)/6,y=$e.y-(d.y-Ee.y)/6;ge+=` C ${L} ${W}, ${F} ${y}, ${$e.x} ${$e.y}`}return ge+=` L ${Y[Y.length-1].x} 380 Z`,ge})(),fill:"url(#metreGradient)",style:{opacity:C?1:0,transition:"opacity 1s ease-out 0.5s"}}),M.length>0&&n.jsx("path",{d:(()=>{const Ne=M.length>1?M.length-1:1,Y=M.map((Q,we)=>({x:we/Ne*800,y:380-Q.Pose/Le*380}));let ge=`M ${Y[0].x} 380 L ${Y[0].x} ${Y[0].y}`;for(let Q=0;Q<Y.length-1;Q++){const we=Y[Math.max(0,Q-1)],Ee=Y[Q],$e=Y[Q+1],d=Y[Math.min(Y.length-1,Q+2)],L=Ee.x+($e.x-we.x)/6,W=Ee.y+($e.y-we.y)/6,F=$e.x-(d.x-Ee.x)/6,y=$e.y-(d.y-Ee.y)/6;ge+=` C ${L} ${W}, ${F} ${y}, ${$e.x} ${$e.y}`}return ge+=` L ${Y[Y.length-1].x} 380 Z`,ge})(),fill:"url(#poseGradient)",style:{opacity:C?1:0,transition:"opacity 1s ease-out 0.7s"}}),M.length>0&&n.jsx("path",{d:(()=>{const Ne=M.length>1?M.length-1:1,Y=M.map((Q,we)=>({x:we/Ne*800,y:380-Q.SAV/Le*380}));let ge=`M ${Y[0].x} 380 L ${Y[0].x} ${Y[0].y}`;for(let Q=0;Q<Y.length-1;Q++){const we=Y[Math.max(0,Q-1)],Ee=Y[Q],$e=Y[Q+1],d=Y[Math.min(Y.length-1,Q+2)],L=Ee.x+($e.x-we.x)/6,W=Ee.y+($e.y-we.y)/6,F=$e.x-(d.x-Ee.x)/6,y=$e.y-(d.y-Ee.y)/6;ge+=` C ${L} ${W}, ${F} ${y}, ${$e.x} ${$e.y}`}return ge+=` L ${Y[Y.length-1].x} 380 Z`,ge})(),fill:"url(#savGradient)",style:{opacity:C?1:0,transition:"opacity 1s ease-out 0.9s"}}),M.length>0&&n.jsx("path",{d:(()=>{const Ne=M.length>1?M.length-1:1,Y=M.map((Q,we)=>({x:we/Ne*800,y:380-Q.Metr/Le*380}));let ge=`M ${Y[0].x} ${Y[0].y}`;for(let Q=0;Q<Y.length-1;Q++){const we=Y[Math.max(0,Q-1)],Ee=Y[Q],$e=Y[Q+1],d=Y[Math.min(Y.length-1,Q+2)],L=Ee.x+($e.x-we.x)/6,W=Ee.y+($e.y-we.y)/6,F=$e.x-(d.x-Ee.x)/6,y=$e.y-(d.y-Ee.y)/6;ge+=` C ${L} ${W}, ${F} ${y}, ${$e.x} ${$e.y}`}return ge})(),fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:C?"2000":"0",strokeDashoffset:C?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out",filter:"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3))"}}),M.length>0&&n.jsx("path",{d:(()=>{const Ne=M.length>1?M.length-1:1,Y=M.map((Q,we)=>({x:we/Ne*800,y:380-Q.Pose/Le*380}));let ge=`M ${Y[0].x} ${Y[0].y}`;for(let Q=0;Q<Y.length-1;Q++){const we=Y[Math.max(0,Q-1)],Ee=Y[Q],$e=Y[Q+1],d=Y[Math.min(Y.length-1,Q+2)],L=Ee.x+($e.x-we.x)/6,W=Ee.y+($e.y-we.y)/6,F=$e.x-(d.x-Ee.x)/6,y=$e.y-(d.y-Ee.y)/6;ge+=` C ${L} ${W}, ${F} ${y}, ${$e.x} ${$e.y}`}return ge})(),fill:"none",stroke:J,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:C?"2000":"0",strokeDashoffset:C?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out 0.2s",filter:`drop-shadow(0 2px 4px ${J}40)`}}),M.length>0&&n.jsx("path",{d:(()=>{const Ne=M.length>1?M.length-1:1,Y=M.map((Q,we)=>({x:we/Ne*800,y:380-Q.SAV/Le*380}));let ge=`M ${Y[0].x} ${Y[0].y}`;for(let Q=0;Q<Y.length-1;Q++){const we=Y[Math.max(0,Q-1)],Ee=Y[Q],$e=Y[Q+1],d=Y[Math.min(Y.length-1,Q+2)],L=Ee.x+($e.x-we.x)/6,W=Ee.y+($e.y-we.y)/6,F=$e.x-(d.x-Ee.x)/6,y=$e.y-(d.y-Ee.y)/6;ge+=` C ${L} ${W}, ${F} ${y}, ${$e.x} ${$e.y}`}return ge})(),fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:C?"2000":"0",strokeDashoffset:C?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out 0.4s",filter:"drop-shadow(0 2px 4px rgba(16, 185, 129, 0.3))"}}),M.length>0&&M.map((j,Ne)=>{const ge=M.length>1?M.length-1:1,Q=Ne/ge*800,we=ut===Ne,Ee=j.Metr>0||j.Pose>0||j.SAV>0,$e=380-j.Metr/Le*380,d=380-j.Pose/Le*380,L=380-j.SAV/Le*380;return n.jsxs("g",{onMouseEnter:()=>Xe(Ne),onMouseLeave:()=>Xe(null),style:{cursor:Ee?"pointer":"default"},children:[n.jsx("rect",{x:Q-15,y:0,width:30,height:380,fill:"transparent"}),j.Metr>0&&n.jsxs("g",{children:[we&&n.jsx("circle",{cx:Q,cy:$e,r:"12",fill:"none",stroke:"#3b82f6",strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:Q,cy:$e,r:we?6:4,fill:"#3b82f6",stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:we?"drop-shadow(0 0 8px rgba(59, 130, 246, 0.8))":"drop-shadow(0 0 4px rgba(59, 130, 246, 0.5))"}})]}),j.Pose>0&&n.jsxs("g",{children:[we&&n.jsx("circle",{cx:Q,cy:d,r:"12",fill:"none",stroke:J,strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:Q,cy:d,r:we?6:4,fill:J,stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:we?`drop-shadow(0 0 8px ${J}cc)`:`drop-shadow(0 0 4px ${J}80)`}})]}),j.SAV>0&&n.jsxs("g",{children:[we&&n.jsx("circle",{cx:Q,cy:L,r:"12",fill:"none",stroke:"#10b981",strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:Q,cy:L,r:we?6:4,fill:"#10b981",stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:we?"drop-shadow(0 0 8px rgba(16, 185, 129, 0.8))":"drop-shadow(0 0 4px rgba(16, 185, 129, 0.5))"}})]}),we&&Ee&&n.jsx("line",{x1:Q,y1:Math.min($e,d,L)-5,x2:Q,y2:380,stroke:i?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",strokeWidth:"1",strokeDasharray:"4 2"}),we&&Ee&&j.day&&n.jsxs("g",{children:[n.jsx("rect",{x:Oe==="week"?Q-28:Q-16,y:385,width:Oe==="week"?56:32,height:20,rx:"10",fill:J}),n.jsx("text",{x:Q,y:"399",textAnchor:"middle",fontSize:"11",fontWeight:"600",fill:"#ffffff",children:Oe==="week"?j.month:j.day})]}),we&&Ee&&n.jsx("g",{style:{pointerEvents:"none"},children:(()=>{const y=Math.min(j.Metr>0?$e:380,j.Pose>0?d:380,j.SAV>0?L:380);let O=Q-130/2,te=y-95-15;return O<5&&(O=5),O+130>795&&(O=665),te<5&&(te=y+20),n.jsxs("g",{children:[n.jsx("path",{d:`M ${Q-6} ${te+95} L ${Q} ${te+95+8} L ${Q+6} ${te+95} Z`,fill:i?"#262626":"#ffffff"}),n.jsx("rect",{x:O,y:te,width:130,height:95,rx:"10",fill:i?"#262626":"#ffffff",stroke:i?"#404040":"#e5e7eb",strokeWidth:"1",style:{filter:"drop-shadow(0 4px 16px rgba(0, 0, 0, 0.2))"}}),n.jsx("rect",{x:O,y:te,width:130,height:28,rx:"10",fill:J,style:{clipPath:"inset(0 0 50% 0 round 10px)"}}),n.jsx("rect",{x:O,y:te+14,width:130,height:14,fill:J}),n.jsx("text",{x:O+130/2,y:te+18,textAnchor:"middle",fontSize:"12",fontWeight:"600",fill:"#ffffff",children:Oe==="week"?j.month||`Jour ${j.day}`:j.day?`Jour ${j.day}`:j.month}),n.jsx("circle",{cx:O+15,cy:te+42,r:"4",fill:"#3b82f6"}),n.jsx("text",{x:O+25,y:te+46,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"Metr"}),n.jsx("text",{x:O+130-10,y:te+46,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:"#3b82f6",children:j.cumulMetr!==void 0?j.cumulMetr:j.Metr}),n.jsx("circle",{cx:O+15,cy:te+60,r:"4",fill:J}),n.jsx("text",{x:O+25,y:te+64,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"Pose"}),n.jsx("text",{x:O+130-10,y:te+64,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:J,children:j.cumulPose!==void 0?j.cumulPose:j.Pose}),n.jsx("circle",{cx:O+15,cy:te+78,r:"4",fill:"#10b981"}),n.jsx("text",{x:O+25,y:te+82,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"SAV"}),n.jsx("text",{x:O+130-10,y:te+82,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:"#10b981",children:j.cumulSAV!==void 0?j.cumulSAV:j.SAV})]})})()})]},`points-${Ne}`)})]}),n.jsx("line",{x1:"60",y1:"390",x2:"860",y2:"390",stroke:i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",strokeWidth:"1",style:{animation:C?"fadeIn 0.5s ease-out 0.3s both":"none"}})]})})]}),n.jsxs("div",{style:{backgroundColor:bt,borderRadius:"16px",padding:"24px",border:`1px solid ${Je}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInRight 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column"},onMouseEnter:j=>{j.currentTarget.style.transform="translateY(-4px)",j.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",j.currentTarget.style.borderColor=Je==="#333333"?"#444444":"#d1d5db"},onMouseLeave:j=>{j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",j.currentTarget.style.borderColor=Je},children:[n.jsx("div",{style:{marginBottom:"16px"},children:n.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:_e},children:"Top 10 Clients SAV"})}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",flex:"1"},children:je?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Ie},children:"Chargement..."}):H.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Ie},children:"Aucun client"}):H.map((j,Ne)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px"},children:[n.jsx("span",{style:{fontSize:"14px",color:Ie},children:j.name}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:500,color:_e},children:[j.count," ",j.count===1?"rservation":"rservations"]})]},Ne))})]}),n.jsxs("div",{style:{backgroundColor:bt,borderRadius:"16px",padding:"24px",border:`1px solid ${Je}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInLeft 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:j=>{j.currentTarget.style.transform="translateY(-4px)",j.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",j.currentTarget.style.borderColor=Je==="#333333"?"#444444":"#d1d5db"},onMouseLeave:j=>{j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",j.currentTarget.style.borderColor=Je},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:_e},children:"Rservation Rcente"}),n.jsx("button",{onClick:()=>l("/rservation"),style:{fontSize:"12px",color:J,fontWeight:500,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:j=>j.currentTarget.style.color="#ff6b35",onMouseLeave:j=>j.currentTarget.style.color=J,children:"Voir tout"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:R?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Ie},children:"Chargement..."}):N.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Ie},children:"Aucune rservation rcente"}):N.map(j=>{const Ne=j.calendarId||"calendar1",Y=Gd[Ne]||"Pose",ge=ft(j.timestamp),Q={Pose:{bg:i?`${J}30`:`${J}20`,icon:J},SAV:{bg:i?"#10b98130":"#10b98120",icon:"#10b981"},Metr:{bg:i?"#3b82f630":"#3b82f620",icon:"#3b82f6"}},we=Q[Y]||Q.Pose;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",borderRadius:"8px",backgroundColor:i?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Ee=>Ee.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f0f0f0",onMouseLeave:Ee=>Ee.currentTarget.style.backgroundColor=i?"#0a0a0a":"#f9fafb",onClick:()=>l("/rservation"),children:[n.jsx("div",{style:{padding:"6px",borderRadius:"6px",backgroundColor:we.bg,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"14px",height:"14px",color:we.icon}})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("p",{style:{fontSize:"13px",fontWeight:500,color:_e,marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[j.name," - ",Y]}),n.jsxs("p",{style:{fontSize:"11px",color:Ie,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[j.date," ",j.time&&j.time!=="21h00"?` ${j.time}`:""]})]}),n.jsx("div",{style:{fontSize:"11px",color:Ie,whiteSpace:"nowrap"},children:ge})]},j.id)})})]})]})]})})]})}const zn=({Icon:l,title:u,isActive:i,open:c,onClick:f,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:u})]}),vl=({title:l,value:u,change:i,Icon:c,iconBg:f,iconColor:m,cardBg:x,textColor:w,textSecondary:g,borderColor:k})=>n.jsxs("div",{style:{padding:"24px",borderRadius:"16px",border:`1px solid ${k}`,backgroundColor:x,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:E=>{E.currentTarget.style.transform="translateY(-4px) scale(1.02)",E.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",E.currentTarget.style.borderColor=k==="#333333"?"#444444":"#d1d5db"},onMouseLeave:E=>{E.currentTarget.style.transform="translateY(0) scale(1)",E.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",E.currentTarget.style.borderColor=k},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[n.jsx("div",{style:{padding:"8px",backgroundColor:f,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(c,{style:{width:"20px",height:"20px",color:m}})}),n.jsx(pg,{style:{width:"16px",height:"16px",color:"#10b981"}})]}),n.jsx("h3",{style:{fontSize:"14px",fontWeight:500,color:g,marginBottom:"4px"},children:l}),n.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:w,marginBottom:"4px"},children:u}),n.jsx("p",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"},children:i})]});function Rg(){const[l,u]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const f=sessionStorage.getItem("user");if(f)try{const m=JSON.parse(f);u(m.role==="admin")}catch{u(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(us,{}):n.jsx(Jd,{})}function Dg(){const[l,u]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const f=sessionStorage.getItem("user");if(f)try{const m=JSON.parse(f);u(m.role==="admin")}catch{u(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(us,{}):n.jsx(Zd,{})}function Pg(){const[l,u]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const f=sessionStorage.getItem("user");if(f)try{const m=JSON.parse(f);u(m.role==="admin")}catch{u(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(us,{}):n.jsx(ef,{})}function zg(){const[l,u]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const f=sessionStorage.getItem("user");if(f)try{const m=JSON.parse(f);u(m.role==="admin")}catch{u(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(us,{}):n.jsx(tf,{})}const Ig={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Xn=5,$d=1800*1e3;function Ag(){const l=yn(),[u,i]=h.useState({email:"",password:""}),[c,f]=h.useState({email:"",password:""}),[m,x]=h.useState(!1),[w,g]=h.useState(!1),[k,E]=h.useState(null),[B,C]=h.useState(!1),[K,N]=h.useState(null),I=fe=>{const q=`loginAttempts_${fe.toLowerCase()}`,ye=localStorage.getItem(q);if(ye){const ie=JSON.parse(ye);return ie.lockoutUntil&&Date.now()<ie.lockoutUntil?ie:ie.lockoutUntil&&Date.now()>=ie.lockoutUntil?(localStorage.removeItem(q),{attempts:0}):ie}return{attempts:0}},R=(fe,q)=>{const ye=`loginAttempts_${fe.toLowerCase()}`;q.attempts===0&&!q.lockoutUntil?localStorage.removeItem(ye):localStorage.setItem(ye,JSON.stringify(q))},G=fe=>{const ye=I(fe).attempts+1;if(ye>=Xn){const ie=Date.now()+$d;return R(fe,{attempts:ye,lockoutUntil:ie}),C(!0),N(ie),ye}else return R(fe,{attempts:ye}),E(Xn-ye),ye},H=fe=>{R(fe,{attempts:0}),E(null),C(!1),N(null)},xe=fe=>{if(!fe)return{canLogin:!0};const q=I(fe);if(q.lockoutUntil&&Date.now()<q.lockoutUntil){const ye=Math.ceil((q.lockoutUntil-Date.now())/6e4);return{canLogin:!1,message:`Trop de tentatives choues. Veuillez ressayer dans ${ye} minute${ye>1?"s":""}.`}}return q.attempts>=Xn?{canLogin:!1,message:"Trop de tentatives choues. Veuillez ressayer plus tard."}:{canLogin:!0}};h.useEffect(()=>{if(u.email&&je(u.email)){const fe=xe(u.email);C(!fe.canLogin),fe.message&&f(ye=>({...ye,password:fe.message||""}));const q=I(u.email);q.lockoutUntil&&Date.now()<q.lockoutUntil?(N(q.lockoutUntil),E(0)):q.attempts>0?E(Xn-q.attempts):E(null)}else C(!1),E(null),N(null)},[u.email]),h.useEffect(()=>{if(!B||!K)return;const fe=setInterval(()=>{const q=Date.now();if(q>=K)C(!1),N(null),E(null),u.email&&H(u.email);else{const ye=Math.ceil((K-q)/6e4);f(ie=>({...ie,password:`Trop de tentatives choues. Veuillez ressayer dans ${ye} minute${ye>1?"s":""}.`}))}},1e3);return()=>clearInterval(fe)},[B,K,u.email]);const je=fe=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(fe),Be=fe=>{const{name:q,value:ye}=fe.target;i(ie=>({...ie,[q]:ye})),c[q]&&f(ie=>({...ie,[q]:""}))},Fe=async fe=>{fe.preventDefault();const q={email:"",password:""};let ye=!0;if(u.email?je(u.email)||(q.email="Please enter a valid email address",ye=!1):(q.email="Email is required",ye=!1),u.password||(q.password="Password is required",ye=!1),!ye){f(q);return}const ie=xe(u.email);if(!ie.canLogin){f({email:"",password:ie.message||"Trop de tentatives choues. Veuillez ressayer plus tard."}),x(!1);return}x(!0);try{const X=Ig?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",ae=await fetch(`${X}/users/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u.email,password:u.password})}),ke=await ae.json();if(ae.ok)H(u.email),sessionStorage.setItem("user",JSON.stringify({id:ke.id,name:ke.name,email:ke.email,phone:ke.phone,role:ke.role,isAuthenticated:!0})),l("/");else{const Se=G(u.email),Qe=Xn-Se;let Ye=ke.detail||"Email ou mot de passe incorrect. Veuillez ressayer.";if(Se>=Xn){Ye="Trop de tentatives choues. Votre compte est verrouill pendant 30 minutes.",C(!0);const de=Date.now()+$d;N(de)}else Qe>0&&(Ye+=` (${Qe} tentative${Qe>1?"s":""} restante${Qe>1?"s":""})`);f({email:"",password:Ye}),E(Qe>0?Qe:0),x(!1)}}catch(X){console.error("Login error:",X);const ae=G(u.email),ke=Xn-ae;let Se="Une erreur s'est produite. Veuillez ressayer.";ke>0&&ke<Xn&&(Se+=` (${ke} tentative${ke>1?"s":""} restante${ke>1?"s":""})`),f({email:"",password:Se}),E(ke>0?ke:0),x(!1)}};return n.jsxs("div",{className:"login-page",children:[n.jsxs("div",{className:"login-background",children:[n.jsx("div",{className:"gradient-orb orb-1"}),n.jsx("div",{className:"gradient-orb orb-2"}),n.jsx("div",{className:"gradient-orb orb-3"})]}),n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("div",{className:"logo-wrapper",children:n.jsx("div",{className:"logo-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),n.jsx("h1",{className:"login-title",children:"Welcome Back"}),n.jsx("p",{className:"login-subtitle",children:"Sign in to your account to continue"})]}),n.jsxs("form",{className:"login-form",onSubmit:Fe,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:"email",id:"email",name:"email",className:`form-input ${c.email?"input-error":""}`,placeholder:"Enter your email",value:u.email,onChange:Be,autoComplete:"email"})]}),c.email&&n.jsx("span",{className:"error-message",children:c.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:w?"text":"password",id:"password",name:"password",className:`form-input ${c.password?"input-error":""}`,placeholder:"Enter your password",value:u.password,onChange:Be,autoComplete:"current-password"}),n.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!w),"aria-label":w?"Hide password":"Show password",children:w?n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M1 1L23 23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),c.password&&n.jsx("span",{className:"error-message",children:c.password})]}),k!==null&&k<Xn&&!B&&n.jsx("div",{className:"attempts-warning",children:n.jsx("span",{className:"attempts-text",children:k>0?`${k} tentative${k>1?"s":""} restante${k>1?"s":""}`:"Aucune tentative restante"})}),n.jsx("button",{type:"submit",className:`login-button ${m?"loading":""} ${B?"disabled":""}`,disabled:m||B,children:m?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx("svg",{className:"button-arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]})})]})}const Bg=({isOpen:l,onClose:u,onSubmit:i,booking:c,isDarkMode:f=!0,users:m=[]})=>{const[x,w]=h.useState({calendar_id:Ge.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),[g,k]=h.useState({});h.useEffect(()=>{w(c?{calendar_id:c.calendarId||Ge.calendar1,booking_date:c.date||"",booking_time:c.time&&c.time!=="21h00"?c.time:"",client_name:c.name||"",client_phone:c.phone||"",designer_name:c.designer||"",message:c.message||""}:{calendar_id:Ge.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),k({})},[c,l]);const E=R=>{const{name:G,value:H}=R.target;if(G==="client_phone"){const xe=H.replace(/\D/g,"");w(je=>({...je,[G]:xe}))}else w(xe=>({...xe,[G]:H}));g[G]&&k(xe=>({...xe,[G]:void 0}))},B=()=>{const R={};!c&&!x.calendar_id.trim()&&(R.calendar_id="Le calendrier est requis"),x.booking_date.trim()||(R.booking_date="La date est requise");const G=c&&c.calendarId||x.calendar_id;return[Ge.calendar2,Ge.calendar3].includes(G)&&!x.booking_time.trim()&&(R.booking_time="Le crneau horaire est requis pour ce calendrier"),x.client_name.trim()||(R.client_name="Le nom du client est requis"),x.client_phone.trim()?x.client_phone.length<8&&(R.client_phone="Le numro de tlphone doit contenir au moins 8 chiffres"):R.client_phone="Le tlphone est requis",x.designer_name.trim()||(R.designer_name="Le nom du concepteur est requis"),k(R),Object.keys(R).length===0},C=R=>{if(R.preventDefault(),B()){const G=c&&c.calendarId||x.calendar_id,H=G===Ge.calendar1,xe={...x,calendar_id:G,booking_time:H&&!x.booking_time?"21h00":x.booking_time||""};i(xe)}},K=()=>{const R=c&&c.calendarId||x.calendar_id;return R===Ge.calendar2?["9h00","10h30","14h00"]:R===Ge.calendar3?["8-10","10-12","14-16","16-18"]:[]};if(!l)return null;const N=K(),I=N.length>0;return n.jsx("div",{className:`admin-booking-modal-overlay ${f?"dark-mode":"light-mode"}`,onClick:u,children:n.jsxs("div",{className:"admin-booking-modal",onClick:R=>R.stopPropagation(),children:[n.jsxs("div",{className:"admin-booking-modal-header",children:[n.jsx("h2",{children:c?"Modifier la rservation":"Nouvelle rservation"}),n.jsx("button",{className:"close-button",onClick:u,children:""})]}),n.jsxs("form",{onSubmit:C,className:"admin-booking-modal-form",children:[!c&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"calendar_id",children:"Calendrier *"}),n.jsxs("select",{id:"calendar_id",name:"calendar_id",value:x.calendar_id,onChange:E,className:g.calendar_id?"error":"",children:[n.jsx("option",{value:Ge.calendar1,children:"Pose"}),n.jsx("option",{value:Ge.calendar2,children:"SAV"}),n.jsx("option",{value:Ge.calendar3,children:"Metr"})]}),g.calendar_id&&n.jsx("span",{className:"error-message",children:g.calendar_id})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_date",children:"Date *"}),n.jsx("input",{type:"date",id:"booking_date",name:"booking_date",value:x.booking_date,onChange:E,className:g.booking_date?"error":""}),g.booking_date&&n.jsx("span",{className:"error-message",children:g.booking_date})]}),I&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_time",children:"Crneau horaire *"}),n.jsxs("select",{id:"booking_time",name:"booking_time",value:x.booking_time,onChange:E,className:g.booking_time?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un crneau"}),N.map(R=>n.jsx("option",{value:R,children:R},R))]}),g.booking_time&&n.jsx("span",{className:"error-message",children:g.booking_time})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"client_name",name:"client_name",value:x.client_name,onChange:E,className:g.client_name?"error":""}),g.client_name&&n.jsx("span",{className:"error-message",children:g.client_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"client_phone",name:"client_phone",value:x.client_phone,onChange:E,className:g.client_phone?"error":"",placeholder:"Ex: 0612345678"}),g.client_phone&&n.jsx("span",{className:"error-message",children:g.client_phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer_name",children:"Nom du concepteur *"}),m.length>0?n.jsxs("select",{id:"designer_name",name:"designer_name",value:x.designer_name,onChange:E,className:g.designer_name?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),m.filter(R=>R.role!=="admin").map(R=>n.jsxs("option",{value:R.name,children:[R.name," (Technicien)"]},R.id))]}):n.jsx("input",{type:"text",id:"designer_name",name:"designer_name",value:x.designer_name,onChange:E,className:g.designer_name?"error":""}),g.designer_name&&n.jsx("span",{className:"error-message",children:g.designer_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message / Commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:x.message,onChange:E,rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:u,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:c?"Modifier":"Crer"})]})]})]})})};function Fg(){const l=yn(),u=un(),[i,c]=h.useState([]),[f,m]=h.useState([]),[x,w]=h.useState(!0),[g,k]=h.useState("all"),[E,B]=h.useState(""),[C,K]=h.useState("all"),[N,I]=h.useState(()=>{const T=localStorage.getItem("darkMode");return T?JSON.parse(T):!0}),[R,G]=h.useState(!0),[H,xe]=h.useState(!1),[je,Be]=h.useState(!1),[Fe,fe]=h.useState(!1),[q,ye]=h.useState(null),[ie,X]=h.useState(!0),[ae,ke]=h.useState(!1),[Se,Qe]=h.useState(0),[Ye,de]=h.useState([]),[M,Z]=h.useState(null),[V,S]=h.useState(!1),[_,me]=h.useState(null),[be,ee]=h.useState([]);h.useEffect(()=>{const T=sessionStorage.getItem("user");if(!T){l("/login");return}const Le=JSON.parse(T);Z(Le),S(Le.role==="admin"),Pe(),Le.role==="admin"&&Te()},[l]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(N)),document.documentElement.setAttribute("data-theme",N?"dark":"light")},[N]),h.useEffect(()=>{const T=()=>{Be(window.innerWidth<=768),window.innerWidth>768&&xe(!1)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),h.useEffect(()=>{xe(!1)},[u.pathname]),h.useEffect(()=>(H?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[H]),h.useEffect(()=>{ut()},[i,g,E,C,M,V]);const P=async()=>{try{const T=await za();de(T),Qe(T.length)}catch(T){console.error("Error loading notifications:",T)}};h.useEffect(()=>{P();const T=setInterval(P,6e4),Le=()=>P();return window.addEventListener("notificationRefresh",Le),()=>{clearInterval(T),window.removeEventListener("notificationRefresh",Le)}},[i]),h.useEffect(()=>{const T=Le=>{const ft=Le.target;ae&&!ft.closest("[data-notifications-dropdown]")&&ke(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[ae]);const Pe=async()=>{w(!0);try{const Le=Object.values(Ge).map(ve=>Ir(ve).then(J=>({calendarId:ve,bookings:J}))),ft=await Promise.all(Le),pt=[];ft.forEach(({calendarId:ve,bookings:J})=>{J.forEach(et=>{pt.push({...et,calendarId:ve})})}),pt.sort((ve,J)=>{const et=J.date.localeCompare(ve.date);return et!==0?et:(J.time||"").localeCompare(ve.time||"")}),c(pt)}catch(T){console.error("Error loading bookings:",T),alert("Erreur lors du chargement des rservations")}finally{w(!1)}},Te=async()=>{try{const T=await Ar();ee(T)}catch(T){console.error("Error loading users:",T)}},Ve=T=>{if(!M)return!1;if(V)return!0;const Le=M.name?.toLowerCase().trim()||"",ft=M.email?.toLowerCase().trim()||"",pt=M.phone?.trim()||"",ve=Le&&T.name?.toLowerCase().trim()===Le,J=pt&&T.phone?.trim()===pt,et=Le&&T.designer?.toLowerCase().trim()===Le,_t=ft&&(T.name?.toLowerCase().includes(ft)||T.designer?.toLowerCase().includes(ft));return ve||J||et||_t||!1},ut=()=>{let T=[...i];if(!V&&M&&(T=T.filter(et=>Ve(et))),g!=="all"&&(T=T.filter(et=>et.calendarId===g)),E){const et=E.toLowerCase();T=T.filter(_t=>_t.name.toLowerCase().includes(et)||_t.phone.includes(et)||_t.designer.toLowerCase().includes(et))}const Le=new Date;Le.setHours(0,0,0,0);const ft=Le.getFullYear(),pt=String(Le.getMonth()+1).padStart(2,"0"),ve=String(Le.getDate()).padStart(2,"0"),J=`${ft}-${pt}-${ve}`;C==="today"?T=T.filter(et=>et.date===J):C==="future"?T=T.filter(et=>{const _t=new Date(et.date+"T00:00:00");return _t.setHours(0,0,0,0),_t>=Le}):C==="past"&&(T=T.filter(et=>{const _t=new Date(et.date+"T00:00:00");return _t.setHours(0,0,0,0),_t<Le})),m(T)},Xe=T=>new Date(T+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),it=T=>new Date(T).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),kt=T=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[T]||T,U=()=>{I(!N)},ce=()=>{sessionStorage.removeItem("user"),l("/")},[Ke,zt]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const T=()=>{const ft=localStorage.getItem("accentColor");ft&&(zt(ft),document.documentElement.style.setProperty("--accent-color",ft))};window.addEventListener("settingsUpdated",T),window.addEventListener("storage",T);const Le=localStorage.getItem("accentColor");return Le&&(zt(Le),document.documentElement.style.setProperty("--accent-color",Le)),()=>{window.removeEventListener("settingsUpdated",T),window.removeEventListener("storage",T)}},[]);const Oe=N?"#000000":"#f5f5f5",dt=N?"#ffffff":"#111827",rt=N?"#9ca3af":"#6b7280",xt=N?"#333333":"#e5e7eb",Rt=T=>{if(!V&&!Ve(T)){alert("Vous ne pouvez modifier que vos propres rservations.");return}ye(T),fe(!0)},vn=async T=>{if(!V&&!Ve(T)){alert("Vous ne pouvez supprimer que vos propres rservations.");return}if(window.confirm(`tes-vous sr de vouloir supprimer la rservation de ${T.name} pour le ${Xe(T.date)} ?`))try{await Xo(T.id),alert("Rservation supprime avec succs"),await Pe(),P()}catch(Le){console.error("Error deleting booking:",Le),alert("Erreur lors de la suppression de la rservation")}},Ft=async T=>{try{if(q){const Le=q.calendarId||T.calendar_id,ft=Le===Ge.calendar1,pt={calendar_id:Le,booking_date:T.booking_date,booking_time:ft&&!T.booking_time?"21h00":T.booking_time||"",client_name:T.client_name,client_phone:T.client_phone,designer_name:T.designer_name,message:T.message||""};await Xd(q.id,pt),alert("Rservation modifie avec succs")}else{const Le={name:T.client_name,phone:T.client_phone,designer:T.designer_name,message:T.message,date:T.booking_date,selectedDate:new Date(T.booking_date),timeSlot:T.booking_time||void 0};await es(Le,T.calendar_id),alert("Rservation cre avec succs")}fe(!1),ye(null),await Pe(),P()}catch(Le){console.error("Error saving booking:",Le);const ft=Le?.message||"Erreur lors de l'enregistrement de la rservation";alert(` ${ft}`)}};return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:Oe},children:[H&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>xe(!1),style:{display:je?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),je&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:N?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${xt}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>xe(!H),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:dt,zIndex:1001,position:"relative"},"aria-label":H?"Fermer le menu":"Ouvrir le menu",children:H?n.jsx(cs,{size:24}):n.jsx(is,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${Ke} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:dt},children:"Rservations"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:U,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:rt,cursor:"pointer"},children:N?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${H?"mobile-open":""}`,style:{position:je?"fixed":"sticky",top:je?"60px":0,left:0,height:je?"calc(100vh - 60px)":"100vh",width:je?"280px":R?"256px":"64px",borderRight:`1px solid ${xt}`,backgroundColor:N?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:je?H?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${xt}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Ke} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),R&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:dt},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:rt},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(In,{Icon:ls,title:"Accueil",isActive:u.pathname==="/"||u.pathname==="/dashboard",open:R,onClick:()=>l("/dashboard"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:ss,title:"Rservation",isActive:u.pathname==="/rservation",open:R,onClick:()=>l("/rservation"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:ao,title:"Gestion des jours-fris",isActive:u.pathname==="/jours-feries",open:R,onClick:()=>l("/jours-feries"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:co,title:"Utilisateurs",isActive:u.pathname==="/utilisateurs",open:R,onClick:()=>l("/utilisateurs"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt}),n.jsxs("button",{onClick:()=>X(!ie),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:rt,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:T=>{T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",T.currentTarget.style.color=dt},onMouseLeave:T=>{T.currentTarget.style.backgroundColor="transparent",T.currentTarget.style.color=rt},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),R&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),ie?n.jsx(as,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(rs,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),ie&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(In,{Icon:nt,title:"Metr",isActive:u.pathname==="/metre",open:R,onClick:()=>l("/metre"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:nt,title:"Pose",isActive:u.pathname==="/pose",open:R,onClick:()=>l("/pose"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:nt,title:"SAV",isActive:u.pathname==="/sav",open:R,onClick:()=>l("/sav"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt})]})]}),R&&n.jsxs("div",{style:{borderTop:`1px solid ${xt}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:rt,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(In,{Icon:N?Xt:qt,title:N?"Mode clair":"Mode sombre",isActive:!1,open:R,onClick:U,isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:Pr,title:"Paramtres",isActive:u.pathname==="/parametres",open:R,onClick:()=>l("/parametres"),isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt})]}),n.jsx("div",{style:{borderTop:`1px solid ${xt}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(In,{Icon:tr,title:"Dconnexion",isActive:!1,open:R,onClick:ce,isDarkMode:N,orangeColor:Ke,textColor:dt,textSecondary:rt})}),n.jsxs("button",{onClick:()=>G(!R),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${xt}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:rt,transition:"background-color 0.2s",height:"48px"},onMouseEnter:T=>T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",onMouseLeave:T=>T.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(os,{style:{width:"16px",height:"16px",transform:R?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),R&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:Oe,paddingTop:je?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${N?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:V?"Administration - Rservations":"Mes Rservations"}),n.jsx("p",{children:V?"Gestion des rservations":"Vos rservations personnelles"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>ke(!ae),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:T=>{T.currentTarget.style.color=N?"#ffffff":"#111827",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:T=>{T.currentTarget.style.color=N?"#9ca3af":"#6b7280",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:[n.jsx(zr,{style:{width:"20px",height:"20px"}}),Se>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:Se>99?"99+":Se})]}),ae&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${N?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:N?"#ffffff":"#111827"},children:"Notifications"}),Se>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[Se," nouvelle",Se>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:Ye.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:N?"#9ca3af":"#6b7280"},children:"Aucune notification"}):Ye.slice(0,10).map(T=>{const Le=Ia(T.timestamp),pt=(()=>{if(T.type==="booking"){const ve=T.data,J=En(ve.calendarId);return{subtitle:`${ve.name} - ${J}`,details:`${Xe(ve.date)} ${ve.time&&ve.time!=="21h00"?` ${ve.time}`:""}`,onClick:()=>{ke(!1),l("/rservation")}}}else if(T.type==="holiday"){const ve=T.data;return{subtitle:`${En(ve.calendarId)} - ${Xe(ve.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{ke(!1),l("/jours-feries")}}}else if(T.type==="user"){const ve=T.data;return{subtitle:`${ve.name} (${kt(ve.role)})`,details:ve.email,onClick:()=>{ke(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:pt.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${N?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:ve=>{ve.currentTarget.style.backgroundColor=N?"#2a2a2a":"#f9fafb"},onMouseLeave:ve=>{ve.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:N?"#ffffff":"#111827",marginBottom:"4px"},children:T.title}),n.jsx("div",{style:{fontSize:"13px",color:N?"#9ca3af":"#6b7280",marginBottom:"4px"},children:pt.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:N?"#6b7280":"#9ca3af"},children:pt.details})]}),n.jsx("div",{style:{fontSize:"11px",color:N?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:Le})]})},T.id)})}),Ye.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${N?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{ke(!1),Ye[0]?.type==="booking"?l("/rservation"):Ye[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:U,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${N?"#333333":"#e5e7eb"}`,backgroundColor:N?"#1a1a1a":"#ffffff",color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:T=>{T.currentTarget.style.color=N?"#ffffff":"#111827",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:T=>{T.currentTarget.style.color=N?"#9ca3af":"#6b7280",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:N?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:ce,style:{padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:T=>{T.currentTarget.style.color=N?"#ffffff":"#111827",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:T=>{T.currentTarget.style.color=N?"#9ca3af":"#6b7280",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:n.jsx(tr,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"calendar-filter",children:"Calendrier:"}),n.jsxs("select",{id:"calendar-filter",value:g,onChange:T=>k(T.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:Ge.calendar1,children:"Pose"}),n.jsx("option",{value:Ge.calendar2,children:"SAV"}),n.jsx("option",{value:Ge.calendar3,children:"Metr"})]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"date-filter",children:"Date:"}),n.jsxs("select",{id:"date-filter",value:C,onChange:T=>K(T.target.value),children:[n.jsx("option",{value:"all",children:"Toutes les dates"}),n.jsx("option",{value:"today",children:"Aujourd'hui"}),n.jsx("option",{value:"future",children:"Futures"}),n.jsx("option",{value:"past",children:"Passes"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, tlphone, concepteur...",value:E,onChange:T=>B(T.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:Pe,children:[n.jsx(Ta,{className:"refresh-icon"}),"Actualiser"]})]}),n.jsx("main",{className:"admin-main",children:x?n.jsx("div",{className:"loading-message",children:"Chargement des rservations..."}):f.length===0?n.jsx("div",{className:"no-bookings",children:"Aucune rservation trouve"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",f.length," rservation(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Heure"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Concepteur"}),n.jsx("th",{children:"Message"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:f.map(T=>n.jsxs("tr",{children:[n.jsx("td",{children:Xe(T.date)}),n.jsx("td",{className:"time-slot-cell",children:T.time&&T.time!=="21h00"?T.time:"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:En(T.calendarId)})}),n.jsx("td",{children:T.name}),n.jsx("td",{children:T.phone}),n.jsx("td",{children:T.designer}),n.jsx("td",{className:"message-cell",children:T.message||n.jsx("span",{className:"no-message",children:"-"})}),n.jsx("td",{children:it(T.timestamp)}),n.jsx("td",{className:"actions-cell",children:V||Ve(T)?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"edit-button",onClick:()=>Rt(T),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>vn(T),title:"Supprimer",children:""})]}):n.jsx("span",{style:{color:N?"#6b7280":"#9ca3af",fontSize:"12px"},children:"Non autoris"})})]},T.id))})]})})]})}),n.jsx(Bg,{isOpen:Fe,onClose:()=>{fe(!1),ye(null)},onSubmit:Ft,booking:q,isDarkMode:N,users:V?be:[]}),_&&n.jsx("div",{className:`admin-booking-modal-overlay ${N?"dark-mode":"light-mode"}`,onClick:()=>me(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{className:"admin-booking-modal",onClick:T=>T.stopPropagation(),style:{backgroundColor:N?"#1a1a1a":"#ffffff",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:N?"#ffffff":"#111827"},children:"Dtails de la rservation"}),n.jsx("button",{onClick:()=>me(null),style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:N?"#9ca3af":"#6b7280",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Date:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:Xe(_.date)})]}),_.time&&_.time!=="21h00"&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Heure:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.time})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Calendrier:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:En(_.calendarId)})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Client:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.name})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Tlphone:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.phone})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Concepteur:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.designer})]}),_.message&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Message:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827",whiteSpace:"pre-wrap"},children:_.message})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Cr le:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:it(_.timestamp)})]})]}),n.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:n.jsx("button",{onClick:()=>me(null),style:{padding:"8px 16px",borderRadius:"8px",border:`1px solid ${N?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:N?"#ffffff":"#111827",cursor:"pointer",fontSize:"14px"},children:"Fermer"})})]})})]})})]})}const In=({Icon:l,title:u,isActive:i,open:c,onClick:f,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:u})]}),Og=({isOpen:l,onClose:u,onSubmit:i,user:c,isDarkMode:f=!0})=>{const[m,x]=h.useState({name:"",email:"",phone:"",role:"technicien",password:""}),[w,g]=h.useState(""),[k,E]=h.useState({});h.useEffect(()=>{c?(x({name:c.name||"",email:c.email||"",phone:c.phone||"",role:c.role||"technicien",password:""}),g("")):(x({name:"",email:"",phone:"",role:"technicien",password:""}),g("")),E({})},[c,l]);const B=I=>{const{name:R,value:G}=I.target;if(R==="confirmPassword"){g(G),k.confirmPassword&&E(H=>({...H,confirmPassword:void 0}));return}if(R==="phone"){const H=G.replace(/\D/g,"");x(xe=>({...xe,[R]:H}))}else x(H=>({...H,[R]:G}));k[R]&&E(H=>({...H,[R]:void 0})),R==="password"&&k.confirmPassword&&E(H=>({...H,confirmPassword:void 0}))},C=()=>{const I={};return m.name.trim()||(I.name="Le nom est requis"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(I.email="L'email n'est pas valide"):I.email="L'email est requis",m.phone.trim()?m.phone.length<8&&(I.phone="Le numro de tlphone doit contenir au moins 8 chiffres"):I.phone="Le tlphone est requis",m.role||(I.role="Le rle est requis"),!c&&!m.password.trim()?I.password="Le mot de passe est requis":!c&&m.password.length<6&&(I.password="Le mot de passe doit contenir au moins 6 caractres"),c?m.password.trim()&&(w.trim()?m.password!==w&&(I.confirmPassword="Les mots de passe ne correspondent pas"):I.confirmPassword="Veuillez confirmer le mot de passe"):w.trim()?m.password!==w&&(I.confirmPassword="Les mots de passe ne correspondent pas"):I.confirmPassword="Veuillez confirmer le mot de passe",E(I),Object.keys(I).length===0},K=I=>{I.preventDefault(),C()&&i({...m,confirm_password:w})};if(!l)return null;const N=I=>{I.target===I.currentTarget&&u()};return n.jsx("div",{className:`user-modal-overlay ${f?"dark-mode":"light-mode"}`,onClick:N,children:n.jsxs("div",{className:"user-modal",onClick:I=>I.stopPropagation(),children:[n.jsxs("div",{className:"user-modal-header",children:[n.jsx("h2",{children:c?"Modifier l'utilisateur":"Nouvel utilisateur"}),n.jsx("button",{className:"close-button",onClick:u,children:""})]}),n.jsxs("form",{onSubmit:K,className:"user-modal-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:B,className:k.name?"error":"",placeholder:"Ex: Jean Dupont"}),k.name&&n.jsx("span",{className:"error-message",children:k.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:m.email,onChange:B,className:k.email?"error":"",placeholder:"Ex: jean.dupont@example.com"}),k.email&&n.jsx("span",{className:"error-message",children:k.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:B,className:k.phone?"error":"",placeholder:"Ex: 0612345678"}),k.phone&&n.jsx("span",{className:"error-message",children:k.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"role",children:"Rle *"}),n.jsxs("select",{id:"role",name:"role",value:m.role,onChange:B,className:k.role?"error":"",children:[n.jsx("option",{value:"technicien",children:"Technicien"}),n.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&n.jsx("span",{className:"error-message",children:k.role})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"password",children:["Mot de passe ",!c&&"*",c&&n.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"normal",color:"#999"},children:"(Laisser vide pour ne pas modifier)"})]}),n.jsx("input",{type:"password",id:"password",name:"password",value:m.password,onChange:B,className:k.password?"error":"",placeholder:c?"Nouveau mot de passe (optionnel)":"Mot de passe"}),k.password&&n.jsx("span",{className:"error-message",children:k.password})]}),(!c||m.password.trim())&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe *"}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:w,onChange:B,className:k.confirmPassword?"error":"",placeholder:"Confirmer le mot de passe"}),k.confirmPassword&&n.jsx("span",{className:"error-message",children:k.confirmPassword})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:u,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:c?"Modifier":"Crer"})]})]})]})})};function Wg(){const l=yn(),u=un(),[i,c]=h.useState([]),[f,m]=h.useState([]),[x,w]=h.useState(!0),[g,k]=h.useState("all"),[E,B]=h.useState(""),[C,K]=h.useState(()=>{const U=localStorage.getItem("darkMode");return U?JSON.parse(U):!0}),[N,I]=h.useState(!0),[R,G]=h.useState(!1),[H,xe]=h.useState(!1),[je,Be]=h.useState(!0),[Fe,fe]=h.useState(!1),[q,ye]=h.useState(0),[ie,X]=h.useState([]),[ae,ke]=h.useState(!1),[Se,Qe]=h.useState(null);h.useEffect(()=>{const U=sessionStorage.getItem("user");if(!U){l("/login");return}if(JSON.parse(U).role!=="admin"){l("/");return}de()},[l]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(C)),document.documentElement.setAttribute("data-theme",C?"dark":"light")},[C]),h.useEffect(()=>{const U=()=>{xe(window.innerWidth<=768),window.innerWidth>768&&G(!1)};return U(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),h.useEffect(()=>{G(!1)},[u.pathname]),h.useEffect(()=>(R?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[R]),h.useEffect(()=>{M()},[i,g,E]);const Ye=async()=>{try{const U=await za(),ce=i.map(Oe=>({id:Oe.id,name:Oe.name,email:Oe.email,role:Oe.role,createdAt:Oe.created_at})),Ke=Lg(ce),zt=[...U,...Ke].sort((Oe,dt)=>dt.timestamp-Oe.timestamp);X(zt),ye(zt.length)}catch(U){console.error("Error loading notifications:",U)}};h.useEffect(()=>{Ye();const U=setInterval(Ye,6e4),ce=()=>Ye();return window.addEventListener("notificationRefresh",ce),()=>{clearInterval(U),window.removeEventListener("notificationRefresh",ce)}},[i]),h.useEffect(()=>{const U=ce=>{const Ke=ce.target;Fe&&!Ke.closest("[data-notifications-dropdown]")&&fe(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[Fe]);const de=async()=>{w(!0);try{const U=await Ar(g!=="all"?g:void 0);c(U)}catch(U){console.error("Error loading users:",U);const ce=U instanceof Error?U.message:"Erreur lors du chargement des utilisateurs";alert(`Erreur: ${ce}`)}finally{w(!1)}},M=()=>{let U=[...i];if(g!=="all"&&(U=U.filter(ce=>ce.role===g)),E){const ce=E.toLowerCase();U=U.filter(Ke=>Ke.name.toLowerCase().includes(ce)||Ke.email.toLowerCase().includes(ce)||Ke.phone&&Ke.phone.includes(ce))}m(U)},Z=U=>new Date(U).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),V=U=>({admin:"Administrateur",technicien:"Technicien"})[U]||U,S=U=>({admin:"#fa541c",technicien:"#17a2b8"})[U]||"#6c757d",_=()=>{K(!C)},me=()=>{sessionStorage.removeItem("user"),l("/")},be=()=>{Qe(null),ke(!0)},ee=U=>{Qe(U),ke(!0)},P=async U=>{if(window.confirm(`tes-vous sr de vouloir supprimer l'utilisateur ${U.name} (${U.email}) ?`))try{await _g(U.id),alert(" Utilisateur supprim avec succs"),await de()}catch(ce){console.error("Error deleting user:",ce);const Ke=ce?.message||"Erreur lors de la suppression de l'utilisateur";alert(` ${Ke}`)}},Pe=async U=>{try{if(Se){const ce={name:U.name,email:U.email,phone:U.phone,role:U.role};U.password&&(ce.password=U.password,ce.confirm_password=U.confirm_password),await Tg(Se.id,ce),alert(" Utilisateur modifi avec succs")}else await Mg(U),alert(" Utilisateur cr avec succs");ke(!1),Qe(null),await de()}catch(ce){console.error("Error saving user:",ce);const Ke=ce?.message||"Erreur lors de l'enregistrement de l'utilisateur";alert(` ${Ke}`)}},[Te,Ve]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const U=()=>{const Ke=localStorage.getItem("accentColor");Ke&&(Ve(Ke),document.documentElement.style.setProperty("--accent-color",Ke))};window.addEventListener("settingsUpdated",U),window.addEventListener("storage",U);const ce=localStorage.getItem("accentColor");return ce&&(Ve(ce),document.documentElement.style.setProperty("--accent-color",ce)),()=>{window.removeEventListener("settingsUpdated",U),window.removeEventListener("storage",U)}},[]);const ut=C?"#000000":"#f5f5f5",Xe=C?"#ffffff":"#111827",it=C?"#9ca3af":"#6b7280",kt=C?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:ut},children:[R&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>G(!1),style:{display:H?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),H&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:C?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${kt}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>G(!R),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:Xe,zIndex:1001,position:"relative"},"aria-label":R?"Fermer le menu":"Ouvrir le menu",children:R?n.jsx(cs,{size:24}):n.jsx(is,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${Te} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:Xe},children:"Utilisateurs"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:_,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:it,cursor:"pointer"},children:C?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${R?"mobile-open":""}`,style:{position:H?"fixed":"sticky",top:H?"60px":0,left:0,height:H?"calc(100vh - 60px)":"100vh",width:H?"280px":N?"256px":"64px",borderRight:`1px solid ${kt}`,backgroundColor:C?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:H?R?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${kt}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Te} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),N&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:Xe},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:it},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(An,{Icon:ls,title:"Accueil",isActive:u.pathname==="/"||u.pathname==="/dashboard",open:N,onClick:()=>l("/dashboard"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it}),n.jsx(An,{Icon:ss,title:"Rservation",isActive:u.pathname==="/rservation",open:N,onClick:()=>l("/rservation"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it}),n.jsx(An,{Icon:ao,title:"Gestion des jours-fris",isActive:u.pathname==="/jours-feries",open:N,onClick:()=>l("/jours-feries"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it}),n.jsx(An,{Icon:co,title:"Utilisateurs",isActive:u.pathname==="/utilisateurs",open:N,onClick:()=>l("/utilisateurs"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it}),n.jsxs("button",{onClick:()=>Be(!je),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:it,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:U=>{U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb",U.currentTarget.style.color=Xe},onMouseLeave:U=>{U.currentTarget.style.backgroundColor="transparent",U.currentTarget.style.color=it},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),N&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),je?n.jsx(as,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(rs,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),je&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(An,{Icon:nt,title:"Metr",isActive:u.pathname==="/metre",open:N,onClick:()=>l("/metre"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it}),n.jsx(An,{Icon:nt,title:"Pose",isActive:u.pathname==="/pose",open:N,onClick:()=>l("/pose"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it}),n.jsx(An,{Icon:nt,title:"SAV",isActive:u.pathname==="/sav",open:N,onClick:()=>l("/sav"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it})]})]}),N&&n.jsxs("div",{style:{borderTop:`1px solid ${kt}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:it,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(An,{Icon:C?Xt:qt,title:C?"Mode clair":"Mode sombre",isActive:!1,open:N,onClick:_,isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it}),n.jsx(An,{Icon:Pr,title:"Paramtres",isActive:u.pathname==="/parametres",open:N,onClick:()=>l("/parametres"),isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it})]}),n.jsx("div",{style:{borderTop:`1px solid ${kt}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(An,{Icon:tr,title:"Dconnexion",isActive:!1,open:N,onClick:me,isDarkMode:C,orangeColor:Te,textColor:Xe,textSecondary:it})}),n.jsxs("button",{onClick:()=>I(!N),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${kt}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:it,transition:"background-color 0.2s",height:"48px"},onMouseEnter:U=>U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb",onMouseLeave:U=>U.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(os,{style:{width:"16px",height:"16px",transform:N?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),N&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:ut,paddingTop:H?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${C?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Utilisateurs"}),n.jsx("p",{children:"Gestion des utilisateurs"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>fe(!Fe),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:C?"#1a1a1a":"#ffffff",border:`1px solid ${C?"#333333":"#e5e7eb"}`,color:C?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:U=>{U.currentTarget.style.color=C?"#ffffff":"#111827",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb"},onMouseLeave:U=>{U.currentTarget.style.color=C?"#9ca3af":"#6b7280",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#ffffff"},children:[n.jsx(zr,{style:{width:"20px",height:"20px"}}),q>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:q>99?"99+":q})]}),Fe&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:C?"#1a1a1a":"#ffffff",border:`1px solid ${C?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${C?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:C?"#ffffff":"#111827"},children:"Notifications"}),q>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[q," nouvelle",q>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:ie.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:C?"#9ca3af":"#6b7280"},children:"Aucune notification"}):ie.slice(0,10).map(U=>{const ce=Ia(U.timestamp),zt=(()=>{if(U.type==="booking"){const Oe=U.data,dt=En(Oe.calendarId),rt=xt=>new Date(xt+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return{subtitle:`${Oe.name} - ${dt}`,details:`${rt(Oe.date)} ${Oe.time&&Oe.time!=="21h00"?` ${Oe.time}`:""}`,onClick:()=>{fe(!1),l("/rservation")}}}else if(U.type==="holiday"){const Oe=U.data;return{subtitle:`${En(Oe.calendarId)} - ${(xt=>new Date(xt+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(Oe.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{fe(!1),l("/jours-feries")}}}else if(U.type==="user"){const Oe=U.data;return{subtitle:`${Oe.name} (${V(Oe.role)})`,details:Oe.email,onClick:()=>{fe(!1)}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:zt.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${C?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Oe=>{Oe.currentTarget.style.backgroundColor=C?"#2a2a2a":"#f9fafb"},onMouseLeave:Oe=>{Oe.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:C?"#ffffff":"#111827",marginBottom:"4px"},children:U.title}),n.jsx("div",{style:{fontSize:"13px",color:C?"#9ca3af":"#6b7280",marginBottom:"4px"},children:zt.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:C?"#6b7280":"#9ca3af"},children:zt.details})]}),n.jsx("div",{style:{fontSize:"11px",color:C?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:ce})]})},U.id)})}),ie.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${C?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{fe(!1),ie[0]?.type==="booking"?l("/rservation"):ie[0]?.type==="holiday"&&l("/jours-feries")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:_,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${C?"#333333":"#e5e7eb"}`,backgroundColor:C?"#1a1a1a":"#ffffff",color:C?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:U=>{U.currentTarget.style.color=C?"#ffffff":"#111827",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb"},onMouseLeave:U=>{U.currentTarget.style.color=C?"#9ca3af":"#6b7280",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#ffffff"},children:C?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:me,style:{padding:"8px",borderRadius:"8px",backgroundColor:C?"#1a1a1a":"#ffffff",border:`1px solid ${C?"#333333":"#e5e7eb"}`,color:C?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:U=>{U.currentTarget.style.color=C?"#ffffff":"#111827",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb"},onMouseLeave:U=>{U.currentTarget.style.color=C?"#9ca3af":"#6b7280",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#ffffff"},children:n.jsx(tr,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"role-filter",children:"Rle:"}),n.jsxs("select",{id:"role-filter",value:g,onChange:U=>k(U.target.value),children:[n.jsx("option",{value:"all",children:"Tous les rles"}),n.jsx("option",{value:"admin",children:"Administrateur"}),n.jsx("option",{value:"technicien",children:"Technicien"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, email, tlphone...",value:E,onChange:U=>B(U.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:de,children:[n.jsx(Ta,{className:"refresh-icon"}),"Actualiser"]}),n.jsxs("button",{className:"create-button",onClick:be,children:[n.jsx(Yd,{className:"create-icon"}),"Nouvel utilisateur"]})]}),n.jsx("main",{className:"admin-main",children:x?n.jsx("div",{className:"loading-message",children:"Chargement des utilisateurs..."}):f.length===0?n.jsx("div",{className:"no-bookings",children:"Aucun utilisateur trouv"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",f.length," utilisateur(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Rle"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:f.map(U=>n.jsxs("tr",{children:[n.jsx("td",{children:U.name}),n.jsx("td",{children:U.email}),n.jsx("td",{children:U.phone||"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",style:{backgroundColor:S(U.role)},children:V(U.role)})}),n.jsx("td",{children:Z(U.created_at)}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>ee(U),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>P(U),title:"Supprimer",children:""})]})]},U.id))})]})})]})}),n.jsx(Og,{isOpen:ae,onClose:()=>{ke(!1),Qe(null)},onSubmit:Pe,user:Se,isDarkMode:C})]})})]})}const An=({Icon:l,title:u,isActive:i,open:c,onClick:f,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:u})]}),Bn=({Icon:l,title:u,isActive:i,open:c,onClick:f,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:u})]});function Ug(){const l=yn(),u=un(),[i,c]=h.useState(()=>{const P=localStorage.getItem("darkMode");return P?JSON.parse(P):!0}),[f,m]=h.useState(!0),[x,w]=h.useState(!1),[g,k]=h.useState(!1),[E,B]=h.useState(!0),[C,K]=h.useState("general"),[N,I]=h.useState(!1),[R,G]=h.useState("idle"),[H,xe]=h.useState({email:!0,push:!1,sms:!1}),[je,Be]=h.useState("fr"),[Fe,fe]=h.useState("Europe/Paris"),[q,ye]=h.useState(!0),[ie,X]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light")},[i]),h.useEffect(()=>{localStorage.setItem("accentColor",ie),document.documentElement.style.setProperty("--accent-color",ie)},[ie]),h.useEffect(()=>{const P=sessionStorage.getItem("user");if(!P){l("/login");return}if(JSON.parse(P).role!=="admin"){l("/");return}},[l]),h.useEffect(()=>{const P=()=>{k(window.innerWidth<=768),window.innerWidth>768&&w(!1)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),h.useEffect(()=>{w(!1)},[u.pathname]),h.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[x]);const ae=()=>{c(!i)},ke=()=>{sessionStorage.removeItem("user"),l("/")},Se=async()=>{I(!0),G("idle");try{localStorage.setItem("accentColor",ie),localStorage.setItem("darkMode",JSON.stringify(i)),localStorage.setItem("notifications",JSON.stringify(H)),localStorage.setItem("language",je),localStorage.setItem("timezone",Fe),localStorage.setItem("autoSave",JSON.stringify(q)),document.documentElement.style.setProperty("--accent-color",ie),window.dispatchEvent(new Event("settingsUpdated")),await new Promise(P=>setTimeout(P,500)),I(!1),G("success"),setTimeout(()=>{G("idle")},3e3)}catch(P){console.error("Error saving settings:",P),I(!1),G("error"),setTimeout(()=>{G("idle")},3e3)}},Qe=()=>{alert("Fonctionnalit d'export  venir")},Ye=()=>{alert("Fonctionnalit d'import  venir")},de=()=>{window.confirm("tes-vous sr de vouloir rinitialiser tous les paramtres ?")&&(xe({email:!0,push:!1,sms:!1}),Be("fr"),fe("Europe/Paris"),ye(!0),alert("Paramtres rinitialiss"))},M=ie,Z=i?"#000000":"#f5f5f5",V=i?"#ffffff":"#111827",S=i?"#9ca3af":"#6b7280",_=i?"#333333":"#e5e7eb",me=i?"#111111":"#ffffff",be=[{name:"Orange",value:"#fa541c",hex:"#fa541c"},{name:"Bleu",value:"#1890ff",hex:"#1890ff"},{name:"Vert",value:"#52c41a",hex:"#52c41a"},{name:"Rouge",value:"#f5222d",hex:"#f5222d"},{name:"Violet",value:"#722ed1",hex:"#722ed1"},{name:"Rose",value:"#eb2f96",hex:"#eb2f96"},{name:"Cyan",value:"#13c2c2",hex:"#13c2c2"},{name:"Jaune",value:"#faad14",hex:"#faad14"},{name:"Indigo",value:"#2f54eb",hex:"#2f54eb"},{name:"Turquoise",value:"#36cfc9",hex:"#36cfc9"},{name:"Magenta",value:"#f759ab",hex:"#f759ab"},{name:"Lime",value:"#a0d911",hex:"#a0d911"}],ee=[{id:"general",label:"Gnral",icon:Pr},{id:"notifications",label:"Notifications",icon:zr},{id:"appearance",label:"Apparence",icon:ya},{id:"data",label:"Donnes",icon:xa}];return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:Z},children:[x&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>w(!1),style:{display:g?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),g&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${_}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>w(!x),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:V,zIndex:1001,position:"relative"},"aria-label":x?"Fermer le menu":"Ouvrir le menu",children:x?n.jsx(cs,{size:24}):n.jsx(is,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${ie} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:V},children:"Paramtres"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:ae,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:S,cursor:"pointer"},children:i?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${x?"mobile-open":""}`,style:{position:g?"fixed":"sticky",top:g?"60px":0,left:0,height:g?"calc(100vh - 60px)":"100vh",width:g?"280px":f?"256px":"64px",borderRight:`1px solid ${_}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:g?x?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${_}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${ie} 0%, ${ie}dd 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${ie}40`},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),f&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:V},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:S},children:"Paramtres"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Bn,{Icon:ls,title:"Accueil",isActive:u.pathname==="/"||u.pathname==="/dashboard",open:f,onClick:()=>l("/dashboard"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:ss,title:"Rservation",isActive:u.pathname==="/rservation",open:f,onClick:()=>l("/rservation"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:ao,title:"Gestion des jours-fris",isActive:u.pathname==="/jours-feries",open:f,onClick:()=>l("/jours-feries"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:co,title:"Utilisateurs",isActive:u.pathname==="/utilisateurs",open:f,onClick:()=>l("/utilisateurs"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S}),n.jsxs("button",{onClick:()=>B(!E),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:S,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",P.currentTarget.style.color=V},onMouseLeave:P=>{P.currentTarget.style.backgroundColor="transparent",P.currentTarget.style.color=S},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),f&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),E?n.jsx(as,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(rs,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),E&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Bn,{Icon:nt,title:"Metr",isActive:u.pathname==="/metre",open:f,onClick:()=>l("/metre"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:nt,title:"Pose",isActive:u.pathname==="/pose",open:f,onClick:()=>l("/pose"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:nt,title:"SAV",isActive:u.pathname==="/sav",open:f,onClick:()=>l("/sav"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S})]})]}),f&&n.jsxs("div",{style:{borderTop:`1px solid ${_}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:S,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Bn,{Icon:i?Xt:qt,title:i?"Mode clair":"Mode sombre",isActive:!1,open:f,onClick:ae,isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:Pr,title:"Paramtres",isActive:u.pathname==="/parametres",open:f,onClick:()=>l("/parametres"),isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S})]}),n.jsx("div",{style:{borderTop:`1px solid ${_}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Bn,{Icon:tr,title:"Dconnexion",isActive:!1,open:f,onClick:ke,isDarkMode:i,orangeColor:M,textColor:V,textSecondary:S})}),!g&&n.jsxs("button",{onClick:()=>m(!f),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${_}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:S,transition:"background-color 0.2s"},onMouseEnter:P=>P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:P=>P.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(os,{style:{width:"16px",height:"16px",transform:f?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),f&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{className:"dashboard-main",style:{flex:1,overflow:"auto",backgroundColor:Z,paddingTop:g?"60px":0},children:n.jsxs("div",{className:`settings-page ${i?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"settings-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Paramtres"}),n.jsx("p",{children:"Grez vos prfrences et configurations"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[R==="success"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",backgroundColor:i?"#065f46":"#d1fae5",color:i?"#6ee7b7":"#065f46",fontSize:"14px",fontWeight:500},children:[n.jsx(Om,{size:16}),"Enregistr"]}),n.jsx("button",{onClick:Se,disabled:N,className:"save-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"none",backgroundColor:ie,color:"#ffffff",fontSize:"14px",fontWeight:600,cursor:N?"not-allowed":"pointer",opacity:N?.7:1,transition:"all 0.2s",boxShadow:`0 2px 8px ${ie}40`},onMouseEnter:P=>{N||(P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow=`0 4px 12px ${ie}60`)},onMouseLeave:P=>{N||(P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow=`0 2px 8px ${ie}40`)},children:N?n.jsxs(n.Fragment,{children:[n.jsx(Ta,{size:16,style:{animation:"spin 1s linear infinite"}}),"Enregistrement..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ag,{size:16}),"Enregistrer"]})})]})]})}),n.jsxs("div",{className:"settings-container",children:[n.jsx("div",{className:"settings-sidebar",children:ee.map(P=>{const Pe=P.icon;return n.jsxs("button",{onClick:()=>K(P.id),className:`settings-nav-item ${C===P.id?"active":""}`,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"8px",border:"none",backgroundColor:C===P.id?i?`${M}30`:`${M}15`:"transparent",color:C===P.id?M:S,cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:C===P.id?600:500},onMouseEnter:Te=>{C!==P.id&&(Te.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",Te.currentTarget.style.color=V)},onMouseLeave:Te=>{C!==P.id&&(Te.currentTarget.style.backgroundColor="transparent",Te.currentTarget.style.color=S)},children:[n.jsx(Pe,{size:18}),n.jsx("span",{children:P.label})]},P.id)})}),n.jsxs("div",{className:"settings-content",children:[C==="general"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Pr,{size:24,style:{color:ie}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Paramtres gnraux"}),n.jsx("p",{children:"Configurez les paramtres de base de votre application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Qm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Langue"}),n.jsx("p",{children:"Slectionnez votre langue prfre"})]})]}),n.jsxs("select",{value:je,onChange:P=>Be(P.target.value),className:"setting-input",children:[n.jsx("option",{value:"fr",children:"Franais"}),n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Espaol"}),n.jsx("option",{value:"de",children:"Deutsch"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Vm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Fuseau horaire"}),n.jsx("p",{children:"Dfinissez votre fuseau horaire"})]})]}),n.jsxs("select",{value:Fe,onChange:P=>fe(P.target.value),className:"setting-input",children:[n.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (GMT+1)"}),n.jsx("option",{value:"Europe/London",children:"Europe/London (GMT+0)"}),n.jsx("option",{value:"America/New_York",children:"America/New_York (GMT-5)"}),n.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(xa,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Sauvegarde automatique"}),n.jsx("p",{children:"Enregistrer automatiquement les modifications"})]})]}),n.jsx("button",{onClick:()=>ye(!q),className:`toggle-switch ${q?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),C==="notifications"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(zr,{size:24,style:{color:ie}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Notifications"}),n.jsx("p",{children:"Grez vos prfrences de notification"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Xm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications par email"}),n.jsx("p",{children:"Recevoir des notifications par email"})]})]}),n.jsx("button",{onClick:()=>xe({...H,email:!H.email}),className:`toggle-switch ${H.email?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Dm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications push"}),n.jsx("p",{children:"Recevoir des notifications push en temps rel"})]})]}),n.jsx("button",{onClick:()=>xe({...H,push:!H.push}),className:`toggle-switch ${H.push?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Lm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications SMS"}),n.jsx("p",{children:"Recevoir des notifications par SMS"})]})]}),n.jsx("button",{onClick:()=>xe({...H,sms:!H.sms}),className:`toggle-switch ${H.sms?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),C==="appearance"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(ya,{size:24,style:{color:ie}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Apparence"}),n.jsx("p",{children:"Personnalisez l'apparence de l'application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[i?n.jsx(Xt,{size:20}):n.jsx(qt,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Thme"}),n.jsx("p",{children:"Choisissez entre le mode clair et sombre"})]})]}),n.jsx("button",{onClick:ae,className:`toggle-switch ${i?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",style:{flexDirection:"column",alignItems:"flex-start",gap:"20px"},children:[n.jsxs("div",{className:"setting-info",style:{width:"100%"},children:[n.jsx(ya,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Couleur d'accentuation"}),n.jsx("p",{children:"Choisissez une couleur pour personnaliser l'interface"})]})]}),n.jsxs("div",{style:{width:"100%"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"12px",padding:"16px",backgroundColor:i?"#1a1a1a":"#f9fafb",borderRadius:"12px",border:`1px solid ${_}`},children:be.map(P=>n.jsx("button",{onClick:()=>X(P.value),style:{width:"60px",height:"60px",borderRadius:"12px",background:P.value,border:ie===P.value?`3px solid ${i?"#ffffff":"#000000"}`:`2px solid ${_}`,cursor:"pointer",transition:"all 0.2s ease",position:"relative",boxShadow:ie===P.value?`0 4px 12px ${P.value}60`:"0 2px 4px rgba(0, 0, 0, 0.1)",transform:ie===P.value?"scale(1.1)":"scale(1)"},onMouseEnter:Pe=>{ie!==P.value&&(Pe.currentTarget.style.transform="scale(1.05)",Pe.currentTarget.style.boxShadow=`0 4px 8px ${P.value}40`)},onMouseLeave:Pe=>{ie!==P.value&&(Pe.currentTarget.style.transform="scale(1)",Pe.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)")},title:P.name,children:ie===P.value&&n.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#ffffff",fontSize:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:""})},P.value))}),n.jsxs("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:i?"#1a1a1a":"#f9fafb",borderRadius:"8px",border:`1px solid ${_}`},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:ie,border:`2px solid ${_}`,boxShadow:`0 2px 8px ${ie}40`,flexShrink:0}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:V,marginBottom:"2px"},children:be.find(P=>P.value===ie)?.name||"Couleur personnalise"}),n.jsx("div",{style:{fontSize:"12px",color:S},children:ie.toUpperCase()})]})]})]})]})]})]}),C==="data"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(xa,{size:24,style:{color:ie}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Donnes"}),n.jsx("p",{children:"Grez vos donnes et sauvegardes"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(bd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Exporter les donnes"}),n.jsx("p",{children:"Tlchargez une copie de toutes vos donnes"})]})]}),n.jsxs("button",{onClick:Qe,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${_}`,backgroundColor:me,color:V,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",P.currentTarget.style.borderColor=M},onMouseLeave:P=>{P.currentTarget.style.backgroundColor=me,P.currentTarget.style.borderColor=_},children:[n.jsx(bd,{size:16}),"Exporter"]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Ed,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Importer les donnes"}),n.jsx("p",{children:"Restaurer vos donnes  partir d'un fichier"})]})]}),n.jsxs("button",{onClick:Ye,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${_}`,backgroundColor:me,color:V,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",P.currentTarget.style.borderColor=M},onMouseLeave:P=>{P.currentTarget.style.backgroundColor=me,P.currentTarget.style.borderColor=_},children:[n.jsx(Ed,{size:16}),"Importer"]})]}),n.jsxs("div",{className:"setting-item",style:{borderBottom:"none"},children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Nd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Rinitialiser les paramtres"}),n.jsx("p",{children:"Rtablir tous les paramtres par dfaut"})]})]}),n.jsxs("button",{onClick:de,className:"action-button danger",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"1px solid #ef4444",backgroundColor:i?"#7f1d1d":"#fee2e2",color:"#ef4444",cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#991b1b":"#fecaca"},onMouseLeave:P=>{P.currentTarget.style.backgroundColor=i?"#7f1d1d":"#fee2e2"},children:[n.jsx(Nd,{size:16}),"Rinitialiser"]})]})]})]})]})]})]})})]})}function Vg(){const l=yn(),u=un(),[i,c]=h.useState(()=>{const ee=localStorage.getItem("darkMode");return ee?JSON.parse(ee):!0}),[f,m]=h.useState(!0),[x,w]=h.useState(!1),[g,k]=h.useState(!1),[E,B]=h.useState(!0),[C,K]=h.useState([]),[N,I]=h.useState("all"),[R,G]=h.useState(""),[H,xe]=h.useState(Ge.calendar1),[je,Be]=h.useState(null),[Fe,fe]=h.useState(""),[q,ye]=h.useState("");h.useEffect(()=>{const ee=sessionStorage.getItem("user");if(!ee){l("/login");return}if(JSON.parse(ee).role!=="admin"){l("/");return}ie()},[l]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light")},[i]),h.useEffect(()=>{const ee=()=>{k(window.innerWidth<=768),window.innerWidth>768&&w(!1)};return ee(),window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]),h.useEffect(()=>{w(!1)},[u.pathname]),h.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[x]),h.useEffect(()=>{ie()},[N]);const ie=async()=>{try{if(N==="all"){const P=Object.values(Ge).map(Ve=>uo(Ve).then(ut=>({calendarId:Ve,holidays:ut}))),Pe=await Promise.all(P),Te=[];Pe.forEach(({calendarId:Ve,holidays:ut})=>{ut.forEach(Xe=>{Te.push({...Xe,calendarId:Ve})})}),Te.sort((Ve,ut)=>ut.holiday_date.localeCompare(Ve.holiday_date)),K(Te)}else{const ee=await uo(N);K(ee.map(P=>({...P,calendarId:N})))}}catch(ee){console.error("Error loading holidays:",ee),alert("Erreur lors du chargement des jours fris")}},X=async()=>{if(!R){alert("Veuillez slectionner une date");return}try{await Cg(H,R),alert("Jour fri ajout avec succs"),G(""),await ie(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(ee){console.error("Error adding holiday:",ee);const P=ee?.message||"Erreur lors de l'ajout du jour fri";alert(` ${P}`)}},ae=ee=>{Be(ee),fe(ee.holiday_date),ye(ee.calendarId||ee.calendar_id)},ke=()=>{Be(null),fe(""),ye("")},Se=async()=>{if(!je||!Fe){alert("Veuillez slectionner une date");return}try{await Sg(je.id,q,Fe),alert("Jour fri modifi avec succs"),ke(),await ie(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(ee){console.error("Error updating holiday:",ee);const P=ee?.message||"Erreur lors de la modification du jour fri";alert(` ${P}`)}},Qe=async ee=>{if(window.confirm(`tes-vous sr de vouloir supprimer le jour fri du ${Ye(ee.holiday_date)} ?`))try{await bg(ee.id),alert("Jour fri supprim avec succs"),await ie(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(P){console.error("Error deleting holiday:",P);const Pe=P?.message||"Erreur lors de la suppression du jour fri";alert(` ${Pe}`)}},Ye=ee=>new Date(ee+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),de=()=>{c(!i)},M=()=>{sessionStorage.removeItem("user"),l("/")},[Z,V]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const ee=()=>{const Pe=localStorage.getItem("accentColor");Pe&&(V(Pe),document.documentElement.style.setProperty("--accent-color",Pe))};window.addEventListener("settingsUpdated",ee),window.addEventListener("storage",ee);const P=localStorage.getItem("accentColor");return P&&(V(P),document.documentElement.style.setProperty("--accent-color",P)),()=>{window.removeEventListener("settingsUpdated",ee),window.removeEventListener("storage",ee)}},[]);const S=i?"#000000":"#f5f5f5",_=i?"#ffffff":"#111827",me=i?"#9ca3af":"#6b7280",be=i?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:S},children:[x&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>w(!1),style:{display:g?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),g&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${be}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>w(!x),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:_,zIndex:1001,position:"relative"},"aria-label":x?"Fermer le menu":"Ouvrir le menu",children:x?n.jsx(cs,{size:24}):n.jsx(is,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${Z} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:_},children:"Jours Fris"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:de,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:me,cursor:"pointer"},children:i?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${x?"mobile-open":""}`,style:{position:g?"fixed":"sticky",top:g?"60px":0,left:0,height:g?"calc(100vh - 60px)":"100vh",width:g?"280px":f?"256px":"64px",borderRight:`1px solid ${be}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:g?x?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${be}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Z} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),f&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:_},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:me},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Fn,{Icon:ls,title:"Accueil",isActive:u.pathname==="/"||u.pathname==="/dashboard",open:f,onClick:()=>l("/dashboard"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me}),n.jsx(Fn,{Icon:ss,title:"Rservation",isActive:u.pathname==="/rservation",open:f,onClick:()=>l("/rservation"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me}),n.jsx(Fn,{Icon:ao,title:"Gestion des jours-fris",isActive:u.pathname==="/jours-feries",open:f,onClick:()=>l("/jours-feries"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me}),n.jsx(Fn,{Icon:co,title:"Utilisateurs",isActive:u.pathname==="/utilisateurs",open:f,onClick:()=>l("/utilisateurs"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me}),n.jsxs("button",{onClick:()=>B(!E),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:me,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:ee=>{ee.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",ee.currentTarget.style.color=_},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor="transparent",ee.currentTarget.style.color=me},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),f&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),E?n.jsx(as,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(rs,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),E&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Fn,{Icon:nt,title:"Metr",isActive:u.pathname==="/metre",open:f,onClick:()=>l("/metre"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me}),n.jsx(Fn,{Icon:nt,title:"Pose",isActive:u.pathname==="/pose",open:f,onClick:()=>l("/pose"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me}),n.jsx(Fn,{Icon:nt,title:"SAV",isActive:u.pathname==="/sav",open:f,onClick:()=>l("/sav"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me})]})]}),f&&n.jsxs("div",{style:{borderTop:`1px solid ${be}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:me,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Fn,{Icon:i?Xt:qt,title:i?"Mode clair":"Mode sombre",isActive:!1,open:f,onClick:de,isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me}),n.jsx(Fn,{Icon:Pr,title:"Paramtres",isActive:u.pathname==="/parametres",open:f,onClick:()=>l("/parametres"),isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me})]}),n.jsx("div",{style:{borderTop:`1px solid ${be}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Fn,{Icon:tr,title:"Dconnexion",isActive:!1,open:f,onClick:M,isDarkMode:i,orangeColor:Z,textColor:_,textSecondary:me})}),n.jsxs("button",{onClick:()=>m(!f),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${be}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:me,transition:"background-color 0.2s",height:"48px"},onMouseEnter:ee=>ee.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:ee=>ee.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(os,{style:{width:"16px",height:"16px",transform:f?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),f&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:S,paddingTop:g?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${i?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsx("div",{className:"header-content",children:n.jsxs("div",{children:[n.jsx("h1",{children:"Gestion des jours fris"}),n.jsx("p",{children:"Grer les jours fris pour tous les calendriers"})]})})}),n.jsxs("div",{className:"holiday-management-section",children:[n.jsxs("div",{className:"holiday-add-form",children:[n.jsx("h3",{children:"Ajouter un jour fri"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-calendar",children:"Calendrier:"}),n.jsxs("select",{id:"holiday-calendar",value:H,onChange:ee=>xe(ee.target.value),children:[n.jsx("option",{value:Ge.calendar1,children:"Pose"}),n.jsx("option",{value:Ge.calendar2,children:"SAV"}),n.jsx("option",{value:Ge.calendar3,children:"Metr"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-date",children:"Date:"}),n.jsx("input",{id:"holiday-date",type:"date",value:R,onChange:ee=>G(ee.target.value)})]}),n.jsxs("button",{className:"add-holiday-button",onClick:X,children:[n.jsx(Yd,{className:"add-holiday-icon"}),"Ajouter"]})]})]}),n.jsxs("div",{className:"holiday-list-section",children:[n.jsx("h3",{children:"Jours fris existants"}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"holiday-filter",children:"Filtrer par calendrier:"}),n.jsxs("select",{id:"holiday-filter",value:N,onChange:ee=>I(ee.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:Ge.calendar1,children:"Pose"}),n.jsx("option",{value:Ge.calendar2,children:"SAV"}),n.jsx("option",{value:Ge.calendar3,children:"Metr"})]})]}),C.length===0?n.jsx("div",{className:"no-holidays",children:"Aucun jour fri enregistr"}):n.jsx("div",{className:"holidays-table-container",children:n.jsxs("table",{className:"holidays-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:C.map(ee=>n.jsx("tr",{children:je?.id===ee.id?n.jsxs(n.Fragment,{children:[n.jsx("td",{children:n.jsx("input",{type:"date",value:Fe,onChange:P=>fe(P.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}})}),n.jsx("td",{children:n.jsxs("select",{value:q,onChange:P=>ye(P.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[n.jsx("option",{value:Ge.calendar1,children:"Pose"}),n.jsx("option",{value:Ge.calendar2,children:"SAV"}),n.jsx("option",{value:Ge.calendar3,children:"Metr"})]})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:Se,title:"Enregistrer",children:""}),n.jsx("button",{className:"delete-button",onClick:ke,title:"Annuler",children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("td",{children:Ye(ee.holiday_date)}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:En(ee.calendarId||ee.calendar_id)})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>ae(ee),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>Qe(ee),title:"Supprimer",children:""})]})]})},ee.id))})]})})]})]})]})})]})}const Fn=({Icon:l,title:u,isActive:i,open:c,onClick:f,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:u})]});typeof window<"u"&&(window.resetAllBookings=async()=>{confirm(" Are you sure you want to reset ALL bookings to 0? This cannot be undone!")&&(console.log(" Starting reset..."),await wg(),alert(" All bookings have been reset! Please refresh the page."),window.location.reload())});nh.createRoot(document.getElementById("root")).render(n.jsx(Kp.StrictMode,{children:n.jsx(mm,{children:n.jsxs(Yh,{children:[n.jsx(xn,{path:"/",element:n.jsx(bm,{})}),n.jsx(xn,{path:"/login",element:n.jsx(Ag,{})}),n.jsx(xn,{path:"/calendrier",element:n.jsx(qn,{children:n.jsx(Rg,{})})}),n.jsx(xn,{path:"/dashboard",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(us,{})})}),n.jsx(xn,{path:"/rservation",element:n.jsx(qn,{children:n.jsx(Fg,{})})}),n.jsx(xn,{path:"/jours-feries",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(Vg,{})})}),n.jsx(xn,{path:"/utilisateurs",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(Wg,{})})}),n.jsx(xn,{path:"/parametres",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(Ug,{})})}),n.jsx(xn,{path:"/pose",element:n.jsx(qn,{children:n.jsx(Pg,{})})}),n.jsx(xn,{path:"/sav",element:n.jsx(qn,{children:n.jsx(zg,{})})}),n.jsx(xn,{path:"/metre",element:n.jsx(qn,{children:n.jsx(Dg,{})})})]})})}));
