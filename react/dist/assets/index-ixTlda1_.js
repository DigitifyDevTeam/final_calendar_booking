(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))c(p);new MutationObserver(p=>{for(const m of p)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function i(p){const m={};return p.integrity&&(m.integrity=p.integrity),p.referrerPolicy&&(m.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?m.credentials="include":p.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(p){if(p.ep)return;p.ep=!0;const m=i(p);fetch(p.href,m)}})();function Ed(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ca={exports:{}},Ko={},ua={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function Vp(){if(cd)return Ge;cd=1;var l=Symbol.for("react.element"),d=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),W=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=W&&S[W]||S["@@iterator"],typeof S=="function"?S:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function R(S,_,fe){this.props=S,this.context=_,this.refs=I,this.updater=fe||J}R.prototype.isReactComponent={},R.prototype.setState=function(S,_){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,_,"setState")},R.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Q(){}Q.prototype=R.prototype;function Y(S,_,fe){this.props=S,this.context=_,this.refs=I,this.updater=fe||J}var me=Y.prototype=new Q;me.constructor=Y,N(me,R.prototype),me.isPureReactComponent=!0;var we=Array.isArray,Ae=Object.prototype.hasOwnProperty,We={current:null},Le={key:!0,ref:!0,__self:!0,__source:!0};function pe(S,_,fe){var je,Z={},P=null,Re=null;if(_!=null)for(je in _.ref!==void 0&&(Re=_.ref),_.key!==void 0&&(P=""+_.key),_)Ae.call(_,je)&&!Le.hasOwnProperty(je)&&(Z[je]=_[je]);var Ne=arguments.length-2;if(Ne===1)Z.children=fe;else if(1<Ne){for(var Ue=Array(Ne),ut=0;ut<Ne;ut++)Ue[ut]=arguments[ut+2];Z.children=Ue}if(S&&S.defaultProps)for(je in Ne=S.defaultProps,Ne)Z[je]===void 0&&(Z[je]=Ne[je]);return{$$typeof:l,type:S,key:P,ref:Re,props:Z,_owner:We.current}}function Ve(S,_){return{$$typeof:l,type:S.type,key:_,ref:S.ref,props:S.props,_owner:S._owner}}function ge(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function X(S){var _={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(fe){return _[fe]})}var ae=/\/+/g;function Ie(S,_){return typeof S=="object"&&S!==null&&S.key!=null?X(""+S.key):_.toString(36)}function Te(S,_,fe,je,Z){var P=typeof S;(P==="undefined"||P==="boolean")&&(S=null);var Re=!1;if(S===null)Re=!0;else switch(P){case"string":case"number":Re=!0;break;case"object":switch(S.$$typeof){case l:case d:Re=!0}}if(Re)return Re=S,Z=Z(Re),S=je===""?"."+Ie(Re,0):je,we(Z)?(fe="",S!=null&&(fe=S.replace(ae,"$&/")+"/"),Te(Z,_,fe,"",function(ut){return ut})):Z!=null&&(ge(Z)&&(Z=Ve(Z,fe+(!Z.key||Re&&Re.key===Z.key?"":(""+Z.key).replace(ae,"$&/")+"/")+S)),_.push(Z)),1;if(Re=0,je=je===""?".":je+":",we(S))for(var Ne=0;Ne<S.length;Ne++){P=S[Ne];var Ue=je+Ie(P,Ne);Re+=Te(P,_,fe,Ue,Z)}else if(Ue=C(S),typeof Ue=="function")for(S=Ue.call(S),Ne=0;!(P=S.next()).done;)P=P.value,Ue=je+Ie(P,Ne++),Re+=Te(P,_,fe,Ue,Z);else if(P==="object")throw _=String(S),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return Re}function Ze(S,_,fe){if(S==null)return S;var je=[],Z=0;return Te(S,je,"","",function(P){return _.call(fe,P,Z++)}),je}function Qe(S){if(S._status===-1){var _=S._result;_=_(),_.then(function(fe){(S._status===0||S._status===-1)&&(S._status=1,S._result=fe)},function(fe){(S._status===0||S._status===-1)&&(S._status=2,S._result=fe)}),S._status===-1&&(S._status=0,S._result=_)}if(S._status===1)return S._result.default;throw S._result}var ce={current:null},$={transition:null},q={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:$,ReactCurrentOwner:We};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:Ze,forEach:function(S,_,fe){Ze(S,function(){_.apply(this,arguments)},fe)},count:function(S){var _=0;return Ze(S,function(){_++}),_},toArray:function(S){return Ze(S,function(_){return _})||[]},only:function(S){if(!ge(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ge.Component=R,Ge.Fragment=i,Ge.Profiler=p,Ge.PureComponent=Y,Ge.StrictMode=c,Ge.Suspense=g,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Ge.act=V,Ge.cloneElement=function(S,_,fe){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var je=N({},S.props),Z=S.key,P=S.ref,Re=S._owner;if(_!=null){if(_.ref!==void 0&&(P=_.ref,Re=We.current),_.key!==void 0&&(Z=""+_.key),S.type&&S.type.defaultProps)var Ne=S.type.defaultProps;for(Ue in _)Ae.call(_,Ue)&&!Le.hasOwnProperty(Ue)&&(je[Ue]=_[Ue]===void 0&&Ne!==void 0?Ne[Ue]:_[Ue])}var Ue=arguments.length-2;if(Ue===1)je.children=fe;else if(1<Ue){Ne=Array(Ue);for(var ut=0;ut<Ue;ut++)Ne[ut]=arguments[ut+2];je.children=Ne}return{$$typeof:l,type:S.type,key:Z,ref:P,props:je,_owner:Re}},Ge.createContext=function(S){return S={$$typeof:x,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:m,_context:S},S.Consumer=S},Ge.createElement=pe,Ge.createFactory=function(S){var _=pe.bind(null,S);return _.type=S,_},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(S){return{$$typeof:w,render:S}},Ge.isValidElement=ge,Ge.lazy=function(S){return{$$typeof:M,_payload:{_status:-1,_result:S},_init:Qe}},Ge.memo=function(S,_){return{$$typeof:k,type:S,compare:_===void 0?null:_}},Ge.startTransition=function(S){var _=$.transition;$.transition={};try{S()}finally{$.transition=_}},Ge.unstable_act=V,Ge.useCallback=function(S,_){return ce.current.useCallback(S,_)},Ge.useContext=function(S){return ce.current.useContext(S)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(S){return ce.current.useDeferredValue(S)},Ge.useEffect=function(S,_){return ce.current.useEffect(S,_)},Ge.useId=function(){return ce.current.useId()},Ge.useImperativeHandle=function(S,_,fe){return ce.current.useImperativeHandle(S,_,fe)},Ge.useInsertionEffect=function(S,_){return ce.current.useInsertionEffect(S,_)},Ge.useLayoutEffect=function(S,_){return ce.current.useLayoutEffect(S,_)},Ge.useMemo=function(S,_){return ce.current.useMemo(S,_)},Ge.useReducer=function(S,_,fe){return ce.current.useReducer(S,_,fe)},Ge.useRef=function(S){return ce.current.useRef(S)},Ge.useState=function(S){return ce.current.useState(S)},Ge.useSyncExternalStore=function(S,_,fe){return ce.current.useSyncExternalStore(S,_,fe)},Ge.useTransition=function(){return ce.current.useTransition()},Ge.version="18.3.1",Ge}var ud;function ka(){return ud||(ud=1,ua.exports=Vp()),ua.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Hp(){if(dd)return Ko;dd=1;var l=ka(),d=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,p=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function x(w,g,k){var M,W={},C=null,J=null;k!==void 0&&(C=""+k),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(J=g.ref);for(M in g)c.call(g,M)&&!m.hasOwnProperty(M)&&(W[M]=g[M]);if(w&&w.defaultProps)for(M in g=w.defaultProps,g)W[M]===void 0&&(W[M]=g[M]);return{$$typeof:d,type:w,key:C,ref:J,props:W,_owner:p.current}}return Ko.Fragment=i,Ko.jsx=x,Ko.jsxs=x,Ko}var fd;function Yp(){return fd||(fd=1,ca.exports=Hp()),ca.exports}var n=Yp(),h=ka();const Jp=Ed(h);var gl={},da={exports:{}},on={},fa={exports:{}},pa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function Qp(){return pd||(pd=1,(function(l){function d($,q){var V=$.length;$.push(q);e:for(;0<V;){var S=V-1>>>1,_=$[S];if(0<p(_,q))$[S]=q,$[V]=_,V=S;else break e}}function i($){return $.length===0?null:$[0]}function c($){if($.length===0)return null;var q=$[0],V=$.pop();if(V!==q){$[0]=V;e:for(var S=0,_=$.length,fe=_>>>1;S<fe;){var je=2*(S+1)-1,Z=$[je],P=je+1,Re=$[P];if(0>p(Z,V))P<_&&0>p(Re,Z)?($[S]=Re,$[P]=V,S=P):($[S]=Z,$[je]=V,S=je);else if(P<_&&0>p(Re,V))$[S]=Re,$[P]=V,S=P;else break e}}return q}function p($,q){var V=$.sortIndex-q.sortIndex;return V!==0?V:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var x=Date,w=x.now();l.unstable_now=function(){return x.now()-w}}var g=[],k=[],M=1,W=null,C=3,J=!1,N=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function me($){for(var q=i(k);q!==null;){if(q.callback===null)c(k);else if(q.startTime<=$)c(k),q.sortIndex=q.expirationTime,d(g,q);else break;q=i(k)}}function we($){if(I=!1,me($),!N)if(i(g)!==null)N=!0,Qe(Ae);else{var q=i(k);q!==null&&ce(we,q.startTime-$)}}function Ae($,q){N=!1,I&&(I=!1,Q(pe),pe=-1),J=!0;var V=C;try{for(me(q),W=i(g);W!==null&&(!(W.expirationTime>q)||$&&!X());){var S=W.callback;if(typeof S=="function"){W.callback=null,C=W.priorityLevel;var _=S(W.expirationTime<=q);q=l.unstable_now(),typeof _=="function"?W.callback=_:W===i(g)&&c(g),me(q)}else c(g);W=i(g)}if(W!==null)var fe=!0;else{var je=i(k);je!==null&&ce(we,je.startTime-q),fe=!1}return fe}finally{W=null,C=V,J=!1}}var We=!1,Le=null,pe=-1,Ve=5,ge=-1;function X(){return!(l.unstable_now()-ge<Ve)}function ae(){if(Le!==null){var $=l.unstable_now();ge=$;var q=!0;try{q=Le(!0,$)}finally{q?Ie():(We=!1,Le=null)}}else We=!1}var Ie;if(typeof Y=="function")Ie=function(){Y(ae)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ze=Te.port2;Te.port1.onmessage=ae,Ie=function(){Ze.postMessage(null)}}else Ie=function(){R(ae,0)};function Qe($){Le=$,We||(We=!0,Ie())}function ce($,q){pe=R(function(){$(l.unstable_now())},q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function($){$.callback=null},l.unstable_continueExecution=function(){N||J||(N=!0,Qe(Ae))},l.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ve=0<$?Math.floor(1e3/$):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_getFirstCallbackNode=function(){return i(g)},l.unstable_next=function($){switch(C){case 1:case 2:case 3:var q=3;break;default:q=C}var V=C;C=q;try{return $()}finally{C=V}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=C;C=$;try{return q()}finally{C=V}},l.unstable_scheduleCallback=function($,q,V){var S=l.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?S+V:S):V=S,$){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=V+_,$={id:M++,callback:q,priorityLevel:$,startTime:V,expirationTime:_,sortIndex:-1},V>S?($.sortIndex=V,d(k,$),i(g)===null&&$===i(k)&&(I?(Q(pe),pe=-1):I=!0,ce(we,V-S))):($.sortIndex=_,d(g,$),N||J||(N=!0,Qe(Ae))),$},l.unstable_shouldYield=X,l.unstable_wrapCallback=function($){var q=C;return function(){var V=C;C=q;try{return $.apply(this,arguments)}finally{C=V}}}})(pa)),pa}var hd;function Kp(){return hd||(hd=1,fa.exports=Qp()),fa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function Gp(){if(md)return on;md=1;var l=ka(),d=Kp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,p={};function m(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(p[e]=t,e=0;e<t.length;e++)c.add(t[e])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M={},W={};function C(e){return g.call(W,e)?!0:g.call(M,e)?!1:k.test(e)?W[e]=!0:(M[e]=!0,!1)}function J(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,r,o){if(t===null||typeof t>"u"||J(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function I(e,t,r,o,s,a,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=f}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new I(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new I(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new I(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new I(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new I(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new I(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q,Y);R[t]=new I(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q,Y);R[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q,Y);R[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)});function me(e,t,r,o){var s=R.hasOwnProperty(t)?R[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,r,s,o)&&(r=null),o||s===null?C(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var we=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),We=Symbol.for("react.portal"),Le=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),Ve=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),X=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),$=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,S;function _(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var fe=!1;function je(e,t){if(!e||fe)return"";fe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var o=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){o=A}e.call(t.prototype)}else{try{throw Error()}catch(A){o=A}e()}}catch(A){if(A&&o&&typeof A.stack=="string"){for(var s=A.stack.split(`
`),a=o.stack.split(`
`),f=s.length-1,v=a.length-1;1<=f&&0<=v&&s[f]!==a[v];)v--;for(;1<=f&&0<=v;f--,v--)if(s[f]!==a[v]){if(f!==1||v!==1)do if(f--,v--,0>v||s[f]!==a[v]){var b=`
`+s[f].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=f&&0<=v);break}}}finally{fe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_(e):""}function Z(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=je(e.type,!1),e;case 11:return e=je(e.type.render,!1),e;case 1:return e=je(e.type,!0),e;default:return""}}function P(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Le:return"Fragment";case We:return"Portal";case Ve:return"Profiler";case pe:return"StrictMode";case Ie:return"Suspense";case Te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case ge:return(e._context.displayName||"Context")+".Provider";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ze:return t=e.displayName||null,t!==null?t:P(e.type)||"Memo";case Qe:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(t);case 8:return t===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ue(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ut(e){var t=Ue(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){o=""+f,a.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qe(e){e._valueTracker||(e._valueTracker=ut(e))}function it(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=Ue(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function U(e,t){var r=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function le(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=Ne(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Je(e,t){t=t.checked,t!=null&&me(e,"checked",t,!1)}function zt(e,t){Je(e,t);var r=Ne(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dt(e,t.type,r):t.hasOwnProperty("defaultValue")&&dt(e,t.type,Ne(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Be(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dt(e,t,r){(t!=="number"||kt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rt=Array.isArray;function xt(e,t,r,o){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ne(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(rt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ne(r)}}function Ft(e,t){var r=Ne(t.value),o=Ne(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function T(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Me(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pt,xe=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function K(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(e){_t.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),et[t]=et[e]})});function bt(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||et.hasOwnProperty(e)&&et[e]?(""+t).trim():t+"px"}function Ee(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=bt(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var Pe=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(e,t){if(t){if(Pe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function j(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function H(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var he=null,G=null,ye=null;function Ce(e){if(e=Do(e)){if(typeof he!="function")throw Error(i(280));var t=e.stateNode;t&&(t=_s(t),he(e.stateNode,e.type,t))}}function Se(e){G?ye?ye.push(e):ye=[e]:G=e}function u(){if(G){var e=G,t=ye;if(ye=G=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function L(e,t){return e(t)}function O(){}var B=!1;function y(e,t,r){if(B)return e(t,r);B=!0;try{return L(e,t,r)}finally{B=!1,(G!==null||ye!==null)&&(O(),u())}}function F(e,t){var r=e.stateNode;if(r===null)return null;var o=_s(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var ee=!1;if(w)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){ee=!0}}),window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{ee=!1}function de(e,t,r,o,s,a,f,v,b){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(re){this.onError(re)}}var ze=!1,ue=null,at=!1,ot=null,wt={onError:function(e){ze=!0,ue=e}};function te(e,t,r,o,s,a,f,v,b){ze=!1,ue=null,de.apply(wt,arguments)}function Jt(e,t,r,o,s,a,f,v,b){if(te.apply(this,arguments),ze){if(ze){var A=ue;ze=!1,ue=null}else throw Error(i(198));at||(at=!0,ot=A)}}function Nt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ar(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tr(e){if(Nt(e)!==e)throw Error(i(188))}function mo(e){var t=e.alternate;if(!t){if(t=Nt(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,o=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return tr(s),e;if(a===o)return tr(s),t;a=a.sibling}throw Error(i(188))}if(r.return!==o.return)r=s,o=a;else{for(var f=!1,v=s.child;v;){if(v===r){f=!0,r=s,o=a;break}if(v===o){f=!0,o=s,r=a;break}v=v.sibling}if(!f){for(v=a.child;v;){if(v===r){f=!0,r=a,o=s;break}if(v===o){f=!0,o=a,r=s;break}v=v.sibling}if(!f)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function Et(e){return e=mo(e),e!==null?yt(e):null}function yt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yt(e);if(t!==null)return t;e=e.sibling}return null}var us=d.unstable_scheduleCallback,Ia=d.unstable_cancelCallback,ef=d.unstable_shouldYield,tf=d.unstable_requestPaint,$t=d.unstable_now,nf=d.unstable_getCurrentPriorityLevel,$l=d.unstable_ImmediatePriority,Aa=d.unstable_UserBlockingPriority,ds=d.unstable_NormalPriority,rf=d.unstable_LowPriority,Ba=d.unstable_IdlePriority,fs=null,_n=null;function of(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(fs,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:af,sf=Math.log,lf=Math.LN2;function af(e){return e>>>=0,e===0?32:31-(sf(e)/lf|0)|0}var ps=64,hs=4194304;function go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,a=e.pingedLanes,f=r&268435455;if(f!==0){var v=f&~s;v!==0?o=go(v):(a&=f,a!==0&&(o=go(a)))}else f=r&~s,f!==0?o=go(f):a!==0&&(o=go(a));if(o===0)return 0;if(t!==0&&t!==o&&(t&s)===0&&(s=o&-o,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if((o&4)!==0&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-jn(t),s=1<<r,o|=e[r],t&=~s;return o}function cf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uf(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var f=31-jn(a),v=1<<f,b=s[f];b===-1?((v&r)===0||(v&o)!==0)&&(s[f]=cf(v,t)):b<=t&&(e.expiredLanes|=v),a&=~v}}function Tl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fa(){var e=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),e}function _l(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=r}function df(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-jn(r),a=1<<s;t[s]=0,o[s]=-1,e[s]=-1,r&=~a}}function Ll(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-jn(r),s=1<<o;s&t|e[o]&t&&(e[o]|=t),r&=~s}}var ct=0;function Oa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Wa,Rl,Ua,Va,Ha,Dl=!1,gs=[],nr=null,rr=null,or=null,yo=new Map,vo=new Map,sr=[],ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ya(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function jo(e,t,r,o,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Do(t),t!==null&&Rl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pf(e,t,r,o,s){switch(t){case"focusin":return nr=jo(nr,e,t,r,o,s),!0;case"dragenter":return rr=jo(rr,e,t,r,o,s),!0;case"mouseover":return or=jo(or,e,t,r,o,s),!0;case"pointerover":var a=s.pointerId;return yo.set(a,jo(yo.get(a)||null,e,t,r,o,s)),!0;case"gotpointercapture":return a=s.pointerId,vo.set(a,jo(vo.get(a)||null,e,t,r,o,s)),!0}return!1}function Ja(e){var t=kr(e.target);if(t!==null){var r=Nt(t);if(r!==null){if(t=r.tag,t===13){if(t=Ar(r),t!==null){e.blockedOn=t,Ha(e.priority,function(){Ua(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);ke=o,r.target.dispatchEvent(o),ke=null}else return t=Do(r),t!==null&&Rl(t),e.blockedOn=r,!1;t.shift()}return!0}function Qa(e,t,r){xs(e)&&r.delete(t)}function hf(){Dl=!1,nr!==null&&xs(nr)&&(nr=null),rr!==null&&xs(rr)&&(rr=null),or!==null&&xs(or)&&(or=null),yo.forEach(Qa),vo.forEach(Qa)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Dl||(Dl=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,hf)))}function wo(e){function t(s){return ko(s,e)}if(0<gs.length){ko(gs[0],e);for(var r=1;r<gs.length;r++){var o=gs[r];o.blockedOn===e&&(o.blockedOn=null)}}for(nr!==null&&ko(nr,e),rr!==null&&ko(rr,e),or!==null&&ko(or,e),yo.forEach(t),vo.forEach(t),r=0;r<sr.length;r++)o=sr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)Ja(r),r.blockedOn===null&&sr.shift()}var Br=we.ReactCurrentBatchConfig,ys=!0;function mf(e,t,r,o){var s=ct,a=Br.transition;Br.transition=null;try{ct=1,Pl(e,t,r,o)}finally{ct=s,Br.transition=a}}function gf(e,t,r,o){var s=ct,a=Br.transition;Br.transition=null;try{ct=4,Pl(e,t,r,o)}finally{ct=s,Br.transition=a}}function Pl(e,t,r,o){if(ys){var s=zl(e,t,r,o);if(s===null)Zl(e,t,o,vs,r),Ya(e,o);else if(pf(s,e,t,r,o))o.stopPropagation();else if(Ya(e,o),t&4&&-1<ff.indexOf(e)){for(;s!==null;){var a=Do(s);if(a!==null&&Wa(a),a=zl(e,t,r,o),a===null&&Zl(e,t,o,vs,r),a===s)break;s=a}s!==null&&o.stopPropagation()}else Zl(e,t,o,null,r)}}var vs=null;function zl(e,t,r,o){if(vs=null,e=H(o),e=kr(e),e!==null)if(t=Nt(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ar(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function Ka(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nf()){case $l:return 1;case Aa:return 4;case ds:case rf:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var lr=null,Il=null,js=null;function Ga(){if(js)return js;var e,t=Il,r=t.length,o,s="value"in lr?lr.value:lr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var f=r-e;for(o=1;o<=f&&t[r-o]===s[a-o];o++);return js=s.slice(e,1<o?1-o:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function qa(){return!1}function sn(e){function t(r,o,s,a,f){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=a,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(a):a[v]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ws:qa,this.isPropagationStopped=qa,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=sn(Fr),Co=V({},Fr,{view:0,detail:0}),xf=sn(Co),Bl,Fl,So,Cs=V({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(Bl=e.screenX-So.screenX,Fl=e.screenY-So.screenY):Fl=Bl=0,So=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),Xa=sn(Cs),yf=V({},Cs,{dataTransfer:0}),vf=sn(yf),jf=V({},Co,{relatedTarget:0}),Ol=sn(jf),kf=V({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),wf=sn(kf),Cf=V({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sf=sn(Cf),bf=V({},Fr,{data:0}),Za=sn(bf),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $f(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mf[e])?!!t[e]:!1}function Wl(){return $f}var Tf=V({},Co,{key:function(e){if(e.key){var t=Nf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ef[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_f=sn(Tf),Lf=V({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=sn(Lf),Rf=V({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Df=sn(Rf),Pf=V({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zf=sn(Pf),If=V({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Af=sn(If),Bf=[9,13,27,32],Ul=w&&"CompositionEvent"in window,bo=null;w&&"documentMode"in document&&(bo=document.documentMode);var Ff=w&&"TextEvent"in window&&!bo,tc=w&&(!Ul||bo&&8<bo&&11>=bo),nc=" ",rc=!1;function oc(e,t){switch(e){case"keyup":return Bf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function Of(e,t){switch(e){case"compositionend":return sc(t);case"keypress":return t.which!==32?null:(rc=!0,nc);case"textInput":return e=t.data,e===nc&&rc?null:e;default:return null}}function Wf(e,t){if(Or)return e==="compositionend"||!Ul&&oc(e,t)?(e=Ga(),js=Il=lr=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tc&&t.locale!=="ko"?null:t.data;default:return null}}var Uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uf[e.type]:t==="textarea"}function ic(e,t,r,o){Se(o),t=Ms(t,"onChange"),0<t.length&&(r=new Al("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var No=null,Eo=null;function Vf(e){bc(e,0)}function Ss(e){var t=Yr(e);if(it(t))return e}function Hf(e,t){if(e==="change")return t}var ac=!1;if(w){var Vl;if(w){var Hl="oninput"in document;if(!Hl){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),Hl=typeof cc.oninput=="function"}Vl=Hl}else Vl=!1;ac=Vl&&(!document.documentMode||9<document.documentMode)}function uc(){No&&(No.detachEvent("onpropertychange",dc),Eo=No=null)}function dc(e){if(e.propertyName==="value"&&Ss(Eo)){var t=[];ic(t,Eo,e,H(e)),y(Vf,t)}}function Yf(e,t,r){e==="focusin"?(uc(),No=t,Eo=r,No.attachEvent("onpropertychange",dc)):e==="focusout"&&uc()}function Jf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ss(Eo)}function Qf(e,t){if(e==="click")return Ss(t)}function Kf(e,t){if(e==="input"||e==="change")return Ss(t)}function Gf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:Gf;function Mo(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!g.call(t,s)||!kn(e[s],t[s]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,t){var r=fc(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fc(r)}}function hc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mc(){for(var e=window,t=kt();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kt(e.document)}return t}function Yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qf(e){var t=mc(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hc(r.ownerDocument.documentElement,r)){if(o!==null&&Yl(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(o.start,s);o=o.end===void 0?a:Math.min(o.end,s),!e.extend&&a>o&&(s=o,o=a,a=s),s=pc(r,a);var f=pc(r,o);s&&f&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xf=w&&"documentMode"in document&&11>=document.documentMode,Wr=null,Jl=null,$o=null,Ql=!1;function gc(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ql||Wr==null||Wr!==kt(o)||(o=Wr,"selectionStart"in o&&Yl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$o&&Mo($o,o)||($o=o,o=Ms(Jl,"onSelect"),0<o.length&&(t=new Al("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Wr)))}function bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ur={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},Kl={},xc={};w&&(xc=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Ns(e){if(Kl[e])return Kl[e];if(!Ur[e])return e;var t=Ur[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xc)return Kl[e]=t[r];return e}var yc=Ns("animationend"),vc=Ns("animationiteration"),jc=Ns("animationstart"),kc=Ns("transitionend"),wc=new Map,Cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){wc.set(e,t),m(t,[e])}for(var Gl=0;Gl<Cc.length;Gl++){var ql=Cc[Gl],Zf=ql.toLowerCase(),ep=ql[0].toUpperCase()+ql.slice(1);ir(Zf,"on"+ep)}ir(yc,"onAnimationEnd"),ir(vc,"onAnimationIteration"),ir(jc,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(kc,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Sc(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,Jt(o,t,void 0,e),e.currentTarget=null}function bc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var f=o.length-1;0<=f;f--){var v=o[f],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==a&&s.isPropagationStopped())break e;Sc(s,v,A),a=b}else for(f=0;f<o.length;f++){if(v=o[f],b=v.instance,A=v.currentTarget,v=v.listener,b!==a&&s.isPropagationStopped())break e;Sc(s,v,A),a=b}}}if(at)throw e=ot,at=!1,ot=null,e}function mt(e,t){var r=t[si];r===void 0&&(r=t[si]=new Set);var o=e+"__bubble";r.has(o)||(Nc(t,e,2,!1),r.add(o))}function Xl(e,t,r){var o=0;t&&(o|=4),Nc(r,e,o,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[Es]){e[Es]=!0,c.forEach(function(r){r!=="selectionchange"&&(tp.has(r)||Xl(r,!1,e),Xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,Xl("selectionchange",!1,t))}}function Nc(e,t,r,o){switch(Ka(t)){case 1:var s=mf;break;case 4:s=gf;break;default:s=Pl}r=s.bind(null,t,r,e),s=void 0,!ee||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Zl(e,t,r,o,s){var a=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var v=o.stateNode.containerInfo;if(v===s||v.nodeType===8&&v.parentNode===s)break;if(f===4)for(f=o.return;f!==null;){var b=f.tag;if((b===3||b===4)&&(b=f.stateNode.containerInfo,b===s||b.nodeType===8&&b.parentNode===s))return;f=f.return}for(;v!==null;){if(f=kr(v),f===null)return;if(b=f.tag,b===5||b===6){o=a=f;continue e}v=v.parentNode}}o=o.return}y(function(){var A=a,re=H(r),se=[];e:{var ne=wc.get(e);if(ne!==void 0){var ve=Al,$e=e;switch(e){case"keypress":if(ks(r)===0)break e;case"keydown":case"keyup":ve=_f;break;case"focusin":$e="focus",ve=Ol;break;case"focusout":$e="blur",ve=Ol;break;case"beforeblur":case"afterblur":ve=Ol;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Df;break;case yc:case vc:case jc:ve=wf;break;case kc:ve=zf;break;case"scroll":ve=xf;break;case"wheel":ve=Af;break;case"copy":case"cut":case"paste":ve=Sf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=ec}var _e=(t&4)!==0,Tt=!_e&&e==="scroll",D=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var E=A,z;E!==null;){z=E;var ie=z.stateNode;if(z.tag===5&&ie!==null&&(z=ie,D!==null&&(ie=F(E,D),ie!=null&&_e.push(Lo(E,ie,z)))),Tt)break;E=E.return}0<_e.length&&(ne=new ve(ne,$e,null,r,re),se.push({event:ne,listeners:_e}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",ne&&r!==ke&&($e=r.relatedTarget||r.fromElement)&&(kr($e)||$e[Un]))break e;if((ve||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ve?($e=r.relatedTarget||r.toElement,ve=A,$e=$e?kr($e):null,$e!==null&&(Tt=Nt($e),$e!==Tt||$e.tag!==5&&$e.tag!==6)&&($e=null)):(ve=null,$e=A),ve!==$e)){if(_e=Xa,ie="onMouseLeave",D="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_e=ec,ie="onPointerLeave",D="onPointerEnter",E="pointer"),Tt=ve==null?ne:Yr(ve),z=$e==null?ne:Yr($e),ne=new _e(ie,E+"leave",ve,r,re),ne.target=Tt,ne.relatedTarget=z,ie=null,kr(re)===A&&(_e=new _e(D,E+"enter",$e,r,re),_e.target=z,_e.relatedTarget=Tt,ie=_e),Tt=ie,ve&&$e)t:{for(_e=ve,D=$e,E=0,z=_e;z;z=Vr(z))E++;for(z=0,ie=D;ie;ie=Vr(ie))z++;for(;0<E-z;)_e=Vr(_e),E--;for(;0<z-E;)D=Vr(D),z--;for(;E--;){if(_e===D||D!==null&&_e===D.alternate)break t;_e=Vr(_e),D=Vr(D)}_e=null}else _e=null;ve!==null&&Ec(se,ne,ve,_e,!1),$e!==null&&Tt!==null&&Ec(se,Tt,$e,_e,!0)}}e:{if(ne=A?Yr(A):window,ve=ne.nodeName&&ne.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ne.type==="file")var De=Hf;else if(lc(ne))if(ac)De=Kf;else{De=Jf;var Fe=Yf}else(ve=ne.nodeName)&&ve.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(De=Qf);if(De&&(De=De(e,A))){ic(se,De,r,re);break e}Fe&&Fe(e,ne,A),e==="focusout"&&(Fe=ne._wrapperState)&&Fe.controlled&&ne.type==="number"&&dt(ne,"number",ne.value)}switch(Fe=A?Yr(A):window,e){case"focusin":(lc(Fe)||Fe.contentEditable==="true")&&(Wr=Fe,Jl=A,$o=null);break;case"focusout":$o=Jl=Wr=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,gc(se,r,re);break;case"selectionchange":if(Xf)break;case"keydown":case"keyup":gc(se,r,re)}var Oe;if(Ul)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Or?oc(e,r)&&(He="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(tc&&r.locale!=="ko"&&(Or||He!=="onCompositionStart"?He==="onCompositionEnd"&&Or&&(Oe=Ga()):(lr=re,Il="value"in lr?lr.value:lr.textContent,Or=!0)),Fe=Ms(A,He),0<Fe.length&&(He=new Za(He,e,null,r,re),se.push({event:He,listeners:Fe}),Oe?He.data=Oe:(Oe=sc(r),Oe!==null&&(He.data=Oe)))),(Oe=Ff?Of(e,r):Wf(e,r))&&(A=Ms(A,"onBeforeInput"),0<A.length&&(re=new Za("onBeforeInput","beforeinput",null,r,re),se.push({event:re,listeners:A}),re.data=Oe))}bc(se,t)})}function Lo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ms(e,t){for(var r=t+"Capture",o=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=F(e,r),a!=null&&o.unshift(Lo(e,a,s)),a=F(e,t),a!=null&&o.push(Lo(e,a,s))),e=e.return}return o}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ec(e,t,r,o,s){for(var a=t._reactName,f=[];r!==null&&r!==o;){var v=r,b=v.alternate,A=v.stateNode;if(b!==null&&b===o)break;v.tag===5&&A!==null&&(v=A,s?(b=F(r,a),b!=null&&f.unshift(Lo(r,b,v))):s||(b=F(r,a),b!=null&&f.push(Lo(r,b,v)))),r=r.return}f.length!==0&&e.push({event:t,listeners:f})}var np=/\r\n?/g,rp=/\u0000|\uFFFD/g;function Mc(e){return(typeof e=="string"?e:""+e).replace(np,`
`).replace(rp,"")}function $s(e,t,r){if(t=Mc(t),Mc(e)!==t&&r)throw Error(i(425))}function Ts(){}var ei=null,ti=null;function ni(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ri=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,sp=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch(lp)}:ri;function lp(e){setTimeout(function(){throw e})}function oi(e,t){var r=t,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),wo(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);wo(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Hr,Ro="__reactProps$"+Hr,Un="__reactContainer$"+Hr,si="__reactEvents$"+Hr,ip="__reactListeners$"+Hr,ap="__reactHandles$"+Hr;function kr(e){var t=e[Ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Un]||r[Ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tc(e);e!==null;){if(r=e[Ln])return r;e=Tc(e)}return t}e=r,r=e.parentNode}return null}function Do(e){return e=e[Ln]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function _s(e){return e[Ro]||null}var li=[],Jr=-1;function cr(e){return{current:e}}function gt(e){0>Jr||(e.current=li[Jr],li[Jr]=null,Jr--)}function ht(e,t){Jr++,li[Jr]=e.current,e.current=t}var ur={},Ut=cr(ur),Zt=cr(!1),wr=ur;function Qr(e,t){var r=e.type.contextTypes;if(!r)return ur;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function en(e){return e=e.childContextTypes,e!=null}function Ls(){gt(Zt),gt(Ut)}function _c(e,t,r){if(Ut.current!==ur)throw Error(i(168));ht(Ut,t),ht(Zt,r)}function Lc(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(i(108,Re(e)||"Unknown",s));return V({},r,o)}function Rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,wr=Ut.current,ht(Ut,e),ht(Zt,Zt.current),!0}function Rc(e,t,r){var o=e.stateNode;if(!o)throw Error(i(169));r?(e=Lc(e,t,wr),o.__reactInternalMemoizedMergedChildContext=e,gt(Zt),gt(Ut),ht(Ut,e)):gt(Zt),ht(Zt,r)}var Vn=null,Ds=!1,ii=!1;function Dc(e){Vn===null?Vn=[e]:Vn.push(e)}function cp(e){Ds=!0,Dc(e)}function dr(){if(!ii&&Vn!==null){ii=!0;var e=0,t=ct;try{var r=Vn;for(ct=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Vn=null,Ds=!1}catch(s){throw Vn!==null&&(Vn=Vn.slice(e+1)),us($l,dr),s}finally{ct=t,ii=!1}}return null}var Kr=[],Gr=0,Ps=null,zs=0,dn=[],fn=0,Cr=null,Hn=1,Yn="";function Sr(e,t){Kr[Gr++]=zs,Kr[Gr++]=Ps,Ps=e,zs=t}function Pc(e,t,r){dn[fn++]=Hn,dn[fn++]=Yn,dn[fn++]=Cr,Cr=e;var o=Hn;e=Yn;var s=32-jn(o)-1;o&=~(1<<s),r+=1;var a=32-jn(t)+s;if(30<a){var f=s-s%5;a=(o&(1<<f)-1).toString(32),o>>=f,s-=f,Hn=1<<32-jn(t)+s|r<<s|o,Yn=a+e}else Hn=1<<a|r<<s|o,Yn=e}function ai(e){e.return!==null&&(Sr(e,1),Pc(e,1,0))}function ci(e){for(;e===Ps;)Ps=Kr[--Gr],Kr[Gr]=null,zs=Kr[--Gr],Kr[Gr]=null;for(;e===Cr;)Cr=dn[--fn],dn[fn]=null,Yn=dn[--fn],dn[fn]=null,Hn=dn[--fn],dn[fn]=null}var ln=null,an=null,vt=!1,wn=null;function zc(e,t){var r=gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ic(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cr!==null?{id:Hn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ln=e,an=null,!0):!1;default:return!1}}function ui(e){return(e.mode&1)!==0&&(e.flags&128)===0}function di(e){if(vt){var t=an;if(t){var r=t;if(!Ic(e,t)){if(ui(e))throw Error(i(418));t=ar(r.nextSibling);var o=ln;t&&Ic(e,t)?zc(o,r):(e.flags=e.flags&-4097|2,vt=!1,ln=e)}}else{if(ui(e))throw Error(i(418));e.flags=e.flags&-4097|2,vt=!1,ln=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function Is(e){if(e!==ln)return!1;if(!vt)return Ac(e),vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ni(e.type,e.memoizedProps)),t&&(t=an)){if(ui(e))throw Bc(),Error(i(418));for(;t;)zc(e,t),t=ar(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){an=ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?ar(e.stateNode.nextSibling):null;return!0}function Bc(){for(var e=an;e;)e=ar(e.nextSibling)}function qr(){an=ln=null,vt=!1}function fi(e){wn===null?wn=[e]:wn.push(e)}var up=we.ReactCurrentBatchConfig;function Po(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var o=r.stateNode}if(!o)throw Error(i(147,e));var s=o,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(f){var v=s.refs;f===null?delete v[a]:v[a]=f},t._stringRef=a,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fc(e){var t=e._init;return t(e._payload)}function Oc(e){function t(D,E){if(e){var z=D.deletions;z===null?(D.deletions=[E],D.flags|=16):z.push(E)}}function r(D,E){if(!e)return null;for(;E!==null;)t(D,E),E=E.sibling;return null}function o(D,E){for(D=new Map;E!==null;)E.key!==null?D.set(E.key,E):D.set(E.index,E),E=E.sibling;return D}function s(D,E){return D=vr(D,E),D.index=0,D.sibling=null,D}function a(D,E,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<E?(D.flags|=2,E):z):(D.flags|=2,E)):(D.flags|=1048576,E)}function f(D){return e&&D.alternate===null&&(D.flags|=2),D}function v(D,E,z,ie){return E===null||E.tag!==6?(E=ra(z,D.mode,ie),E.return=D,E):(E=s(E,z),E.return=D,E)}function b(D,E,z,ie){var De=z.type;return De===Le?re(D,E,z.props.children,ie,z.key):E!==null&&(E.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Qe&&Fc(De)===E.type)?(ie=s(E,z.props),ie.ref=Po(D,E,z),ie.return=D,ie):(ie=al(z.type,z.key,z.props,null,D.mode,ie),ie.ref=Po(D,E,z),ie.return=D,ie)}function A(D,E,z,ie){return E===null||E.tag!==4||E.stateNode.containerInfo!==z.containerInfo||E.stateNode.implementation!==z.implementation?(E=oa(z,D.mode,ie),E.return=D,E):(E=s(E,z.children||[]),E.return=D,E)}function re(D,E,z,ie,De){return E===null||E.tag!==7?(E=Lr(z,D.mode,ie,De),E.return=D,E):(E=s(E,z),E.return=D,E)}function se(D,E,z){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ra(""+E,D.mode,z),E.return=D,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ae:return z=al(E.type,E.key,E.props,null,D.mode,z),z.ref=Po(D,null,E),z.return=D,z;case We:return E=oa(E,D.mode,z),E.return=D,E;case Qe:var ie=E._init;return se(D,ie(E._payload),z)}if(rt(E)||q(E))return E=Lr(E,D.mode,z,null),E.return=D,E;As(D,E)}return null}function ne(D,E,z,ie){var De=E!==null?E.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return De!==null?null:v(D,E,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ae:return z.key===De?b(D,E,z,ie):null;case We:return z.key===De?A(D,E,z,ie):null;case Qe:return De=z._init,ne(D,E,De(z._payload),ie)}if(rt(z)||q(z))return De!==null?null:re(D,E,z,ie,null);As(D,z)}return null}function ve(D,E,z,ie,De){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return D=D.get(z)||null,v(E,D,""+ie,De);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Ae:return D=D.get(ie.key===null?z:ie.key)||null,b(E,D,ie,De);case We:return D=D.get(ie.key===null?z:ie.key)||null,A(E,D,ie,De);case Qe:var Fe=ie._init;return ve(D,E,z,Fe(ie._payload),De)}if(rt(ie)||q(ie))return D=D.get(z)||null,re(E,D,ie,De,null);As(E,ie)}return null}function $e(D,E,z,ie){for(var De=null,Fe=null,Oe=E,He=E=0,Bt=null;Oe!==null&&He<z.length;He++){Oe.index>He?(Bt=Oe,Oe=null):Bt=Oe.sibling;var st=ne(D,Oe,z[He],ie);if(st===null){Oe===null&&(Oe=Bt);break}e&&Oe&&st.alternate===null&&t(D,Oe),E=a(st,E,He),Fe===null?De=st:Fe.sibling=st,Fe=st,Oe=Bt}if(He===z.length)return r(D,Oe),vt&&Sr(D,He),De;if(Oe===null){for(;He<z.length;He++)Oe=se(D,z[He],ie),Oe!==null&&(E=a(Oe,E,He),Fe===null?De=Oe:Fe.sibling=Oe,Fe=Oe);return vt&&Sr(D,He),De}for(Oe=o(D,Oe);He<z.length;He++)Bt=ve(Oe,D,He,z[He],ie),Bt!==null&&(e&&Bt.alternate!==null&&Oe.delete(Bt.key===null?He:Bt.key),E=a(Bt,E,He),Fe===null?De=Bt:Fe.sibling=Bt,Fe=Bt);return e&&Oe.forEach(function(jr){return t(D,jr)}),vt&&Sr(D,He),De}function _e(D,E,z,ie){var De=q(z);if(typeof De!="function")throw Error(i(150));if(z=De.call(z),z==null)throw Error(i(151));for(var Fe=De=null,Oe=E,He=E=0,Bt=null,st=z.next();Oe!==null&&!st.done;He++,st=z.next()){Oe.index>He?(Bt=Oe,Oe=null):Bt=Oe.sibling;var jr=ne(D,Oe,st.value,ie);if(jr===null){Oe===null&&(Oe=Bt);break}e&&Oe&&jr.alternate===null&&t(D,Oe),E=a(jr,E,He),Fe===null?De=jr:Fe.sibling=jr,Fe=jr,Oe=Bt}if(st.done)return r(D,Oe),vt&&Sr(D,He),De;if(Oe===null){for(;!st.done;He++,st=z.next())st=se(D,st.value,ie),st!==null&&(E=a(st,E,He),Fe===null?De=st:Fe.sibling=st,Fe=st);return vt&&Sr(D,He),De}for(Oe=o(D,Oe);!st.done;He++,st=z.next())st=ve(Oe,D,He,st.value,ie),st!==null&&(e&&st.alternate!==null&&Oe.delete(st.key===null?He:st.key),E=a(st,E,He),Fe===null?De=st:Fe.sibling=st,Fe=st);return e&&Oe.forEach(function(Up){return t(D,Up)}),vt&&Sr(D,He),De}function Tt(D,E,z,ie){if(typeof z=="object"&&z!==null&&z.type===Le&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ae:e:{for(var De=z.key,Fe=E;Fe!==null;){if(Fe.key===De){if(De=z.type,De===Le){if(Fe.tag===7){r(D,Fe.sibling),E=s(Fe,z.props.children),E.return=D,D=E;break e}}else if(Fe.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Qe&&Fc(De)===Fe.type){r(D,Fe.sibling),E=s(Fe,z.props),E.ref=Po(D,Fe,z),E.return=D,D=E;break e}r(D,Fe);break}else t(D,Fe);Fe=Fe.sibling}z.type===Le?(E=Lr(z.props.children,D.mode,ie,z.key),E.return=D,D=E):(ie=al(z.type,z.key,z.props,null,D.mode,ie),ie.ref=Po(D,E,z),ie.return=D,D=ie)}return f(D);case We:e:{for(Fe=z.key;E!==null;){if(E.key===Fe)if(E.tag===4&&E.stateNode.containerInfo===z.containerInfo&&E.stateNode.implementation===z.implementation){r(D,E.sibling),E=s(E,z.children||[]),E.return=D,D=E;break e}else{r(D,E);break}else t(D,E);E=E.sibling}E=oa(z,D.mode,ie),E.return=D,D=E}return f(D);case Qe:return Fe=z._init,Tt(D,E,Fe(z._payload),ie)}if(rt(z))return $e(D,E,z,ie);if(q(z))return _e(D,E,z,ie);As(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,E!==null&&E.tag===6?(r(D,E.sibling),E=s(E,z),E.return=D,D=E):(r(D,E),E=ra(z,D.mode,ie),E.return=D,D=E),f(D)):r(D,E)}return Tt}var Xr=Oc(!0),Wc=Oc(!1),Bs=cr(null),Fs=null,Zr=null,pi=null;function hi(){pi=Zr=Fs=null}function mi(e){var t=Bs.current;gt(Bs),e._currentValue=t}function gi(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function eo(e,t){Fs=e,pi=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tn=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(pi!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Fs===null)throw Error(i(308));Zr=e,Fs.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var br=null;function xi(e){br===null?br=[e]:br.push(e)}function Uc(e,t,r,o){var s=t.interleaved;return s===null?(r.next=r,xi(t)):(r.next=s.next,s.next=r),t.interleaved=r,Jn(e,o)}function Jn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fr=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(tt&2)!==0){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,Jn(e,r)}return s=o.interleaved,s===null?(t.next=t,xi(o)):(t.next=s.next,s.next=t),o.interleaved=t,Jn(e,r)}function Os(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ll(e,r)}}function Hc(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=f:a=a.next=f,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ws(e,t,r,o){var s=e.updateQueue;fr=!1;var a=s.firstBaseUpdate,f=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var b=v,A=b.next;b.next=null,f===null?a=A:f.next=A,f=b;var re=e.alternate;re!==null&&(re=re.updateQueue,v=re.lastBaseUpdate,v!==f&&(v===null?re.firstBaseUpdate=A:v.next=A,re.lastBaseUpdate=b))}if(a!==null){var se=s.baseState;f=0,re=A=b=null,v=a;do{var ne=v.lane,ve=v.eventTime;if((o&ne)===ne){re!==null&&(re=re.next={eventTime:ve,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var $e=e,_e=v;switch(ne=t,ve=r,_e.tag){case 1:if($e=_e.payload,typeof $e=="function"){se=$e.call(ve,se,ne);break e}se=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=_e.payload,ne=typeof $e=="function"?$e.call(ve,se,ne):$e,ne==null)break e;se=V({},se,ne);break e;case 2:fr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,ne=s.effects,ne===null?s.effects=[v]:ne.push(v))}else ve={eventTime:ve,lane:ne,tag:v.tag,payload:v.payload,callback:v.callback,next:null},re===null?(A=re=ve,b=se):re=re.next=ve,f|=ne;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;ne=v,v=ne.next,ne.next=null,s.lastBaseUpdate=ne,s.shared.pending=null}}while(!0);if(re===null&&(b=se),s.baseState=b,s.firstBaseUpdate=A,s.lastBaseUpdate=re,t=s.shared.interleaved,t!==null){s=t;do f|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Mr|=f,e.lanes=f,e.memoizedState=se}}function Yc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(i(191,s));s.call(o)}}}var zo={},Rn=cr(zo),Io=cr(zo),Ao=cr(zo);function Nr(e){if(e===zo)throw Error(i(174));return e}function vi(e,t){switch(ht(Ao,t),ht(Io,e),ht(Rn,zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ft(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ft(t,e)}gt(Rn),ht(Rn,t)}function to(){gt(Rn),gt(Io),gt(Ao)}function Jc(e){Nr(Ao.current);var t=Nr(Rn.current),r=ft(t,e.type);t!==r&&(ht(Io,e),ht(Rn,r))}function ji(e){Io.current===e&&(gt(Rn),gt(Io))}var Ct=cr(0);function Us(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ki=[];function wi(){for(var e=0;e<ki.length;e++)ki[e]._workInProgressVersionPrimary=null;ki.length=0}var Vs=we.ReactCurrentDispatcher,Ci=we.ReactCurrentBatchConfig,Er=0,St=null,Dt=null,It=null,Hs=!1,Bo=!1,Fo=0,dp=0;function Vt(){throw Error(i(321))}function Si(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kn(e[r],t[r]))return!1;return!0}function bi(e,t,r,o,s,a){if(Er=a,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?mp:gp,e=r(o,s),Bo){a=0;do{if(Bo=!1,Fo=0,25<=a)throw Error(i(301));a+=1,It=Dt=null,t.updateQueue=null,Vs.current=xp,e=r(o,s)}while(Bo)}if(Vs.current=Qs,t=Dt!==null&&Dt.next!==null,Er=0,It=Dt=St=null,Hs=!1,t)throw Error(i(300));return e}function Ni(){var e=Fo!==0;return Fo=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?St.memoizedState=It=e:It=It.next=e,It}function hn(){if(Dt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=It===null?St.memoizedState:It.next;if(t!==null)It=t,Dt=e;else{if(e===null)throw Error(i(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},It===null?St.memoizedState=It=e:It=It.next=e}return It}function Oo(e,t){return typeof t=="function"?t(e):t}function Ei(e){var t=hn(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=Dt,s=o.baseQueue,a=r.pending;if(a!==null){if(s!==null){var f=s.next;s.next=a.next,a.next=f}o.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,o=o.baseState;var v=f=null,b=null,A=a;do{var re=A.lane;if((Er&re)===re)b!==null&&(b=b.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),o=A.hasEagerState?A.eagerState:e(o,A.action);else{var se={lane:re,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};b===null?(v=b=se,f=o):b=b.next=se,St.lanes|=re,Mr|=re}A=A.next}while(A!==null&&A!==a);b===null?f=o:b.next=v,kn(o,t.memoizedState)||(tn=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=b,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do a=s.lane,St.lanes|=a,Mr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mi(e){var t=hn(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var f=s=s.next;do a=e(a,f.action),f=f.next;while(f!==s);kn(a,t.memoizedState)||(tn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,o]}function Qc(){}function Kc(e,t){var r=St,o=hn(),s=t(),a=!kn(o.memoizedState,s);if(a&&(o.memoizedState=s,tn=!0),o=o.queue,$i(Xc.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||It!==null&&It.memoizedState.tag&1){if(r.flags|=2048,Wo(9,qc.bind(null,r,o,s,t),void 0,null),At===null)throw Error(i(349));(Er&30)!==0||Gc(r,t,s)}return s}function Gc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qc(e,t,r,o){t.value=r,t.getSnapshot=o,Zc(t)&&eu(e)}function Xc(e,t,r){return r(function(){Zc(t)&&eu(e)})}function Zc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kn(e,r)}catch{return!0}}function eu(e){var t=Jn(e,1);t!==null&&Nn(t,e,1,-1)}function tu(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=hp.bind(null,St,e),[t.memoizedState,e]}function Wo(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function nu(){return hn().memoizedState}function Ys(e,t,r,o){var s=Dn();St.flags|=e,s.memoizedState=Wo(1|t,r,void 0,o===void 0?null:o)}function Js(e,t,r,o){var s=hn();o=o===void 0?null:o;var a=void 0;if(Dt!==null){var f=Dt.memoizedState;if(a=f.destroy,o!==null&&Si(o,f.deps)){s.memoizedState=Wo(t,r,a,o);return}}St.flags|=e,s.memoizedState=Wo(1|t,r,a,o)}function ru(e,t){return Ys(8390656,8,e,t)}function $i(e,t){return Js(2048,8,e,t)}function ou(e,t){return Js(4,2,e,t)}function su(e,t){return Js(4,4,e,t)}function lu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iu(e,t,r){return r=r!=null?r.concat([e]):null,Js(4,4,lu.bind(null,t,e),r)}function Ti(){}function au(e,t){var r=hn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Si(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function cu(e,t){var r=hn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Si(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function uu(e,t,r){return(Er&21)===0?(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=r):(kn(r,t)||(r=Fa(),St.lanes|=r,Mr|=r,e.baseState=!0),t)}function fp(e,t){var r=ct;ct=r!==0&&4>r?r:4,e(!0);var o=Ci.transition;Ci.transition={};try{e(!1),t()}finally{ct=r,Ci.transition=o}}function du(){return hn().memoizedState}function pp(e,t,r){var o=xr(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},fu(e))pu(t,r);else if(r=Uc(e,t,r,o),r!==null){var s=Kt();Nn(r,e,o,s),hu(r,t,o)}}function hp(e,t,r){var o=xr(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(fu(e))pu(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var f=t.lastRenderedState,v=a(f,r);if(s.hasEagerState=!0,s.eagerState=v,kn(v,f)){var b=t.interleaved;b===null?(s.next=s,xi(t)):(s.next=b.next,b.next=s),t.interleaved=s;return}}catch{}finally{}r=Uc(e,t,s,o),r!==null&&(s=Kt(),Nn(r,e,o,s),hu(r,t,o))}}function fu(e){var t=e.alternate;return e===St||t!==null&&t===St}function pu(e,t){Bo=Hs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hu(e,t,r){if((r&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ll(e,r)}}var Qs={readContext:pn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},mp={readContext:pn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:ru,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ys(4194308,4,lu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var r=Dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=Dn();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=pp.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:Ti,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=fp.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=St,s=Dn();if(vt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),At===null)throw Error(i(349));(Er&30)!==0||Gc(o,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,ru(Xc.bind(null,o,a,e),[e]),o.flags|=2048,Wo(9,qc.bind(null,o,a,r,t),void 0,null),r},useId:function(){var e=Dn(),t=At.identifierPrefix;if(vt){var r=Yn,o=Hn;r=(o&~(1<<32-jn(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gp={readContext:pn,useCallback:au,useContext:pn,useEffect:$i,useImperativeHandle:iu,useInsertionEffect:ou,useLayoutEffect:su,useMemo:cu,useReducer:Ei,useRef:nu,useState:function(){return Ei(Oo)},useDebugValue:Ti,useDeferredValue:function(e){var t=hn();return uu(t,Dt.memoizedState,e)},useTransition:function(){var e=Ei(Oo)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Kc,useId:du,unstable_isNewReconciler:!1},xp={readContext:pn,useCallback:au,useContext:pn,useEffect:$i,useImperativeHandle:iu,useInsertionEffect:ou,useLayoutEffect:su,useMemo:cu,useReducer:Mi,useRef:nu,useState:function(){return Mi(Oo)},useDebugValue:Ti,useDeferredValue:function(e){var t=hn();return Dt===null?t.memoizedState=e:uu(t,Dt.memoizedState,e)},useTransition:function(){var e=Mi(Oo)[0],t=hn().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Kc,useId:du,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _i(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:V({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ks={isMounted:function(e){return(e=e._reactInternals)?Nt(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Kt(),s=xr(e),a=Qn(o,s);a.payload=t,r!=null&&(a.callback=r),t=pr(e,a,s),t!==null&&(Nn(t,e,s,o),Os(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Kt(),s=xr(e),a=Qn(o,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=pr(e,a,s),t!==null&&(Nn(t,e,s,o),Os(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kt(),o=xr(e),s=Qn(r,o);s.tag=2,t!=null&&(s.callback=t),t=pr(e,s,o),t!==null&&(Nn(t,e,o,r),Os(t,e,o))}};function mu(e,t,r,o,s,a,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,a,f):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,o)||!Mo(s,a):!0}function gu(e,t,r){var o=!1,s=ur,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(s=en(t)?wr:Ut.current,o=t.contextTypes,a=(o=o!=null)?Qr(e,s):ur),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ks,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function xu(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Ks.enqueueReplaceState(t,t.state,null)}function Li(e,t,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},yi(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pn(a):(a=en(t)?wr:Ut.current,s.context=Qr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_i(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ks.enqueueReplaceState(s,s.state,null),Ws(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var r="",o=t;do r+=Z(o),o=o.return;while(o);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ri(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Di(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yp=typeof WeakMap=="function"?WeakMap:Map;function yu(e,t,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){nl||(nl=!0,Ki=o),Di(e,t)},r}function vu(e,t,r){r=Qn(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;r.payload=function(){return o(s)},r.callback=function(){Di(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Di(e,t),typeof o!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),r}function ju(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new yp;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(r)||(s.add(r),e=Lp.bind(null,e,t,r),t.then(e,e))}function ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wu(e,t,r,o,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qn(-1,1),t.tag=2,pr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vp=we.ReactCurrentOwner,tn=!1;function Qt(e,t,r,o){t.child=e===null?Wc(t,null,r,o):Xr(t,e.child,r,o)}function Cu(e,t,r,o,s){r=r.render;var a=t.ref;return eo(t,s),o=bi(e,t,r,o,a,s),r=Ni(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(vt&&r&&ai(t),t.flags|=1,Qt(e,t,o,s),t.child)}function Su(e,t,r,o,s){if(e===null){var a=r.type;return typeof a=="function"&&!na(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,bu(e,t,a,o,s)):(e=al(r.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&s)===0){var f=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(f,o)&&e.ref===t.ref)return Kn(e,t,s)}return t.flags|=1,e=vr(a,o),e.ref=t.ref,e.return=t,t.child=e}function bu(e,t,r,o,s){if(e!==null){var a=e.memoizedProps;if(Mo(a,o)&&e.ref===t.ref)if(tn=!1,t.pendingProps=o=a,(e.lanes&s)!==0)(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,Kn(e,t,s)}return Pi(e,t,r,o,s)}function Nu(e,t,r){var o=t.pendingProps,s=o.children,a=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(oo,cn),cn|=r;else{if((r&1073741824)===0)return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(oo,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=a!==null?a.baseLanes:r,ht(oo,cn),cn|=o}else a!==null?(o=a.baseLanes|r,t.memoizedState=null):o=r,ht(oo,cn),cn|=o;return Qt(e,t,s,r),t.child}function Eu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pi(e,t,r,o,s){var a=en(r)?wr:Ut.current;return a=Qr(t,a),eo(t,s),r=bi(e,t,r,o,a,s),o=Ni(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(vt&&o&&ai(t),t.flags|=1,Qt(e,t,r,s),t.child)}function Mu(e,t,r,o,s){if(en(r)){var a=!0;Rs(t)}else a=!1;if(eo(t,s),t.stateNode===null)qs(e,t),gu(t,r,o),Li(t,r,o,s),o=!0;else if(e===null){var f=t.stateNode,v=t.memoizedProps;f.props=v;var b=f.context,A=r.contextType;typeof A=="object"&&A!==null?A=pn(A):(A=en(r)?wr:Ut.current,A=Qr(t,A));var re=r.getDerivedStateFromProps,se=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function";se||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==o||b!==A)&&xu(t,f,o,A),fr=!1;var ne=t.memoizedState;f.state=ne,Ws(t,o,f,s),b=t.memoizedState,v!==o||ne!==b||Zt.current||fr?(typeof re=="function"&&(_i(t,r,re,o),b=t.memoizedState),(v=fr||mu(t,r,v,o,ne,b,A))?(se||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=b),f.props=o,f.state=b,f.context=A,o=v):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,Vc(e,t),v=t.memoizedProps,A=t.type===t.elementType?v:Cn(t.type,v),f.props=A,se=t.pendingProps,ne=f.context,b=r.contextType,typeof b=="object"&&b!==null?b=pn(b):(b=en(r)?wr:Ut.current,b=Qr(t,b));var ve=r.getDerivedStateFromProps;(re=typeof ve=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==se||ne!==b)&&xu(t,f,o,b),fr=!1,ne=t.memoizedState,f.state=ne,Ws(t,o,f,s);var $e=t.memoizedState;v!==se||ne!==$e||Zt.current||fr?(typeof ve=="function"&&(_i(t,r,ve,o),$e=t.memoizedState),(A=fr||mu(t,r,A,o,ne,$e,b)||!1)?(re||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,$e,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,$e,b)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=$e),f.props=o,f.state=$e,f.context=b,o=A):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),o=!1)}return zi(e,t,r,o,a,s)}function zi(e,t,r,o,s,a){Eu(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return s&&Rc(t,r,!1),Kn(e,t,a);o=t.stateNode,vp.current=t;var v=f&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=Xr(t,e.child,null,a),t.child=Xr(t,null,v,a)):Qt(e,t,v,a),t.memoizedState=o.state,s&&Rc(t,r,!0),t.child}function $u(e){var t=e.stateNode;t.pendingContext?_c(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_c(e,t.context,!1),vi(e,t.containerInfo)}function Tu(e,t,r,o,s){return qr(),fi(s),t.flags|=256,Qt(e,t,r,o),t.child}var Ii={dehydrated:null,treeContext:null,retryLane:0};function Ai(e){return{baseLanes:e,cachePool:null,transitions:null}}function _u(e,t,r){var o=t.pendingProps,s=Ct.current,a=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(s&2)!==0),v?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ht(Ct,s&1),e===null)return di(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=o.children,e=o.fallback,a?(o=t.mode,a=t.child,f={mode:"hidden",children:f},(o&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=f):a=cl(f,o,0,null),e=Lr(e,o,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ai(r),t.memoizedState=Ii,e):Bi(t,f));if(s=e.memoizedState,s!==null&&(v=s.dehydrated,v!==null))return jp(e,t,f,o,v,s,r);if(a){a=o.fallback,f=t.mode,s=e.child,v=s.sibling;var b={mode:"hidden",children:o.children};return(f&1)===0&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=b,t.deletions=null):(o=vr(s,b),o.subtreeFlags=s.subtreeFlags&14680064),v!==null?a=vr(v,a):(a=Lr(a,f,r,null),a.flags|=2),a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,f=e.child.memoizedState,f=f===null?Ai(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},a.memoizedState=f,a.childLanes=e.childLanes&~r,t.memoizedState=Ii,o}return a=e.child,e=a.sibling,o=vr(a,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Bi(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,r,o){return o!==null&&fi(o),Xr(t,e.child,null,r),e=Bi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jp(e,t,r,o,s,a,f){if(r)return t.flags&256?(t.flags&=-257,o=Ri(Error(i(422))),Gs(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=o.fallback,s=t.mode,o=cl({mode:"visible",children:o.children},s,0,null),a=Lr(a,s,f,null),a.flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,(t.mode&1)!==0&&Xr(t,e.child,null,f),t.child.memoizedState=Ai(f),t.memoizedState=Ii,a);if((t.mode&1)===0)return Gs(e,t,f,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var v=o.dgst;return o=v,a=Error(i(419)),o=Ri(a,o,void 0),Gs(e,t,f,o)}if(v=(f&e.childLanes)!==0,tn||v){if(o=At,o!==null){switch(f&-f){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(o.suspendedLanes|f))!==0?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Jn(e,s),Nn(o,e,s,-1))}return ta(),o=Ri(Error(i(421))),Gs(e,t,f,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rp.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,an=ar(s.nextSibling),ln=t,vt=!0,wn=null,e!==null&&(dn[fn++]=Hn,dn[fn++]=Yn,dn[fn++]=Cr,Hn=e.id,Yn=e.overflow,Cr=t),t=Bi(t,o.children),t.flags|=4096,t)}function Lu(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),gi(e.return,t,r)}function Fi(e,t,r,o,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=r,a.tailMode=s)}function Ru(e,t,r){var o=t.pendingProps,s=o.revealOrder,a=o.tail;if(Qt(e,t,o.children,r),o=Ct.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lu(e,r,t);else if(e.tag===19)Lu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ht(Ct,o),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Us(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Fi(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Us(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Fi(t,!0,r,null,a);break;case"together":Fi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=vr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kp(e,t,r){switch(t.tag){case 3:$u(t),qr();break;case 5:Jc(t);break;case 1:en(t.type)&&Rs(t);break;case 4:vi(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;ht(Bs,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ht(Ct,Ct.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?_u(e,t,r):(ht(Ct,Ct.current&1),e=Kn(e,t,r),e!==null?e.sibling:null);ht(Ct,Ct.current&1);break;case 19:if(o=(r&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Ru(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(Ct,Ct.current),o)break;return null;case 22:case 23:return t.lanes=0,Nu(e,t,r)}return Kn(e,t,r)}var Du,Oi,Pu,zu;Du=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Oi=function(){},Pu=function(e,t,r,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,Nr(Rn.current);var a=null;switch(r){case"input":s=U(e,s),o=U(e,o),a=[];break;case"select":s=V({},s,{value:void 0}),o=V({},o,{value:void 0}),a=[];break;case"textarea":s=Rt(e,s),o=Rt(e,o),a=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ts)}Ye(r,o);var f;r=null;for(A in s)if(!o.hasOwnProperty(A)&&s.hasOwnProperty(A)&&s[A]!=null)if(A==="style"){var v=s[A];for(f in v)v.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(p.hasOwnProperty(A)?a||(a=[]):(a=a||[]).push(A,null));for(A in o){var b=o[A];if(v=s?.[A],o.hasOwnProperty(A)&&b!==v&&(b!=null||v!=null))if(A==="style")if(v){for(f in v)!v.hasOwnProperty(f)||b&&b.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in b)b.hasOwnProperty(f)&&v[f]!==b[f]&&(r||(r={}),r[f]=b[f])}else r||(a||(a=[]),a.push(A,r)),r=b;else A==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,v=v?v.__html:void 0,b!=null&&v!==b&&(a=a||[]).push(A,b)):A==="children"?typeof b!="string"&&typeof b!="number"||(a=a||[]).push(A,""+b):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(p.hasOwnProperty(A)?(b!=null&&A==="onScroll"&&mt("scroll",e),a||v===b||(a=[])):(a=a||[]).push(A,b))}r&&(a=a||[]).push("style",r);var A=a;(t.updateQueue=A)&&(t.flags|=4)}},zu=function(e,t,r,o){r!==o&&(t.flags|=4)};function Uo(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function wp(e,t,r){var o=t.pendingProps;switch(ci(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return en(t.type)&&Ls(),Ht(t),null;case 3:return o=t.stateNode,to(),gt(Zt),gt(Ut),wi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wn!==null&&(Xi(wn),wn=null))),Oi(e,t),Ht(t),null;case 5:ji(t);var s=Nr(Ao.current);if(r=t.type,e!==null&&t.stateNode!=null)Pu(e,t,r,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return Ht(t),null}if(e=Nr(Rn.current),Is(t)){o=t.stateNode,r=t.type;var a=t.memoizedProps;switch(o[Ln]=t,o[Ro]=a,e=(t.mode&1)!==0,r){case"dialog":mt("cancel",o),mt("close",o);break;case"iframe":case"object":case"embed":mt("load",o);break;case"video":case"audio":for(s=0;s<To.length;s++)mt(To[s],o);break;case"source":mt("error",o);break;case"img":case"image":case"link":mt("error",o),mt("load",o);break;case"details":mt("toggle",o);break;case"input":le(o,a),mt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},mt("invalid",o);break;case"textarea":vn(o,a),mt("invalid",o)}Ye(r,a),s=null;for(var f in a)if(a.hasOwnProperty(f)){var v=a[f];f==="children"?typeof v=="string"?o.textContent!==v&&(a.suppressHydrationWarning!==!0&&$s(o.textContent,v,e),s=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(a.suppressHydrationWarning!==!0&&$s(o.textContent,v,e),s=["children",""+v]):p.hasOwnProperty(f)&&v!=null&&f==="onScroll"&&mt("scroll",o)}switch(r){case"input":qe(o),Be(o,a,!0);break;case"textarea":qe(o),T(o);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(o.onclick=Ts)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Me(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(r,{is:o.is}):(e=f.createElement(r),r==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,r),e[Ln]=t,e[Ro]=o,Du(e,t,!1,!1),t.stateNode=e;e:{switch(f=j(r,o),r){case"dialog":mt("cancel",e),mt("close",e),s=o;break;case"iframe":case"object":case"embed":mt("load",e),s=o;break;case"video":case"audio":for(s=0;s<To.length;s++)mt(To[s],e);s=o;break;case"source":mt("error",e),s=o;break;case"img":case"image":case"link":mt("error",e),mt("load",e),s=o;break;case"details":mt("toggle",e),s=o;break;case"input":le(e,o),s=U(e,o),mt("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=V({},o,{value:void 0}),mt("invalid",e);break;case"textarea":vn(e,o),s=Rt(e,o),mt("invalid",e);break;default:s=o}Ye(r,s),v=s;for(a in v)if(v.hasOwnProperty(a)){var b=v[a];a==="style"?Ee(e,b):a==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&xe(e,b)):a==="children"?typeof b=="string"?(r!=="textarea"||b!=="")&&K(e,b):typeof b=="number"&&K(e,""+b):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(p.hasOwnProperty(a)?b!=null&&a==="onScroll"&&mt("scroll",e):b!=null&&me(e,a,b,f))}switch(r){case"input":qe(e),Be(e,o,!1);break;case"textarea":qe(e),T(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Ne(o.value));break;case"select":e.multiple=!!o.multiple,a=o.value,a!=null?xt(e,!!o.multiple,a,!1):o.defaultValue!=null&&xt(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ts)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)zu(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(r=Nr(Ao.current),Nr(Rn.current),Is(t)){if(o=t.stateNode,r=t.memoizedProps,o[Ln]=t,(a=o.nodeValue!==r)&&(e=ln,e!==null))switch(e.tag){case 3:$s(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(o.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Ln]=t,t.stateNode=o}return Ht(t),null;case 13:if(gt(Ct),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vt&&an!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bc(),qr(),t.flags|=98560,a=!1;else if(a=Is(t),o!==null&&o.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));a[Ln]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ht(t),a=!1}else wn!==null&&(Xi(wn),wn=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ct.current&1)!==0?Pt===0&&(Pt=3):ta())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return to(),Oi(e,t),e===null&&_o(t.stateNode.containerInfo),Ht(t),null;case 10:return mi(t.type._context),Ht(t),null;case 17:return en(t.type)&&Ls(),Ht(t),null;case 19:if(gt(Ct),a=t.memoizedState,a===null)return Ht(t),null;if(o=(t.flags&128)!==0,f=a.rendering,f===null)if(o)Uo(a,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Us(e),f!==null){for(t.flags|=128,Uo(a,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)a=r,e=o,a.flags&=14680066,f=a.alternate,f===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,e=f.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ht(Ct,Ct.current&1|2),t.child}e=e.sibling}a.tail!==null&&$t()>so&&(t.flags|=128,o=!0,Uo(a,!1),t.lanes=4194304)}else{if(!o)if(e=Us(f),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Uo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!vt)return Ht(t),null}else 2*$t()-a.renderingStartTime>so&&r!==1073741824&&(t.flags|=128,o=!0,Uo(a,!1),t.lanes=4194304);a.isBackwards?(f.sibling=t.child,t.child=f):(r=a.last,r!==null?r.sibling=f:t.child=f,a.last=f)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$t(),t.sibling=null,r=Ct.current,ht(Ct,o?r&1|2:r&1),t):(Ht(t),null);case 22:case 23:return ea(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(cn&1073741824)!==0&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Cp(e,t){switch(ci(t),t.tag){case 1:return en(t.type)&&Ls(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return to(),gt(Zt),gt(Ut),wi(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ji(t),null;case 13:if(gt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(Ct),null;case 4:return to(),null;case 10:return mi(t.type._context),null;case 22:case 23:return ea(),null;case 24:return null;default:return null}}var Xs=!1,Yt=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,be=null;function ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Mt(e,t,o)}else r.current=null}function Wi(e,t,r){try{r()}catch(o){Mt(e,t,o)}}var Iu=!1;function bp(e,t){if(ei=ys,e=mc(),Yl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var f=0,v=-1,b=-1,A=0,re=0,se=e,ne=null;t:for(;;){for(var ve;se!==r||s!==0&&se.nodeType!==3||(v=f+s),se!==a||o!==0&&se.nodeType!==3||(b=f+o),se.nodeType===3&&(f+=se.nodeValue.length),(ve=se.firstChild)!==null;)ne=se,se=ve;for(;;){if(se===e)break t;if(ne===r&&++A===s&&(v=f),ne===a&&++re===o&&(b=f),(ve=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=ve}r=v===-1||b===-1?null:{start:v,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},ys=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var $e=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var _e=$e.memoizedProps,Tt=$e.memoizedState,D=t.stateNode,E=D.getSnapshotBeforeUpdate(t.elementType===t.type?_e:Cn(t.type,_e),Tt);D.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var z=t.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ie){Mt(t,t.return,ie)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return $e=Iu,Iu=!1,$e}function Vo(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Wi(t,r,a)}s=s.next}while(s!==o)}}function Zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function Ui(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Au(e){var t=e.alternate;t!==null&&(e.alternate=null,Au(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[Ro],delete t[si],delete t[ip],delete t[ap])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bu(e){return e.tag===5||e.tag===3||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vi(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ts));else if(o!==4&&(e=e.child,e!==null))for(Vi(e,t,r),e=e.sibling;e!==null;)Vi(e,t,r),e=e.sibling}function Hi(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Hi(e,t,r),e=e.sibling;e!==null;)Hi(e,t,r),e=e.sibling}var Ot=null,Sn=!1;function hr(e,t,r){for(r=r.child;r!==null;)Ou(e,t,r),r=r.sibling}function Ou(e,t,r){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(fs,r)}catch{}switch(r.tag){case 5:Yt||ro(r,t);case 6:var o=Ot,s=Sn;Ot=null,hr(e,t,r),Ot=o,Sn=s,Ot!==null&&(Sn?(e=Ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(Sn?(e=Ot,r=r.stateNode,e.nodeType===8?oi(e.parentNode,r):e.nodeType===1&&oi(e,r),wo(e)):oi(Ot,r.stateNode));break;case 4:o=Ot,s=Sn,Ot=r.stateNode.containerInfo,Sn=!0,hr(e,t,r),Ot=o,Sn=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var a=s,f=a.destroy;a=a.tag,f!==void 0&&((a&2)!==0||(a&4)!==0)&&Wi(r,t,f),s=s.next}while(s!==o)}hr(e,t,r);break;case 1:if(!Yt&&(ro(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(v){Mt(r,t,v)}hr(e,t,r);break;case 21:hr(e,t,r);break;case 22:r.mode&1?(Yt=(o=Yt)||r.memoizedState!==null,hr(e,t,r),Yt=o):hr(e,t,r);break;default:hr(e,t,r)}}function Wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sp),t.forEach(function(o){var s=Dp.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function bn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var a=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 5:Ot=v.stateNode,Sn=!1;break e;case 3:Ot=v.stateNode.containerInfo,Sn=!0;break e;case 4:Ot=v.stateNode.containerInfo,Sn=!0;break e}v=v.return}if(Ot===null)throw Error(i(160));Ou(a,f,s),Ot=null,Sn=!1;var b=s.alternate;b!==null&&(b.return=null),s.return=null}catch(A){Mt(s,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uu(t,e),t=t.sibling}function Uu(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Pn(e),o&4){try{Vo(3,e,e.return),Zs(3,e)}catch(_e){Mt(e,e.return,_e)}try{Vo(5,e,e.return)}catch(_e){Mt(e,e.return,_e)}}break;case 1:bn(t,e),Pn(e),o&512&&r!==null&&ro(r,r.return);break;case 5:if(bn(t,e),Pn(e),o&512&&r!==null&&ro(r,r.return),e.flags&32){var s=e.stateNode;try{K(s,"")}catch(_e){Mt(e,e.return,_e)}}if(o&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,f=r!==null?r.memoizedProps:a,v=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{v==="input"&&a.type==="radio"&&a.name!=null&&Je(s,a),j(v,f);var A=j(v,a);for(f=0;f<b.length;f+=2){var re=b[f],se=b[f+1];re==="style"?Ee(s,se):re==="dangerouslySetInnerHTML"?xe(s,se):re==="children"?K(s,se):me(s,re,se,A)}switch(v){case"input":zt(s,a);break;case"textarea":Ft(s,a);break;case"select":var ne=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var ve=a.value;ve!=null?xt(s,!!a.multiple,ve,!1):ne!==!!a.multiple&&(a.defaultValue!=null?xt(s,!!a.multiple,a.defaultValue,!0):xt(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ro]=a}catch(_e){Mt(e,e.return,_e)}}break;case 6:if(bn(t,e),Pn(e),o&4){if(e.stateNode===null)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(_e){Mt(e,e.return,_e)}}break;case 3:if(bn(t,e),Pn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(_e){Mt(e,e.return,_e)}break;case 4:bn(t,e),Pn(e);break;case 13:bn(t,e),Pn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Qi=$t())),o&4&&Wu(e);break;case 22:if(re=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(A=Yt)||re,bn(t,e),Yt=A):bn(t,e),Pn(e),o&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!re&&(e.mode&1)!==0)for(be=e,re=e.child;re!==null;){for(se=be=re;be!==null;){switch(ne=be,ve=ne.child,ne.tag){case 0:case 11:case 14:case 15:Vo(4,ne,ne.return);break;case 1:ro(ne,ne.return);var $e=ne.stateNode;if(typeof $e.componentWillUnmount=="function"){o=ne,r=ne.return;try{t=o,$e.props=t.memoizedProps,$e.state=t.memoizedState,$e.componentWillUnmount()}catch(_e){Mt(o,r,_e)}}break;case 5:ro(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Yu(se);continue}}ve!==null?(ve.return=ne,be=ve):Yu(se)}re=re.sibling}e:for(re=null,se=e;;){if(se.tag===5){if(re===null){re=se;try{s=se.stateNode,A?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(v=se.stateNode,b=se.memoizedProps.style,f=b!=null&&b.hasOwnProperty("display")?b.display:null,v.style.display=bt("display",f))}catch(_e){Mt(e,e.return,_e)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=A?"":se.memoizedProps}catch(_e){Mt(e,e.return,_e)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===e)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===e)break e;for(;se.sibling===null;){if(se.return===null||se.return===e)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:bn(t,e),Pn(e),o&4&&Wu(e);break;case 21:break;default:bn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bu(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(K(s,""),o.flags&=-33);var a=Fu(e);Hi(e,a,s);break;case 3:case 4:var f=o.stateNode.containerInfo,v=Fu(e);Vi(e,v,f);break;default:throw Error(i(161))}}catch(b){Mt(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Np(e,t,r){be=e,Vu(e)}function Vu(e,t,r){for(var o=(e.mode&1)!==0;be!==null;){var s=be,a=s.child;if(s.tag===22&&o){var f=s.memoizedState!==null||Xs;if(!f){var v=s.alternate,b=v!==null&&v.memoizedState!==null||Yt;v=Xs;var A=Yt;if(Xs=f,(Yt=b)&&!A)for(be=s;be!==null;)f=be,b=f.child,f.tag===22&&f.memoizedState!==null?Ju(s):b!==null?(b.return=f,be=b):Ju(s);for(;a!==null;)be=a,Vu(a),a=a.sibling;be=s,Xs=v,Yt=A}Hu(e)}else(s.subtreeFlags&8772)!==0&&a!==null?(a.return=s,be=a):Hu(e)}}function Hu(e){for(;be!==null;){var t=be;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Yt||Zs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Yt)if(r===null)o.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Cn(t.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Yc(t,a,o);break;case 3:var f=t.updateQueue;if(f!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yc(t,f,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&r.focus();break;case"img":b.src&&(r.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var re=A.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&wo(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Yt||t.flags&512&&Ui(t)}catch(ne){Mt(t,t.return,ne)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Yu(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Ju(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zs(4,t)}catch(b){Mt(t,r,b)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(b){Mt(t,s,b)}}var a=t.return;try{Ui(t)}catch(b){Mt(t,a,b)}break;case 5:var f=t.return;try{Ui(t)}catch(b){Mt(t,f,b)}}}catch(b){Mt(t,t.return,b)}if(t===e){be=null;break}var v=t.sibling;if(v!==null){v.return=t.return,be=v;break}be=t.return}}var Ep=Math.ceil,el=we.ReactCurrentDispatcher,Yi=we.ReactCurrentOwner,mn=we.ReactCurrentBatchConfig,tt=0,At=null,Lt=null,Wt=0,cn=0,oo=cr(0),Pt=0,Ho=null,Mr=0,tl=0,Ji=0,Yo=null,nn=null,Qi=0,so=1/0,Gn=null,nl=!1,Ki=null,mr=null,rl=!1,gr=null,ol=0,Jo=0,Gi=null,sl=-1,ll=0;function Kt(){return(tt&6)!==0?$t():sl!==-1?sl:sl=$t()}function xr(e){return(e.mode&1)===0?1:(tt&2)!==0&&Wt!==0?Wt&-Wt:up.transition!==null?(ll===0&&(ll=Fa()),ll):(e=ct,e!==0||(e=window.event,e=e===void 0?16:Ka(e.type)),e)}function Nn(e,t,r,o){if(50<Jo)throw Jo=0,Gi=null,Error(i(185));xo(e,r,o),((tt&2)===0||e!==At)&&(e===At&&((tt&2)===0&&(tl|=r),Pt===4&&yr(e,Wt)),rn(e,o),r===1&&tt===0&&(t.mode&1)===0&&(so=$t()+500,Ds&&dr()))}function rn(e,t){var r=e.callbackNode;uf(e,t);var o=ms(e,e===At?Wt:0);if(o===0)r!==null&&Ia(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&Ia(r),t===1)e.tag===0?cp(Ku.bind(null,e)):Dc(Ku.bind(null,e)),sp(function(){(tt&6)===0&&dr()}),r=null;else{switch(Oa(o)){case 1:r=$l;break;case 4:r=Aa;break;case 16:r=ds;break;case 536870912:r=Ba;break;default:r=ds}r=rd(r,Qu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Qu(e,t){if(sl=-1,ll=0,(tt&6)!==0)throw Error(i(327));var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var o=ms(e,e===At?Wt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=il(e,o);else{t=o;var s=tt;tt|=2;var a=qu();(At!==e||Wt!==t)&&(Gn=null,so=$t()+500,Tr(e,t));do try{Tp();break}catch(v){Gu(e,v)}while(!0);hi(),el.current=a,tt=s,Lt!==null?t=0:(At=null,Wt=0,t=Pt)}if(t!==0){if(t===2&&(s=Tl(e),s!==0&&(o=s,t=qi(e,s))),t===1)throw r=Ho,Tr(e,0),yr(e,o),rn(e,$t()),r;if(t===6)yr(e,o);else{if(s=e.current.alternate,(o&30)===0&&!Mp(s)&&(t=il(e,o),t===2&&(a=Tl(e),a!==0&&(o=a,t=qi(e,a))),t===1))throw r=Ho,Tr(e,0),yr(e,o),rn(e,$t()),r;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:_r(e,nn,Gn);break;case 3:if(yr(e,o),(o&130023424)===o&&(t=Qi+500-$t(),10<t)){if(ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){Kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ri(_r.bind(null,e,nn,Gn),t);break}_r(e,nn,Gn);break;case 4:if(yr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var f=31-jn(o);a=1<<f,f=t[f],f>s&&(s=f),o&=~a}if(o=s,o=$t()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Ep(o/1960))-o,10<o){e.timeoutHandle=ri(_r.bind(null,e,nn,Gn),o);break}_r(e,nn,Gn);break;case 5:_r(e,nn,Gn);break;default:throw Error(i(329))}}}return rn(e,$t()),e.callbackNode===r?Qu.bind(null,e):null}function qi(e,t){var r=Yo;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=il(e,t),e!==2&&(t=nn,nn=r,t!==null&&Xi(t)),e}function Xi(e){nn===null?nn=e:nn.push.apply(nn,e)}function Mp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],a=s.getSnapshot;s=s.value;try{if(!kn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yr(e,t){for(t&=~Ji,t&=~tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jn(t),o=1<<r;e[r]=-1,t&=~o}}function Ku(e){if((tt&6)!==0)throw Error(i(327));lo();var t=ms(e,0);if((t&1)===0)return rn(e,$t()),null;var r=il(e,t);if(e.tag!==0&&r===2){var o=Tl(e);o!==0&&(t=o,r=qi(e,o))}if(r===1)throw r=Ho,Tr(e,0),yr(e,t),rn(e,$t()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,nn,Gn),rn(e,$t()),null}function Zi(e,t){var r=tt;tt|=1;try{return e(t)}finally{tt=r,tt===0&&(so=$t()+500,Ds&&dr())}}function $r(e){gr!==null&&gr.tag===0&&(tt&6)===0&&lo();var t=tt;tt|=1;var r=mn.transition,o=ct;try{if(mn.transition=null,ct=1,e)return e()}finally{ct=o,mn.transition=r,tt=t,(tt&6)===0&&dr()}}function ea(){cn=oo.current,gt(oo)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,op(r)),Lt!==null)for(r=Lt.return;r!==null;){var o=r;switch(ci(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ls();break;case 3:to(),gt(Zt),gt(Ut),wi();break;case 5:ji(o);break;case 4:to();break;case 13:gt(Ct);break;case 19:gt(Ct);break;case 10:mi(o.type._context);break;case 22:case 23:ea()}r=r.return}if(At=e,Lt=e=vr(e.current,null),Wt=cn=t,Pt=0,Ho=null,Ji=tl=Mr=0,nn=Yo=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,a=r.pending;if(a!==null){var f=a.next;a.next=s,o.next=f}r.pending=o}br=null}return e}function Gu(e,t){do{var r=Lt;try{if(hi(),Vs.current=Qs,Hs){for(var o=St.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Hs=!1}if(Er=0,It=Dt=St=null,Bo=!1,Fo=0,Yi.current=null,r===null||r.return===null){Pt=1,Ho=t,Lt=null;break}e:{var a=e,f=r.return,v=r,b=t;if(t=Wt,v.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var A=b,re=v,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ve=ku(f);if(ve!==null){ve.flags&=-257,wu(ve,f,v,a,t),ve.mode&1&&ju(a,A,t),t=ve,b=A;var $e=t.updateQueue;if($e===null){var _e=new Set;_e.add(b),t.updateQueue=_e}else $e.add(b);break e}else{if((t&1)===0){ju(a,A,t),ta();break e}b=Error(i(426))}}else if(vt&&v.mode&1){var Tt=ku(f);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),wu(Tt,f,v,a,t),fi(no(b,v));break e}}a=b=no(b,v),Pt!==4&&(Pt=2),Yo===null?Yo=[a]:Yo.push(a),a=f;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var D=yu(a,b,t);Hc(a,D);break e;case 1:v=b;var E=a.type,z=a.stateNode;if((a.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(mr===null||!mr.has(z)))){a.flags|=65536,t&=-t,a.lanes|=t;var ie=vu(a,v,t);Hc(a,ie);break e}}a=a.return}while(a!==null)}Zu(r)}catch(De){t=De,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function qu(){var e=el.current;return el.current=Qs,e===null?Qs:e}function ta(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),At===null||(Mr&268435455)===0&&(tl&268435455)===0||yr(At,Wt)}function il(e,t){var r=tt;tt|=2;var o=qu();(At!==e||Wt!==t)&&(Gn=null,Tr(e,t));do try{$p();break}catch(s){Gu(e,s)}while(!0);if(hi(),tt=r,el.current=o,Lt!==null)throw Error(i(261));return At=null,Wt=0,Pt}function $p(){for(;Lt!==null;)Xu(Lt)}function Tp(){for(;Lt!==null&&!ef();)Xu(Lt)}function Xu(e){var t=nd(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?Zu(e):Lt=t,Yi.current=null}function Zu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=wp(r,t,cn),r!==null){Lt=r;return}}else{if(r=Cp(r,t),r!==null){r.flags&=32767,Lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,Lt=null;return}}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Pt===0&&(Pt=5)}function _r(e,t,r){var o=ct,s=mn.transition;try{mn.transition=null,ct=1,_p(e,t,r,o)}finally{mn.transition=s,ct=o}return null}function _p(e,t,r,o){do lo();while(gr!==null);if((tt&6)!==0)throw Error(i(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(df(e,a),e===At&&(Lt=At=null,Wt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||rl||(rl=!0,rd(ds,function(){return lo(),null})),a=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||a){a=mn.transition,mn.transition=null;var f=ct;ct=1;var v=tt;tt|=4,Yi.current=null,bp(e,r),Uu(r,e),qf(ti),ys=!!ei,ti=ei=null,e.current=r,Np(r),tf(),tt=v,ct=f,mn.transition=a}else e.current=r;if(rl&&(rl=!1,gr=e,ol=s),a=e.pendingLanes,a===0&&(mr=null),of(r.stateNode),rn(e,$t()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(nl)throw nl=!1,e=Ki,Ki=null,e;return(ol&1)!==0&&e.tag!==0&&lo(),a=e.pendingLanes,(a&1)!==0?e===Gi?Jo++:(Jo=0,Gi=e):Jo=0,dr(),null}function lo(){if(gr!==null){var e=Oa(ol),t=mn.transition,r=ct;try{if(mn.transition=null,ct=16>e?16:e,gr===null)var o=!1;else{if(e=gr,gr=null,ol=0,(tt&6)!==0)throw Error(i(331));var s=tt;for(tt|=4,be=e.current;be!==null;){var a=be,f=a.child;if((be.flags&16)!==0){var v=a.deletions;if(v!==null){for(var b=0;b<v.length;b++){var A=v[b];for(be=A;be!==null;){var re=be;switch(re.tag){case 0:case 11:case 15:Vo(8,re,a)}var se=re.child;if(se!==null)se.return=re,be=se;else for(;be!==null;){re=be;var ne=re.sibling,ve=re.return;if(Au(re),re===A){be=null;break}if(ne!==null){ne.return=ve,be=ne;break}be=ve}}}var $e=a.alternate;if($e!==null){var _e=$e.child;if(_e!==null){$e.child=null;do{var Tt=_e.sibling;_e.sibling=null,_e=Tt}while(_e!==null)}}be=a}}if((a.subtreeFlags&2064)!==0&&f!==null)f.return=a,be=f;else e:for(;be!==null;){if(a=be,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Vo(9,a,a.return)}var D=a.sibling;if(D!==null){D.return=a.return,be=D;break e}be=a.return}}var E=e.current;for(be=E;be!==null;){f=be;var z=f.child;if((f.subtreeFlags&2064)!==0&&z!==null)z.return=f,be=z;else e:for(f=E;be!==null;){if(v=be,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Zs(9,v)}}catch(De){Mt(v,v.return,De)}if(v===f){be=null;break e}var ie=v.sibling;if(ie!==null){ie.return=v.return,be=ie;break e}be=v.return}}if(tt=s,dr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(fs,e)}catch{}o=!0}return o}finally{ct=r,mn.transition=t}}return!1}function ed(e,t,r){t=no(r,t),t=yu(e,t,1),e=pr(e,t,1),t=Kt(),e!==null&&(xo(e,1,t),rn(e,t))}function Mt(e,t,r){if(e.tag===3)ed(e,e,r);else for(;t!==null;){if(t.tag===3){ed(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(mr===null||!mr.has(o))){e=no(r,e),e=vu(t,e,1),t=pr(t,e,1),e=Kt(),t!==null&&(xo(t,1,e),rn(t,e));break}}t=t.return}}function Lp(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Wt&r)===r&&(Pt===4||Pt===3&&(Wt&130023424)===Wt&&500>$t()-Qi?Tr(e,0):Ji|=r),rn(e,t)}function td(e,t){t===0&&((e.mode&1)===0?t=1:(t=hs,hs<<=1,(hs&130023424)===0&&(hs=4194304)));var r=Kt();e=Jn(e,t),e!==null&&(xo(e,t,r),rn(e,r))}function Rp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),td(e,r)}function Dp(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),td(e,r)}var nd;nd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)tn=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return tn=!1,kp(e,t,r);tn=(e.flags&131072)!==0}else tn=!1,vt&&(t.flags&1048576)!==0&&Pc(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;qs(e,t),e=t.pendingProps;var s=Qr(t,Ut.current);eo(t,r),s=bi(null,t,o,e,s,r);var a=Ni();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(o)?(a=!0,Rs(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yi(t),s.updater=Ks,t.stateNode=s,s._reactInternals=t,Li(t,o,e,r),t=zi(null,t,o,!0,a,r)):(t.tag=0,vt&&a&&ai(t),Qt(null,t,s,r),t=t.child),t;case 16:o=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=zp(o),e=Cn(o,e),s){case 0:t=Pi(null,t,o,e,r);break e;case 1:t=Mu(null,t,o,e,r);break e;case 11:t=Cu(null,t,o,e,r);break e;case 14:t=Su(null,t,o,Cn(o.type,e),r);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),Pi(e,t,o,s,r);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),Mu(e,t,o,s,r);case 3:e:{if($u(t),e===null)throw Error(i(387));o=t.pendingProps,a=t.memoizedState,s=a.element,Vc(e,t),Ws(t,o,null,r);var f=t.memoizedState;if(o=f.element,a.isDehydrated)if(a={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=no(Error(i(423)),t),t=Tu(e,t,o,r,s);break e}else if(o!==s){s=no(Error(i(424)),t),t=Tu(e,t,o,r,s);break e}else for(an=ar(t.stateNode.containerInfo.firstChild),ln=t,vt=!0,wn=null,r=Wc(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),o===s){t=Kn(e,t,r);break e}Qt(e,t,o,r)}t=t.child}return t;case 5:return Jc(t),e===null&&di(t),o=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,f=s.children,ni(o,s)?f=null:a!==null&&ni(o,a)&&(t.flags|=32),Eu(e,t),Qt(e,t,f,r),t.child;case 6:return e===null&&di(t),null;case 13:return _u(e,t,r);case 4:return vi(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Xr(t,null,o,r):Qt(e,t,o,r),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),Cu(e,t,o,s,r);case 7:return Qt(e,t,t.pendingProps,r),t.child;case 8:return Qt(e,t,t.pendingProps.children,r),t.child;case 12:return Qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,a=t.memoizedProps,f=s.value,ht(Bs,o._currentValue),o._currentValue=f,a!==null)if(kn(a.value,f)){if(a.children===s.children&&!Zt.current){t=Kn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var v=a.dependencies;if(v!==null){f=a.child;for(var b=v.firstContext;b!==null;){if(b.context===o){if(a.tag===1){b=Qn(-1,r&-r),b.tag=2;var A=a.updateQueue;if(A!==null){A=A.shared;var re=A.pending;re===null?b.next=b:(b.next=re.next,re.next=b),A.pending=b}}a.lanes|=r,b=a.alternate,b!==null&&(b.lanes|=r),gi(a.return,r,t),v.lanes|=r;break}b=b.next}}else if(a.tag===10)f=a.type===t.type?null:a.child;else if(a.tag===18){if(f=a.return,f===null)throw Error(i(341));f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),gi(f,r,t),f=a.sibling}else f=a.child;if(f!==null)f.return=a;else for(f=a;f!==null;){if(f===t){f=null;break}if(a=f.sibling,a!==null){a.return=f.return,f=a;break}f=f.return}a=f}Qt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,eo(t,r),s=pn(s),o=o(s),t.flags|=1,Qt(e,t,o,r),t.child;case 14:return o=t.type,s=Cn(o,t.pendingProps),s=Cn(o.type,s),Su(e,t,o,s,r);case 15:return bu(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Cn(o,s),qs(e,t),t.tag=1,en(o)?(e=!0,Rs(t)):e=!1,eo(t,r),gu(t,o,s),Li(t,o,s,r),zi(null,t,o,!0,e,r);case 19:return Ru(e,t,r);case 22:return Nu(e,t,r)}throw Error(i(156,t.tag))};function rd(e,t){return us(e,t)}function Pp(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,r,o){return new Pp(e,t,r,o)}function na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zp(e){if(typeof e=="function")return na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ae)return 11;if(e===Ze)return 14}return 2}function vr(e,t){var r=e.alternate;return r===null?(r=gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function al(e,t,r,o,s,a){var f=2;if(o=e,typeof e=="function")na(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Le:return Lr(r.children,s,a,t);case pe:f=8,s|=8;break;case Ve:return e=gn(12,r,t,s|2),e.elementType=Ve,e.lanes=a,e;case Ie:return e=gn(13,r,t,s),e.elementType=Ie,e.lanes=a,e;case Te:return e=gn(19,r,t,s),e.elementType=Te,e.lanes=a,e;case ce:return cl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:f=10;break e;case X:f=9;break e;case ae:f=11;break e;case Ze:f=14;break e;case Qe:f=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=gn(f,r,t,s),t.elementType=e,t.type=o,t.lanes=a,t}function Lr(e,t,r,o){return e=gn(7,e,o,t),e.lanes=r,e}function cl(e,t,r,o){return e=gn(22,e,o,t),e.elementType=ce,e.lanes=r,e.stateNode={isHidden:!1},e}function ra(e,t,r){return e=gn(6,e,null,t),e.lanes=r,e}function oa(e,t,r){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ip(e,t,r,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sa(e,t,r,o,s,a,f,v,b){return e=new Ip(e,t,r,v,b),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yi(a),e}function Ap(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:We,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function od(e){if(!e)return ur;e=e._reactInternals;e:{if(Nt(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(en(r))return Lc(e,r,t)}return t}function sd(e,t,r,o,s,a,f,v,b){return e=sa(r,o,!0,e,s,a,f,v,b),e.context=od(null),r=e.current,o=Kt(),s=xr(r),a=Qn(o,s),a.callback=t??null,pr(r,a,s),e.current.lanes=s,xo(e,s,o),rn(e,o),e}function ul(e,t,r,o){var s=t.current,a=Kt(),f=xr(s);return r=od(r),t.context===null?t.context=r:t.pendingContext=r,t=Qn(a,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=pr(s,t,f),e!==null&&(Nn(e,s,f,a),Os(e,s,f)),f}function dl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ld(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function la(e,t){ld(e,t),(e=e.alternate)&&ld(e,t)}function Bp(){return null}var id=typeof reportError=="function"?reportError:function(e){console.error(e)};function ia(e){this._internalRoot=e}fl.prototype.render=ia.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));ul(e,t,null,null)},fl.prototype.unmount=ia.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$r(function(){ul(null,e,null,null)}),t[Un]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Va();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sr.length&&t!==0&&t<sr[r].priority;r++);sr.splice(r,0,e),r===0&&Ja(e)}};function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ad(){}function Fp(e,t,r,o,s){if(s){if(typeof o=="function"){var a=o;o=function(){var A=dl(f);a.call(A)}}var f=sd(t,o,e,0,null,!1,!1,"",ad);return e._reactRootContainer=f,e[Un]=f.current,_o(e.nodeType===8?e.parentNode:e),$r(),f}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var v=o;o=function(){var A=dl(b);v.call(A)}}var b=sa(e,0,!1,null,null,!1,!1,"",ad);return e._reactRootContainer=b,e[Un]=b.current,_o(e.nodeType===8?e.parentNode:e),$r(function(){ul(t,b,r,o)}),b}function hl(e,t,r,o,s){var a=r._reactRootContainer;if(a){var f=a;if(typeof s=="function"){var v=s;s=function(){var b=dl(f);v.call(b)}}ul(t,f,e,s)}else f=Fp(r,t,e,s,o);return dl(f)}Wa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=go(t.pendingLanes);r!==0&&(Ll(t,r|1),rn(t,$t()),(tt&6)===0&&(so=$t()+500,dr()))}break;case 13:$r(function(){var o=Jn(e,1);if(o!==null){var s=Kt();Nn(o,e,1,s)}}),la(e,1)}},Rl=function(e){if(e.tag===13){var t=Jn(e,134217728);if(t!==null){var r=Kt();Nn(t,e,134217728,r)}la(e,134217728)}},Ua=function(e){if(e.tag===13){var t=xr(e),r=Jn(e,t);if(r!==null){var o=Kt();Nn(r,e,t,o)}la(e,t)}},Va=function(){return ct},Ha=function(e,t){var r=ct;try{return ct=e,t()}finally{ct=r}},he=function(e,t,r){switch(t){case"input":if(zt(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var s=_s(o);if(!s)throw Error(i(90));it(o),zt(o,s)}}}break;case"textarea":Ft(e,r);break;case"select":t=r.value,t!=null&&xt(e,!!r.multiple,t,!1)}},L=Zi,O=$r;var Op={usingClientEntryPoint:!1,Events:[Do,Yr,_s,Se,u,Zi]},Qo={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Et(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Bp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{fs=ml.inject(Wp),_n=ml}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Op,on.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(t))throw Error(i(200));return Ap(e,t,null,r)},on.createRoot=function(e,t){if(!aa(e))throw Error(i(299));var r=!1,o="",s=id;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sa(e,1,!1,null,null,r,!1,o,s),e[Un]=t.current,_o(e.nodeType===8?e.parentNode:e),new ia(t)},on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Et(t),e=e===null?null:e.stateNode,e},on.flushSync=function(e){return $r(e)},on.hydrate=function(e,t,r){if(!pl(t))throw Error(i(200));return hl(null,e,t,!0,r)},on.hydrateRoot=function(e,t,r){if(!aa(e))throw Error(i(405));var o=r!=null&&r.hydratedSources||null,s=!1,a="",f=id;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),t=sd(t,null,e,1,r??null,s,!1,a,f),e[Un]=t.current,_o(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new fl(t)},on.render=function(e,t,r){if(!pl(t))throw Error(i(200));return hl(null,e,t,!1,r)},on.unmountComponentAtNode=function(e){if(!pl(e))throw Error(i(40));return e._reactRootContainer?($r(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1},on.unstable_batchedUpdates=Zi,on.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!pl(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return hl(e,t,r,!1,o)},on.version="18.3.1-next-f1338f8080-20240426",on}var gd;function qp(){if(gd)return da.exports;gd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(d){console.error(d)}}return l(),da.exports=Gp(),da.exports}var xd;function Xp(){if(xd)return gl;xd=1;var l=qp();return gl.createRoot=l.createRoot,gl.hydrateRoot=l.hydrateRoot,gl}var Zp=Xp();const eh=Ed(Zp);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yd="popstate";function th(l={}){function d(c,p){let{pathname:m,search:x,hash:w}=c.location;return ya("",{pathname:m,search:x,hash:w},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function i(c,p){return typeof p=="string"?p:Xo(p)}return rh(d,i,null,l)}function jt(l,d){if(l===!1||l===null||typeof l>"u")throw new Error(d)}function Mn(l,d){if(!l){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function nh(){return Math.random().toString(36).substring(2,10)}function vd(l,d){return{usr:l.state,key:l.key,idx:d}}function ya(l,d,i=null,c){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof d=="string"?uo(d):d,state:i,key:d&&d.key||c||nh()}}function Xo({pathname:l="/",search:d="",hash:i=""}){return d&&d!=="?"&&(l+=d.charAt(0)==="?"?d:"?"+d),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i),l}function uo(l){let d={};if(l){let i=l.indexOf("#");i>=0&&(d.hash=l.substring(i),l=l.substring(0,i));let c=l.indexOf("?");c>=0&&(d.search=l.substring(c),l=l.substring(0,c)),l&&(d.pathname=l)}return d}function rh(l,d,i,c={}){let{window:p=document.defaultView,v5Compat:m=!1}=c,x=p.history,w="POP",g=null,k=M();k==null&&(k=0,x.replaceState({...x.state,idx:k},""));function M(){return(x.state||{idx:null}).idx}function W(){w="POP";let R=M(),Q=R==null?null:R-k;k=R,g&&g({action:w,location:I.location,delta:Q})}function C(R,Q){w="PUSH";let Y=ya(I.location,R,Q);k=M()+1;let me=vd(Y,k),we=I.createHref(Y);try{x.pushState(me,"",we)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;p.location.assign(we)}m&&g&&g({action:w,location:I.location,delta:1})}function J(R,Q){w="REPLACE";let Y=ya(I.location,R,Q);k=M();let me=vd(Y,k),we=I.createHref(Y);x.replaceState(me,"",we),m&&g&&g({action:w,location:I.location,delta:0})}function N(R){return oh(R)}let I={get action(){return w},get location(){return l(p,x)},listen(R){if(g)throw new Error("A history only accepts one active listener");return p.addEventListener(yd,W),g=R,()=>{p.removeEventListener(yd,W),g=null}},createHref(R){return d(p,R)},createURL:N,encodeLocation(R){let Q=N(R);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:C,replace:J,go(R){return x.go(R)}};return I}function oh(l,d=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),jt(i,"No window.location.(origin|href) available to create URL");let c=typeof l=="string"?l:Xo(l);return c=c.replace(/ $/,"%20"),!d&&c.startsWith("//")&&(c=i+c),new URL(c,i)}function Md(l,d,i="/"){return sh(l,d,i,!1)}function sh(l,d,i,c){let p=typeof d=="string"?uo(d):d,m=Zn(p.pathname||"/",i);if(m==null)return null;let x=$d(l);lh(x);let w=null;for(let g=0;w==null&&g<x.length;++g){let k=xh(m);w=mh(x[g],k,c)}return w}function $d(l,d=[],i=[],c="",p=!1){let m=(x,w,g=p,k)=>{let M={relativePath:k===void 0?x.path||"":k,caseSensitive:x.caseSensitive===!0,childrenIndex:w,route:x};if(M.relativePath.startsWith("/")){if(!M.relativePath.startsWith(c)&&g)return;jt(M.relativePath.startsWith(c),`Absolute route path "${M.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),M.relativePath=M.relativePath.slice(c.length)}let W=Xn([c,M.relativePath]),C=i.concat(M);x.children&&x.children.length>0&&(jt(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${W}".`),$d(x.children,d,C,W,g)),!(x.path==null&&!x.index)&&d.push({path:W,score:ph(W,x.index),routesMeta:C})};return l.forEach((x,w)=>{if(x.path===""||!x.path?.includes("?"))m(x,w);else for(let g of Td(x.path))m(x,w,!0,g)}),d}function Td(l){let d=l.split("/");if(d.length===0)return[];let[i,...c]=d,p=i.endsWith("?"),m=i.replace(/\?$/,"");if(c.length===0)return p?[m,""]:[m];let x=Td(c.join("/")),w=[];return w.push(...x.map(g=>g===""?m:[m,g].join("/"))),p&&w.push(...x),w.map(g=>l.startsWith("/")&&g===""?"/":g)}function lh(l){l.sort((d,i)=>d.score!==i.score?i.score-d.score:hh(d.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}var ih=/^:[\w-]+$/,ah=3,ch=2,uh=1,dh=10,fh=-2,jd=l=>l==="*";function ph(l,d){let i=l.split("/"),c=i.length;return i.some(jd)&&(c+=fh),d&&(c+=ch),i.filter(p=>!jd(p)).reduce((p,m)=>p+(ih.test(m)?ah:m===""?uh:dh),c)}function hh(l,d){return l.length===d.length&&l.slice(0,-1).every((c,p)=>c===d[p])?l[l.length-1]-d[d.length-1]:0}function mh(l,d,i=!1){let{routesMeta:c}=l,p={},m="/",x=[];for(let w=0;w<c.length;++w){let g=c[w],k=w===c.length-1,M=m==="/"?d:d.slice(m.length)||"/",W=kl({path:g.relativePath,caseSensitive:g.caseSensitive,end:k},M),C=g.route;if(!W&&k&&i&&!c[c.length-1].route.index&&(W=kl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},M)),!W)return null;Object.assign(p,W.params),x.push({params:p,pathname:Xn([m,W.pathname]),pathnameBase:kh(Xn([m,W.pathnameBase])),route:C}),W.pathnameBase!=="/"&&(m=Xn([m,W.pathnameBase]))}return x}function kl(l,d){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[i,c]=gh(l.path,l.caseSensitive,l.end),p=d.match(i);if(!p)return null;let m=p[0],x=m.replace(/(.)\/+$/,"$1"),w=p.slice(1);return{params:c.reduce((k,{paramName:M,isOptional:W},C)=>{if(M==="*"){let N=w[C]||"";x=m.slice(0,m.length-N.length).replace(/(.)\/+$/,"$1")}const J=w[C];return W&&!J?k[M]=void 0:k[M]=(J||"").replace(/%2F/g,"/"),k},{}),pathname:m,pathnameBase:x,pattern:l}}function gh(l,d=!1,i=!0){Mn(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let c=[],p="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,w,g)=>(c.push({paramName:w,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(c.push({paramName:"*"}),p+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?p+="\\/*$":l!==""&&l!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,d?void 0:"i"),c]}function xh(l){try{return l.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return Mn(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),l}}function Zn(l,d){if(d==="/")return l;if(!l.toLowerCase().startsWith(d.toLowerCase()))return null;let i=d.endsWith("/")?d.length-1:d.length,c=l.charAt(i);return c&&c!=="/"?null:l.slice(i)||"/"}function yh(l,d="/"){let{pathname:i,search:c="",hash:p=""}=typeof l=="string"?uo(l):l;return{pathname:i?i.startsWith("/")?i:vh(i,d):d,search:wh(c),hash:Ch(p)}}function vh(l,d){let i=d.replace(/\/+$/,"").split("/");return l.split("/").forEach(p=>{p===".."?i.length>1&&i.pop():p!=="."&&i.push(p)}),i.length>1?i.join("/"):"/"}function ha(l,d,i,c){return`Cannot include a '${l}' character in a manually specified \`to.${d}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jh(l){return l.filter((d,i)=>i===0||d.route.path&&d.route.path.length>0)}function wa(l){let d=jh(l);return d.map((i,c)=>c===d.length-1?i.pathname:i.pathnameBase)}function Ca(l,d,i,c=!1){let p;typeof l=="string"?p=uo(l):(p={...l},jt(!p.pathname||!p.pathname.includes("?"),ha("?","pathname","search",p)),jt(!p.pathname||!p.pathname.includes("#"),ha("#","pathname","hash",p)),jt(!p.search||!p.search.includes("#"),ha("#","search","hash",p)));let m=l===""||p.pathname==="",x=m?"/":p.pathname,w;if(x==null)w=i;else{let W=d.length-1;if(!c&&x.startsWith("..")){let C=x.split("/");for(;C[0]==="..";)C.shift(),W-=1;p.pathname=C.join("/")}w=W>=0?d[W]:"/"}let g=yh(p,w),k=x&&x!=="/"&&x.endsWith("/"),M=(m||x===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(k||M)&&(g.pathname+="/"),g}var Xn=l=>l.join("/").replace(/\/\/+/g,"/"),kh=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),wh=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Ch=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Sh(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _d=["POST","PUT","PATCH","DELETE"];new Set(_d);var bh=["GET",..._d];new Set(bh);var fo=h.createContext(null);fo.displayName="DataRouter";var Sl=h.createContext(null);Sl.displayName="DataRouterState";h.createContext(!1);var Ld=h.createContext({isTransitioning:!1});Ld.displayName="ViewTransition";var Nh=h.createContext(new Map);Nh.displayName="Fetchers";var Eh=h.createContext(null);Eh.displayName="Await";var Tn=h.createContext(null);Tn.displayName="Navigation";var es=h.createContext(null);es.displayName="Location";var Wn=h.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var Sa=h.createContext(null);Sa.displayName="RouteError";function Mh(l,{relative:d}={}){jt(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:c}=h.useContext(Tn),{hash:p,pathname:m,search:x}=ts(l,{relative:d}),w=m;return i!=="/"&&(w=m==="/"?i:Xn([i,m])),c.createHref({pathname:w,search:x,hash:p})}function po(){return h.useContext(es)!=null}function un(){return jt(po(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(es).location}var Rd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dd(l){h.useContext(Tn).static||h.useLayoutEffect(l)}function yn(){let{isDataRoute:l}=h.useContext(Wn);return l?Oh():$h()}function $h(){jt(po(),"useNavigate() may be used only in the context of a <Router> component.");let l=h.useContext(fo),{basename:d,navigator:i}=h.useContext(Tn),{matches:c}=h.useContext(Wn),{pathname:p}=un(),m=JSON.stringify(wa(c)),x=h.useRef(!1);return Dd(()=>{x.current=!0}),h.useCallback((g,k={})=>{if(Mn(x.current,Rd),!x.current)return;if(typeof g=="number"){i.go(g);return}let M=Ca(g,JSON.parse(m),p,k.relative==="path");l==null&&d!=="/"&&(M.pathname=M.pathname==="/"?d:Xn([d,M.pathname])),(k.replace?i.replace:i.push)(M,k.state,k)},[d,i,m,p,l])}h.createContext(null);function ts(l,{relative:d}={}){let{matches:i}=h.useContext(Wn),{pathname:c}=un(),p=JSON.stringify(wa(i));return h.useMemo(()=>Ca(l,JSON.parse(p),c,d==="path"),[l,p,c,d])}function Th(l,d){return Pd(l,d)}function Pd(l,d,i,c,p){jt(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=h.useContext(Tn),{matches:x}=h.useContext(Wn),w=x[x.length-1],g=w?w.params:{},k=w?w.pathname:"/",M=w?w.pathnameBase:"/",W=w&&w.route;{let Y=W&&W.path||"";zd(k,!W||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${k}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let C=un(),J;if(d){let Y=typeof d=="string"?uo(d):d;jt(M==="/"||Y.pathname?.startsWith(M),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${M}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),J=Y}else J=C;let N=J.pathname||"/",I=N;if(M!=="/"){let Y=M.replace(/^\//,"").split("/");I="/"+N.replace(/^\//,"").split("/").slice(Y.length).join("/")}let R=Md(l,{pathname:I});Mn(W||R!=null,`No routes matched location "${J.pathname}${J.search}${J.hash}" `),Mn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${J.pathname}${J.search}${J.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Ph(R&&R.map(Y=>Object.assign({},Y,{params:Object.assign({},g,Y.params),pathname:Xn([M,m.encodeLocation?m.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?M:Xn([M,m.encodeLocation?m.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),x,i,c,p);return d&&Q?h.createElement(es.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...J},navigationType:"POP"}},Q):Q}function _h(){let l=Fh(),d=Sh(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),i=l instanceof Error?l.stack:null,c="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},x=null;return console.error("Error handled by React Router default ErrorBoundary:",l),x=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:m},"ErrorBoundary")," or"," ",h.createElement("code",{style:m},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},d),i?h.createElement("pre",{style:p},i):null,x)}var Lh=h.createElement(_h,null),Rh=class extends h.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,d){return d.location!==l.location||d.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:d.error,location:d.location,revalidation:l.revalidation||d.revalidation}}componentDidCatch(l,d){this.props.unstable_onError?this.props.unstable_onError(l,d):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?h.createElement(Wn.Provider,{value:this.props.routeContext},h.createElement(Sa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dh({routeContext:l,match:d,children:i}){let c=h.useContext(fo);return c&&c.static&&c.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=d.route.id),h.createElement(Wn.Provider,{value:l},i)}function Ph(l,d=[],i=null,c=null,p=null){if(l==null){if(!i)return null;if(i.errors)l=i.matches;else if(d.length===0&&!i.initialized&&i.matches.length>0)l=i.matches;else return null}let m=l,x=i?.errors;if(x!=null){let k=m.findIndex(M=>M.route.id&&x?.[M.route.id]!==void 0);jt(k>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,k+1))}let w=!1,g=-1;if(i)for(let k=0;k<m.length;k++){let M=m[k];if((M.route.HydrateFallback||M.route.hydrateFallbackElement)&&(g=k),M.route.id){let{loaderData:W,errors:C}=i,J=M.route.loader&&!W.hasOwnProperty(M.route.id)&&(!C||C[M.route.id]===void 0);if(M.route.lazy||J){w=!0,g>=0?m=m.slice(0,g+1):m=[m[0]];break}}}return m.reduceRight((k,M,W)=>{let C,J=!1,N=null,I=null;i&&(C=x&&M.route.id?x[M.route.id]:void 0,N=M.route.errorElement||Lh,w&&(g<0&&W===0?(zd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,I=null):g===W&&(J=!0,I=M.route.hydrateFallbackElement||null)));let R=d.concat(m.slice(0,W+1)),Q=()=>{let Y;return C?Y=N:J?Y=I:M.route.Component?Y=h.createElement(M.route.Component,null):M.route.element?Y=M.route.element:Y=k,h.createElement(Dh,{match:M,routeContext:{outlet:k,matches:R,isDataRoute:i!=null},children:Y})};return i&&(M.route.ErrorBoundary||M.route.errorElement||W===0)?h.createElement(Rh,{location:i.location,revalidation:i.revalidation,component:N,error:C,children:Q(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:c}):Q()},null)}function ba(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zh(l){let d=h.useContext(fo);return jt(d,ba(l)),d}function Ih(l){let d=h.useContext(Sl);return jt(d,ba(l)),d}function Ah(l){let d=h.useContext(Wn);return jt(d,ba(l)),d}function Na(l){let d=Ah(l),i=d.matches[d.matches.length-1];return jt(i.route.id,`${l} can only be used on routes that contain a unique "id"`),i.route.id}function Bh(){return Na("useRouteId")}function Fh(){let l=h.useContext(Sa),d=Ih("useRouteError"),i=Na("useRouteError");return l!==void 0?l:d.errors?.[i]}function Oh(){let{router:l}=zh("useNavigate"),d=Na("useNavigate"),i=h.useRef(!1);return Dd(()=>{i.current=!0}),h.useCallback(async(p,m={})=>{Mn(i.current,Rd),i.current&&(typeof p=="number"?l.navigate(p):await l.navigate(p,{fromRouteId:d,...m}))},[l,d])}var kd={};function zd(l,d,i){!d&&!kd[l]&&(kd[l]=!0,Mn(!1,i))}h.memo(Wh);function Wh({routes:l,future:d,state:i,unstable_onError:c}){return Pd(l,void 0,i,c,d)}function Rr({to:l,replace:d,state:i,relative:c}){jt(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:p}=h.useContext(Tn);Mn(!p,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=h.useContext(Wn),{pathname:x}=un(),w=yn(),g=Ca(l,wa(m),x,c==="path"),k=JSON.stringify(g);return h.useEffect(()=>{w(JSON.parse(k),{replace:d,state:i,relative:c})},[w,k,c,d,i]),null}function xn(l){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uh({basename:l="/",children:d=null,location:i,navigationType:c="POP",navigator:p,static:m=!1}){jt(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=l.replace(/^\/*/,"/"),w=h.useMemo(()=>({basename:x,navigator:p,static:m,future:{}}),[x,p,m]);typeof i=="string"&&(i=uo(i));let{pathname:g="/",search:k="",hash:M="",state:W=null,key:C="default"}=i,J=h.useMemo(()=>{let N=Zn(g,x);return N==null?null:{location:{pathname:N,search:k,hash:M,state:W,key:C},navigationType:c}},[x,g,k,M,W,C,c]);return Mn(J!=null,`<Router basename="${x}"> is not able to match the URL "${g}${k}${M}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:h.createElement(Tn.Provider,{value:w},h.createElement(es.Provider,{children:d,value:J}))}function Vh({children:l,location:d}){return Th(va(l),d)}function va(l,d=[]){let i=[];return h.Children.forEach(l,(c,p)=>{if(!h.isValidElement(c))return;let m=[...d,p];if(c.type===h.Fragment){i.push.apply(i,va(c.props.children,m));return}jt(c.type===xn,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let x={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(x.children=va(c.props.children,m)),i.push(x)}),i}var vl="get",jl="application/x-www-form-urlencoded";function bl(l){return l!=null&&typeof l.tagName=="string"}function Hh(l){return bl(l)&&l.tagName.toLowerCase()==="button"}function Yh(l){return bl(l)&&l.tagName.toLowerCase()==="form"}function Jh(l){return bl(l)&&l.tagName.toLowerCase()==="input"}function Qh(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Kh(l,d){return l.button===0&&(!d||d==="_self")&&!Qh(l)}var xl=null;function Gh(){if(xl===null)try{new FormData(document.createElement("form"),0),xl=!1}catch{xl=!0}return xl}var qh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ma(l){return l!=null&&!qh.has(l)?(Mn(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jl}"`),null):l}function Xh(l,d){let i,c,p,m,x;if(Yh(l)){let w=l.getAttribute("action");c=w?Zn(w,d):null,i=l.getAttribute("method")||vl,p=ma(l.getAttribute("enctype"))||jl,m=new FormData(l)}else if(Hh(l)||Jh(l)&&(l.type==="submit"||l.type==="image")){let w=l.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=l.getAttribute("formaction")||w.getAttribute("action");if(c=g?Zn(g,d):null,i=l.getAttribute("formmethod")||w.getAttribute("method")||vl,p=ma(l.getAttribute("formenctype"))||ma(w.getAttribute("enctype"))||jl,m=new FormData(w,l),!Gh()){let{name:k,type:M,value:W}=l;if(M==="image"){let C=k?`${k}.`:"";m.append(`${C}x`,"0"),m.append(`${C}y`,"0")}else k&&m.append(k,W)}}else{if(bl(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vl,c=null,p=jl,x=l}return m&&p==="text/plain"&&(x=m,m=void 0),{action:c,method:i.toLowerCase(),encType:p,formData:m,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ea(l,d){if(l===!1||l===null||typeof l>"u")throw new Error(d)}function Zh(l,d,i){let c=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return c.pathname==="/"?c.pathname=`_root.${i}`:d&&Zn(c.pathname,d)==="/"?c.pathname=`${d.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function em(l,d){if(l.id in d)return d[l.id];try{let i=await import(l.module);return d[l.id]=i,i}catch(i){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tm(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function nm(l,d,i){let c=await Promise.all(l.map(async p=>{let m=d.routes[p.route.id];if(m){let x=await em(m,i);return x.links?x.links():[]}return[]}));return lm(c.flat(1).filter(tm).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function wd(l,d,i,c,p,m){let x=(g,k)=>i[k]?g.route.id!==i[k].route.id:!0,w=(g,k)=>i[k].pathname!==g.pathname||i[k].route.path?.endsWith("*")&&i[k].params["*"]!==g.params["*"];return m==="assets"?d.filter((g,k)=>x(g,k)||w(g,k)):m==="data"?d.filter((g,k)=>{let M=c.routes[g.route.id];if(!M||!M.hasLoader)return!1;if(x(g,k)||w(g,k))return!0;if(g.route.shouldRevalidate){let W=g.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof W=="boolean")return W}return!0}):[]}function rm(l,d,{includeHydrateFallback:i}={}){return om(l.map(c=>{let p=d.routes[c.route.id];if(!p)return[];let m=[p.module];return p.clientActionModule&&(m=m.concat(p.clientActionModule)),p.clientLoaderModule&&(m=m.concat(p.clientLoaderModule)),i&&p.hydrateFallbackModule&&(m=m.concat(p.hydrateFallbackModule)),p.imports&&(m=m.concat(p.imports)),m}).flat(1))}function om(l){return[...new Set(l)]}function sm(l){let d={},i=Object.keys(l).sort();for(let c of i)d[c]=l[c];return d}function lm(l,d){let i=new Set;return new Set(d),l.reduce((c,p)=>{let m=JSON.stringify(sm(p));return i.has(m)||(i.add(m),c.push({key:m,link:p})),c},[])}function Id(){let l=h.useContext(fo);return Ea(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function im(){let l=h.useContext(Sl);return Ea(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Ma=h.createContext(void 0);Ma.displayName="FrameworkContext";function Ad(){let l=h.useContext(Ma);return Ea(l,"You must render this element inside a <HydratedRouter> element"),l}function am(l,d){let i=h.useContext(Ma),[c,p]=h.useState(!1),[m,x]=h.useState(!1),{onFocus:w,onBlur:g,onMouseEnter:k,onMouseLeave:M,onTouchStart:W}=d,C=h.useRef(null);h.useEffect(()=>{if(l==="render"&&x(!0),l==="viewport"){let I=Q=>{Q.forEach(Y=>{x(Y.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return C.current&&R.observe(C.current),()=>{R.disconnect()}}},[l]),h.useEffect(()=>{if(c){let I=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(I)}}},[c]);let J=()=>{p(!0)},N=()=>{p(!1),x(!1)};return i?l!=="intent"?[m,C,{}]:[m,C,{onFocus:Go(w,J),onBlur:Go(g,N),onMouseEnter:Go(k,J),onMouseLeave:Go(M,N),onTouchStart:Go(W,J)}]:[!1,C,{}]}function Go(l,d){return i=>{l&&l(i),i.defaultPrevented||d(i)}}function cm({page:l,...d}){let{router:i}=Id(),c=h.useMemo(()=>Md(i.routes,l,i.basename),[i.routes,l,i.basename]);return c?h.createElement(dm,{page:l,matches:c,...d}):null}function um(l){let{manifest:d,routeModules:i}=Ad(),[c,p]=h.useState([]);return h.useEffect(()=>{let m=!1;return nm(l,d,i).then(x=>{m||p(x)}),()=>{m=!0}},[l,d,i]),c}function dm({page:l,matches:d,...i}){let c=un(),{manifest:p,routeModules:m}=Ad(),{basename:x}=Id(),{loaderData:w,matches:g}=im(),k=h.useMemo(()=>wd(l,d,g,p,c,"data"),[l,d,g,p,c]),M=h.useMemo(()=>wd(l,d,g,p,c,"assets"),[l,d,g,p,c]),W=h.useMemo(()=>{if(l===c.pathname+c.search+c.hash)return[];let N=new Set,I=!1;if(d.forEach(Q=>{let Y=p.routes[Q.route.id];!Y||!Y.hasLoader||(!k.some(me=>me.route.id===Q.route.id)&&Q.route.id in w&&m[Q.route.id]?.shouldRevalidate||Y.hasClientLoader?I=!0:N.add(Q.route.id))}),N.size===0)return[];let R=Zh(l,x,"data");return I&&N.size>0&&R.searchParams.set("_routes",d.filter(Q=>N.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[R.pathname+R.search]},[x,w,c,p,k,d,l,m]),C=h.useMemo(()=>rm(M,p),[M,p]),J=um(M);return h.createElement(h.Fragment,null,W.map(N=>h.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),C.map(N=>h.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),J.map(({key:N,link:I})=>h.createElement("link",{key:N,nonce:i.nonce,...I})))}function fm(...l){return d=>{l.forEach(i=>{typeof i=="function"?i(d):i!=null&&(i.current=d)})}}var Bd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bd&&(window.__reactRouterVersion="7.9.5")}catch{}function pm({basename:l,children:d,window:i}){let c=h.useRef();c.current==null&&(c.current=th({window:i,v5Compat:!0}));let p=c.current,[m,x]=h.useState({action:p.action,location:p.location}),w=h.useCallback(g=>{h.startTransition(()=>x(g))},[x]);return h.useLayoutEffect(()=>p.listen(w),[p,w]),h.createElement(Uh,{basename:l,children:d,location:m.location,navigationType:m.action,navigator:p})}var Fd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Od=h.forwardRef(function({onClick:d,discover:i="render",prefetch:c="none",relative:p,reloadDocument:m,replace:x,state:w,target:g,to:k,preventScrollReset:M,viewTransition:W,...C},J){let{basename:N}=h.useContext(Tn),I=typeof k=="string"&&Fd.test(k),R,Q=!1;if(typeof k=="string"&&I&&(R=k,Bd))try{let Ve=new URL(window.location.href),ge=k.startsWith("//")?new URL(Ve.protocol+k):new URL(k),X=Zn(ge.pathname,N);ge.origin===Ve.origin&&X!=null?k=X+ge.search+ge.hash:Q=!0}catch{Mn(!1,`<Link to="${k}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Mh(k,{relative:p}),[me,we,Ae]=am(c,C),We=xm(k,{replace:x,state:w,target:g,preventScrollReset:M,relative:p,viewTransition:W});function Le(Ve){d&&d(Ve),Ve.defaultPrevented||We(Ve)}let pe=h.createElement("a",{...C,...Ae,href:R||Y,onClick:Q||m?d:Le,ref:fm(J,we),target:g,"data-discover":!I&&i==="render"?"true":void 0});return me&&!I?h.createElement(h.Fragment,null,pe,h.createElement(cm,{page:Y})):pe});Od.displayName="Link";var hm=h.forwardRef(function({"aria-current":d="page",caseSensitive:i=!1,className:c="",end:p=!1,style:m,to:x,viewTransition:w,children:g,...k},M){let W=ts(x,{relative:k.relative}),C=un(),J=h.useContext(Sl),{navigator:N,basename:I}=h.useContext(Tn),R=J!=null&&wm(W)&&w===!0,Q=N.encodeLocation?N.encodeLocation(W).pathname:W.pathname,Y=C.pathname,me=J&&J.navigation&&J.navigation.location?J.navigation.location.pathname:null;i||(Y=Y.toLowerCase(),me=me?me.toLowerCase():null,Q=Q.toLowerCase()),me&&I&&(me=Zn(me,I)||me);const we=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ae=Y===Q||!p&&Y.startsWith(Q)&&Y.charAt(we)==="/",We=me!=null&&(me===Q||!p&&me.startsWith(Q)&&me.charAt(Q.length)==="/"),Le={isActive:Ae,isPending:We,isTransitioning:R},pe=Ae?d:void 0,Ve;typeof c=="function"?Ve=c(Le):Ve=[c,Ae?"active":null,We?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ge=typeof m=="function"?m(Le):m;return h.createElement(Od,{...k,"aria-current":pe,className:Ve,ref:M,style:ge,to:x,viewTransition:w},typeof g=="function"?g(Le):g)});hm.displayName="NavLink";var mm=h.forwardRef(({discover:l="render",fetcherKey:d,navigate:i,reloadDocument:c,replace:p,state:m,method:x=vl,action:w,onSubmit:g,relative:k,preventScrollReset:M,viewTransition:W,...C},J)=>{let N=jm(),I=km(w,{relative:k}),R=x.toLowerCase()==="get"?"get":"post",Q=typeof w=="string"&&Fd.test(w),Y=me=>{if(g&&g(me),me.defaultPrevented)return;me.preventDefault();let we=me.nativeEvent.submitter,Ae=we?.getAttribute("formmethod")||x;N(we||me.currentTarget,{fetcherKey:d,method:Ae,navigate:i,replace:p,state:m,relative:k,preventScrollReset:M,viewTransition:W})};return h.createElement("form",{ref:J,method:R,action:I,onSubmit:c?g:Y,...C,"data-discover":!Q&&l==="render"?"true":void 0})});mm.displayName="Form";function gm(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wd(l){let d=h.useContext(fo);return jt(d,gm(l)),d}function xm(l,{target:d,replace:i,state:c,preventScrollReset:p,relative:m,viewTransition:x}={}){let w=yn(),g=un(),k=ts(l,{relative:m});return h.useCallback(M=>{if(Kh(M,d)){M.preventDefault();let W=i!==void 0?i:Xo(g)===Xo(k);w(l,{replace:W,state:c,preventScrollReset:p,relative:m,viewTransition:x})}},[g,w,k,i,c,d,l,p,m,x])}var ym=0,vm=()=>`__${String(++ym)}__`;function jm(){let{router:l}=Wd("useSubmit"),{basename:d}=h.useContext(Tn),i=Bh();return h.useCallback(async(c,p={})=>{let{action:m,method:x,encType:w,formData:g,body:k}=Xh(c,d);if(p.navigate===!1){let M=p.fetcherKey||vm();await l.fetch(M,i,p.action||m,{preventScrollReset:p.preventScrollReset,formData:g,body:k,formMethod:p.method||x,formEncType:p.encType||w,flushSync:p.flushSync})}else await l.navigate(p.action||m,{preventScrollReset:p.preventScrollReset,formData:g,body:k,formMethod:p.method||x,formEncType:p.encType||w,replace:p.replace,state:p.state,fromRouteId:i,flushSync:p.flushSync,viewTransition:p.viewTransition})},[l,d,i])}function km(l,{relative:d}={}){let{basename:i}=h.useContext(Tn),c=h.useContext(Wn);jt(c,"useFormAction must be used inside a RouteContext");let[p]=c.matches.slice(-1),m={...ts(l||".",{relative:d})},x=un();if(l==null){m.search=x.search;let w=new URLSearchParams(m.search),g=w.getAll("index");if(g.some(M=>M==="")){w.delete("index"),g.filter(W=>W).forEach(W=>w.append("index",W));let M=w.toString();m.search=M?`?${M}`:""}}return(!l||l===".")&&p.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(m.pathname=m.pathname==="/"?i:Xn([i,m.pathname])),Xo(m)}function wm(l,{relative:d}={}){let i=h.useContext(Ld);jt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=Wd("useViewTransitionState"),p=ts(l,{relative:d});if(!i.isTransitioning)return!1;let m=Zn(i.currentLocation.pathname,c)||i.currentLocation.pathname,x=Zn(i.nextLocation.pathname,c)||i.nextLocation.pathname;return kl(p.pathname,x)!=null||kl(p.pathname,m)!=null}function qn({children:l,requireAdmin:d=!1,requireUser:i=!1}){const[c,p]=h.useState(!0),[m,x]=h.useState(!1);return h.useEffect(()=>{const w=localStorage.getItem("user");if(!w){x(!1),p(!1);return}try{const g=JSON.parse(w),k=g.isAuthenticated,M=g.role==="admin";if(!k){x(!1),p(!1);return}if(d&&!M){x(!1),p(!1);return}if(i&&M){x(!1),p(!1);return}x(!0),p(!1)}catch{x(!1),p(!1)}},[d,i]),c?n.jsx("div",{children:"Loading..."}):m?n.jsx(n.Fragment,{children:l}):d?n.jsx(Rr,{to:"/calendrier",replace:!0}):n.jsx(Rr,{to:"/login",replace:!0})}function Cm(){const[l,d]=h.useState(!0),[i,c]=h.useState(null);return h.useEffect(()=>{const p=localStorage.getItem("user");if(!p){c(n.jsx(Rr,{to:"/login",replace:!0})),d(!1);return}try{const m=JSON.parse(p),x=m.isAuthenticated,w=m.role==="admin";if(!x){c(n.jsx(Rr,{to:"/login",replace:!0})),d(!1);return}c(w?n.jsx(Rr,{to:"/dashboard",replace:!0}):n.jsx(Rr,{to:"/calendrier",replace:!0})),d(!1)}catch{c(n.jsx(Rr,{to:"/login",replace:!0})),d(!1)}},[]),l?n.jsx("div",{children:"Loading..."}):n.jsx(n.Fragment,{children:i})}function Nl({isDarkMode:l}){const[d]=h.useState(()=>Array.from({length:30},(c,p)=>({id:p,left:Math.random()*100,delay:Math.random()*5,duration:3+Math.random()*4,size:5+Math.random()*10}))),[i]=h.useState(()=>Array.from({length:15},(c,p)=>({id:p,left:Math.random()*100,top:Math.random()*100,delay:Math.random()*2,size:10+Math.random()*15})));return n.jsxs("div",{className:"noel-decorations",children:[d.map(c=>n.jsx("div",{className:"snowflake",style:{left:`${c.left}%`,animationDelay:`${c.delay}s`,animationDuration:`${c.duration}s`,width:`${c.size}px`,height:`${c.size}px`},children:""},`snowflake-${c.id}`)),i.map(c=>n.jsx("div",{className:`star ${l?"star-dark":"star-light"}`,style:{left:`${c.left}%`,top:`${c.top}%`,animationDelay:`${c.delay}s`,width:`${c.size}px`,height:`${c.size}px`},children:""},`star-${c.id}`)),n.jsx("div",{className:"ornament ornament-1",children:""}),n.jsx("div",{className:"ornament ornament-2",children:""}),n.jsx("div",{className:"ornament ornament-3",children:""}),n.jsx("div",{className:"ornament ornament-4",children:""}),n.jsx("div",{className:"ornament ornament-5",children:""}),n.jsx("div",{className:"corner-decoration corner-top-left",children:""}),n.jsx("div",{className:"corner-decoration corner-top-right",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-left",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-right",children:""})]})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bm=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(d,i,c)=>c?c.toUpperCase():i.toLowerCase()),Cd=l=>{const d=bm(l);return d.charAt(0).toUpperCase()+d.slice(1)},Ud=(...l)=>l.filter((d,i,c)=>!!d&&d.trim()!==""&&c.indexOf(d)===i).join(" ").trim(),Nm=l=>{for(const d in l)if(d.startsWith("aria-")||d==="role"||d==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Em={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=h.forwardRef(({color:l="currentColor",size:d=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:p="",children:m,iconNode:x,...w},g)=>h.createElement("svg",{ref:g,...Em,width:d,height:d,stroke:l,strokeWidth:c?Number(i)*24/Number(d):i,className:Ud("lucide",p),...!m&&!Nm(w)&&{"aria-hidden":"true"},...w},[...x.map(([k,M])=>h.createElement(k,M)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(l,d)=>{const i=h.forwardRef(({className:c,...p},m)=>h.createElement(Mm,{ref:m,iconNode:d,className:Ud(`lucide-${Sm(Cd(l))}`,`lucide-${l}`,c),...p}));return i.displayName=Cd(l),i};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Tm=lt("bell-off",$m);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Lm=lt("bell-ring",_m);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pr=lt("bell",Rm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],io=lt("calendar-check",Dm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nt=lt("calendar",Pm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ns=lt("chevron-down",zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],rs=lt("chevrons-right",Im);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bm=lt("circle-check",Am);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],os=lt("clipboard-list",Fm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wm=lt("clock",Om);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ga=lt("database",Um);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Sd=lt("download",Vm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ym=lt("globe",Hm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ss=lt("house",Jm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],er=lt("log-out",Qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gm=lt("mail",Km);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ls=lt("menu",qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M5 12h14",key:"1ays0h"}]],is=lt("minus",Xm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],qt=lt("moon",Zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],xa=lt("palette",eg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],ng=lt("percent",tg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vd=lt("plus",rg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$a=lt("refresh-cw",og);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lg=lt("save",sg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dr=lt("settings",ig);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xt=lt("sun",ag);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bd=lt("trash-2",cg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dg=lt("trending-up",ug);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Nd=lt("upload",fg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ao=lt("users",pg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],as=lt("x",hg);function Hd({disableAnimations:l=!1,isAdminView:d=!1}){const i=yn(),[c,p]=h.useState(()=>{const C=localStorage.getItem("darkMode");return C?JSON.parse(C):!0}),[m,x]=h.useState(""),[w,g]=h.useState("");h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(c)),document.documentElement.setAttribute("data-theme",c?"dark":"light")},[c]),h.useEffect(()=>{const C=localStorage.getItem("user");if(C)try{const J=JSON.parse(C);x(J.name||""),g(J.role||"")}catch(J){console.error("Error parsing user data:",J)}},[]);const k=()=>{p(!c)},M=()=>{localStorage.removeItem("user"),i("/login")},W=C=>{i(`/${C}`)};return n.jsxs("div",{className:`home-page ${c?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(Nl,{isDarkMode:c}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`home-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Calendrier"}),n.jsx("p",{children:"Gestion des calendriers"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous"}),n.jsx("p",{children:"Slectionnez un type de rendez-vous"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[w==="technicien"&&m&&!d&&n.jsxs("div",{style:{fontSize:"16px",fontWeight:500,color:c?"#ffffff":"#111827",marginBottom:"4px"},children:["Bienvenue ",m]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[!d&&n.jsx("button",{className:"home-button",onClick:()=>i("/calendrier"),"aria-label":"Home",title:"Accueil",children:""}),n.jsxs("button",{style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:c?"#1a1a1a":"#ffffff",border:`1px solid ${c?"#333333":"#e5e7eb"}`,color:c?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:C=>{C.currentTarget.style.color=c?"#ffffff":"#111827",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f9fafb"},onMouseLeave:C=>{C.currentTarget.style.color=c?"#9ca3af":"#6b7280",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#ffffff"},children:[n.jsx(Pr,{style:{width:"20px",height:"20px"}}),n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%"}})]}),n.jsx("button",{onClick:k,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${c?"#333333":"#e5e7eb"}`,backgroundColor:c?"#1a1a1a":"#ffffff",color:c?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:C=>{C.currentTarget.style.color=c?"#ffffff":"#111827",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f9fafb"},onMouseLeave:C=>{C.currentTarget.style.color=c?"#9ca3af":"#6b7280",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#ffffff"},children:c?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:M,style:{padding:"8px",borderRadius:"8px",backgroundColor:c?"#1a1a1a":"#ffffff",border:`1px solid ${c?"#333333":"#e5e7eb"}`,color:c?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:C=>{C.currentTarget.style.color=c?"#ffffff":"#111827",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f9fafb"},onMouseLeave:C=>{C.currentTarget.style.color=c?"#9ca3af":"#6b7280",C.currentTarget.style.backgroundColor=c?"#1a1a1a":"#ffffff"},children:n.jsx(er,{style:{width:"20px",height:"20px"}})})]})]})]})}),n.jsx("main",{className:"home-main",children:n.jsxs("div",{className:"calendar-buttons-container",children:[n.jsx("button",{className:"calendar-button metric-button",onClick:()=>W("metre"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Metr"}),n.jsx("p",{children:"Rservation Metr"})]})}),n.jsx("button",{className:"calendar-button pose-button",onClick:()=>W("pose"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Pose"}),n.jsx("p",{children:"Rservation Pose"})]})}),n.jsx("button",{className:"calendar-button sav-button",onClick:()=>W("sav"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"SAV"}),n.jsx("p",{children:"Rservation SAV"})]})})]})})]})}const mg={},Yd="calendar1",Ke={calendar1:"calendar1",calendar2:"calendar2",calendar3:"calendar3"},Jd=Ke[Yd],gg=mg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",ho=l=>l||Jd,ja=l=>({id:String(l.id),date:l.booking_date,name:l.client_name,phone:l.client_phone,designer:l.designer_name,message:l.message,time:l.booking_time||"21h00",timestamp:new Date(l.created_at).getTime()}),$n=async(l,d)=>{const i=await fetch(`${gg}${l}`,{headers:{"Content-Type":"application/json",...d?.headers||{}},...d});if(!i.ok){let c=`API request failed with status ${i.status}`;const p=i.clone();try{const m=await i.json();if(m.detail)c=m.detail;else if(m.non_field_errors&&m.non_field_errors.length>0)c=m.non_field_errors[0];else if(typeof m=="object"){const x=Object.keys(m)[0];x&&Array.isArray(m[x])&&m[x].length>0?c=m[x][0]:x&&typeof m[x]=="string"&&(c=m[x])}}catch{try{const m=await p.text();m&&(c=m)}catch{}}throw new Error(c)}if(i.status!==204)return await i.json()},Qd={calendar1:"Pose",calendar2:"SAV",calendar3:"Metr"},Ta=(l="calendar1")=>Ke[l]||Ke[Yd],En=l=>{if(!l)return"Pose";for(const[d,i]of Object.entries(Ke))if(i===l)return Qd[d]||"Pose";return"Pose"},On=new Map,wl=3e4,_a=l=>{const d=[];On.forEach((i,c)=>{c.startsWith("bookings_")&&(!l||c.includes(l))&&d.push(c)}),d.forEach(i=>On.delete(i)),console.log(`[Cache] Cleared ${d.length} bookings cache entries`)},Kd=l=>{const d=[];On.forEach((i,c)=>{c.startsWith("holidays_")&&(!l||c.includes(l))&&d.push(c)}),d.forEach(i=>On.delete(i)),console.log(`[Cache] Cleared ${d.length} holidays cache entries`)},zr=async(l,d)=>{const i=ho(l),c=new URLSearchParams({calendar_id:i}),p=`bookings_${i}_${c.toString()}`,m=On.get(p);if(m&&Date.now()-m.timestamp<wl)return console.log(`[getAllBookings] Using cached request for calendar_id: ${i}`),m.promise;console.log(`[getAllBookings] Querying bookings for calendar_id: ${i}`);const x=(async()=>{try{const w=await $n(`/bookings/?${c.toString()}`);return console.log(`[getAllBookings] Received ${w.length} bookings from API for calendar_id: ${i}`),w.map(ja)}catch(w){if(console.warn(`[getAllBookings] Failed to fetch bookings for calendar_id: ${i}`,w),i==="calendar1"||i==="calendar2"||i==="calendar3"){const g=i==="calendar1"?"1":i==="calendar2"?"2":"3";console.log(`[getAllBookings] Trying legacy format: ${g}`);try{const k=new URLSearchParams({calendar_id:g});d?.startDate,d?.endDate;const M=await $n(`/bookings/?${k.toString()}`);return console.log(`[getAllBookings] Received ${M.length} bookings from API using legacy format`),M.map(ja)}catch(k){console.warn("[getAllBookings] Legacy format also failed:",k)}}return[]}finally{setTimeout(()=>{On.delete(p)},wl)}})();return On.set(p,{promise:x,timestamp:Date.now()}),x},xg={[Ke.calendar1]:2,[Ke.calendar2]:3,[Ke.calendar3]:8},La=l=>l?xg[l]??3:3,Gt=l=>l?l===Ke.calendar2||l===Ke.calendar3:!1,yg=async(l,d,i)=>{try{const c=new Date;c.setHours(0,0,0,0);const p=new Date(l+"T00:00:00");if(p.setHours(0,0,0,0),p<c)return!1;const x=(await zr(d)).filter(g=>{const k=new Date(g.date+"T00:00:00");return k.setHours(0,0,0,0),g.date===l&&k>=c}),w=i??La(d);return x.length>=w}catch(c){return console.error("Error checking booking limit:",c),!1}},Zo=async(l,d,i)=>{const c=ho(d);try{if(await Sg(l.date,c))throw new Error("Cette date est un jour fri ou un jour non disponible. Les rservations ne sont pas autorises pour cette date.");const m=await zr(c);if(Gt(c)&&l.timeSlot){const g=new Date;g.setHours(0,0,0,0);const k=new Date(l.date+"T00:00:00");if(k.setHours(0,0,0,0),k>=g){const M=J=>J.trim().toLowerCase(),W=M(l.timeSlot);if(m.some(J=>{const N=new Date(J.date+"T00:00:00");if(N.setHours(0,0,0,0),N<g)return!1;const I=M(J.time||"");return J.date===l.date&&I===W}))throw new Error(`Ce crneau (${l.timeSlot}) est dj rserv pour cette date. Veuillez choisir un autre crneau.`)}}if(!Gt(c)){const g=i??La(c);if(await yg(l.date,c,g))throw new Error(`This date is fully booked. Maximum ${g} bookings per day.`)}let x=l.timeSlot||"21h00";Gt(c)&&!l.timeSlot&&(console.warn("[addBooking] Time slot calendar but no timeSlot provided!"),x="");const w={calendar_id:c,booking_date:l.date,booking_time:x,client_name:l.name,client_phone:l.phone,designer_name:l.designer,message:l.message};return console.log("[addBooking] Sending booking to API:",w),console.log("[addBooking] Time slot from bookingData:",l.timeSlot),console.log("[addBooking] Calendar uses time slots:",Gt(c)),await $n("/bookings/",{method:"POST",body:JSON.stringify(w)}),_a(c),!0}catch(p){throw console.error("Error adding booking:",p),p}},vg=async l=>{const d=ho(l);try{return await $n(`/bookings/reset/?calendar_id=${d}`,{method:"DELETE"}),console.log(`Cleared backend bookings for calendar: ${d}`),!0}catch(i){return console.error("Error resetting bookings:",i),!1}},jg=async()=>{console.log(" Resetting all calendars...");const l=Object.values(Ke),d=[...new Set(l)];for(const i of d)await vg(i);console.log(" All calendars have been reset to 0 bookings")},Gd=async(l,d)=>{try{console.log("[updateBooking] Updating booking:",l,d);const i=await $n(`/bookings/${l}/`,{method:"PUT",body:JSON.stringify(d)});return _a(d.calendar_id),ja(i)}catch(i){throw console.error("Error updating booking:",i),i}},qo=async(l,d)=>{try{return console.log("[deleteBooking] Deleting booking:",l),await $n(`/bookings/${l}/`,{method:"DELETE"}),_a(d),!0}catch(i){throw console.error("Error deleting booking:",i),i}},Cl=l=>({id:l.id,calendar_id:l.calendar_id,holiday_date:l.holiday_date,description:l.description,created_at:l.created_at}),co=async(l,d)=>{const i=ho(l),c=new URLSearchParams({calendar_id:i}),p=`holidays_${i}_${c.toString()}`,m=On.get(p);if(m&&Date.now()-m.timestamp<wl)return console.log(`[getAllHolidays] Using cached request for calendar_id: ${i}`),m.promise;const x=(async()=>{try{return(await $n(`/holidays/?${c.toString()}`)).map(Cl)}catch(w){if(console.warn(`[getAllHolidays] Failed to fetch holidays for calendar_id: ${i}`,w),i==="calendar1"||i==="calendar2"||i==="calendar3"){const g=i==="calendar1"?"1":i==="calendar2"?"2":"3";try{const k=new URLSearchParams({calendar_id:g});return d?.startDate,d?.endDate,(await $n(`/holidays/?${k.toString()}`)).map(Cl)}catch(k){console.warn("[getAllHolidays] Legacy format also failed:",k)}}return[]}finally{setTimeout(()=>{On.delete(p)},wl)}})();return On.set(p,{promise:x,timestamp:Date.now()}),x},kg=async(l,d,i)=>{const c=ho(l);try{const m=await $n("/holidays/",{method:"POST",body:JSON.stringify({calendar_id:c,holiday_date:d,description:i||""})});return Kd(c),Cl(m)}catch(p){throw console.error("Error adding holiday:",p),p}},wg=async(l,d,i,c)=>{const p=ho(d);try{const m={calendar_id:p,holiday_date:i,description:c||""},x=await $n(`/holidays/${l}/`,{method:"PUT",body:JSON.stringify(m)});return Cl(x)}catch(m){throw console.error("Error updating holiday:",m),m}},Cg=async(l,d)=>{try{return await $n(`/holidays/${l}/`,{method:"DELETE"}),Kd(d),!0}catch(i){throw console.error("Error deleting holiday:",i),i}},Sg=async(l,d)=>{try{return(await co(d)).some(c=>c.holiday_date===l)}catch(i){return console.error("Error checking holiday:",i),!1}},bg={},Ng=bg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",El=async(l,d={})=>{const i=`${Ng}${l}`,p={...d,headers:{...{"Content-Type":"application/json"},...d.headers}},m=await fetch(i,p);if(!m.ok){let x=`Erreur ${m.status}: ${m.statusText}`;try{const w=await m.json();if(w.detail)x=w.detail;else if(w.password)x=w.password[0]||x;else if(w.confirm_password)x=w.confirm_password[0]||x;else if(w.email)x=w.email[0]||x;else if(typeof w=="object"){const g=Object.keys(w)[0];g&&w[g]&&(x=Array.isArray(w[g])?w[g][0]:w[g])}}catch{}throw new Error(x)}if(m.status!==204)return await m.json()},Ra=l=>({id:l.id,name:l.name,email:l.email,phone:l.phone||"",role:l.role,created_at:l.created_at,updated_at:l.updated_at}),Ir=async l=>{const d=new URLSearchParams;l&&l!=="all"&&d.append("role",l);const i=d.toString()?`/users/?${d.toString()}`:"/users/";try{return(await El(i)).map(Ra)}catch(c){throw console.error("Error fetching users:",c),c}},Eg=async l=>{try{const d=await El("/users/",{method:"POST",body:JSON.stringify(l)});return Ra(d)}catch(d){throw console.error("Error creating user:",d),d}},Mg=async(l,d)=>{try{const i=await El(`/users/${l}/`,{method:"PUT",body:JSON.stringify(d)});return Ra(i)}catch(i){throw console.error(`Error updating user ${l}:`,i),i}},$g=async l=>{try{await El(`/users/${l}/`,{method:"DELETE"})}catch(d){throw console.error(`Error deleting user ${l}:`,d),d}},Ml=({selectedDate:l,selectedTimeSlot:d,onClose:i,onSubmit:c,isDarkMode:p=!1,initialData:m,users:x=[],existingBookings:w=[],holidays:g=[],maxBookingsPerDay:k=2,showDurationField:M=!1})=>{const[W,C]=h.useState(""),[J,N]=h.useState(!1);h.useEffect(()=>{const X=localStorage.getItem("user");if(X)try{const ae=JSON.parse(X);ae.role==="technicien"&&ae.name&&C(ae.name),ae.role==="admin"&&N(!0)}catch(ae){console.error("Error parsing user data:",ae)}},[]);const[I,R]=h.useState({name:m?.name||"",phone:m?.phone||"",designer:m?.designer||"",duree:"1",message:m?.message||""}),[Q,Y]=h.useState({}),me=X=>{const ae=X.getFullYear(),Ie=String(X.getMonth()+1).padStart(2,"0"),Te=String(X.getDate()).padStart(2,"0");return`${ae}-${Ie}-${Te}`},we=(X,ae)=>{const Ie=new Date(X);return Ie.setDate(Ie.getDate()+ae),Ie},{canFitDuration2:Ae,canFitDuration3:We}=h.useMemo(()=>{if(!M)return{canFitDuration2:!0,canFitDuration3:!0};const X=$=>{const q=me($);return w.filter(V=>V.date===q).length},ae=$=>{const q=me($);return g.some(V=>V.holiday_date===q)},Ie=$=>$.getDay()===0,Te=$=>ae($)||Ie($),Ze=($,q=1)=>{let V=we($,q),S=0;const _=14;for(;Te(V)&&S<_;)V=we(V,1),S++;return V},Qe=()=>{if(X(l)>=k||Te(l))return!1;const q=Ze(l,1);return!(Te(q)||X(q)>=k)},ce=()=>{if(X(l)>=k||Te(l))return!1;const q=Ze(l,1);if(Te(q)||X(q)>=k)return!1;const S=Ze(q,1);return!(Te(S)||X(S)>=k)};return{canFitDuration2:Qe(),canFitDuration3:ce()}},[l,w,g,k,M]);h.useEffect(()=>{W&&!m?.designer&&R(X=>X.designer.trim()?X:{...X,designer:W})},[W,m?.designer]),h.useEffect(()=>{m&&R({name:m.name||"",phone:m.phone||"",designer:m.designer||"",duree:"1",message:m.message||""})},[m]);const Le=X=>{const{name:ae,value:Ie}=X.target;if(ae==="phone"){const Te=Ie.replace(/\D/g,"");R(Ze=>({...Ze,[ae]:Te}))}else R(Te=>({...Te,[ae]:Ie}));Q[ae]&&Y(Te=>({...Te,[ae]:""}))},pe=()=>{const X={};return I.name.trim()||(X.name="Le nom est requis"),I.phone.trim()?/^\d+$/.test(I.phone)||(X.phone="Le numro de tlphone ne doit contenir que des chiffres"):X.phone="Le numro de tlphone est requis",I.designer.trim()||(X.designer="Le nom du concepteur est requis"),Y(X),Object.keys(X).length===0},Ve=X=>{if(X.preventDefault(),pe()){const ae=l.getFullYear(),Ie=String(l.getMonth()+1).padStart(2,"0"),Te=String(l.getDate()).padStart(2,"0"),Ze=`${ae}-${Ie}-${Te}`,Qe={...I,date:Ze,selectedDate:l,timeSlot:d};console.log("[BookingModal] Submitting booking:",Qe),c(Qe)}},ge=X=>X.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return n.jsx("div",{className:"modal-overlay",onClick:i,children:n.jsxs("div",{className:`modal-content ${p?"dark-mode":"light-mode"}`,onClick:X=>X.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Rservez Votre Rendez-vous"}),n.jsx("button",{className:"close-button",onClick:i,"aria-label":"Fermer",children:""})]}),n.jsxs("div",{className:"selected-date",children:[n.jsx("strong",{children:"Date slectionne :"})," ",ge(l)]}),n.jsxs("form",{onSubmit:Ve,className:"booking-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:I.name,onChange:Le,className:Q.name?"error":"",placeholder:"Entrez le nom du client"}),Q.name&&n.jsx("span",{className:"error-message",children:Q.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Numro de tlphone *"}),n.jsx("input",{type:"text",id:"phone",name:"phone",value:I.phone,onChange:Le,className:Q.phone?"error":"",placeholder:"Entrez le numro de tlphone",required:!0,inputMode:"numeric"}),Q.phone&&n.jsx("span",{className:"error-message",children:Q.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer",children:"Nom du concepteur *"}),J&&x.length>0?n.jsxs("select",{id:"designer",name:"designer",value:I.designer,onChange:Le,className:Q.designer?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),x.filter(X=>X.role!=="admin").map(X=>n.jsxs("option",{value:X.name,children:[X.name," (Technicien)"]},X.id))]}):n.jsx("input",{type:"text",id:"designer",name:"designer",value:I.designer,onChange:Le,className:Q.designer?"error":"",placeholder:"Entrez le nom du concepteur",readOnly:!!W,style:W?{backgroundColor:p?"#555":"#f5f5f5",cursor:"not-allowed",opacity:.8}:{}}),Q.designer&&n.jsx("span",{className:"error-message",children:Q.designer}),W&&!J&&n.jsx("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:" Automatiquement rempli avec votre nom (non modifiable)"})]}),M&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"duree",children:"Dure par jour *"}),n.jsxs("select",{id:"duree",name:"duree",value:I.duree,onChange:Le,children:[n.jsx("option",{value:"1",children:"1"}),n.jsxs("option",{value:"2",disabled:!Ae,children:["2 ",!Ae&&"(indisponible)"]}),n.jsxs("option",{value:"3",disabled:!We,children:["3 ",!We&&"(indisponible)"]})]}),(I.duree==="2"||I.duree==="3")&&n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[" Dure ",I.duree," crera ",I.duree," rservation(s) sur plusieurs jours"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message ou commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:I.message,onChange:Le,placeholder:"Toute information supplmentaire ou demande spciale",rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:i,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:"Rserver"})]})]})]})})},Xe=()=>n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%",display:"block"},children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#fa541c",strokeWidth:"2",fill:"none"}),n.jsx("path",{d:"M12 16V12",stroke:"#fa541c",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("circle",{cx:"12",cy:"8",r:"1",fill:"#fa541c"})]}),Da=({onDateSelect:l,isDarkMode:d=!0,refreshTrigger:i,binId:c,view:p="monthly",showTimeSlots:m=!0,timeSlotType:x="numerical"})=>{const w=()=>{const u=localStorage.getItem(`calendar_currentDate_${c||"default"}`);if(u)try{const L=new Date(u);if(!isNaN(L.getTime()))return L}catch{}return new Date},[g,k]=h.useState(w()),[M,W]=h.useState(0);h.useEffect(()=>{g&&localStorage.setItem(`calendar_currentDate_${c||"default"}`,g.toISOString())},[g,c]);const[C,J]=h.useState({}),[N,I]=h.useState(!1),[R,Q]=h.useState({}),[Y,me]=h.useState({}),[we,Ae]=h.useState([]),[We,Le]=h.useState(!1),[pe,Ve]=h.useState(!1),[ge,X]=h.useState(!1),[ae,Ie]=h.useState(""),[Te,Ze]=h.useState(""),[Qe,ce]=h.useState({}),[$,q]=h.useState(null),[V,S]=h.useState(!1),[_,fe]=h.useState(null),[je,Z]=h.useState([]),[P,Re]=h.useState(null),Ne=h.useRef(null),Ue=h.useRef(null),ut=async()=>{try{const u=await Ir();Z(u)}catch(u){console.error("Error loading users:",u)}};h.useEffect(()=>{const u=localStorage.getItem("user");if(u){const L=JSON.parse(u);Le(L.role==="admin"),Ve(L.role==="technicien"),X(L.role!=="admin"&&L.role!=="technicien"),Ie(L.email||""),Ze(L.name||L.email||""),L.role==="admin"&&ut(),console.log("=== CALENDAR USER INFO ===",{role:L.role,email:L.email,name:L.name,isAdmin:L.role==="admin",isTechnicien:L.role==="technicien"})}else console.log("=== CALENDAR USER INFO === No user found in localStorage")},[]);const qe=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],it=u=>u===0?6:u-1,kt=u=>{const L=u.getFullYear(),O=u.getMonth(),B=new Date(L,O+1,0).getDate(),y=new Date(L,O,1),F=it(y.getDay()),ee=[];for(let oe=0;oe<F;oe++)ee.push(null);for(let oe=1;oe<=B;oe++)ee.push(new Date(L,O,oe));return ee},U=u=>{const L=u.getDay(),O=L===0?-6:1-L,B=new Date(u);B.setDate(u.getDate()+O),B.setHours(0,0,0,0);const y=[];for(let F=0;F<7;F++){const ee=new Date(B);ee.setDate(B.getDate()+F),y.push(ee)}return y},le=(u,L)=>{l(u,L)},Je=u=>{k(L=>{const O=new Date(L);return O.setMonth(L.getMonth()+u),O})},zt=u=>{k(L=>{const O=new Date(L);return O.setDate(L.getDate()+u*7),O})},Be=u=>{const L=new Date;return L.setHours(0,0,0,0),u<L},dt=u=>u.getDay()===0,rt=u=>{const L=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),B=String(u.getDate()).padStart(2,"0"),y=`${L}-${O}-${B}`;return Qe[y]||!1},xt=u=>Be(u)||dt(u)||rt(u),Rt=p==="monthly"?kt(g):[],vn=p==="weekly"?U(g):[];h.useEffect(()=>{const u=`holidays_${c}_${i}`;return Ne.current===u?void 0:(Ne.current=u,(async()=>{try{const O=await co(c),B={};O.forEach(y=>{B[y.holiday_date]=!0}),ce(B)}catch(O){console.error("Error loading holidays:",O),ce({})}finally{Ne.current===u&&(Ne.current=null)}})(),()=>{Ne.current===u&&(Ne.current=null)})},[i,c]),h.useEffect(()=>{const u=`bookings_${c}_${i}_${M}`;return Ue.current===u?void 0:(Ue.current=u,(async()=>{try{const O=await zr(c),B=new Date;B.setHours(0,0,0,0);const y={},F={},ee={};O.forEach(oe=>{const de=new Date(oe.date+"T00:00:00");if(de.setHours(0,0,0,0),de>=B)if(Gt(c)){if(oe.time&&oe.time.trim()&&oe.time!=="21h00"){const ze=oe.time.trim().toLowerCase(),ue=`${oe.date}|${ze}`;F[ue]=!0,ee[ue]=oe}}else y[oe.date]=(y[oe.date]||0)+1}),console.log(`[Calendar] Loaded ${O.length} bookings for calendar: ${c}`),console.log("[Calendar] All bookings:",O),console.log(`[Calendar] Booking counts for ${Object.keys(y).length} future dates:`,y),console.log("[Calendar] Booked time slots:",F),console.log("[Calendar] Today's date:",B.toISOString().split("T")[0]),y["2025-11-18"]?console.log(`[Calendar] DEBUG: Found ${y["2025-11-18"]} bookings for 2025-11-18`):console.log("[Calendar] DEBUG: No bookings found for 2025-11-18 in counts"),J(y),Q(F),me(ee),Ae(O),I(!0)}catch(O){if(console.error("Error loading booking counts:",O),c){const B=`booking_calendar_data_${c}`;localStorage.getItem(B)||(J({}),Q({}))}else J({}),Q({});I(!0)}finally{Ue.current===u&&(Ue.current=null)}})(),()=>{Ue.current===u&&(Ue.current=null)})},[i,c,M]);const Ft=u=>{const L=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),B=String(u.getDate()).padStart(2,"0"),y=`${L}-${O}-${B}`,F=xt(u),ee=La(c);if(!N&&!F)return{count:0,isFullyBooked:!1,isDisabled:!0,statusText:""};const oe=Qe[y]||!1,de=C[y]||0,ze=!F&&!oe&&de>=ee;return(y==="2025-11-18"||de>0||ze||oe)&&console.log(`[getBookingStatus] Date: ${y}, Count: ${de}, Max: ${ee}, isFullyBooked: ${ze}, isDisabled: ${F}, isHoliday: ${oe}, binId: ${c}, bookingCounts keys:`,Object.keys(C)),{count:F||oe?0:de,isFullyBooked:ze,isDisabled:F||ze||oe,statusText:oe?"Jour fri":F?"":ze?`${ee} sur ${ee} rservs`:`${de} sur ${ee} rservs`}},T=(u,L)=>{const O=new Date;O.setHours(0,0,0,0);const B=new Date(u);if(B.setHours(0,0,0,0),B<O)return!1;const y=u.getFullYear(),F=String(u.getMonth()+1).padStart(2,"0"),ee=String(u.getDate()).padStart(2,"0"),oe=`${y}-${F}-${ee}`,de=L.trim().toLowerCase(),ze=`${oe}|${de}`,ue=R[ze]||!1;return oe==="2025-11-18"&&L&&console.log(`[isSlotBooked] Date: ${oe}, TimeSlot: ${L}, Normalized: ${de}, Key: ${ze}, IsBooked: ${ue}`),ue},Me=(u,L)=>{const O=u.getFullYear(),B=String(u.getMonth()+1).padStart(2,"0"),y=String(u.getDate()).padStart(2,"0"),F=`${O}-${B}-${y}`,ee=L.trim().toLowerCase(),oe=`${F}|${ee}`;return Y[oe]||null},ft=(u,L)=>pt(u,L).map(B=>B.name),pt=(u,L)=>{const O=u.getFullYear(),B=String(u.getMonth()+1).padStart(2,"0"),y=String(u.getDate()).padStart(2,"0"),F=`${O}-${B}-${y}`,ee=new Date;ee.setHours(0,0,0,0);const oe=new Date(u);if(oe.setHours(0,0,0,0),oe<ee)return[];if(L){const de=Me(u,L);if(de){if(We)return[de];if(_t(de))return[de]}return[]}else{const de=[];return we.forEach(ze=>{ze.date===F&&de.push(ze)}),de}},xe=(u,L)=>{if(c==="calendar2"||c==="calendar3")return!1;if(We)return L?T(u,L):Ft(u).count>0;if(pe)if(L){const O=Me(u,L);return O?_t(O):!1}else{const O=u.getFullYear(),B=String(u.getMonth()+1).padStart(2,"0"),y=String(u.getDate()).padStart(2,"0"),F=`${O}-${B}-${y}`;return we.filter(de=>de.date===F).filter(de=>_t(de)).length>0}else return L?T(u,L)&&ft(u,L).length>0:Ft(u).count>0&&ft(u).length>0},K=(u,L,O)=>{u.stopPropagation();const B=pt(L,O);if(B.length>0){const y=u.currentTarget,F=y.closest(".calendar");if(F){const ee=F.getBoundingClientRect(),oe=y.getBoundingClientRect();fe({x:oe.right-ee.left+8,y:oe.top-ee.top,names:B.map(de=>de.name),bookings:B,date:L,timeSlot:O})}}};h.useEffect(()=>{const u=()=>{fe(null)};if(_){document.addEventListener("click",u);const L=setTimeout(()=>{fe(null)},2e3);return()=>{document.removeEventListener("click",u),clearTimeout(L)}}},[_]),h.useEffect(()=>{const u=L=>{L.target.closest(".booking-select-popup")||Re(null)};if(P)return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[P]);const et=u=>{if(!pe||!Te)return console.log("[isBookingByTechnicien] Not a technicien or no name:",{isTechnicien:pe,userName:Te,userEmail:ae}),!1;const L=u.designer.toLowerCase().trim()===Te.toLowerCase().trim(),O=u.designer.toLowerCase().includes(Te.toLowerCase()),B=L||O;return console.log("[isBookingByTechnicien]",{bookingId:u.id,bookingDesigner:u.designer,bookingName:u.name,userName:Te,userEmail:ae,designerMatch:L,designerContains:O,matches:B}),B},_t=u=>pe?!et(u):!1,bt=u=>{if(!ge||!ae&&!Te)return!1;const L=ae&&(u.name.toLowerCase().includes(ae.toLowerCase())||u.designer.toLowerCase().includes(ae.toLowerCase())||u.phone===ae),O=Te&&(u.name.toLowerCase()===Te.toLowerCase()||u.name.toLowerCase().includes(Te.toLowerCase()));return L||O||!1},Ee=(u,L)=>{if(!pe)return console.log("[getBookingForDateAndSlot] Not a technicien"),null;if(L){const O=Me(u,L),B=O&&et(O)?O:null;return console.log("[getBookingForDateAndSlot] Time slot booking:",{timeSlot:L,booking:O,result:B}),B}else{const O=u.getFullYear(),B=String(u.getMonth()+1).padStart(2,"0"),y=String(u.getDate()).padStart(2,"0"),F=`${O}-${B}-${y}`;console.log("[getBookingForDateAndSlot] Looking for Pose booking:",{dateString:F,allBookingsCount:we.length});const ee=we.find(oe=>{const de=oe.date===F,ze=et(oe);return console.log("[getBookingForDateAndSlot] Checking booking:",{bookingDate:oe.date,dateString:F,matchesDate:de,matchesTechnicien:ze,booking:oe}),de&&ze});return console.log("[getBookingForDateAndSlot] Found booking:",ee),ee||null}},Pe=(u,L)=>{if(L){const O=Me(u,L);return O&&bt(O)?O:null}else{const O=u.getFullYear(),B=String(u.getMonth()+1).padStart(2,"0"),y=String(u.getDate()).padStart(2,"0"),F=`${O}-${B}-${y}`;return we.find(oe=>oe.date===F&&bt(oe))||null}},Ye=(u,L)=>{const O=Pe(u,L);O&&(q(O),S(!0),fe(null))},j=async(u,L)=>{const O=Pe(u,L);if(!O)return;const B=L?`tes-vous sr de vouloir supprimer votre rservation du ${new Date(O.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${L} ?`:`tes-vous sr de vouloir supprimer votre rservation du ${new Date(O.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(B))try{await qo(O.id),alert(" Rservation supprime avec succs"),fe(null),W(y=>y+1)}catch(y){console.error("Error deleting booking:",y),alert(" Erreur lors de la suppression de la rservation")}},ke=u=>{const L=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),B=String(u.getDate()).padStart(2,"0"),y=`${L}-${O}-${B}`;return we.filter(F=>F.date!==y?!1:pe?et(F):ge?bt(F):!1)},H=(u,L,O)=>{if(L){const y=Ee(u,L);y&&(q(y),S(!0));return}const B=ke(u);if(B.length!==0)if(B.length===1)q(B[0]),S(!0);else{const y=O?.currentTarget?.getBoundingClientRect();Re({x:y?y.left+y.width/2:200,y:y?y.bottom+5:200,bookings:B,date:u,action:"edit"})}},he=async(u,L,O)=>{if(L){const y=Ee(u,L);if(!y)return;const F=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(y.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${L} ?`;if(!window.confirm(F))return;try{await qo(y.id),alert("Rservation supprime avec succs"),W(ee=>ee+1)}catch(ee){console.error("Error deleting booking:",ee),alert("Erreur lors de la suppression de la rservation")}return}const B=ke(u);if(B.length!==0)if(B.length===1){const y=B[0],F=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(y.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(!window.confirm(F))return;try{await qo(y.id),alert("Rservation supprime avec succs"),W(ee=>ee+1)}catch(ee){console.error("Error deleting booking:",ee),alert("Erreur lors de la suppression de la rservation")}}else{const y=O?.currentTarget?.getBoundingClientRect();Re({x:y?y.left+y.width/2:200,y:y?y.bottom+5:200,bookings:B,date:u,action:"delete"})}},G=async u=>{if(P){if(P.action==="edit")q(u),S(!0);else if(P.action==="delete"){const L=`tes-vous sr de vouloir supprimer la rservation de ${u.name} du ${new Date(u.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(L))try{await qo(u.id),alert("Rservation supprime avec succs"),W(O=>O+1)}catch(O){console.error("Error deleting booking:",O),alert("Erreur lors de la suppression de la rservation")}}Re(null)}},ye=async u=>{if($){if(ge&&!bt($)){alert(" Vous ne pouvez modifier que vos propres rservations");return}if(pe&&!et($)){alert(" Vous ne pouvez modifier que vos propres rservations");return}try{const L={calendar_id:c,booking_date:u.date,booking_time:u.timeSlot||"21h00",client_name:u.name,client_phone:u.phone,designer_name:u.designer,message:u.message};await Gd($.id,L),alert(" Rservation modifie avec succs"),S(!1),q(null),W(O=>O+1)}catch(L){console.error("Error updating booking:",L);const O=L?.message||"Erreur lors de la modification de la rservation";alert(` ${O}`)}}},Ce=x!=="pose"&&x!=="sav"&&x!=="numerical",Se=()=>{const u=U(g)[0],L=U(g)[6];return u.getMonth()===L.getMonth()?`${u.getDate()} - ${L.getDate()} ${qe[u.getMonth()]} ${u.getFullYear()}`:`${u.getDate()} ${qe[u.getMonth()].slice(0,3)} - ${L.getDate()} ${qe[L.getMonth()].slice(0,3)} ${L.getFullYear()}`};return n.jsxs("div",{className:`calendar ${d?"dark-mode":"light-mode"}`,style:{position:"relative"},children:[n.jsxs("div",{className:"calendar-header",children:[n.jsx("button",{className:"nav-button",onClick:()=>p==="weekly"?zt(-1):Je(-1),"aria-label":p==="weekly"?"Previous week":"Previous month",children:""}),n.jsx("h2",{className:"month-year",children:p==="weekly"?Se():`${qe[g.getMonth()].charAt(0).toUpperCase()+qe[g.getMonth()].slice(1)} ${g.getFullYear()}`}),n.jsx("button",{className:"nav-button",onClick:()=>p==="weekly"?zt(1):Je(1),"aria-label":p==="weekly"?"Next week":"Next month",children:""})]}),n.jsx("div",{className:"calendar-container",children:n.jsxs("div",{className:"calendar-grid",children:[n.jsx("div",{className:"day-headers-row",children:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"].map((u,L)=>n.jsx("div",{className:"day-header-cell",children:u},L))}),p==="weekly"?n.jsx("div",{className:"date-headers",children:vn.map((u,L)=>{const O=Ft(u),B=O.isFullyBooked,y=O.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${B?"fully-booked":""}`,children:[n.jsxs("div",{className:`date-number ${y?"past":""} ${B?"fully-booked-number":""}`,onClick:Ce?(()=>!y&&!B&&le(u)):void 0,style:{cursor:Ce?y||B?"not-allowed":"pointer":"default"},children:[n.jsx("span",{children:u.getDate()}),!Gt(c)&&xe(u)&&n.jsx("button",{className:"calendar-info-button",onClick:F=>K(F,u),title:"Voir les rservations",children:n.jsx(Xe,{})})]}),m&&n.jsx(n.Fragment,{children:x==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Aprs-midi"})]}):x==="pose"?n.jsx(n.Fragment,{children:(()=>{const F=T(u,"8:00-11:00"),ee=T(u,"11:00-14:00"),oe=T(u,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||F?"disabled":""}`,onClick:()=>!y&&!F&&le(u,"8:00-11:00"),style:{cursor:y||F?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),xe(u,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>K(de,u,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(Xe,{})})]}),n.jsxs("div",{className:`time-slot ${y||ee?"disabled":""}`,onClick:()=>!y&&!ee&&le(u,"11:00-14:00"),style:{cursor:y||ee?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),xe(u,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>K(de,u,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(Xe,{})})]}),n.jsxs("div",{className:`time-slot ${y||oe?"disabled":""}`,onClick:()=>!y&&!oe&&le(u,"14:00-17:00"),style:{cursor:y||oe?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),xe(u,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>K(de,u,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(Xe,{})})]})]})})()}):x==="sav"?n.jsx(n.Fragment,{children:(()=>{const F=T(u,"8:00"),ee=T(u,"9:30"),oe=T(u,"11:00"),de=T(u,"12:30"),ze=T(u,"14:00"),ue=T(u,"15:30"),at=T(u,"17:00"),ot=T(u,"18:30"),wt=(te,Jt)=>{if(Jt&&(c==="calendar2"||c==="calendar3")){const Nt=Me(u,te);if(Nt&&Nt.name)return`client: ${Nt.name}`}return te};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||F?"disabled":""}`,onClick:()=>!y&&!F&&le(u,"8:00"),style:{cursor:y||F?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:F&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:F&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("8:00",F)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"8:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ee?"disabled":""}`,onClick:()=>!y&&!ee&&le(u,"9:30"),style:{cursor:y||ee?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ee&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ee&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("9:30",ee)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"9:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||oe?"disabled":""}`,onClick:()=>!y&&!oe&&le(u,"11:00"),style:{cursor:y||oe?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:oe&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:oe&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("11:00",oe)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"11:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||de?"disabled":""}`,onClick:()=>!y&&!de&&le(u,"12:30"),style:{cursor:y||de?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:de&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:de&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("12:30",de)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"12:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ze?"disabled":""}`,onClick:()=>!y&&!ze&&le(u,"14:00"),style:{cursor:y||ze?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ze&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ze&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("14:00",ze)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"14:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ue?"disabled":""}`,onClick:()=>!y&&!ue&&le(u,"15:30"),style:{cursor:y||ue?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ue&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ue&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("15:30",ue)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"15:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||at?"disabled":""}`,onClick:()=>!y&&!at&&le(u,"17:00"),style:{cursor:y||at?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:at&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:at&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("17:00",at)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"17:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ot?"disabled":""}`,onClick:()=>!y&&!ot&&le(u,"18:30"),style:{cursor:y||ot?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ot&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ot&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("18:30",ot)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"18:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const F=T(u,"8-10"),ee=T(u,"10-12"),oe=T(u,"14-16"),de=T(u,"16-18"),ze=(ue,at)=>{if(at&&(c==="calendar2"||c==="calendar3")){const ot=Me(u,ue);if(ot&&ot.name)return`client: ${ot.name}`}return ue};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||F?"disabled":""}`,onClick:()=>!y&&!F&&le(u,"8-10"),style:{cursor:y||F?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:F&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:F&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("8-10",F)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"8-10")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"8-10"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"8-10")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"8-10")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"8-10")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ee?"disabled":""}`,onClick:()=>!y&&!ee&&le(u,"10-12"),style:{cursor:y||ee?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ee&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ee&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("10-12",ee)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"10-12")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"10-12"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"10-12")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"10-12")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"10-12")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||oe?"disabled":""}`,onClick:()=>!y&&!oe&&le(u,"14-16"),style:{cursor:y||oe?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:oe&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:oe&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("14-16",oe)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"14-16")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"14-16"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"14-16")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"14-16")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"14-16")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||de?"disabled":""}`,onClick:()=>!y&&!de&&le(u,"16-18"),style:{cursor:y||de?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:de&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:de&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("16-18",de)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"16-18")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"16-18"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"16-18")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"16-18")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},L)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"date-headers",children:Rt.slice(0,7).map((u,L)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},L);const O=Ft(u),B=O.isFullyBooked,y=O.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${B?"fully-booked":""}`,children:[!Gt(c)&&xe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:F=>K(F,u),title:"Voir les rservations",children:n.jsx(Xe,{})})}),pe&&!Gt(c)&&Ee(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:F=>{F.stopPropagation(),H(u,void 0,F)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:F=>{F.stopPropagation(),he(u,void 0,F)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${B?"fully-booked-number":""} ${Ce?"":"not-clickable"}`,onClick:Ce?(()=>!y&&!B&&le(u)):void 0,style:{cursor:Ce?y||B?"not-allowed":"pointer":"default"},children:u.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},L)})}),n.jsx("div",{className:"date-headers",children:Rt.slice(7,14).map((u,L)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`second-${L}`);const O=Ft(u),B=O.isFullyBooked,y=O.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${B?"fully-booked":""}`,children:[!Gt(c)&&xe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:F=>K(F,u),title:"Voir les rservations",children:n.jsx(Xe,{})})}),pe&&!Gt(c)&&Ee(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:F=>{F.stopPropagation(),H(u)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:F=>{F.stopPropagation(),he(u)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${B?"fully-booked-number":""}`,onClick:Ce?(()=>!y&&!B&&le(u)):void 0,style:{cursor:Ce?y||B?"not-allowed":"pointer":"default"},children:u.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`second-${L}`)})}),n.jsx("div",{className:"date-headers",children:Rt.slice(14,21).map((u,L)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`third-${L}`);const O=Ft(u),B=O.isFullyBooked,y=O.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${B?"fully-booked":""}`,children:[!Gt(c)&&xe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:F=>K(F,u),title:"Voir les rservations",children:n.jsx(Xe,{})})}),pe&&!Gt(c)&&Ee(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:F=>{F.stopPropagation(),H(u)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:F=>{F.stopPropagation(),he(u)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${B?"fully-booked-number":""}`,onClick:Ce?(()=>!y&&!B&&le(u)):void 0,style:{cursor:Ce?y||B?"not-allowed":"pointer":"default"},children:u.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`third-${L}`)})}),n.jsx("div",{className:"date-headers",children:Rt.slice(21,28).map((u,L)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`fourth-${L}`);const O=Ft(u),B=O.isFullyBooked,y=O.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${B?"fully-booked":""}`,children:[!Gt(c)&&xe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:F=>K(F,u),title:"Voir les rservations",children:n.jsx(Xe,{})})}),pe&&!Gt(c)&&Ee(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:F=>{F.stopPropagation(),H(u)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:F=>{F.stopPropagation(),he(u)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${y?"past":""} ${B?"fully-booked-number":""}`,onClick:Ce?(()=>!y&&!B&&le(u)):void 0,style:{cursor:Ce?y||B?"not-allowed":"pointer":"default"},children:u.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`fourth-${L}`)})}),Rt.length>28&&n.jsx("div",{className:"date-headers",children:Rt.slice(28).map((u,L)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`fifth-${L}`);const O=Ft(u),B=O.isFullyBooked,y=O.isDisabled;return n.jsxs("div",{className:`date-header ${y?"past":""} ${B?"fully-booked":""}`,children:[n.jsxs("div",{className:`date-number ${y?"past":""} ${B?"fully-booked-number":""}`,onClick:Ce?(()=>!y&&!B&&le(u)):void 0,style:{cursor:Ce?y||B?"not-allowed":"pointer":"default"},children:[n.jsx("span",{children:u.getDate()}),!Gt(c)&&xe(u)&&n.jsx("button",{className:"calendar-info-button",onClick:F=>K(F,u),title:"Voir les rservations",children:n.jsx(Xe,{})})]}),m&&n.jsx(n.Fragment,{children:x==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${y?"disabled":""}`,onClick:()=>!y&&!B&&le(u),style:{cursor:y||B?"not-allowed":"pointer"},children:"Aprs-midi"})]}):x==="pose"?n.jsx(n.Fragment,{children:(()=>{const F=T(u,"8:00-11:00"),ee=T(u,"11:00-14:00"),oe=T(u,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||F?"disabled":""}`,onClick:()=>!y&&!F&&le(u,"8:00-11:00"),style:{cursor:y||F?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),xe(u,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>K(de,u,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(Xe,{})})]}),n.jsxs("div",{className:`time-slot ${y||ee?"disabled":""}`,onClick:()=>!y&&!ee&&le(u,"11:00-14:00"),style:{cursor:y||ee?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),xe(u,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>K(de,u,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(Xe,{})})]}),n.jsxs("div",{className:`time-slot ${y||oe?"disabled":""}`,onClick:()=>!y&&!oe&&le(u,"14:00-17:00"),style:{cursor:y||oe?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),xe(u,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>K(de,u,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(Xe,{})})]})]})})()}):x==="sav"?n.jsx(n.Fragment,{children:(()=>{const F=T(u,"8:00"),ee=T(u,"9:30"),oe=T(u,"11:00"),de=T(u,"12:30"),ze=T(u,"14:00"),ue=T(u,"15:30"),at=T(u,"17:00"),ot=T(u,"18:30"),wt=(te,Jt)=>{if(Jt&&(c==="calendar2"||c==="calendar3")){const Nt=Me(u,te);if(Nt&&Nt.name)return`client: ${Nt.name}`}return te};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||F?"disabled":""}`,onClick:()=>!y&&!F&&le(u,"8:00"),style:{cursor:y||F?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:F&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:F&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("8:00",F)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"8:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ee?"disabled":""}`,onClick:()=>!y&&!ee&&le(u,"9:30"),style:{cursor:y||ee?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ee&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ee&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("9:30",ee)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"9:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||oe?"disabled":""}`,onClick:()=>!y&&!oe&&le(u,"11:00"),style:{cursor:y||oe?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:oe&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:oe&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("11:00",oe)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"11:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||de?"disabled":""}`,onClick:()=>!y&&!de&&le(u,"12:30"),style:{cursor:y||de?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:de&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:de&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("12:30",de)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"12:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ze?"disabled":""}`,onClick:()=>!y&&!ze&&le(u,"14:00"),style:{cursor:y||ze?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ze&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ze&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("14:00",ze)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"14:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ue?"disabled":""}`,onClick:()=>!y&&!ue&&le(u,"15:30"),style:{cursor:y||ue?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ue&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ue&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("15:30",ue)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"15:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||at?"disabled":""}`,onClick:()=>!y&&!at&&le(u,"17:00"),style:{cursor:y||at?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:at&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:at&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("17:00",at)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"17:00"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ot?"disabled":""}`,onClick:()=>!y&&!ot&&le(u,"18:30"),style:{cursor:y||ot?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ot&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ot&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:wt("18:30",ot)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>K(te,u,"18:30"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),H(u,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),he(u,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const F=T(u,"8-10"),ee=T(u,"10-12"),oe=T(u,"14-16"),de=T(u,"16-18"),ze=(ue,at)=>{if(at&&(c==="calendar2"||c==="calendar3")){const ot=Me(u,ue);if(ot&&ot.name)return`client: ${ot.name}`}return ue};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${y||F?"disabled":""}`,onClick:()=>!y&&!F&&le(u,"8-10"),style:{cursor:y||F?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:F&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:F&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("8-10",F)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"8-10")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"8-10"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"8-10")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"8-10")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"8-10")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||ee?"disabled":""}`,onClick:()=>!y&&!ee&&le(u,"10-12"),style:{cursor:y||ee?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ee&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:ee&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("10-12",ee)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"10-12")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"10-12"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"10-12")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"10-12")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"10-12")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||oe?"disabled":""}`,onClick:()=>!y&&!oe&&le(u,"14-16"),style:{cursor:y||oe?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:oe&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:oe&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("14-16",oe)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"14-16")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"14-16"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"14-16")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"14-16")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"14-16")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${y||de?"disabled":""}`,onClick:()=>!y&&!de&&le(u,"16-18"),style:{cursor:y||de?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:de&&(c==="calendar2"||c==="calendar3")?500:"normal",fontSize:de&&(c==="calendar2"||c==="calendar3")?"0.85rem":"inherit"},children:ze("16-18",de)}),n.jsxs("div",{className:"time-slot-actions",children:[xe(u,"16-18")&&n.jsx("button",{className:"calendar-info-button",onClick:ue=>K(ue,u,"16-18"),title:"Voir les rservations",children:n.jsx(Xe,{})}),pe&&Ee(u,"16-18")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ue=>{ue.stopPropagation(),H(u,"16-18")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ue=>{ue.stopPropagation(),he(u,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},`fifth-${L}`)})})]})]})}),_&&n.jsx("div",{className:"calendar-info-popup",style:{position:"absolute",left:`${_.x}px`,top:`${_.y}px`,zIndex:1e3},onClick:u=>u.stopPropagation(),children:n.jsxs("div",{className:"calendar-info-popup-content",children:[n.jsx("button",{className:"calendar-info-popup-close",onClick:()=>fe(null),"aria-label":"Fermer",children:""}),n.jsx("div",{className:"calendar-info-popup-title",children:"Rserve pour:"}),n.jsx("div",{className:"calendar-info-popup-names",children:_.bookings&&_.bookings.length>0?_.bookings.map((u,L)=>n.jsx("div",{children:u.name},L)):_.names.map((u,L)=>n.jsx("div",{children:u},L))}),ge&&_&&Pe(_.date,_.timeSlot)&&n.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${d?"#333333":"#e5e7eb"}`,display:"flex",gap:"8px",justifyContent:"flex-end"},children:[n.jsxs("button",{onClick:u=>{u.stopPropagation(),Ye(_.date,_.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#fa541c",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(250, 84, 28, 0.3)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#ff6b35",u.currentTarget.style.transform="translateY(-1px)",u.currentTarget.style.boxShadow="0 4px 8px rgba(250, 84, 28, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="#fa541c",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 2px 4px rgba(250, 84, 28, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Modifier"})]}),n.jsxs("button",{onClick:u=>{u.stopPropagation(),j(_.date,_.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:d?"#dc2626":"#ef4444",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor=d?"#b91c1c":"#dc2626",u.currentTarget.style.transform="translateY(-1px)",u.currentTarget.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor=d?"#dc2626":"#ef4444",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Supprimer"})]})]})]})}),P&&n.jsxs("div",{className:"booking-select-popup",style:{position:"fixed",left:Math.min(P.x,window.innerWidth-280),top:P.y,zIndex:1e4,backgroundColor:d?"#1a1a1a":"#ffffff",border:`1px solid ${d?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",padding:"12px",minWidth:"250px",maxWidth:"350px"},onClick:u=>u.stopPropagation(),children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:d?"#ffffff":"#111827",marginBottom:"12px",paddingBottom:"8px",borderBottom:`1px solid ${d?"#333333":"#e5e7eb"}`},children:P.action==="edit"?" Slectionner une rservation  modifier":" Slectionner une rservation  supprimer"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"300px",overflowY:"auto"},children:P.bookings.sort((u,L)=>u.name.localeCompare(L.name)).map((u,L)=>n.jsxs("button",{onClick:()=>G(u),style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",padding:"10px 12px",borderRadius:"8px",border:`1px solid ${d?"#333333":"#e5e7eb"}`,backgroundColor:d?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left"},onMouseEnter:O=>{O.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f0f0f0",O.currentTarget.style.borderColor="#fa541c"},onMouseLeave:O=>{O.currentTarget.style.backgroundColor=d?"#0a0a0a":"#f9fafb",O.currentTarget.style.borderColor=d?"#333333":"#e5e7eb"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:600,color:d?"#ffffff":"#111827"},children:[" ",u.name]}),n.jsxs("div",{style:{fontSize:"12px",color:d?"#9ca3af":"#6b7280"},children:[" ",u.phone]}),n.jsxs("div",{style:{fontSize:"11px",color:d?"#6b7280":"#9ca3af"},children:[" Concepteur: ",u.designer]})]},u.id||L))}),n.jsx("button",{onClick:()=>Re(null),style:{marginTop:"12px",padding:"8px 16px",borderRadius:"6px",border:`1px solid ${d?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:d?"#9ca3af":"#6b7280",cursor:"pointer",fontSize:"13px",width:"100%",transition:"all 0.2s"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f0f0f0"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="transparent"},children:"Annuler"})]}),V&&$&&n.jsx(Ml,{selectedDate:new Date($.date+"T00:00:00"),selectedTimeSlot:$.time&&$.time!=="21h00"?$.time:void 0,onClose:()=>{S(!1),q(null)},onSubmit:ye,isDarkMode:d,initialData:{name:$.name,phone:$.phone,designer:$.designer,message:$.message},users:We?je:[]})]})};function qd({disableAnimations:l=!1,isAdminView:d=!1}){const i=yn(),[c,p]=h.useState(null),[m,x]=h.useState(void 0),[w,g]=h.useState(!1),[k,M]=h.useState(0),[W,C]=h.useState(null),[J,N]=h.useState(null),[I,R]=h.useState(()=>{const X=localStorage.getItem("darkMode");return X?JSON.parse(X):!0}),[Q,Y]=h.useState(!1),[me,we]=h.useState([]),Ae=Ta("calendar3");h.useEffect(()=>{const X=localStorage.getItem("user");X&&JSON.parse(X).role==="admin"&&(Y(!0),We())},[]);const We=async()=>{try{const X=await Ir();we(X)}catch(X){console.error("Error loading users:",X)}};h.useEffect(()=>{M(X=>X+1)},[Ae]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(I)),document.documentElement.setAttribute("data-theme",I?"dark":"light")},[I]),h.useEffect(()=>{const X=ae=>{const Ie=ae.detail.isDarkMode;Ie!==I&&R(Ie)};return window.addEventListener("darkModeChanged",X),()=>{window.removeEventListener("darkModeChanged",X)}},[I]),h.useEffect(()=>{if(J){const X=setTimeout(()=>{N(null)},3e3);return()=>clearTimeout(X)}},[J]);const Le=()=>{R(!I)},pe=(X,ae)=>{p(X),x(ae),g(!0)},Ve=()=>{g(!1),p(null),x(void 0)},ge=async X=>{console.log("Booking submitted:",X);try{N("Traitement de votre rservation..."),await Zo(X,Ae),await new Promise(ae=>setTimeout(ae,500)),N(null),C(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{M(ae=>ae+1)},300)}catch(ae){console.error("Booking submission error:",ae),N(null),ae instanceof Error&&ae.message?alert(` ${ae.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}Ve()};return n.jsxs("div",{className:`App ${I?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(Nl,{isDarkMode:I}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Metr"}),n.jsx("p",{children:"Gestion des rservations Metr"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Metr"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!d&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:Le,"aria-label":"Toggle dark mode",title:I?"Switch to light mode":"Switch to dark mode",children:I?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Da,{onDateSelect:pe,isDarkMode:I,refreshTrigger:k,binId:Ae,view:"weekly",timeSlotType:"numerical"})}),w&&c&&n.jsx(Ml,{selectedDate:c,selectedTimeSlot:m,onClose:Ve,onSubmit:ge,isDarkMode:I,users:Q?me:[]}),W&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:W}),n.jsx("button",{className:"notification-toast-button",onClick:()=>C(null),children:"j'ai compris"})]}),J&&n.jsx("div",{className:"notification-toast",children:J})]})}function Xd({disableAnimations:l=!1,isAdminView:d=!1}){const i=yn(),[c,p]=h.useState(null),[m,x]=h.useState(!1),[w,g]=h.useState(0),[k,M]=h.useState(null),[W,C]=h.useState(null),[J,N]=h.useState(()=>{const ce=localStorage.getItem("darkMode");return ce?JSON.parse(ce):!0}),[I,R]=h.useState(!1),[Q,Y]=h.useState([]),[me,we]=h.useState([]),[Ae,We]=h.useState([]),Le=Ta("calendar1");h.useEffect(()=>{const ce=localStorage.getItem("user");ce&&JSON.parse(ce).role==="admin"&&(R(!0),pe())},[]);const pe=async()=>{try{const ce=await Ir();Y(ce)}catch(ce){console.error("Error loading users:",ce)}};h.useEffect(()=>{g(ce=>ce+1)},[Le]);const Ve=async()=>{try{const[ce,$]=await Promise.all([zr(Le),co(Le)]);we(ce),We($)}catch(ce){console.error("Error loading bookings/holidays:",ce)}};h.useEffect(()=>{Ve()},[Le,w]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(J)),document.documentElement.setAttribute("data-theme",J?"dark":"light")},[J]),h.useEffect(()=>{const ce=$=>{const q=$.detail.isDarkMode;q!==J&&N(q)};return window.addEventListener("darkModeChanged",ce),()=>{window.removeEventListener("darkModeChanged",ce)}},[J]),h.useEffect(()=>{if(W){const ce=setTimeout(()=>{C(null)},3e3);return()=>clearTimeout(ce)}},[W]);const ge=()=>{N(!J)},X=ce=>{p(ce),x(!0)},ae=()=>{x(!1),p(null)},Ie=(ce,$)=>{const q=new Date(ce);return q.setDate(q.getDate()+$),q},Te=ce=>{const $=ce.getFullYear(),q=String(ce.getMonth()+1).padStart(2,"0"),V=String(ce.getDate()).padStart(2,"0");return`${$}-${q}-${V}`},Ze=(ce,$)=>{const q=[],V=je=>{const Z=Te(je);return Ae.some(P=>P.holiday_date===Z)},S=je=>je.getDay()===0,_=je=>V(je)||S(je),fe=(je,Z=1)=>{let P=Ie(je,Z),Re=0;const Ne=14;for(;_(P)&&Re<Ne;)P=Ie(P,1),Re++;return P};if($===1)q.push(Te(ce));else if($===2){q.push(Te(ce));const je=fe(ce,1);q.push(Te(je))}else if($===3){q.push(Te(ce));const je=fe(ce,1);q.push(Te(je));const Z=fe(je,1);q.push(Te(Z))}return q},Qe=async ce=>{console.log("Booking submitted:",ce);try{C("Traitement de votre rservation...");const $=parseInt(ce.duree||"1")||1;if($===1)await Zo(ce,Le);else{const V=Ze(ce.selectedDate,$);console.log(`[Calendar1Page] Creating ${V.length} bookings for duration ${$}:`,V);for(const S of V){const _={...ce,date:S};await Zo(_,Le),await new Promise(fe=>setTimeout(fe,100))}}await new Promise(V=>setTimeout(V,500)),C(null);const q=$>1?` (${$} rservations cres)`:"";M(` Rservation confirme${q}.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart`),setTimeout(()=>{g(V=>V+1)},300)}catch($){console.error("Booking submission error:",$),C(null),$ instanceof Error&&$.message?alert(` ${$.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}ae()};return n.jsxs("div",{className:`App ${J?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(Nl,{isDarkMode:J}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Pose"}),n.jsx("p",{children:"Gestion des rservations Pose"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Pose"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!d&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:ge,"aria-label":"Toggle dark mode",title:J?"Switch to light mode":"Switch to dark mode",children:J?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Da,{onDateSelect:X,isDarkMode:J,refreshTrigger:w,binId:Le,view:"monthly",showTimeSlots:!1,timeSlotType:"basic"})}),m&&c&&n.jsx(Ml,{selectedDate:c,onClose:ae,onSubmit:Qe,isDarkMode:J,users:I?Q:[],existingBookings:me.map(ce=>({date:ce.date})),holidays:Ae.map(ce=>({holiday_date:ce.holiday_date})),maxBookingsPerDay:2,showDurationField:!0}),k&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:k}),n.jsx("button",{className:"notification-toast-button",onClick:()=>M(null),children:"j'ai compris"})]}),W&&n.jsx("div",{className:"notification-toast",children:W})]})}function Zd({disableAnimations:l=!1,isAdminView:d=!1}){const i=yn(),[c,p]=h.useState(null),[m,x]=h.useState(void 0),[w,g]=h.useState(!1),[k,M]=h.useState(0),[W,C]=h.useState(null),[J,N]=h.useState(null),[I,R]=h.useState(()=>{const X=localStorage.getItem("darkMode");return X?JSON.parse(X):!0}),[Q,Y]=h.useState(!1),[me,we]=h.useState([]),Ae=Ta("calendar2");h.useEffect(()=>{const X=localStorage.getItem("user");X&&JSON.parse(X).role==="admin"&&(Y(!0),We())},[]);const We=async()=>{try{const X=await Ir();we(X)}catch(X){console.error("Error loading users:",X)}};h.useEffect(()=>{M(X=>X+1)},[Ae]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(I)),document.documentElement.setAttribute("data-theme",I?"dark":"light")},[I]),h.useEffect(()=>{const X=ae=>{const Ie=ae.detail.isDarkMode;Ie!==I&&R(Ie)};return window.addEventListener("darkModeChanged",X),()=>{window.removeEventListener("darkModeChanged",X)}},[I]),h.useEffect(()=>{if(J){const X=setTimeout(()=>{N(null)},3e3);return()=>clearTimeout(X)}},[J]);const Le=()=>{R(!I)},pe=(X,ae)=>{p(X),x(ae),g(!0)},Ve=()=>{g(!1),p(null),x(void 0)},ge=async X=>{console.log("Booking submitted:",X);try{N("Traitement de votre rservation..."),await Zo(X,Ae),await new Promise(ae=>setTimeout(ae,500)),N(null),C(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{M(ae=>ae+1)},300)}catch(ae){console.error("Booking submission error:",ae),N(null),ae instanceof Error&&ae.message?alert(` ${ae.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}Ve()};return n.jsxs("div",{className:`App ${I?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(Nl,{isDarkMode:I}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - SAV"}),n.jsx("p",{children:"Gestion des rservations SAV"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de SAV"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!d&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:Le,"aria-label":"Toggle dark mode",title:I?"Switch to light mode":"Switch to dark mode",children:I?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Da,{onDateSelect:pe,isDarkMode:I,refreshTrigger:k,binId:Ae,view:"weekly",timeSlotType:"sav"})}),w&&c&&n.jsx(Ml,{selectedDate:c,selectedTimeSlot:m,onClose:Ve,onSubmit:ge,isDarkMode:I,users:Q?me:[]}),W&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:W}),n.jsx("button",{className:"notification-toast-button",onClick:()=>C(null),children:"j'ai compris"})]}),J&&n.jsx("div",{className:"notification-toast",children:J})]})}const Pa=async()=>{const l=[],d=Date.now(),i=d-1440*60*1e3,c=d-10080*60*1e3;try{const m=Object.values(Ke).map(w=>zr(w).then(g=>({calendarId:w,bookings:g})));(await Promise.all(m)).forEach(({calendarId:w,bookings:g})=>{g.forEach(k=>{if(k.timestamp>i){const M=En(w);l.push({id:`booking-${k.id}`,type:"booking",title:"Nouvelle rservation",message:`${k.name} - ${M}`,timestamp:k.timestamp,data:{...k,calendarId:w}})}})})}catch(p){console.error("Error loading booking notifications:",p)}try{const m=Object.values(Ke).map(w=>co(w).then(g=>({calendarId:w,holidays:g})));(await Promise.all(m)).forEach(({calendarId:w,holidays:g})=>{g.forEach(k=>{const M=new Date(k.created_at).getTime();if(M>c){const W=En(w);l.push({id:`holiday-${k.id}`,type:"holiday",title:"Nouveau jour fri",message:`${W} - ${k.holiday_date}`,timestamp:M,data:{...k,calendarId:w}})}})})}catch(p){console.error("Error loading holiday notifications:",p)}return l.sort((p,m)=>m.timestamp-p.timestamp),l},Tg=l=>{const i=Date.now()-10080*60*1e3,c=[];return l.forEach(p=>{const m=new Date(p.createdAt).getTime();m>i&&c.push({id:`user-${p.id}`,type:"user",title:"Nouvel utilisateur",message:`${p.name} (${p.role})`,timestamp:m,data:p})}),c.sort((p,m)=>m.timestamp-p.timestamp)},za=l=>{const i=Date.now()-l,c=Math.floor(i/6e4),p=Math.floor(i/36e5),m=Math.floor(i/864e5);return c<1?" l'instant":c<60?`Il y a ${c} min`:p<24?`Il y a ${p} h`:m<7?`Il y a ${m} j`:new Date(l).toLocaleDateString("fr-FR")};function cs(){const l=yn(),d=un(),[i,c]=h.useState(()=>{const j=localStorage.getItem("darkMode");return j?JSON.parse(j):!0}),[p,m]=h.useState(!0),[x,w]=h.useState(!1),[g,k]=h.useState(!1),[M,W]=h.useState(!1),[C,J]=h.useState(!1),[N,I]=h.useState([]),[R,Q]=h.useState(!0),[Y,me]=h.useState([]),[we,Ae]=h.useState(!0),[We,Le]=h.useState(!0),[pe,Ve]=h.useState(0),[ge,X]=h.useState(0),[ae,Ie]=h.useState(0),[Te,Ze]=h.useState(0),[Qe,ce]=h.useState(0),[$,q]=h.useState([]),[V,S]=h.useState([]),[_,fe]=h.useState(0),[je,Z]=h.useState(0),[P,Re]=h.useState(0),[Ne,Ue]=h.useState(0),[ut,qe]=h.useState(null),[it,kt]=h.useState(!1),[U,le]=h.useState(0),[Je,zt]=h.useState([]),[Be,dt]=h.useState("month"),[rt,xt]=h.useState(0),[Rt,vn]=h.useState(0);h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light");const j=localStorage.getItem("user");if(j){const ke=JSON.parse(j);W(ke.role==="admin")}},[i]),h.useEffect(()=>{const j=setTimeout(()=>{setTimeout(()=>J(!0),300)},300);return()=>clearTimeout(j)},[]),h.useEffect(()=>{const j=()=>{k(window.innerWidth<=768),window.innerWidth>768&&w(!1)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),h.useEffect(()=>{w(!1)},[d.pathname]),h.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[x]),h.useEffect(()=>{(async()=>{try{Q(!0),Ae(!0);const H=["calendar1","calendar2","calendar3"].map(async Et=>{try{return(await zr(Et)).map(us=>({...us,calendarId:Et}))}catch(yt){return console.warn(`Failed to fetch bookings for ${Et}:`,yt),[]}}),he=await Promise.all(H),G=he.flat(),ye=he[0]?.length||0,Ce=he[1]?.length||0,Se=he[2]?.length||0;Ve(G.length),Ze(ye),Ie(Ce),ce(Se);const u=new Date,L=u.getMonth(),O=u.getFullYear(),B=new Date(O,L+1,0).getDate(),y=he[0]?.filter(Et=>{const yt=new Date(Et.date);return yt.getMonth()===L&&yt.getFullYear()===O})||[],F=he[1]?.filter(Et=>{const yt=new Date(Et.date);return yt.getMonth()===L&&yt.getFullYear()===O})||[],ee=he[2]?.filter(Et=>{const yt=new Date(Et.date);return yt.getMonth()===L&&yt.getFullYear()===O})||[],oe=B*2,de=B*1,ze=B*1,ue=B*4,at=oe>0?Math.round(y.length/oe*100):0,ot=de>0?Math.round(ee.length/de*100):0,wt=ze>0?Math.round(F.length/ze*100):0,te=y.length+ee.length+F.length,Jt=ue>0?Math.round(te/ue*100):0;Z(at),Re(ot),Ue(wt),fe(Jt),S(G);const Nt=G.sort((Et,yt)=>yt.timestamp-Et.timestamp).slice(0,5);I(Nt);const Ar=G.filter(Et=>Et.calendarId==="calendar2"),tr={};Ar.forEach(Et=>{const yt=Et.name;yt&&(tr[yt]=(tr[yt]||0)+1)});const mo=Object.entries(tr).map(([Et,yt])=>({name:Et,count:yt})).sort((Et,yt)=>yt.count-Et.count).slice(0,10);me(mo)}catch(ke){console.error("Error loading bookings data:",ke),me([])}finally{Q(!1),Ae(!1)}})()},[]),h.useEffect(()=>{if(V.length===0){q([]);return}const j=["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Aot","Sep","Oct","Nov","Dc"],ke=[],H=new Date,he=new Date(H.getFullYear(),H.getMonth()+rt,1),G=he.getMonth(),ye=he.getFullYear(),Ce=new Date(ye,G+1,0).getDate();if(Be==="month"){let Se=0,u=0,L=0;for(let O=1;O<=Ce;O++){const B=V.filter(de=>{const ze=de.date.split("-");if(ze.length===3){const ue=parseInt(ze[0],10),at=parseInt(ze[1],10)-1,ot=parseInt(ze[2],10);return at===G&&ue===ye&&ot===O}return!1}),y=B.filter(de=>de.calendarId==="calendar3").length,F=B.filter(de=>de.calendarId==="calendar1").length,ee=B.filter(de=>de.calendarId==="calendar2").length;Se+=y,u+=F,L+=ee;const oe=O===1||O===Ce?`${O} ${j[G]}`:"";ke.push({month:oe,Metr:y,Pose:F,SAV:ee,day:O,cumulMetr:Se,cumulPose:u,cumulSAV:L})}}else{const Se=new Date,u=new Date(Se),L=Se.getDay(),O=L===0?-6:1-L;u.setDate(Se.getDate()+O+Rt*7),u.setHours(0,0,0,0);let B=0,y=0,F=0;for(let ee=0;ee<7;ee++){const oe=new Date(u);oe.setDate(u.getDate()+ee);const de=V.filter(Jt=>{const Nt=Jt.date.split("-");if(Nt.length===3){const Ar=parseInt(Nt[0],10),tr=parseInt(Nt[1],10)-1,mo=parseInt(Nt[2],10);return tr===oe.getMonth()&&Ar===oe.getFullYear()&&mo===oe.getDate()}return!1}),ze=de.filter(Jt=>Jt.calendarId==="calendar3").length,ue=de.filter(Jt=>Jt.calendarId==="calendar1").length,at=de.filter(Jt=>Jt.calendarId==="calendar2").length;B+=ze,y+=ue,F+=at;const ot=oe.getDate(),wt=j[oe.getMonth()],te=`${ot} ${wt}`;ke.push({month:te,Metr:ze,Pose:ue,SAV:at,day:ot,cumulMetr:B,cumulPose:y,cumulSAV:F})}}q(ke)},[V,Be,rt,Rt]),h.useEffect(()=>{(async()=>{try{const ke=await Ir();X(ke.length)}catch(ke){console.error("Error loading users count:",ke),X(0)}})()},[]);const Ft=async()=>{try{const j=await Pa();zt(j),le(j.length)}catch(j){console.error("Error loading notifications:",j)}};h.useEffect(()=>{Ft();const j=setInterval(Ft,6e4),ke=()=>Ft();return window.addEventListener("notificationRefresh",ke),()=>{clearInterval(j),window.removeEventListener("notificationRefresh",ke)}},[]),h.useEffect(()=>{const j=ke=>{const H=ke.target;it&&!H.closest("[data-notifications-dropdown]")&&kt(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[it]);const T=$.length>0?Math.max(...$.flatMap(j=>[j.Metr,j.Pose,j.SAV]),1):5,Me=Math.max(5,Math.ceil(T/5)*5),ft=j=>{const H=Date.now()-j,he=Math.floor(H/6e4),G=Math.floor(H/36e5),ye=Math.floor(H/864e5);return he<1?" l'instant":he<60?`Il y a ${he} min`:G<24?`Il y a ${G} h`:ye<7?`Il y a ${ye} j`:new Date(j).toLocaleDateString("fr-FR")},pt=()=>{const j=!i;c(j),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{isDarkMode:j}}))},xe=()=>{localStorage.removeItem("user"),l("/")},[K,et]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const j=()=>{const H=localStorage.getItem("accentColor");H&&(et(H),document.documentElement.style.setProperty("--accent-color",H))};window.addEventListener("settingsUpdated",j),window.addEventListener("storage",j);const ke=localStorage.getItem("accentColor");return ke&&(et(ke),document.documentElement.style.setProperty("--accent-color",ke)),()=>{window.removeEventListener("settingsUpdated",j),window.removeEventListener("storage",j)}},[]);const _t=i?"#000000":"#f5f5f5",bt=i?"#1a1a1a":"#ffffff",Ee=i?"#ffffff":"#111827",Pe=i?"#9ca3af":"#6b7280",Ye=i?"#333333":"#e5e7eb";return n.jsxs("div",{className:"dashboard-container",style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:_t},children:[x&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>w(!1),style:{display:g?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),g&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${Ye}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>w(!x),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:Ee,zIndex:1001,position:"relative"},"aria-label":x?"Fermer le menu":"Ouvrir le menu",children:x?n.jsx(as,{size:24}):n.jsx(ls,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${K} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:Ee},children:"Tableau de Bord"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>kt(!it),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:"transparent",border:"none",color:Pe,cursor:"pointer"},children:[n.jsx(Pr,{style:{width:"20px",height:"20px"}}),U>0&&n.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",minWidth:"16px",height:"16px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:600,color:"#ffffff"},children:U>99?"99+":U})]}),n.jsx("button",{onClick:pt,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:Pe,cursor:"pointer"},children:i?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})]})]}),n.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
      `}),n.jsxs("nav",{className:`dashboard-sidebar ${x?"mobile-open":""}`,style:{position:g?"fixed":"sticky",top:g?"60px":0,left:0,height:g?"calc(100vh - 60px)":"100vh",width:g?"280px":p?"256px":"64px",borderRight:`1px solid ${Ye}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:g?x?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${Ye}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${K} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:Ee},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:Pe},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(zn,{Icon:ss,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:p,onClick:()=>l("/dashboard"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe}),M&&n.jsx(zn,{Icon:os,title:"Rservation",isActive:d.pathname==="/rservation",open:p,onClick:()=>l("/rservation"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe}),M&&n.jsx(zn,{Icon:io,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:p,onClick:()=>l("/jours-feries"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe}),M&&n.jsx(zn,{Icon:ao,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:p,onClick:()=>l("/utilisateurs"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe}),n.jsxs("button",{onClick:()=>Le(!We),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:Pe,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=Ee},onMouseLeave:j=>{j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=Pe},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),We?n.jsx(is,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ns,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),M&&We&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(zn,{Icon:nt,title:"Metr",isActive:d.pathname==="/metre",open:p,onClick:()=>l("/metre"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe}),n.jsx(zn,{Icon:nt,title:"Pose",isActive:d.pathname==="/pose",open:p,onClick:()=>l("/pose"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe}),n.jsx(zn,{Icon:nt,title:"SAV",isActive:d.pathname==="/sav",open:p,onClick:()=>l("/sav"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${Ye}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:Pe,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(zn,{Icon:i?Xt:qt,title:i?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:pt,isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe}),n.jsx(zn,{Icon:Dr,title:"Paramtres",isActive:d.pathname==="/parametres",open:p,onClick:()=>l("/parametres"),isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe})]}),n.jsx("div",{style:{borderTop:`1px solid ${Ye}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(zn,{Icon:er,title:"Dconnexion",isActive:!1,open:p,onClick:xe,isDarkMode:i,orangeColor:K,textColor:Ee,textSecondary:Pe})}),n.jsxs("button",{onClick:()=>m(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${Ye}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:Pe,transition:"background-color 0.2s",height:"48px"},onMouseEnter:j=>j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:j=>j.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(rs,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{className:"dashboard-main",style:{flex:1,overflow:"auto",backgroundColor:_t,display:"flex",flexDirection:"column",paddingTop:g?"60px":0},children:d.pathname==="/calendrier"?n.jsx(Hd,{disableAnimations:!0,isAdminView:!0}):d.pathname==="/metre"?n.jsx(qd,{disableAnimations:!0,isAdminView:!0}):d.pathname==="/pose"?n.jsx(Xd,{disableAnimations:!0,isAdminView:!0}):d.pathname==="/sav"?n.jsx(Zd,{disableAnimations:!0,isAdminView:!0}):n.jsxs("div",{className:"dashboard-content",style:{padding:g?"16px":"24px",flex:1,display:"flex",flexDirection:"column",minHeight:0},children:[n.jsxs("div",{className:"dashboard-header",style:{display:"flex",alignItems:g?"flex-start":"center",justifyContent:"space-between",marginBottom:g?"20px":"32px",animation:"fadeInDown 0.5s ease-out",flexDirection:g?"column":"row",gap:g?"16px":"0"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{fontSize:"30px",fontWeight:700,color:Ee,marginBottom:"4px"},children:"Tableau de Bord"}),n.jsx("p",{style:{fontSize:"16px",color:Pe,marginTop:"4px"},children:"Bienvenue sur votre tableau de bord"})]}),n.jsxs("div",{className:"header-actions",style:{display:g?"none":"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>kt(!it),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:bt,border:`1px solid ${Ye}`,color:Pe,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:j=>{j.currentTarget.style.color=Ee,j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:j=>{j.currentTarget.style.color=Pe,j.currentTarget.style.backgroundColor=bt},children:[n.jsx(Pr,{style:{width:"20px",height:"20px"}}),U>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:U>99?"99+":U})]}),it&&n.jsxs("div",{"data-notifications-dropdown":!0,className:"notifications-dropdown",style:{position:g?"fixed":"absolute",top:g?"60px":"50px",right:"0",left:g?"0":"auto",width:g?"100%":"380px",maxHeight:g?"calc(100vh - 60px)":"500px",backgroundColor:bt,border:g?"none":`1px solid ${Ye}`,borderRadius:g?"0":"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${Ye}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:Ee},children:"Notifications"}),U>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[U," nouvelle",U>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:Je.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:Pe},children:"Aucune notification"}):Je.slice(0,10).map(j=>{const ke=za(j.timestamp),he=(()=>{if(j.type==="booking"){const G=j.data,ye=En(G.calendarId);return{subtitle:`${G.name} - ${ye}`,details:`${G.date} ${G.time&&G.time!=="21h00"?` ${G.time}`:""}`,onClick:()=>{kt(!1),l("/rservation")}}}else if(j.type==="holiday"){const G=j.data;return{subtitle:`${En(G.calendarId)} - ${(Se=>new Date(Se+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(G.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{kt(!1),l("/jours-feries")}}}else if(j.type==="user"){const G=j.data,ye=Ce=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[Ce]||Ce;return{subtitle:`${G.name} (${ye(G.role)})`,details:G.email,onClick:()=>{kt(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:he.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${Ye}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:G=>{G.currentTarget.style.backgroundColor=i?"#2a2a2a":"#f9fafb"},onMouseLeave:G=>{G.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:Ee,marginBottom:"4px"},children:j.title}),n.jsx("div",{style:{fontSize:"13px",color:Pe,marginBottom:"4px"},children:he.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:Pe},children:he.details})]}),n.jsx("div",{style:{fontSize:"11px",color:Pe,whiteSpace:"nowrap"},children:ke})]})},j.id)})}),Je.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${Ye}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{kt(!1),Je[0]?.type==="booking"?l("/rservation"):Je[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:K,cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:pt,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${Ye}`,backgroundColor:bt,color:Pe,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:j=>{j.currentTarget.style.color=Ee,j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:j=>{j.currentTarget.style.color=Pe,j.currentTarget.style.backgroundColor=bt},children:i?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:xe,style:{padding:"8px",borderRadius:"8px",backgroundColor:bt,border:`1px solid ${Ye}`,color:Pe,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:j=>{j.currentTarget.style.color=Ee,j.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:j=>{j.currentTarget.style.color=Pe,j.currentTarget.style.backgroundColor=bt},children:n.jsx(er,{style:{width:"20px",height:"20px"}})})]})]}),n.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:g?"1fr":"repeat(auto-fit, minmax(220px, 1fr))",gap:g?"12px":"24px",marginBottom:g?"20px":"32px",animation:"fadeInUp 0.6s ease-out"},children:[n.jsx(yl,{title:"Taux d'engorgement",value:`${_} %`,change:`Pose: ${je}% | Metr: ${P}% | SAV: ${Ne}%`,Icon:ng,iconBg:i?`${K}30`:`${K}20`,iconColor:K,cardBg:bt,textColor:Ee,textSecondary:Pe,borderColor:Ye}),n.jsx(yl,{title:"Utilisateurs",value:ge.toLocaleString("fr-FR"),change:"Comptes enregistrs",Icon:ao,iconBg:i?"#10b98130":"#10b98120",iconColor:"#10b981",cardBg:bt,textColor:Ee,textSecondary:Pe,borderColor:Ye}),n.jsx(yl,{title:"Total Rservations",value:pe.toLocaleString("fr-FR"),change:`Pose: ${Te} | Metr: ${Qe}  | SAV: ${ae}`,Icon:io,iconBg:i?"#8b5cf630":"#8b5cf620",iconColor:"#8b5cf6",cardBg:bt,textColor:Ee,textSecondary:Pe,borderColor:Ye}),n.jsx(yl,{title:"Rservations SAV",value:ae.toLocaleString("fr-FR"),change:"Interventions SAV",Icon:nt,iconBg:i?`${K}30`:`${K}20`,iconColor:K,cardBg:bt,textColor:Ee,textSecondary:Pe,borderColor:Ye})]}),n.jsxs("div",{className:"content-grid",style:{display:"grid",gridTemplateColumns:g?"1fr":"2fr 1fr",gridTemplateRows:"auto auto",gap:g?"16px":"32px",animation:"fadeInUp 0.8s ease-out",flex:1,minHeight:0},children:[n.jsxs("div",{style:{backgroundColor:bt,borderRadius:"16px",padding:"24px",border:`1px solid ${Ye}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 1s ease-out",transition:"all 0.3s ease",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:j=>{j.currentTarget.style.transform="translateY(-4px)",j.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",j.currentTarget.style.borderColor=Ye==="#333333"?"#444444":"#d1d5db"},onMouseLeave:j=>{j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",j.currentTarget.style.borderColor=Ye},children:[n.jsxs("div",{className:"chart-header",style:{display:"flex",justifyContent:"space-between",alignItems:g?"flex-start":"center",marginBottom:"20px",flexDirection:g?"column":"row",gap:g?"12px":"0"},children:[n.jsx("h3",{style:{fontSize:g?"16px":"20px",fontWeight:600,color:Ee,margin:0},children:"volution des Rservations"}),n.jsxs("div",{className:"chart-controls",style:{display:"flex",gap:"8px",backgroundColor:i?"#1a1a1a":"#f5f5f5",borderRadius:"8px",padding:"4px",border:`1px solid ${Ye}`,width:g?"100%":"auto",justifyContent:g?"center":"flex-start"},children:[n.jsx("button",{onClick:()=>dt("month"),style:{padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:Be==="month"?K:"transparent",color:Be==="month"?"#ffffff":Pe,cursor:"pointer",fontSize:"13px",fontWeight:Be==="month"?600:500,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:j=>{Be!=="month"&&(j.currentTarget.style.backgroundColor=i?"#2a2a2a":"#e5e7eb")},onMouseLeave:j=>{Be!=="month"&&(j.currentTarget.style.backgroundColor="transparent")},children:"Par mois"}),n.jsx("button",{onClick:()=>{dt("week"),xt(0),vn(0)},style:{padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:Be==="week"?K:"transparent",color:Be==="week"?"#ffffff":Pe,cursor:"pointer",fontSize:"13px",fontWeight:Be==="week"?600:500,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:j=>{Be!=="week"&&(j.currentTarget.style.backgroundColor=i?"#2a2a2a":"#e5e7eb")},onMouseLeave:j=>{Be!=="week"&&(j.currentTarget.style.backgroundColor="transparent")},children:"Par semaine"})]})]}),Be==="month"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>xt(j=>j-1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ye}`,backgroundColor:i?"#262626":"#ffffff",color:Pe,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=K,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=K},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Pe,j.currentTarget.style.borderColor=Ye},children:""}),n.jsx("div",{style:{minWidth:"180px",textAlign:"center",fontSize:"15px",fontWeight:600,color:Ee,padding:"8px 20px",borderRadius:"20px",backgroundColor:i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",border:`1px solid ${Ye}`},children:(()=>{const j=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],ke=new Date,H=new Date(ke.getFullYear(),ke.getMonth()+rt,1);return`${j[H.getMonth()]} ${H.getFullYear()}`})()}),n.jsx("button",{onClick:()=>xt(j=>j+1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ye}`,backgroundColor:i?"#262626":"#ffffff",color:Pe,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=K,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=K},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Pe,j.currentTarget.style.borderColor=Ye},children:""}),rt!==0&&n.jsx("button",{onClick:()=>xt(0),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:K,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s",marginLeft:"4px",boxShadow:`0 2px 8px ${K}40`},onMouseEnter:j=>{j.currentTarget.style.transform="scale(1.05)",j.currentTarget.style.boxShadow=`0 4px 12px ${K}60`},onMouseLeave:j=>{j.currentTarget.style.transform="scale(1)",j.currentTarget.style.boxShadow=`0 2px 8px ${K}40`},children:"Ce mois"})]}),Be==="week"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>vn(j=>j-1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ye}`,backgroundColor:i?"#262626":"#ffffff",color:Pe,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=K,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=K},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Pe,j.currentTarget.style.borderColor=Ye},children:""}),n.jsx("div",{style:{minWidth:"180px",textAlign:"center",fontSize:"15px",fontWeight:600,color:Ee,padding:"8px 20px",borderRadius:"20px",backgroundColor:i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",border:`1px solid ${Ye}`},children:(()=>{const j=new Date,ke=new Date(j),H=j.getDay(),he=H===0?-6:1-H;ke.setDate(j.getDate()+he+Rt*7);const G=new Date(ke);G.setDate(ke.getDate()+6);const ye=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],Ce=ke.getDate(),Se=G.getDate(),u=ye[ke.getMonth()],L=ye[G.getMonth()];return u===L?`${Ce}-${Se} ${u}`:`${Ce} ${u} - ${Se} ${L}`})()}),n.jsx("button",{onClick:()=>vn(j=>j+1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ye}`,backgroundColor:i?"#262626":"#ffffff",color:Pe,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:j=>{j.currentTarget.style.backgroundColor=K,j.currentTarget.style.color="#ffffff",j.currentTarget.style.borderColor=K},onMouseLeave:j=>{j.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",j.currentTarget.style.color=Pe,j.currentTarget.style.borderColor=Ye},children:""}),Rt!==0&&n.jsx("button",{onClick:()=>vn(0),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:K,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s",marginLeft:"4px",boxShadow:`0 2px 8px ${K}40`},onMouseEnter:j=>{j.currentTarget.style.transform="scale(1.05)",j.currentTarget.style.boxShadow=`0 4px 12px ${K}60`},onMouseLeave:j=>{j.currentTarget.style.transform="scale(1)",j.currentTarget.style.boxShadow=`0 2px 8px ${K}40`},children:"Cette semaine"})]}),n.jsxs("div",{className:"chart-legend",style:{display:"flex",gap:g?"8px":"16px",marginBottom:g?"16px":"24px",flexWrap:"wrap",justifyContent:g?"center":"flex-start"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6",boxShadow:"0 0 6px rgba(59, 130, 246, 0.6)"}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:"#3b82f6"},children:"Metr"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?`${K}15`:`${K}10`,border:`1px solid ${K}30`},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:K,boxShadow:`0 0 6px ${K}80`}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:K},children:"Pose"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?"rgba(16, 185, 129, 0.1)":"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#10b981",boxShadow:"0 0 6px rgba(16, 185, 129, 0.6)"}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:"#10b981"},children:"SAV"})]})]}),n.jsx("div",{className:"chart-container",style:{position:"relative",width:"100%",flex:1,minHeight:g?"300px":"420px",overflow:"visible"},children:$.length===0?n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"420px",color:Pe,fontSize:"16px",flexDirection:"column",gap:"12px"},children:[n.jsx(nt,{style:{width:"48px",height:"48px",opacity:.5}}),n.jsx("span",{children:"Aucune rservation pour afficher le graphique"})]}):n.jsxs("svg",{width:"100%",height:"100%",style:{overflow:"visible"},viewBox:"0 0 900 430",preserveAspectRatio:"xMidYMid meet",children:[[0,1,2,3,4,5].map(j=>{const ke=j/5*380+10;return n.jsx("line",{x1:"60",y1:ke,x2:"860",y2:ke,stroke:i?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",strokeWidth:"1",style:{animation:C?`fadeIn 0.5s ease-out ${j*.05}s both`:"none"}},`grid-${j}`)}),[0,1,2,3,4,5].map(j=>{const ke=Math.round(Me/5*(5-j)),H=j/5*380+10;return n.jsx("g",{children:n.jsx("text",{x:"50",y:H+4,textAnchor:"end",fontSize:"11",fontWeight:"500",fill:Pe,style:{animation:C?`fadeIn 0.5s ease-out ${j*.05}s both`:"none"},children:ke})},`y-label-${j}`)}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"metreGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.02"})]}),n.jsxs("linearGradient",{id:"poseGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:K,stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:K,stopOpacity:"0.02"})]}),n.jsxs("linearGradient",{id:"savGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0.02"})]})]}),n.jsxs("g",{transform:"translate(60, 10)",children:[$.length>0&&$.map((j,ke)=>{const he=$.length>1?$.length-1:1,G=ke/he*800;return j.month?n.jsx("text",{x:G,y:"395",textAnchor:"middle",fontSize:"12",fontWeight:"500",fill:Pe,style:{animation:C?"fadeInUp 0.5s ease-out 0.6s both":"none"},children:j.month},`x-label-${ke}`):null}),$.length>0&&n.jsx("path",{d:(()=>{const ke=$.length>1?$.length-1:1,H=$.map((G,ye)=>({x:ye/ke*800,y:380-G.Metr/Me*380}));let he=`M ${H[0].x} 380 L ${H[0].x} ${H[0].y}`;for(let G=0;G<H.length-1;G++){const ye=H[Math.max(0,G-1)],Ce=H[G],Se=H[G+1],u=H[Math.min(H.length-1,G+2)],L=Ce.x+(Se.x-ye.x)/6,O=Ce.y+(Se.y-ye.y)/6,B=Se.x-(u.x-Ce.x)/6,y=Se.y-(u.y-Ce.y)/6;he+=` C ${L} ${O}, ${B} ${y}, ${Se.x} ${Se.y}`}return he+=` L ${H[H.length-1].x} 380 Z`,he})(),fill:"url(#metreGradient)",style:{opacity:C?1:0,transition:"opacity 1s ease-out 0.5s"}}),$.length>0&&n.jsx("path",{d:(()=>{const ke=$.length>1?$.length-1:1,H=$.map((G,ye)=>({x:ye/ke*800,y:380-G.Pose/Me*380}));let he=`M ${H[0].x} 380 L ${H[0].x} ${H[0].y}`;for(let G=0;G<H.length-1;G++){const ye=H[Math.max(0,G-1)],Ce=H[G],Se=H[G+1],u=H[Math.min(H.length-1,G+2)],L=Ce.x+(Se.x-ye.x)/6,O=Ce.y+(Se.y-ye.y)/6,B=Se.x-(u.x-Ce.x)/6,y=Se.y-(u.y-Ce.y)/6;he+=` C ${L} ${O}, ${B} ${y}, ${Se.x} ${Se.y}`}return he+=` L ${H[H.length-1].x} 380 Z`,he})(),fill:"url(#poseGradient)",style:{opacity:C?1:0,transition:"opacity 1s ease-out 0.7s"}}),$.length>0&&n.jsx("path",{d:(()=>{const ke=$.length>1?$.length-1:1,H=$.map((G,ye)=>({x:ye/ke*800,y:380-G.SAV/Me*380}));let he=`M ${H[0].x} 380 L ${H[0].x} ${H[0].y}`;for(let G=0;G<H.length-1;G++){const ye=H[Math.max(0,G-1)],Ce=H[G],Se=H[G+1],u=H[Math.min(H.length-1,G+2)],L=Ce.x+(Se.x-ye.x)/6,O=Ce.y+(Se.y-ye.y)/6,B=Se.x-(u.x-Ce.x)/6,y=Se.y-(u.y-Ce.y)/6;he+=` C ${L} ${O}, ${B} ${y}, ${Se.x} ${Se.y}`}return he+=` L ${H[H.length-1].x} 380 Z`,he})(),fill:"url(#savGradient)",style:{opacity:C?1:0,transition:"opacity 1s ease-out 0.9s"}}),$.length>0&&n.jsx("path",{d:(()=>{const ke=$.length>1?$.length-1:1,H=$.map((G,ye)=>({x:ye/ke*800,y:380-G.Metr/Me*380}));let he=`M ${H[0].x} ${H[0].y}`;for(let G=0;G<H.length-1;G++){const ye=H[Math.max(0,G-1)],Ce=H[G],Se=H[G+1],u=H[Math.min(H.length-1,G+2)],L=Ce.x+(Se.x-ye.x)/6,O=Ce.y+(Se.y-ye.y)/6,B=Se.x-(u.x-Ce.x)/6,y=Se.y-(u.y-Ce.y)/6;he+=` C ${L} ${O}, ${B} ${y}, ${Se.x} ${Se.y}`}return he})(),fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:C?"2000":"0",strokeDashoffset:C?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out",filter:"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3))"}}),$.length>0&&n.jsx("path",{d:(()=>{const ke=$.length>1?$.length-1:1,H=$.map((G,ye)=>({x:ye/ke*800,y:380-G.Pose/Me*380}));let he=`M ${H[0].x} ${H[0].y}`;for(let G=0;G<H.length-1;G++){const ye=H[Math.max(0,G-1)],Ce=H[G],Se=H[G+1],u=H[Math.min(H.length-1,G+2)],L=Ce.x+(Se.x-ye.x)/6,O=Ce.y+(Se.y-ye.y)/6,B=Se.x-(u.x-Ce.x)/6,y=Se.y-(u.y-Ce.y)/6;he+=` C ${L} ${O}, ${B} ${y}, ${Se.x} ${Se.y}`}return he})(),fill:"none",stroke:K,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:C?"2000":"0",strokeDashoffset:C?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out 0.2s",filter:`drop-shadow(0 2px 4px ${K}40)`}}),$.length>0&&n.jsx("path",{d:(()=>{const ke=$.length>1?$.length-1:1,H=$.map((G,ye)=>({x:ye/ke*800,y:380-G.SAV/Me*380}));let he=`M ${H[0].x} ${H[0].y}`;for(let G=0;G<H.length-1;G++){const ye=H[Math.max(0,G-1)],Ce=H[G],Se=H[G+1],u=H[Math.min(H.length-1,G+2)],L=Ce.x+(Se.x-ye.x)/6,O=Ce.y+(Se.y-ye.y)/6,B=Se.x-(u.x-Ce.x)/6,y=Se.y-(u.y-Ce.y)/6;he+=` C ${L} ${O}, ${B} ${y}, ${Se.x} ${Se.y}`}return he})(),fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:C?"2000":"0",strokeDashoffset:C?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out 0.4s",filter:"drop-shadow(0 2px 4px rgba(16, 185, 129, 0.3))"}}),$.length>0&&$.map((j,ke)=>{const he=$.length>1?$.length-1:1,G=ke/he*800,ye=ut===ke,Ce=j.Metr>0||j.Pose>0||j.SAV>0,Se=380-j.Metr/Me*380,u=380-j.Pose/Me*380,L=380-j.SAV/Me*380;return n.jsxs("g",{onMouseEnter:()=>qe(ke),onMouseLeave:()=>qe(null),style:{cursor:Ce?"pointer":"default"},children:[n.jsx("rect",{x:G-15,y:0,width:30,height:380,fill:"transparent"}),j.Metr>0&&n.jsxs("g",{children:[ye&&n.jsx("circle",{cx:G,cy:Se,r:"12",fill:"none",stroke:"#3b82f6",strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:G,cy:Se,r:ye?6:4,fill:"#3b82f6",stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:ye?"drop-shadow(0 0 8px rgba(59, 130, 246, 0.8))":"drop-shadow(0 0 4px rgba(59, 130, 246, 0.5))"}})]}),j.Pose>0&&n.jsxs("g",{children:[ye&&n.jsx("circle",{cx:G,cy:u,r:"12",fill:"none",stroke:K,strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:G,cy:u,r:ye?6:4,fill:K,stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:ye?`drop-shadow(0 0 8px ${K}cc)`:`drop-shadow(0 0 4px ${K}80)`}})]}),j.SAV>0&&n.jsxs("g",{children:[ye&&n.jsx("circle",{cx:G,cy:L,r:"12",fill:"none",stroke:"#10b981",strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:G,cy:L,r:ye?6:4,fill:"#10b981",stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:ye?"drop-shadow(0 0 8px rgba(16, 185, 129, 0.8))":"drop-shadow(0 0 4px rgba(16, 185, 129, 0.5))"}})]}),ye&&Ce&&n.jsx("line",{x1:G,y1:Math.min(Se,u,L)-5,x2:G,y2:380,stroke:i?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",strokeWidth:"1",strokeDasharray:"4 2"}),ye&&Ce&&j.day&&n.jsxs("g",{children:[n.jsx("rect",{x:Be==="week"?G-28:G-16,y:385,width:Be==="week"?56:32,height:20,rx:"10",fill:K}),n.jsx("text",{x:G,y:"399",textAnchor:"middle",fontSize:"11",fontWeight:"600",fill:"#ffffff",children:Be==="week"?j.month:j.day})]}),ye&&Ce&&n.jsx("g",{style:{pointerEvents:"none"},children:(()=>{const y=Math.min(j.Metr>0?Se:380,j.Pose>0?u:380,j.SAV>0?L:380);let F=G-130/2,ee=y-95-15;return F<5&&(F=5),F+130>795&&(F=665),ee<5&&(ee=y+20),n.jsxs("g",{children:[n.jsx("path",{d:`M ${G-6} ${ee+95} L ${G} ${ee+95+8} L ${G+6} ${ee+95} Z`,fill:i?"#262626":"#ffffff"}),n.jsx("rect",{x:F,y:ee,width:130,height:95,rx:"10",fill:i?"#262626":"#ffffff",stroke:i?"#404040":"#e5e7eb",strokeWidth:"1",style:{filter:"drop-shadow(0 4px 16px rgba(0, 0, 0, 0.2))"}}),n.jsx("rect",{x:F,y:ee,width:130,height:28,rx:"10",fill:K,style:{clipPath:"inset(0 0 50% 0 round 10px)"}}),n.jsx("rect",{x:F,y:ee+14,width:130,height:14,fill:K}),n.jsx("text",{x:F+130/2,y:ee+18,textAnchor:"middle",fontSize:"12",fontWeight:"600",fill:"#ffffff",children:Be==="week"?j.month||`Jour ${j.day}`:j.day?`Jour ${j.day}`:j.month}),n.jsx("circle",{cx:F+15,cy:ee+42,r:"4",fill:"#3b82f6"}),n.jsx("text",{x:F+25,y:ee+46,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"Metr"}),n.jsx("text",{x:F+130-10,y:ee+46,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:"#3b82f6",children:j.cumulMetr!==void 0?j.cumulMetr:j.Metr}),n.jsx("circle",{cx:F+15,cy:ee+60,r:"4",fill:K}),n.jsx("text",{x:F+25,y:ee+64,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"Pose"}),n.jsx("text",{x:F+130-10,y:ee+64,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:K,children:j.cumulPose!==void 0?j.cumulPose:j.Pose}),n.jsx("circle",{cx:F+15,cy:ee+78,r:"4",fill:"#10b981"}),n.jsx("text",{x:F+25,y:ee+82,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"SAV"}),n.jsx("text",{x:F+130-10,y:ee+82,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:"#10b981",children:j.cumulSAV!==void 0?j.cumulSAV:j.SAV})]})})()})]},`points-${ke}`)})]}),n.jsx("line",{x1:"60",y1:"390",x2:"860",y2:"390",stroke:i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",strokeWidth:"1",style:{animation:C?"fadeIn 0.5s ease-out 0.3s both":"none"}})]})})]}),n.jsxs("div",{style:{backgroundColor:bt,borderRadius:"16px",padding:"24px",border:`1px solid ${Ye}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInRight 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column"},onMouseEnter:j=>{j.currentTarget.style.transform="translateY(-4px)",j.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",j.currentTarget.style.borderColor=Ye==="#333333"?"#444444":"#d1d5db"},onMouseLeave:j=>{j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",j.currentTarget.style.borderColor=Ye},children:[n.jsx("div",{style:{marginBottom:"16px"},children:n.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:Ee},children:"Top 10 Clients SAV"})}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",flex:"1"},children:we?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Pe},children:"Chargement..."}):Y.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Pe},children:"Aucun client"}):Y.map((j,ke)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px"},children:[n.jsx("span",{style:{fontSize:"14px",color:Pe},children:j.name}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:500,color:Ee},children:[j.count," ",j.count===1?"rservation":"rservations"]})]},ke))})]}),n.jsxs("div",{style:{backgroundColor:bt,borderRadius:"16px",padding:"24px",border:`1px solid ${Ye}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInLeft 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:j=>{j.currentTarget.style.transform="translateY(-4px)",j.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",j.currentTarget.style.borderColor=Ye==="#333333"?"#444444":"#d1d5db"},onMouseLeave:j=>{j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",j.currentTarget.style.borderColor=Ye},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:Ee},children:"Rservation Rcente"}),n.jsx("button",{onClick:()=>l("/rservation"),style:{fontSize:"12px",color:K,fontWeight:500,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:j=>j.currentTarget.style.color="#ff6b35",onMouseLeave:j=>j.currentTarget.style.color=K,children:"Voir tout"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:R?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Pe},children:"Chargement..."}):N.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Pe},children:"Aucune rservation rcente"}):N.map(j=>{const ke=j.calendarId||"calendar1",H=Qd[ke]||"Pose",he=ft(j.timestamp),G={Pose:{bg:i?`${K}30`:`${K}20`,icon:K},SAV:{bg:i?"#10b98130":"#10b98120",icon:"#10b981"},Metr:{bg:i?"#3b82f630":"#3b82f620",icon:"#3b82f6"}},ye=G[H]||G.Pose;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",borderRadius:"8px",backgroundColor:i?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Ce=>Ce.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f0f0f0",onMouseLeave:Ce=>Ce.currentTarget.style.backgroundColor=i?"#0a0a0a":"#f9fafb",onClick:()=>l("/rservation"),children:[n.jsx("div",{style:{padding:"6px",borderRadius:"6px",backgroundColor:ye.bg,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"14px",height:"14px",color:ye.icon}})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("p",{style:{fontSize:"13px",fontWeight:500,color:Ee,marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[j.name," - ",H]}),n.jsxs("p",{style:{fontSize:"11px",color:Pe,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[j.date," ",j.time&&j.time!=="21h00"?` ${j.time}`:""]})]}),n.jsx("div",{style:{fontSize:"11px",color:Pe,whiteSpace:"nowrap"},children:he})]},j.id)})})]})]})]})})]})}const zn=({Icon:l,title:d,isActive:i,open:c,onClick:p,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:d})]}),yl=({title:l,value:d,change:i,Icon:c,iconBg:p,iconColor:m,cardBg:x,textColor:w,textSecondary:g,borderColor:k})=>n.jsxs("div",{style:{padding:"24px",borderRadius:"16px",border:`1px solid ${k}`,backgroundColor:x,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:M=>{M.currentTarget.style.transform="translateY(-4px) scale(1.02)",M.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",M.currentTarget.style.borderColor=k==="#333333"?"#444444":"#d1d5db"},onMouseLeave:M=>{M.currentTarget.style.transform="translateY(0) scale(1)",M.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",M.currentTarget.style.borderColor=k},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[n.jsx("div",{style:{padding:"8px",backgroundColor:p,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(c,{style:{width:"20px",height:"20px",color:m}})}),n.jsx(dg,{style:{width:"16px",height:"16px",color:"#10b981"}})]}),n.jsx("h3",{style:{fontSize:"14px",fontWeight:500,color:g,marginBottom:"4px"},children:l}),n.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:w,marginBottom:"4px"},children:d}),n.jsx("p",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"},children:i})]});function _g(){const[l,d]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(cs,{}):n.jsx(Hd,{})}function Lg(){const[l,d]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(cs,{}):n.jsx(qd,{})}function Rg(){const[l,d]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(cs,{}):n.jsx(Xd,{})}function Dg(){const[l,d]=h.useState(!1),[i,c]=h.useState(!0);return h.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}c(!1)},[]),i?n.jsx("div",{children:"Loading..."}):l?n.jsx(cs,{}):n.jsx(Zd,{})}const Pg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function zg(){const l=yn(),[d,i]=h.useState({email:"",password:""}),[c,p]=h.useState({email:"",password:""}),[m,x]=h.useState(!1),[w,g]=h.useState(!1),k=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C),M=C=>{const{name:J,value:N}=C.target;i(I=>({...I,[J]:N})),c[J]&&p(I=>({...I,[J]:""}))},W=async C=>{C.preventDefault();const J={email:"",password:""};let N=!0;if(d.email?k(d.email)||(J.email="Please enter a valid email address",N=!1):(J.email="Email is required",N=!1),d.password||(J.password="Password is required",N=!1),!N){p(J);return}x(!0);try{const I=Pg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",R=await fetch(`${I}/users/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.email,password:d.password})}),Q=await R.json();R.ok?(localStorage.setItem("user",JSON.stringify({id:Q.id,name:Q.name,email:Q.email,phone:Q.phone,role:Q.role,isAuthenticated:!0})),l("/")):(p({email:"",password:Q.detail||"Email ou mot de passe incorrect. Veuillez ressayer."}),x(!1))}catch(I){console.error("Login error:",I),p({email:"",password:"Une erreur s'est produite. Veuillez ressayer."}),x(!1)}};return n.jsxs("div",{className:"login-page",children:[n.jsxs("div",{className:"login-background",children:[n.jsx("div",{className:"gradient-orb orb-1"}),n.jsx("div",{className:"gradient-orb orb-2"}),n.jsx("div",{className:"gradient-orb orb-3"})]}),n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("div",{className:"logo-wrapper",children:n.jsx("div",{className:"logo-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),n.jsx("h1",{className:"login-title",children:"Welcome Back"}),n.jsx("p",{className:"login-subtitle",children:"Sign in to your account to continue"})]}),n.jsxs("form",{className:"login-form",onSubmit:W,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:"email",id:"email",name:"email",className:`form-input ${c.email?"input-error":""}`,placeholder:"Enter your email",value:d.email,onChange:M,autoComplete:"email"})]}),c.email&&n.jsx("span",{className:"error-message",children:c.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:w?"text":"password",id:"password",name:"password",className:`form-input ${c.password?"input-error":""}`,placeholder:"Enter your password",value:d.password,onChange:M,autoComplete:"current-password"}),n.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!w),"aria-label":w?"Hide password":"Show password",children:w?n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M1 1L23 23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),c.password&&n.jsx("span",{className:"error-message",children:c.password})]}),n.jsx("button",{type:"submit",className:`login-button ${m?"loading":""}`,disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx("svg",{className:"button-arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]})})]})}const Ig=({isOpen:l,onClose:d,onSubmit:i,booking:c,isDarkMode:p=!0,users:m=[]})=>{const[x,w]=h.useState({calendar_id:Ke.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),[g,k]=h.useState({});h.useEffect(()=>{w(c?{calendar_id:c.calendarId||Ke.calendar1,booking_date:c.date||"",booking_time:c.time&&c.time!=="21h00"?c.time:"",client_name:c.name||"",client_phone:c.phone||"",designer_name:c.designer||"",message:c.message||""}:{calendar_id:Ke.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),k({})},[c,l]);const M=R=>{const{name:Q,value:Y}=R.target;if(Q==="client_phone"){const me=Y.replace(/\D/g,"");w(we=>({...we,[Q]:me}))}else w(me=>({...me,[Q]:Y}));g[Q]&&k(me=>({...me,[Q]:void 0}))},W=()=>{const R={};!c&&!x.calendar_id.trim()&&(R.calendar_id="Le calendrier est requis"),x.booking_date.trim()||(R.booking_date="La date est requise");const Q=c&&c.calendarId||x.calendar_id;return[Ke.calendar2,Ke.calendar3].includes(Q)&&!x.booking_time.trim()&&(R.booking_time="Le crneau horaire est requis pour ce calendrier"),x.client_name.trim()||(R.client_name="Le nom du client est requis"),x.client_phone.trim()?x.client_phone.length<8&&(R.client_phone="Le numro de tlphone doit contenir au moins 8 chiffres"):R.client_phone="Le tlphone est requis",x.designer_name.trim()||(R.designer_name="Le nom du concepteur est requis"),k(R),Object.keys(R).length===0},C=R=>{if(R.preventDefault(),W()){const Q=c&&c.calendarId||x.calendar_id,Y=Q===Ke.calendar1,me={...x,calendar_id:Q,booking_time:Y&&!x.booking_time?"21h00":x.booking_time||""};i(me)}},J=()=>{const R=c&&c.calendarId||x.calendar_id;return R===Ke.calendar2?["9h00","10h30","14h00"]:R===Ke.calendar3?["8-10","10-12","14-16","16-18"]:[]};if(!l)return null;const N=J(),I=N.length>0;return n.jsx("div",{className:`admin-booking-modal-overlay ${p?"dark-mode":"light-mode"}`,onClick:d,children:n.jsxs("div",{className:"admin-booking-modal",onClick:R=>R.stopPropagation(),children:[n.jsxs("div",{className:"admin-booking-modal-header",children:[n.jsx("h2",{children:c?"Modifier la rservation":"Nouvelle rservation"}),n.jsx("button",{className:"close-button",onClick:d,children:""})]}),n.jsxs("form",{onSubmit:C,className:"admin-booking-modal-form",children:[!c&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"calendar_id",children:"Calendrier *"}),n.jsxs("select",{id:"calendar_id",name:"calendar_id",value:x.calendar_id,onChange:M,className:g.calendar_id?"error":"",children:[n.jsx("option",{value:Ke.calendar1,children:"Pose"}),n.jsx("option",{value:Ke.calendar2,children:"SAV"}),n.jsx("option",{value:Ke.calendar3,children:"Metr"})]}),g.calendar_id&&n.jsx("span",{className:"error-message",children:g.calendar_id})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_date",children:"Date *"}),n.jsx("input",{type:"date",id:"booking_date",name:"booking_date",value:x.booking_date,onChange:M,className:g.booking_date?"error":""}),g.booking_date&&n.jsx("span",{className:"error-message",children:g.booking_date})]}),I&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_time",children:"Crneau horaire *"}),n.jsxs("select",{id:"booking_time",name:"booking_time",value:x.booking_time,onChange:M,className:g.booking_time?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un crneau"}),N.map(R=>n.jsx("option",{value:R,children:R},R))]}),g.booking_time&&n.jsx("span",{className:"error-message",children:g.booking_time})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"client_name",name:"client_name",value:x.client_name,onChange:M,className:g.client_name?"error":""}),g.client_name&&n.jsx("span",{className:"error-message",children:g.client_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"client_phone",name:"client_phone",value:x.client_phone,onChange:M,className:g.client_phone?"error":"",placeholder:"Ex: 0612345678"}),g.client_phone&&n.jsx("span",{className:"error-message",children:g.client_phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer_name",children:"Nom du concepteur *"}),m.length>0?n.jsxs("select",{id:"designer_name",name:"designer_name",value:x.designer_name,onChange:M,className:g.designer_name?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),m.filter(R=>R.role!=="admin").map(R=>n.jsxs("option",{value:R.name,children:[R.name," (Technicien)"]},R.id))]}):n.jsx("input",{type:"text",id:"designer_name",name:"designer_name",value:x.designer_name,onChange:M,className:g.designer_name?"error":""}),g.designer_name&&n.jsx("span",{className:"error-message",children:g.designer_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message / Commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:x.message,onChange:M,rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:d,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:c?"Modifier":"Crer"})]})]})]})})};function Ag(){const l=yn(),d=un(),[i,c]=h.useState([]),[p,m]=h.useState([]),[x,w]=h.useState(!0),[g,k]=h.useState("all"),[M,W]=h.useState(""),[C,J]=h.useState("all"),[N,I]=h.useState(()=>{const T=localStorage.getItem("darkMode");return T?JSON.parse(T):!0}),[R,Q]=h.useState(!0),[Y,me]=h.useState(!1),[we,Ae]=h.useState(!1),[We,Le]=h.useState(!1),[pe,Ve]=h.useState(null),[ge,X]=h.useState(!0),[ae,Ie]=h.useState(!1),[Te,Ze]=h.useState(0),[Qe,ce]=h.useState([]),[$,q]=h.useState(null),[V,S]=h.useState(!1),[_,fe]=h.useState(null),[je,Z]=h.useState([]);h.useEffect(()=>{const T=localStorage.getItem("user");if(!T){l("/login");return}const Me=JSON.parse(T);q(Me),S(Me.role==="admin"),Re(),Me.role==="admin"&&Ne()},[l]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(N)),document.documentElement.setAttribute("data-theme",N?"dark":"light")},[N]),h.useEffect(()=>{const T=()=>{Ae(window.innerWidth<=768),window.innerWidth>768&&me(!1)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),h.useEffect(()=>{me(!1)},[d.pathname]),h.useEffect(()=>(Y?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[Y]),h.useEffect(()=>{ut()},[i,g,M,C,$,V]);const P=async()=>{try{const T=await Pa();ce(T),Ze(T.length)}catch(T){console.error("Error loading notifications:",T)}};h.useEffect(()=>{P();const T=setInterval(P,6e4),Me=()=>P();return window.addEventListener("notificationRefresh",Me),()=>{clearInterval(T),window.removeEventListener("notificationRefresh",Me)}},[i]),h.useEffect(()=>{const T=Me=>{const ft=Me.target;ae&&!ft.closest("[data-notifications-dropdown]")&&Ie(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[ae]);const Re=async()=>{w(!0);try{const Me=Object.values(Ke).map(xe=>zr(xe).then(K=>({calendarId:xe,bookings:K}))),ft=await Promise.all(Me),pt=[];ft.forEach(({calendarId:xe,bookings:K})=>{K.forEach(et=>{pt.push({...et,calendarId:xe})})}),pt.sort((xe,K)=>{const et=K.date.localeCompare(xe.date);return et!==0?et:(K.time||"").localeCompare(xe.time||"")}),c(pt)}catch(T){console.error("Error loading bookings:",T),alert("Erreur lors du chargement des rservations")}finally{w(!1)}},Ne=async()=>{try{const T=await Ir();Z(T)}catch(T){console.error("Error loading users:",T)}},Ue=T=>{if(!$)return!1;if(V)return!0;const Me=$.name?.toLowerCase().trim()||"",ft=$.email?.toLowerCase().trim()||"",pt=$.phone?.trim()||"",xe=Me&&T.name?.toLowerCase().trim()===Me,K=pt&&T.phone?.trim()===pt,et=Me&&T.designer?.toLowerCase().trim()===Me,_t=ft&&(T.name?.toLowerCase().includes(ft)||T.designer?.toLowerCase().includes(ft));return xe||K||et||_t||!1},ut=()=>{let T=[...i];if(!V&&$&&(T=T.filter(et=>Ue(et))),g!=="all"&&(T=T.filter(et=>et.calendarId===g)),M){const et=M.toLowerCase();T=T.filter(_t=>_t.name.toLowerCase().includes(et)||_t.phone.includes(et)||_t.designer.toLowerCase().includes(et))}const Me=new Date;Me.setHours(0,0,0,0);const ft=Me.getFullYear(),pt=String(Me.getMonth()+1).padStart(2,"0"),xe=String(Me.getDate()).padStart(2,"0"),K=`${ft}-${pt}-${xe}`;C==="today"?T=T.filter(et=>et.date===K):C==="future"?T=T.filter(et=>{const _t=new Date(et.date+"T00:00:00");return _t.setHours(0,0,0,0),_t>=Me}):C==="past"&&(T=T.filter(et=>{const _t=new Date(et.date+"T00:00:00");return _t.setHours(0,0,0,0),_t<Me})),m(T)},qe=T=>new Date(T+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),it=T=>new Date(T).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),kt=T=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[T]||T,U=()=>{I(!N)},le=()=>{localStorage.removeItem("user"),l("/")},[Je,zt]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const T=()=>{const ft=localStorage.getItem("accentColor");ft&&(zt(ft),document.documentElement.style.setProperty("--accent-color",ft))};window.addEventListener("settingsUpdated",T),window.addEventListener("storage",T);const Me=localStorage.getItem("accentColor");return Me&&(zt(Me),document.documentElement.style.setProperty("--accent-color",Me)),()=>{window.removeEventListener("settingsUpdated",T),window.removeEventListener("storage",T)}},[]);const Be=N?"#000000":"#f5f5f5",dt=N?"#ffffff":"#111827",rt=N?"#9ca3af":"#6b7280",xt=N?"#333333":"#e5e7eb",Rt=T=>{if(!V&&!Ue(T)){alert("Vous ne pouvez modifier que vos propres rservations.");return}Ve(T),Le(!0)},vn=async T=>{if(!V&&!Ue(T)){alert("Vous ne pouvez supprimer que vos propres rservations.");return}if(window.confirm(`tes-vous sr de vouloir supprimer la rservation de ${T.name} pour le ${qe(T.date)} ?`))try{await qo(T.id),alert("Rservation supprime avec succs"),await Re(),P()}catch(Me){console.error("Error deleting booking:",Me),alert("Erreur lors de la suppression de la rservation")}},Ft=async T=>{try{if(pe){const Me=pe.calendarId||T.calendar_id,ft=Me===Ke.calendar1,pt={calendar_id:Me,booking_date:T.booking_date,booking_time:ft&&!T.booking_time?"21h00":T.booking_time||"",client_name:T.client_name,client_phone:T.client_phone,designer_name:T.designer_name,message:T.message||""};await Gd(pe.id,pt),alert("Rservation modifie avec succs")}else{const Me={name:T.client_name,phone:T.client_phone,designer:T.designer_name,message:T.message,date:T.booking_date,selectedDate:new Date(T.booking_date),timeSlot:T.booking_time||void 0};await Zo(Me,T.calendar_id),alert("Rservation cre avec succs")}Le(!1),Ve(null),await Re(),P()}catch(Me){console.error("Error saving booking:",Me);const ft=Me?.message||"Erreur lors de l'enregistrement de la rservation";alert(` ${ft}`)}};return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:Be},children:[Y&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>me(!1),style:{display:we?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),we&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:N?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${xt}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>me(!Y),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:dt,zIndex:1001,position:"relative"},"aria-label":Y?"Fermer le menu":"Ouvrir le menu",children:Y?n.jsx(as,{size:24}):n.jsx(ls,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${Je} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:dt},children:"Rservations"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:U,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:rt,cursor:"pointer"},children:N?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${Y?"mobile-open":""}`,style:{position:we?"fixed":"sticky",top:we?"60px":0,left:0,height:we?"calc(100vh - 60px)":"100vh",width:we?"280px":R?"256px":"64px",borderRight:`1px solid ${xt}`,backgroundColor:N?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:we?Y?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${xt}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Je} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),R&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:dt},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:rt},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(In,{Icon:ss,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:R,onClick:()=>l("/dashboard"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:os,title:"Rservation",isActive:d.pathname==="/rservation",open:R,onClick:()=>l("/rservation"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:io,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:R,onClick:()=>l("/jours-feries"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:ao,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:R,onClick:()=>l("/utilisateurs"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt}),n.jsxs("button",{onClick:()=>X(!ge),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:rt,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:T=>{T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",T.currentTarget.style.color=dt},onMouseLeave:T=>{T.currentTarget.style.backgroundColor="transparent",T.currentTarget.style.color=rt},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),R&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),ge?n.jsx(is,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ns,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),ge&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(In,{Icon:nt,title:"Metr",isActive:d.pathname==="/metre",open:R,onClick:()=>l("/metre"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:nt,title:"Pose",isActive:d.pathname==="/pose",open:R,onClick:()=>l("/pose"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:nt,title:"SAV",isActive:d.pathname==="/sav",open:R,onClick:()=>l("/sav"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt})]})]}),R&&n.jsxs("div",{style:{borderTop:`1px solid ${xt}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:rt,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(In,{Icon:N?Xt:qt,title:N?"Mode clair":"Mode sombre",isActive:!1,open:R,onClick:U,isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt}),n.jsx(In,{Icon:Dr,title:"Paramtres",isActive:d.pathname==="/parametres",open:R,onClick:()=>l("/parametres"),isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt})]}),n.jsx("div",{style:{borderTop:`1px solid ${xt}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(In,{Icon:er,title:"Dconnexion",isActive:!1,open:R,onClick:le,isDarkMode:N,orangeColor:Je,textColor:dt,textSecondary:rt})}),n.jsxs("button",{onClick:()=>Q(!R),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${xt}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:rt,transition:"background-color 0.2s",height:"48px"},onMouseEnter:T=>T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",onMouseLeave:T=>T.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(rs,{style:{width:"16px",height:"16px",transform:R?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),R&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:Be,paddingTop:we?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${N?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:V?"Administration - Rservations":"Mes Rservations"}),n.jsx("p",{children:V?"Gestion des rservations":"Vos rservations personnelles"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>Ie(!ae),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:T=>{T.currentTarget.style.color=N?"#ffffff":"#111827",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:T=>{T.currentTarget.style.color=N?"#9ca3af":"#6b7280",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:[n.jsx(Pr,{style:{width:"20px",height:"20px"}}),Te>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:Te>99?"99+":Te})]}),ae&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${N?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:N?"#ffffff":"#111827"},children:"Notifications"}),Te>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[Te," nouvelle",Te>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:Qe.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:N?"#9ca3af":"#6b7280"},children:"Aucune notification"}):Qe.slice(0,10).map(T=>{const Me=za(T.timestamp),pt=(()=>{if(T.type==="booking"){const xe=T.data,K=En(xe.calendarId);return{subtitle:`${xe.name} - ${K}`,details:`${qe(xe.date)} ${xe.time&&xe.time!=="21h00"?` ${xe.time}`:""}`,onClick:()=>{Ie(!1),l("/rservation")}}}else if(T.type==="holiday"){const xe=T.data;return{subtitle:`${En(xe.calendarId)} - ${qe(xe.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{Ie(!1),l("/jours-feries")}}}else if(T.type==="user"){const xe=T.data;return{subtitle:`${xe.name} (${kt(xe.role)})`,details:xe.email,onClick:()=>{Ie(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:pt.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${N?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:xe=>{xe.currentTarget.style.backgroundColor=N?"#2a2a2a":"#f9fafb"},onMouseLeave:xe=>{xe.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:N?"#ffffff":"#111827",marginBottom:"4px"},children:T.title}),n.jsx("div",{style:{fontSize:"13px",color:N?"#9ca3af":"#6b7280",marginBottom:"4px"},children:pt.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:N?"#6b7280":"#9ca3af"},children:pt.details})]}),n.jsx("div",{style:{fontSize:"11px",color:N?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:Me})]})},T.id)})}),Qe.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${N?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{Ie(!1),Qe[0]?.type==="booking"?l("/rservation"):Qe[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:U,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${N?"#333333":"#e5e7eb"}`,backgroundColor:N?"#1a1a1a":"#ffffff",color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:T=>{T.currentTarget.style.color=N?"#ffffff":"#111827",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:T=>{T.currentTarget.style.color=N?"#9ca3af":"#6b7280",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:N?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:le,style:{padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:T=>{T.currentTarget.style.color=N?"#ffffff":"#111827",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:T=>{T.currentTarget.style.color=N?"#9ca3af":"#6b7280",T.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:n.jsx(er,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"calendar-filter",children:"Calendrier:"}),n.jsxs("select",{id:"calendar-filter",value:g,onChange:T=>k(T.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:Ke.calendar1,children:"Pose"}),n.jsx("option",{value:Ke.calendar2,children:"SAV"}),n.jsx("option",{value:Ke.calendar3,children:"Metr"})]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"date-filter",children:"Date:"}),n.jsxs("select",{id:"date-filter",value:C,onChange:T=>J(T.target.value),children:[n.jsx("option",{value:"all",children:"Toutes les dates"}),n.jsx("option",{value:"today",children:"Aujourd'hui"}),n.jsx("option",{value:"future",children:"Futures"}),n.jsx("option",{value:"past",children:"Passes"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, tlphone, concepteur...",value:M,onChange:T=>W(T.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:Re,children:[n.jsx($a,{className:"refresh-icon"}),"Actualiser"]})]}),n.jsx("main",{className:"admin-main",children:x?n.jsx("div",{className:"loading-message",children:"Chargement des rservations..."}):p.length===0?n.jsx("div",{className:"no-bookings",children:"Aucune rservation trouve"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",p.length," rservation(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Heure"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Concepteur"}),n.jsx("th",{children:"Message"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:p.map(T=>n.jsxs("tr",{children:[n.jsx("td",{children:qe(T.date)}),n.jsx("td",{className:"time-slot-cell",children:T.time&&T.time!=="21h00"?T.time:"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:En(T.calendarId)})}),n.jsx("td",{children:T.name}),n.jsx("td",{children:T.phone}),n.jsx("td",{children:T.designer}),n.jsx("td",{className:"message-cell",children:T.message||n.jsx("span",{className:"no-message",children:"-"})}),n.jsx("td",{children:it(T.timestamp)}),n.jsx("td",{className:"actions-cell",children:V||Ue(T)?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"edit-button",onClick:()=>Rt(T),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>vn(T),title:"Supprimer",children:""})]}):n.jsx("span",{style:{color:N?"#6b7280":"#9ca3af",fontSize:"12px"},children:"Non autoris"})})]},T.id))})]})})]})}),n.jsx(Ig,{isOpen:We,onClose:()=>{Le(!1),Ve(null)},onSubmit:Ft,booking:pe,isDarkMode:N,users:V?je:[]}),_&&n.jsx("div",{className:`admin-booking-modal-overlay ${N?"dark-mode":"light-mode"}`,onClick:()=>fe(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{className:"admin-booking-modal",onClick:T=>T.stopPropagation(),style:{backgroundColor:N?"#1a1a1a":"#ffffff",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:N?"#ffffff":"#111827"},children:"Dtails de la rservation"}),n.jsx("button",{onClick:()=>fe(null),style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:N?"#9ca3af":"#6b7280",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Date:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:qe(_.date)})]}),_.time&&_.time!=="21h00"&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Heure:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.time})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Calendrier:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:En(_.calendarId)})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Client:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.name})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Tlphone:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.phone})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Concepteur:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:_.designer})]}),_.message&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Message:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827",whiteSpace:"pre-wrap"},children:_.message})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:N?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Cr le:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:N?"#ffffff":"#111827"},children:it(_.timestamp)})]})]}),n.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:n.jsx("button",{onClick:()=>fe(null),style:{padding:"8px 16px",borderRadius:"8px",border:`1px solid ${N?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:N?"#ffffff":"#111827",cursor:"pointer",fontSize:"14px"},children:"Fermer"})})]})})]})})]})}const In=({Icon:l,title:d,isActive:i,open:c,onClick:p,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:d})]}),Bg=({isOpen:l,onClose:d,onSubmit:i,user:c,isDarkMode:p=!0})=>{const[m,x]=h.useState({name:"",email:"",phone:"",role:"technicien",password:""}),[w,g]=h.useState(""),[k,M]=h.useState({});h.useEffect(()=>{c?(x({name:c.name||"",email:c.email||"",phone:c.phone||"",role:c.role||"technicien",password:""}),g("")):(x({name:"",email:"",phone:"",role:"technicien",password:""}),g("")),M({})},[c,l]);const W=I=>{const{name:R,value:Q}=I.target;if(R==="confirmPassword"){g(Q),k.confirmPassword&&M(Y=>({...Y,confirmPassword:void 0}));return}if(R==="phone"){const Y=Q.replace(/\D/g,"");x(me=>({...me,[R]:Y}))}else x(Y=>({...Y,[R]:Q}));k[R]&&M(Y=>({...Y,[R]:void 0})),R==="password"&&k.confirmPassword&&M(Y=>({...Y,confirmPassword:void 0}))},C=()=>{const I={};return m.name.trim()||(I.name="Le nom est requis"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(I.email="L'email n'est pas valide"):I.email="L'email est requis",m.phone.trim()?m.phone.length<8&&(I.phone="Le numro de tlphone doit contenir au moins 8 chiffres"):I.phone="Le tlphone est requis",m.role||(I.role="Le rle est requis"),!c&&!m.password.trim()?I.password="Le mot de passe est requis":!c&&m.password.length<6&&(I.password="Le mot de passe doit contenir au moins 6 caractres"),c?m.password.trim()&&(w.trim()?m.password!==w&&(I.confirmPassword="Les mots de passe ne correspondent pas"):I.confirmPassword="Veuillez confirmer le mot de passe"):w.trim()?m.password!==w&&(I.confirmPassword="Les mots de passe ne correspondent pas"):I.confirmPassword="Veuillez confirmer le mot de passe",M(I),Object.keys(I).length===0},J=I=>{I.preventDefault(),C()&&i({...m,confirm_password:w})};if(!l)return null;const N=I=>{I.target===I.currentTarget&&d()};return n.jsx("div",{className:`user-modal-overlay ${p?"dark-mode":"light-mode"}`,onClick:N,children:n.jsxs("div",{className:"user-modal",onClick:I=>I.stopPropagation(),children:[n.jsxs("div",{className:"user-modal-header",children:[n.jsx("h2",{children:c?"Modifier l'utilisateur":"Nouvel utilisateur"}),n.jsx("button",{className:"close-button",onClick:d,children:""})]}),n.jsxs("form",{onSubmit:J,className:"user-modal-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:W,className:k.name?"error":"",placeholder:"Ex: Jean Dupont"}),k.name&&n.jsx("span",{className:"error-message",children:k.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:m.email,onChange:W,className:k.email?"error":"",placeholder:"Ex: jean.dupont@example.com"}),k.email&&n.jsx("span",{className:"error-message",children:k.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:W,className:k.phone?"error":"",placeholder:"Ex: 0612345678"}),k.phone&&n.jsx("span",{className:"error-message",children:k.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"role",children:"Rle *"}),n.jsxs("select",{id:"role",name:"role",value:m.role,onChange:W,className:k.role?"error":"",children:[n.jsx("option",{value:"technicien",children:"Technicien"}),n.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&n.jsx("span",{className:"error-message",children:k.role})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"password",children:["Mot de passe ",!c&&"*",c&&n.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"normal",color:"#999"},children:"(Laisser vide pour ne pas modifier)"})]}),n.jsx("input",{type:"password",id:"password",name:"password",value:m.password,onChange:W,className:k.password?"error":"",placeholder:c?"Nouveau mot de passe (optionnel)":"Mot de passe"}),k.password&&n.jsx("span",{className:"error-message",children:k.password})]}),(!c||m.password.trim())&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe *"}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:w,onChange:W,className:k.confirmPassword?"error":"",placeholder:"Confirmer le mot de passe"}),k.confirmPassword&&n.jsx("span",{className:"error-message",children:k.confirmPassword})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:d,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:c?"Modifier":"Crer"})]})]})]})})};function Fg(){const l=yn(),d=un(),[i,c]=h.useState([]),[p,m]=h.useState([]),[x,w]=h.useState(!0),[g,k]=h.useState("all"),[M,W]=h.useState(""),[C,J]=h.useState(()=>{const U=localStorage.getItem("darkMode");return U?JSON.parse(U):!0}),[N,I]=h.useState(!0),[R,Q]=h.useState(!1),[Y,me]=h.useState(!1),[we,Ae]=h.useState(!0),[We,Le]=h.useState(!1),[pe,Ve]=h.useState(0),[ge,X]=h.useState([]),[ae,Ie]=h.useState(!1),[Te,Ze]=h.useState(null);h.useEffect(()=>{const U=localStorage.getItem("user");if(!U){l("/login");return}if(JSON.parse(U).role!=="admin"){l("/");return}ce()},[l]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(C)),document.documentElement.setAttribute("data-theme",C?"dark":"light")},[C]),h.useEffect(()=>{const U=()=>{me(window.innerWidth<=768),window.innerWidth>768&&Q(!1)};return U(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),h.useEffect(()=>{Q(!1)},[d.pathname]),h.useEffect(()=>(R?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[R]),h.useEffect(()=>{$()},[i,g,M]);const Qe=async()=>{try{const U=await Pa(),le=i.map(Be=>({id:Be.id,name:Be.name,email:Be.email,role:Be.role,createdAt:Be.created_at})),Je=Tg(le),zt=[...U,...Je].sort((Be,dt)=>dt.timestamp-Be.timestamp);X(zt),Ve(zt.length)}catch(U){console.error("Error loading notifications:",U)}};h.useEffect(()=>{Qe();const U=setInterval(Qe,6e4),le=()=>Qe();return window.addEventListener("notificationRefresh",le),()=>{clearInterval(U),window.removeEventListener("notificationRefresh",le)}},[i]),h.useEffect(()=>{const U=le=>{const Je=le.target;We&&!Je.closest("[data-notifications-dropdown]")&&Le(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[We]);const ce=async()=>{w(!0);try{const U=await Ir(g!=="all"?g:void 0);c(U)}catch(U){console.error("Error loading users:",U);const le=U instanceof Error?U.message:"Erreur lors du chargement des utilisateurs";alert(`Erreur: ${le}`)}finally{w(!1)}},$=()=>{let U=[...i];if(g!=="all"&&(U=U.filter(le=>le.role===g)),M){const le=M.toLowerCase();U=U.filter(Je=>Je.name.toLowerCase().includes(le)||Je.email.toLowerCase().includes(le)||Je.phone&&Je.phone.includes(le))}m(U)},q=U=>new Date(U).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),V=U=>({admin:"Administrateur",technicien:"Technicien"})[U]||U,S=U=>({admin:"#fa541c",technicien:"#17a2b8"})[U]||"#6c757d",_=()=>{J(!C)},fe=()=>{localStorage.removeItem("user"),l("/")},je=()=>{Ze(null),Ie(!0)},Z=U=>{Ze(U),Ie(!0)},P=async U=>{if(window.confirm(`tes-vous sr de vouloir supprimer l'utilisateur ${U.name} (${U.email}) ?`))try{await $g(U.id),alert(" Utilisateur supprim avec succs"),await ce()}catch(le){console.error("Error deleting user:",le);const Je=le?.message||"Erreur lors de la suppression de l'utilisateur";alert(` ${Je}`)}},Re=async U=>{try{if(Te){const le={name:U.name,email:U.email,phone:U.phone,role:U.role};U.password&&(le.password=U.password,le.confirm_password=U.confirm_password),await Mg(Te.id,le),alert(" Utilisateur modifi avec succs")}else await Eg(U),alert(" Utilisateur cr avec succs");Ie(!1),Ze(null),await ce()}catch(le){console.error("Error saving user:",le);const Je=le?.message||"Erreur lors de l'enregistrement de l'utilisateur";alert(` ${Je}`)}},[Ne,Ue]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const U=()=>{const Je=localStorage.getItem("accentColor");Je&&(Ue(Je),document.documentElement.style.setProperty("--accent-color",Je))};window.addEventListener("settingsUpdated",U),window.addEventListener("storage",U);const le=localStorage.getItem("accentColor");return le&&(Ue(le),document.documentElement.style.setProperty("--accent-color",le)),()=>{window.removeEventListener("settingsUpdated",U),window.removeEventListener("storage",U)}},[]);const ut=C?"#000000":"#f5f5f5",qe=C?"#ffffff":"#111827",it=C?"#9ca3af":"#6b7280",kt=C?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:ut},children:[R&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>Q(!1),style:{display:Y?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),Y&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:C?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${kt}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>Q(!R),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:qe,zIndex:1001,position:"relative"},"aria-label":R?"Fermer le menu":"Ouvrir le menu",children:R?n.jsx(as,{size:24}):n.jsx(ls,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${Ne} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:qe},children:"Utilisateurs"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:_,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:it,cursor:"pointer"},children:C?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${R?"mobile-open":""}`,style:{position:Y?"fixed":"sticky",top:Y?"60px":0,left:0,height:Y?"calc(100vh - 60px)":"100vh",width:Y?"280px":N?"256px":"64px",borderRight:`1px solid ${kt}`,backgroundColor:C?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:Y?R?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${kt}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Ne} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),N&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:qe},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:it},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(An,{Icon:ss,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:N,onClick:()=>l("/dashboard"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it}),n.jsx(An,{Icon:os,title:"Rservation",isActive:d.pathname==="/rservation",open:N,onClick:()=>l("/rservation"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it}),n.jsx(An,{Icon:io,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:N,onClick:()=>l("/jours-feries"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it}),n.jsx(An,{Icon:ao,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:N,onClick:()=>l("/utilisateurs"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it}),n.jsxs("button",{onClick:()=>Ae(!we),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:it,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:U=>{U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb",U.currentTarget.style.color=qe},onMouseLeave:U=>{U.currentTarget.style.backgroundColor="transparent",U.currentTarget.style.color=it},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),N&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),we?n.jsx(is,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ns,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),we&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(An,{Icon:nt,title:"Metr",isActive:d.pathname==="/metre",open:N,onClick:()=>l("/metre"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it}),n.jsx(An,{Icon:nt,title:"Pose",isActive:d.pathname==="/pose",open:N,onClick:()=>l("/pose"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it}),n.jsx(An,{Icon:nt,title:"SAV",isActive:d.pathname==="/sav",open:N,onClick:()=>l("/sav"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it})]})]}),N&&n.jsxs("div",{style:{borderTop:`1px solid ${kt}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:it,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(An,{Icon:C?Xt:qt,title:C?"Mode clair":"Mode sombre",isActive:!1,open:N,onClick:_,isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it}),n.jsx(An,{Icon:Dr,title:"Paramtres",isActive:d.pathname==="/parametres",open:N,onClick:()=>l("/parametres"),isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it})]}),n.jsx("div",{style:{borderTop:`1px solid ${kt}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(An,{Icon:er,title:"Dconnexion",isActive:!1,open:N,onClick:fe,isDarkMode:C,orangeColor:Ne,textColor:qe,textSecondary:it})}),n.jsxs("button",{onClick:()=>I(!N),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${kt}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:it,transition:"background-color 0.2s",height:"48px"},onMouseEnter:U=>U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb",onMouseLeave:U=>U.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(rs,{style:{width:"16px",height:"16px",transform:N?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),N&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:ut,paddingTop:Y?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${C?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Utilisateurs"}),n.jsx("p",{children:"Gestion des utilisateurs"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>Le(!We),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:C?"#1a1a1a":"#ffffff",border:`1px solid ${C?"#333333":"#e5e7eb"}`,color:C?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:U=>{U.currentTarget.style.color=C?"#ffffff":"#111827",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb"},onMouseLeave:U=>{U.currentTarget.style.color=C?"#9ca3af":"#6b7280",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#ffffff"},children:[n.jsx(Pr,{style:{width:"20px",height:"20px"}}),pe>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:pe>99?"99+":pe})]}),We&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:C?"#1a1a1a":"#ffffff",border:`1px solid ${C?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${C?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:C?"#ffffff":"#111827"},children:"Notifications"}),pe>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[pe," nouvelle",pe>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:ge.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:C?"#9ca3af":"#6b7280"},children:"Aucune notification"}):ge.slice(0,10).map(U=>{const le=za(U.timestamp),zt=(()=>{if(U.type==="booking"){const Be=U.data,dt=En(Be.calendarId),rt=xt=>new Date(xt+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return{subtitle:`${Be.name} - ${dt}`,details:`${rt(Be.date)} ${Be.time&&Be.time!=="21h00"?` ${Be.time}`:""}`,onClick:()=>{Le(!1),l("/rservation")}}}else if(U.type==="holiday"){const Be=U.data;return{subtitle:`${En(Be.calendarId)} - ${(xt=>new Date(xt+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(Be.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{Le(!1),l("/jours-feries")}}}else if(U.type==="user"){const Be=U.data;return{subtitle:`${Be.name} (${V(Be.role)})`,details:Be.email,onClick:()=>{Le(!1)}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:zt.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${C?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Be=>{Be.currentTarget.style.backgroundColor=C?"#2a2a2a":"#f9fafb"},onMouseLeave:Be=>{Be.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:C?"#ffffff":"#111827",marginBottom:"4px"},children:U.title}),n.jsx("div",{style:{fontSize:"13px",color:C?"#9ca3af":"#6b7280",marginBottom:"4px"},children:zt.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:C?"#6b7280":"#9ca3af"},children:zt.details})]}),n.jsx("div",{style:{fontSize:"11px",color:C?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:le})]})},U.id)})}),ge.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${C?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{Le(!1),ge[0]?.type==="booking"?l("/rservation"):ge[0]?.type==="holiday"&&l("/jours-feries")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:_,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${C?"#333333":"#e5e7eb"}`,backgroundColor:C?"#1a1a1a":"#ffffff",color:C?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:U=>{U.currentTarget.style.color=C?"#ffffff":"#111827",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb"},onMouseLeave:U=>{U.currentTarget.style.color=C?"#9ca3af":"#6b7280",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#ffffff"},children:C?n.jsx(Xt,{style:{width:"16px",height:"16px"}}):n.jsx(qt,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:fe,style:{padding:"8px",borderRadius:"8px",backgroundColor:C?"#1a1a1a":"#ffffff",border:`1px solid ${C?"#333333":"#e5e7eb"}`,color:C?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:U=>{U.currentTarget.style.color=C?"#ffffff":"#111827",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#f9fafb"},onMouseLeave:U=>{U.currentTarget.style.color=C?"#9ca3af":"#6b7280",U.currentTarget.style.backgroundColor=C?"#1a1a1a":"#ffffff"},children:n.jsx(er,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"role-filter",children:"Rle:"}),n.jsxs("select",{id:"role-filter",value:g,onChange:U=>k(U.target.value),children:[n.jsx("option",{value:"all",children:"Tous les rles"}),n.jsx("option",{value:"admin",children:"Administrateur"}),n.jsx("option",{value:"technicien",children:"Technicien"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, email, tlphone...",value:M,onChange:U=>W(U.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:ce,children:[n.jsx($a,{className:"refresh-icon"}),"Actualiser"]}),n.jsxs("button",{className:"create-button",onClick:je,children:[n.jsx(Vd,{className:"create-icon"}),"Nouvel utilisateur"]})]}),n.jsx("main",{className:"admin-main",children:x?n.jsx("div",{className:"loading-message",children:"Chargement des utilisateurs..."}):p.length===0?n.jsx("div",{className:"no-bookings",children:"Aucun utilisateur trouv"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",p.length," utilisateur(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Rle"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:p.map(U=>n.jsxs("tr",{children:[n.jsx("td",{children:U.name}),n.jsx("td",{children:U.email}),n.jsx("td",{children:U.phone||"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",style:{backgroundColor:S(U.role)},children:V(U.role)})}),n.jsx("td",{children:q(U.created_at)}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>Z(U),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>P(U),title:"Supprimer",children:""})]})]},U.id))})]})})]})}),n.jsx(Bg,{isOpen:ae,onClose:()=>{Ie(!1),Ze(null)},onSubmit:Re,user:Te,isDarkMode:C})]})})]})}const An=({Icon:l,title:d,isActive:i,open:c,onClick:p,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:d})]}),Bn=({Icon:l,title:d,isActive:i,open:c,onClick:p,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:d})]});function Og(){const l=yn(),d=un(),[i,c]=h.useState(()=>{const P=localStorage.getItem("darkMode");return P?JSON.parse(P):!0}),[p,m]=h.useState(!0),[x,w]=h.useState(!1),[g,k]=h.useState(!1),[M,W]=h.useState(!0),[C,J]=h.useState("general"),[N,I]=h.useState(!1),[R,Q]=h.useState("idle"),[Y,me]=h.useState({email:!0,push:!1,sms:!1}),[we,Ae]=h.useState("fr"),[We,Le]=h.useState("Europe/Paris"),[pe,Ve]=h.useState(!0),[ge,X]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light")},[i]),h.useEffect(()=>{localStorage.setItem("accentColor",ge),document.documentElement.style.setProperty("--accent-color",ge)},[ge]),h.useEffect(()=>{const P=localStorage.getItem("user");if(!P){l("/login");return}if(JSON.parse(P).role!=="admin"){l("/");return}},[l]),h.useEffect(()=>{const P=()=>{k(window.innerWidth<=768),window.innerWidth>768&&w(!1)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),h.useEffect(()=>{w(!1)},[d.pathname]),h.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[x]);const ae=()=>{c(!i)},Ie=()=>{localStorage.removeItem("user"),l("/")},Te=async()=>{I(!0),Q("idle");try{localStorage.setItem("accentColor",ge),localStorage.setItem("darkMode",JSON.stringify(i)),localStorage.setItem("notifications",JSON.stringify(Y)),localStorage.setItem("language",we),localStorage.setItem("timezone",We),localStorage.setItem("autoSave",JSON.stringify(pe)),document.documentElement.style.setProperty("--accent-color",ge),window.dispatchEvent(new Event("settingsUpdated")),await new Promise(P=>setTimeout(P,500)),I(!1),Q("success"),setTimeout(()=>{Q("idle")},3e3)}catch(P){console.error("Error saving settings:",P),I(!1),Q("error"),setTimeout(()=>{Q("idle")},3e3)}},Ze=()=>{alert("Fonctionnalit d'export  venir")},Qe=()=>{alert("Fonctionnalit d'import  venir")},ce=()=>{window.confirm("tes-vous sr de vouloir rinitialiser tous les paramtres ?")&&(me({email:!0,push:!1,sms:!1}),Ae("fr"),Le("Europe/Paris"),Ve(!0),alert("Paramtres rinitialiss"))},$=ge,q=i?"#000000":"#f5f5f5",V=i?"#ffffff":"#111827",S=i?"#9ca3af":"#6b7280",_=i?"#333333":"#e5e7eb",fe=i?"#111111":"#ffffff",je=[{name:"Orange",value:"#fa541c",hex:"#fa541c"},{name:"Bleu",value:"#1890ff",hex:"#1890ff"},{name:"Vert",value:"#52c41a",hex:"#52c41a"},{name:"Rouge",value:"#f5222d",hex:"#f5222d"},{name:"Violet",value:"#722ed1",hex:"#722ed1"},{name:"Rose",value:"#eb2f96",hex:"#eb2f96"},{name:"Cyan",value:"#13c2c2",hex:"#13c2c2"},{name:"Jaune",value:"#faad14",hex:"#faad14"},{name:"Indigo",value:"#2f54eb",hex:"#2f54eb"},{name:"Turquoise",value:"#36cfc9",hex:"#36cfc9"},{name:"Magenta",value:"#f759ab",hex:"#f759ab"},{name:"Lime",value:"#a0d911",hex:"#a0d911"}],Z=[{id:"general",label:"Gnral",icon:Dr},{id:"notifications",label:"Notifications",icon:Pr},{id:"appearance",label:"Apparence",icon:xa},{id:"data",label:"Donnes",icon:ga}];return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:q},children:[x&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>w(!1),style:{display:g?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),g&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${_}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>w(!x),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:V,zIndex:1001,position:"relative"},"aria-label":x?"Fermer le menu":"Ouvrir le menu",children:x?n.jsx(as,{size:24}):n.jsx(ls,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${ge} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:V},children:"Paramtres"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:ae,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:S,cursor:"pointer"},children:i?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${x?"mobile-open":""}`,style:{position:g?"fixed":"sticky",top:g?"60px":0,left:0,height:g?"calc(100vh - 60px)":"100vh",width:g?"280px":p?"256px":"64px",borderRight:`1px solid ${_}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:g?x?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${_}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${ge} 0%, ${ge}dd 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${ge}40`},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:V},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:S},children:"Paramtres"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Bn,{Icon:ss,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:p,onClick:()=>l("/dashboard"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:os,title:"Rservation",isActive:d.pathname==="/rservation",open:p,onClick:()=>l("/rservation"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:io,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:p,onClick:()=>l("/jours-feries"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:ao,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:p,onClick:()=>l("/utilisateurs"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S}),n.jsxs("button",{onClick:()=>W(!M),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:S,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",P.currentTarget.style.color=V},onMouseLeave:P=>{P.currentTarget.style.backgroundColor="transparent",P.currentTarget.style.color=S},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),M?n.jsx(is,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ns,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),M&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Bn,{Icon:nt,title:"Metr",isActive:d.pathname==="/metre",open:p,onClick:()=>l("/metre"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:nt,title:"Pose",isActive:d.pathname==="/pose",open:p,onClick:()=>l("/pose"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:nt,title:"SAV",isActive:d.pathname==="/sav",open:p,onClick:()=>l("/sav"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${_}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:S,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Bn,{Icon:i?Xt:qt,title:i?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:ae,isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S}),n.jsx(Bn,{Icon:Dr,title:"Paramtres",isActive:d.pathname==="/parametres",open:p,onClick:()=>l("/parametres"),isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S})]}),n.jsx("div",{style:{borderTop:`1px solid ${_}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Bn,{Icon:er,title:"Dconnexion",isActive:!1,open:p,onClick:Ie,isDarkMode:i,orangeColor:$,textColor:V,textSecondary:S})}),!g&&n.jsxs("button",{onClick:()=>m(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${_}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:S,transition:"background-color 0.2s"},onMouseEnter:P=>P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:P=>P.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(rs,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{className:"dashboard-main",style:{flex:1,overflow:"auto",backgroundColor:q,paddingTop:g?"60px":0},children:n.jsxs("div",{className:`settings-page ${i?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"settings-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Paramtres"}),n.jsx("p",{children:"Grez vos prfrences et configurations"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[R==="success"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",backgroundColor:i?"#065f46":"#d1fae5",color:i?"#6ee7b7":"#065f46",fontSize:"14px",fontWeight:500},children:[n.jsx(Bm,{size:16}),"Enregistr"]}),n.jsx("button",{onClick:Te,disabled:N,className:"save-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"none",backgroundColor:ge,color:"#ffffff",fontSize:"14px",fontWeight:600,cursor:N?"not-allowed":"pointer",opacity:N?.7:1,transition:"all 0.2s",boxShadow:`0 2px 8px ${ge}40`},onMouseEnter:P=>{N||(P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow=`0 4px 12px ${ge}60`)},onMouseLeave:P=>{N||(P.currentTarget.style.transform="translateY(0)",P.currentTarget.style.boxShadow=`0 2px 8px ${ge}40`)},children:N?n.jsxs(n.Fragment,{children:[n.jsx($a,{size:16,style:{animation:"spin 1s linear infinite"}}),"Enregistrement..."]}):n.jsxs(n.Fragment,{children:[n.jsx(lg,{size:16}),"Enregistrer"]})})]})]})}),n.jsxs("div",{className:"settings-container",children:[n.jsx("div",{className:"settings-sidebar",children:Z.map(P=>{const Re=P.icon;return n.jsxs("button",{onClick:()=>J(P.id),className:`settings-nav-item ${C===P.id?"active":""}`,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"8px",border:"none",backgroundColor:C===P.id?i?`${$}30`:`${$}15`:"transparent",color:C===P.id?$:S,cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:C===P.id?600:500},onMouseEnter:Ne=>{C!==P.id&&(Ne.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",Ne.currentTarget.style.color=V)},onMouseLeave:Ne=>{C!==P.id&&(Ne.currentTarget.style.backgroundColor="transparent",Ne.currentTarget.style.color=S)},children:[n.jsx(Re,{size:18}),n.jsx("span",{children:P.label})]},P.id)})}),n.jsxs("div",{className:"settings-content",children:[C==="general"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Dr,{size:24,style:{color:ge}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Paramtres gnraux"}),n.jsx("p",{children:"Configurez les paramtres de base de votre application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Ym,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Langue"}),n.jsx("p",{children:"Slectionnez votre langue prfre"})]})]}),n.jsxs("select",{value:we,onChange:P=>Ae(P.target.value),className:"setting-input",children:[n.jsx("option",{value:"fr",children:"Franais"}),n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Espaol"}),n.jsx("option",{value:"de",children:"Deutsch"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Wm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Fuseau horaire"}),n.jsx("p",{children:"Dfinissez votre fuseau horaire"})]})]}),n.jsxs("select",{value:We,onChange:P=>Le(P.target.value),className:"setting-input",children:[n.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (GMT+1)"}),n.jsx("option",{value:"Europe/London",children:"Europe/London (GMT+0)"}),n.jsx("option",{value:"America/New_York",children:"America/New_York (GMT-5)"}),n.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(ga,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Sauvegarde automatique"}),n.jsx("p",{children:"Enregistrer automatiquement les modifications"})]})]}),n.jsx("button",{onClick:()=>Ve(!pe),className:`toggle-switch ${pe?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),C==="notifications"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Pr,{size:24,style:{color:ge}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Notifications"}),n.jsx("p",{children:"Grez vos prfrences de notification"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Gm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications par email"}),n.jsx("p",{children:"Recevoir des notifications par email"})]})]}),n.jsx("button",{onClick:()=>me({...Y,email:!Y.email}),className:`toggle-switch ${Y.email?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Lm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications push"}),n.jsx("p",{children:"Recevoir des notifications push en temps rel"})]})]}),n.jsx("button",{onClick:()=>me({...Y,push:!Y.push}),className:`toggle-switch ${Y.push?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Tm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications SMS"}),n.jsx("p",{children:"Recevoir des notifications par SMS"})]})]}),n.jsx("button",{onClick:()=>me({...Y,sms:!Y.sms}),className:`toggle-switch ${Y.sms?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),C==="appearance"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(xa,{size:24,style:{color:ge}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Apparence"}),n.jsx("p",{children:"Personnalisez l'apparence de l'application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[i?n.jsx(Xt,{size:20}):n.jsx(qt,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Thme"}),n.jsx("p",{children:"Choisissez entre le mode clair et sombre"})]})]}),n.jsx("button",{onClick:ae,className:`toggle-switch ${i?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",style:{flexDirection:"column",alignItems:"flex-start",gap:"20px"},children:[n.jsxs("div",{className:"setting-info",style:{width:"100%"},children:[n.jsx(xa,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Couleur d'accentuation"}),n.jsx("p",{children:"Choisissez une couleur pour personnaliser l'interface"})]})]}),n.jsxs("div",{style:{width:"100%"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"12px",padding:"16px",backgroundColor:i?"#1a1a1a":"#f9fafb",borderRadius:"12px",border:`1px solid ${_}`},children:je.map(P=>n.jsx("button",{onClick:()=>X(P.value),style:{width:"60px",height:"60px",borderRadius:"12px",background:P.value,border:ge===P.value?`3px solid ${i?"#ffffff":"#000000"}`:`2px solid ${_}`,cursor:"pointer",transition:"all 0.2s ease",position:"relative",boxShadow:ge===P.value?`0 4px 12px ${P.value}60`:"0 2px 4px rgba(0, 0, 0, 0.1)",transform:ge===P.value?"scale(1.1)":"scale(1)"},onMouseEnter:Re=>{ge!==P.value&&(Re.currentTarget.style.transform="scale(1.05)",Re.currentTarget.style.boxShadow=`0 4px 8px ${P.value}40`)},onMouseLeave:Re=>{ge!==P.value&&(Re.currentTarget.style.transform="scale(1)",Re.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)")},title:P.name,children:ge===P.value&&n.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#ffffff",fontSize:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:""})},P.value))}),n.jsxs("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:i?"#1a1a1a":"#f9fafb",borderRadius:"8px",border:`1px solid ${_}`},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:ge,border:`2px solid ${_}`,boxShadow:`0 2px 8px ${ge}40`,flexShrink:0}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:V,marginBottom:"2px"},children:je.find(P=>P.value===ge)?.name||"Couleur personnalise"}),n.jsx("div",{style:{fontSize:"12px",color:S},children:ge.toUpperCase()})]})]})]})]})]})]}),C==="data"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(ga,{size:24,style:{color:ge}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Donnes"}),n.jsx("p",{children:"Grez vos donnes et sauvegardes"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Sd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Exporter les donnes"}),n.jsx("p",{children:"Tlchargez une copie de toutes vos donnes"})]})]}),n.jsxs("button",{onClick:Ze,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${_}`,backgroundColor:fe,color:V,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",P.currentTarget.style.borderColor=$},onMouseLeave:P=>{P.currentTarget.style.backgroundColor=fe,P.currentTarget.style.borderColor=_},children:[n.jsx(Sd,{size:16}),"Exporter"]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Nd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Importer les donnes"}),n.jsx("p",{children:"Restaurer vos donnes  partir d'un fichier"})]})]}),n.jsxs("button",{onClick:Qe,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${_}`,backgroundColor:fe,color:V,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",P.currentTarget.style.borderColor=$},onMouseLeave:P=>{P.currentTarget.style.backgroundColor=fe,P.currentTarget.style.borderColor=_},children:[n.jsx(Nd,{size:16}),"Importer"]})]}),n.jsxs("div",{className:"setting-item",style:{borderBottom:"none"},children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(bd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Rinitialiser les paramtres"}),n.jsx("p",{children:"Rtablir tous les paramtres par dfaut"})]})]}),n.jsxs("button",{onClick:ce,className:"action-button danger",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"1px solid #ef4444",backgroundColor:i?"#7f1d1d":"#fee2e2",color:"#ef4444",cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:P=>{P.currentTarget.style.backgroundColor=i?"#991b1b":"#fecaca"},onMouseLeave:P=>{P.currentTarget.style.backgroundColor=i?"#7f1d1d":"#fee2e2"},children:[n.jsx(bd,{size:16}),"Rinitialiser"]})]})]})]})]})]})]})})]})}function Wg(){const l=yn(),d=un(),[i,c]=h.useState(()=>{const Z=localStorage.getItem("darkMode");return Z?JSON.parse(Z):!0}),[p,m]=h.useState(!0),[x,w]=h.useState(!1),[g,k]=h.useState(!1),[M,W]=h.useState(!0),[C,J]=h.useState([]),[N,I]=h.useState("all"),[R,Q]=h.useState(""),[Y,me]=h.useState(Ke.calendar1),[we,Ae]=h.useState(null),[We,Le]=h.useState(""),[pe,Ve]=h.useState("");h.useEffect(()=>{const Z=localStorage.getItem("user");if(!Z){l("/login");return}if(JSON.parse(Z).role!=="admin"){l("/");return}ge()},[l]),h.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light")},[i]),h.useEffect(()=>{const Z=()=>{k(window.innerWidth<=768),window.innerWidth>768&&w(!1)};return Z(),window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),h.useEffect(()=>{w(!1)},[d.pathname]),h.useEffect(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[x]),h.useEffect(()=>{ge()},[N]);const ge=async()=>{try{if(N==="all"){const P=Object.values(Ke).map(Ue=>co(Ue).then(ut=>({calendarId:Ue,holidays:ut}))),Re=await Promise.all(P),Ne=[];Re.forEach(({calendarId:Ue,holidays:ut})=>{ut.forEach(qe=>{Ne.push({...qe,calendarId:Ue})})}),Ne.sort((Ue,ut)=>ut.holiday_date.localeCompare(Ue.holiday_date)),J(Ne)}else{const Z=await co(N);J(Z.map(P=>({...P,calendarId:N})))}}catch(Z){console.error("Error loading holidays:",Z),alert("Erreur lors du chargement des jours fris")}},X=async()=>{if(!R){alert("Veuillez slectionner une date");return}try{await kg(Y,R),alert("Jour fri ajout avec succs"),Q(""),await ge(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(Z){console.error("Error adding holiday:",Z);const P=Z?.message||"Erreur lors de l'ajout du jour fri";alert(` ${P}`)}},ae=Z=>{Ae(Z),Le(Z.holiday_date),Ve(Z.calendarId||Z.calendar_id)},Ie=()=>{Ae(null),Le(""),Ve("")},Te=async()=>{if(!we||!We){alert("Veuillez slectionner une date");return}try{await wg(we.id,pe,We),alert("Jour fri modifi avec succs"),Ie(),await ge(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(Z){console.error("Error updating holiday:",Z);const P=Z?.message||"Erreur lors de la modification du jour fri";alert(` ${P}`)}},Ze=async Z=>{if(window.confirm(`tes-vous sr de vouloir supprimer le jour fri du ${Qe(Z.holiday_date)} ?`))try{await Cg(Z.id),alert("Jour fri supprim avec succs"),await ge(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(P){console.error("Error deleting holiday:",P);const Re=P?.message||"Erreur lors de la suppression du jour fri";alert(` ${Re}`)}},Qe=Z=>new Date(Z+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ce=()=>{c(!i)},$=()=>{localStorage.removeItem("user"),l("/")},[q,V]=h.useState(()=>localStorage.getItem("accentColor")||"#fa541c");h.useEffect(()=>{const Z=()=>{const Re=localStorage.getItem("accentColor");Re&&(V(Re),document.documentElement.style.setProperty("--accent-color",Re))};window.addEventListener("settingsUpdated",Z),window.addEventListener("storage",Z);const P=localStorage.getItem("accentColor");return P&&(V(P),document.documentElement.style.setProperty("--accent-color",P)),()=>{window.removeEventListener("settingsUpdated",Z),window.removeEventListener("storage",Z)}},[]);const S=i?"#000000":"#f5f5f5",_=i?"#ffffff":"#111827",fe=i?"#9ca3af":"#6b7280",je=i?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:S},children:[x&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>w(!1),style:{display:g?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),g&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${je}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>w(!x),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:_,zIndex:1001,position:"relative"},"aria-label":x?"Fermer le menu":"Ouvrir le menu",children:x?n.jsx(as,{size:24}):n.jsx(ls,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${q} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(nt,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:_},children:"Jours Fris"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:ce,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:fe,cursor:"pointer"},children:i?n.jsx(Xt,{style:{width:"18px",height:"18px"}}):n.jsx(qt,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${x?"mobile-open":""}`,style:{position:g?"fixed":"sticky",top:g?"60px":0,left:0,height:g?"calc(100vh - 60px)":"100vh",width:g?"280px":p?"256px":"64px",borderRight:`1px solid ${je}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:g?x?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${je}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${q} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(nt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:_},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:fe},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Fn,{Icon:ss,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:p,onClick:()=>l("/dashboard"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe}),n.jsx(Fn,{Icon:os,title:"Rservation",isActive:d.pathname==="/rservation",open:p,onClick:()=>l("/rservation"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe}),n.jsx(Fn,{Icon:io,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:p,onClick:()=>l("/jours-feries"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe}),n.jsx(Fn,{Icon:ao,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:p,onClick:()=>l("/utilisateurs"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe}),n.jsxs("button",{onClick:()=>W(!M),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:fe,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:Z=>{Z.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",Z.currentTarget.style.color=_},onMouseLeave:Z=>{Z.currentTarget.style.backgroundColor="transparent",Z.currentTarget.style.color=fe},children:[n.jsx(nt,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),M?n.jsx(is,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ns,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),M&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Fn,{Icon:nt,title:"Metr",isActive:d.pathname==="/metre",open:p,onClick:()=>l("/metre"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe}),n.jsx(Fn,{Icon:nt,title:"Pose",isActive:d.pathname==="/pose",open:p,onClick:()=>l("/pose"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe}),n.jsx(Fn,{Icon:nt,title:"SAV",isActive:d.pathname==="/sav",open:p,onClick:()=>l("/sav"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${je}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:fe,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Fn,{Icon:i?Xt:qt,title:i?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:ce,isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe}),n.jsx(Fn,{Icon:Dr,title:"Paramtres",isActive:d.pathname==="/parametres",open:p,onClick:()=>l("/parametres"),isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe})]}),n.jsx("div",{style:{borderTop:`1px solid ${je}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Fn,{Icon:er,title:"Dconnexion",isActive:!1,open:p,onClick:$,isDarkMode:i,orangeColor:q,textColor:_,textSecondary:fe})}),n.jsxs("button",{onClick:()=>m(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${je}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:fe,transition:"background-color 0.2s",height:"48px"},onMouseEnter:Z=>Z.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:Z=>Z.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(rs,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:S,paddingTop:g?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${i?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsx("div",{className:"header-content",children:n.jsxs("div",{children:[n.jsx("h1",{children:"Gestion des jours fris"}),n.jsx("p",{children:"Grer les jours fris pour tous les calendriers"})]})})}),n.jsxs("div",{className:"holiday-management-section",children:[n.jsxs("div",{className:"holiday-add-form",children:[n.jsx("h3",{children:"Ajouter un jour fri"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-calendar",children:"Calendrier:"}),n.jsxs("select",{id:"holiday-calendar",value:Y,onChange:Z=>me(Z.target.value),children:[n.jsx("option",{value:Ke.calendar1,children:"Pose"}),n.jsx("option",{value:Ke.calendar2,children:"SAV"}),n.jsx("option",{value:Ke.calendar3,children:"Metr"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-date",children:"Date:"}),n.jsx("input",{id:"holiday-date",type:"date",value:R,onChange:Z=>Q(Z.target.value)})]}),n.jsxs("button",{className:"add-holiday-button",onClick:X,children:[n.jsx(Vd,{className:"add-holiday-icon"}),"Ajouter"]})]})]}),n.jsxs("div",{className:"holiday-list-section",children:[n.jsx("h3",{children:"Jours fris existants"}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"holiday-filter",children:"Filtrer par calendrier:"}),n.jsxs("select",{id:"holiday-filter",value:N,onChange:Z=>I(Z.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:Ke.calendar1,children:"Pose"}),n.jsx("option",{value:Ke.calendar2,children:"SAV"}),n.jsx("option",{value:Ke.calendar3,children:"Metr"})]})]}),C.length===0?n.jsx("div",{className:"no-holidays",children:"Aucun jour fri enregistr"}):n.jsx("div",{className:"holidays-table-container",children:n.jsxs("table",{className:"holidays-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:C.map(Z=>n.jsx("tr",{children:we?.id===Z.id?n.jsxs(n.Fragment,{children:[n.jsx("td",{children:n.jsx("input",{type:"date",value:We,onChange:P=>Le(P.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}})}),n.jsx("td",{children:n.jsxs("select",{value:pe,onChange:P=>Ve(P.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[n.jsx("option",{value:Ke.calendar1,children:"Pose"}),n.jsx("option",{value:Ke.calendar2,children:"SAV"}),n.jsx("option",{value:Ke.calendar3,children:"Metr"})]})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:Te,title:"Enregistrer",children:""}),n.jsx("button",{className:"delete-button",onClick:Ie,title:"Annuler",children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("td",{children:Qe(Z.holiday_date)}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:En(Z.calendarId||Z.calendar_id)})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>ae(Z),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>Ze(Z),title:"Supprimer",children:""})]})]})},Z.id))})]})})]})]})]})})]})}const Fn=({Icon:l,title:d,isActive:i,open:c,onClick:p,isDarkMode:m,orangeColor:x,textColor:w,textSecondary:g})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${x}30`:`${x}15`:"transparent",color:i?x:g,borderLeft:i?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:k=>{i||(k.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=w)},onMouseLeave:k=>{i||(k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=g)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),c&&n.jsx("span",{children:d})]});typeof window<"u"&&(window.resetAllBookings=async()=>{confirm(" Are you sure you want to reset ALL bookings to 0? This cannot be undone!")&&(console.log(" Starting reset..."),await jg(),alert(" All bookings have been reset! Please refresh the page."),window.location.reload())});eh.createRoot(document.getElementById("root")).render(n.jsx(Jp.StrictMode,{children:n.jsx(pm,{children:n.jsxs(Vh,{children:[n.jsx(xn,{path:"/",element:n.jsx(Cm,{})}),n.jsx(xn,{path:"/login",element:n.jsx(zg,{})}),n.jsx(xn,{path:"/calendrier",element:n.jsx(qn,{children:n.jsx(_g,{})})}),n.jsx(xn,{path:"/dashboard",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(cs,{})})}),n.jsx(xn,{path:"/rservation",element:n.jsx(qn,{children:n.jsx(Ag,{})})}),n.jsx(xn,{path:"/jours-feries",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(Wg,{})})}),n.jsx(xn,{path:"/utilisateurs",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(Fg,{})})}),n.jsx(xn,{path:"/parametres",element:n.jsx(qn,{requireAdmin:!0,children:n.jsx(Og,{})})}),n.jsx(xn,{path:"/pose",element:n.jsx(qn,{children:n.jsx(Rg,{})})}),n.jsx(xn,{path:"/sav",element:n.jsx(qn,{children:n.jsx(Dg,{})})}),n.jsx(xn,{path:"/metre",element:n.jsx(qn,{children:n.jsx(Lg,{})})})]})})}));
