(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function a(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(f){if(f.ep)return;f.ep=!0;const h=a(f);fetch(f.href,h)}})();function kd(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Wi={exports:{}},Eo={},Yi={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function Op(){if(ed)return Re;ed=1;var l=Symbol.for("react.element"),c=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),x=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function N(S){return S===null||typeof S!="object"?null:(S=A&&S[A]||S["@@iterator"],typeof S=="function"?S:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,$={};function R(S,g,te){this.props=S,this.context=g,this.refs=$,this.updater=te||B}R.prototype.isReactComponent={},R.prototype.setState=function(S,g){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,g,"setState")},R.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function U(){}U.prototype=R.prototype;function H(S,g,te){this.props=S,this.context=g,this.refs=$,this.updater=te||B}var X=H.prototype=new U;X.constructor=H,T(X,R.prototype),X.isPureReactComponent=!0;var oe=Array.isArray,ue=Object.prototype.hasOwnProperty,ne={current:null},de={key:!0,ref:!0,__self:!0,__source:!0};function Me(S,g,te){var O,D={},V=null,ie=null;if(g!=null)for(O in g.ref!==void 0&&(ie=g.ref),g.key!==void 0&&(V=""+g.key),g)ue.call(g,O)&&!de.hasOwnProperty(O)&&(D[O]=g[O]);var ke=arguments.length-2;if(ke===1)D.children=te;else if(1<ke){for(var z=Array(ke),k=0;k<ke;k++)z[k]=arguments[k+2];D.children=z}if(S&&S.defaultProps)for(O in ke=S.defaultProps,ke)D[O]===void 0&&(D[O]=ke[O]);return{$$typeof:l,type:S,key:V,ref:ie,props:D,_owner:ne.current}}function Ne(S,g){return{$$typeof:l,type:S.type,key:g,ref:S.ref,props:S.props,_owner:S._owner}}function Pe(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function Ie(S){var g={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return g[te]})}var ze=/\/+/g;function $e(S,g){return typeof S=="object"&&S!==null&&S.key!=null?Ie(""+S.key):g.toString(36)}function ve(S,g,te,O,D){var V=typeof S;(V==="undefined"||V==="boolean")&&(S=null);var ie=!1;if(S===null)ie=!0;else switch(V){case"string":case"number":ie=!0;break;case"object":switch(S.$$typeof){case l:case c:ie=!0}}if(ie)return ie=S,D=D(ie),S=O===""?"."+$e(ie,0):O,oe(D)?(te="",S!=null&&(te=S.replace(ze,"$&/")+"/"),ve(D,g,te,"",function(k){return k})):D!=null&&(Pe(D)&&(D=Ne(D,te+(!D.key||ie&&ie.key===D.key?"":(""+D.key).replace(ze,"$&/")+"/")+S)),g.push(D)),1;if(ie=0,O=O===""?".":O+":",oe(S))for(var ke=0;ke<S.length;ke++){V=S[ke];var z=O+$e(V,ke);ie+=ve(V,g,te,z,D)}else if(z=N(S),typeof z=="function")for(S=z.call(S),ke=0;!(V=S.next()).done;)V=V.value,z=O+$e(V,ke++),ie+=ve(V,g,te,z,D);else if(V==="object")throw g=String(S),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return ie}function Ae(S,g,te){if(S==null)return S;var O=[],D=0;return ve(S,O,"","",function(V){return g.call(te,V,D++)}),O}function he(S){if(S._status===-1){var g=S._result;g=g(),g.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=g)}if(S._status===1)return S._result.default;throw S._result}var ge={current:null},F={transition:null},G={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:F,ReactCurrentOwner:ne};function M(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Ae,forEach:function(S,g,te){Ae(S,function(){g.apply(this,arguments)},te)},count:function(S){var g=0;return Ae(S,function(){g++}),g},toArray:function(S){return Ae(S,function(g){return g})||[]},only:function(S){if(!Pe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Re.Component=R,Re.Fragment=a,Re.Profiler=f,Re.PureComponent=H,Re.StrictMode=u,Re.Suspense=y,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Re.act=M,Re.cloneElement=function(S,g,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var O=T({},S.props),D=S.key,V=S.ref,ie=S._owner;if(g!=null){if(g.ref!==void 0&&(V=g.ref,ie=ne.current),g.key!==void 0&&(D=""+g.key),S.type&&S.type.defaultProps)var ke=S.type.defaultProps;for(z in g)ue.call(g,z)&&!de.hasOwnProperty(z)&&(O[z]=g[z]===void 0&&ke!==void 0?ke[z]:g[z])}var z=arguments.length-2;if(z===1)O.children=te;else if(1<z){ke=Array(z);for(var k=0;k<z;k++)ke[k]=arguments[k+2];O.children=ke}return{$$typeof:l,type:S.type,key:D,ref:V,props:O,_owner:ie}},Re.createContext=function(S){return S={$$typeof:x,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:h,_context:S},S.Consumer=S},Re.createElement=Me,Re.createFactory=function(S){var g=Me.bind(null,S);return g.type=S,g},Re.createRef=function(){return{current:null}},Re.forwardRef=function(S){return{$$typeof:j,render:S}},Re.isValidElement=Pe,Re.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:he}},Re.memo=function(S,g){return{$$typeof:w,type:S,compare:g===void 0?null:g}},Re.startTransition=function(S){var g=F.transition;F.transition={};try{S()}finally{F.transition=g}},Re.unstable_act=M,Re.useCallback=function(S,g){return ge.current.useCallback(S,g)},Re.useContext=function(S){return ge.current.useContext(S)},Re.useDebugValue=function(){},Re.useDeferredValue=function(S){return ge.current.useDeferredValue(S)},Re.useEffect=function(S,g){return ge.current.useEffect(S,g)},Re.useId=function(){return ge.current.useId()},Re.useImperativeHandle=function(S,g,te){return ge.current.useImperativeHandle(S,g,te)},Re.useInsertionEffect=function(S,g){return ge.current.useInsertionEffect(S,g)},Re.useLayoutEffect=function(S,g){return ge.current.useLayoutEffect(S,g)},Re.useMemo=function(S,g){return ge.current.useMemo(S,g)},Re.useReducer=function(S,g,te){return ge.current.useReducer(S,g,te)},Re.useRef=function(S){return ge.current.useRef(S)},Re.useState=function(S){return ge.current.useState(S)},Re.useSyncExternalStore=function(S,g,te){return ge.current.useSyncExternalStore(S,g,te)},Re.useTransition=function(){return ge.current.useTransition()},Re.version="18.3.1",Re}var td;function oa(){return td||(td=1,Yi.exports=Op()),Yi.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function Up(){if(nd)return Eo;nd=1;var l=oa(),c=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function x(j,y,w){var E,A={},N=null,B=null;w!==void 0&&(N=""+w),y.key!==void 0&&(N=""+y.key),y.ref!==void 0&&(B=y.ref);for(E in y)u.call(y,E)&&!h.hasOwnProperty(E)&&(A[E]=y[E]);if(j&&j.defaultProps)for(E in y=j.defaultProps,y)A[E]===void 0&&(A[E]=y[E]);return{$$typeof:c,type:j,key:N,ref:B,props:A,_owner:f.current}}return Eo.Fragment=a,Eo.jsx=x,Eo.jsxs=x,Eo}var rd;function Hp(){return rd||(rd=1,Wi.exports=Up()),Wi.exports}var r=Hp(),m=oa();const Vp=kd(m);var Qs={},Ji={exports:{}},Tt={},Qi={exports:{}},Ki={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function Wp(){return od||(od=1,(function(l){function c(F,G){var M=F.length;F.push(G);e:for(;0<M;){var S=M-1>>>1,g=F[S];if(0<f(g,G))F[S]=G,F[M]=g,M=S;else break e}}function a(F){return F.length===0?null:F[0]}function u(F){if(F.length===0)return null;var G=F[0],M=F.pop();if(M!==G){F[0]=M;e:for(var S=0,g=F.length,te=g>>>1;S<te;){var O=2*(S+1)-1,D=F[O],V=O+1,ie=F[V];if(0>f(D,M))V<g&&0>f(ie,D)?(F[S]=ie,F[V]=M,S=V):(F[S]=D,F[O]=M,S=O);else if(V<g&&0>f(ie,M))F[S]=ie,F[V]=M,S=V;else break e}}return G}function f(F,G){var M=F.sortIndex-G.sortIndex;return M!==0?M:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var x=Date,j=x.now();l.unstable_now=function(){return x.now()-j}}var y=[],w=[],E=1,A=null,N=3,B=!1,T=!1,$=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(F){for(var G=a(w);G!==null;){if(G.callback===null)u(w);else if(G.startTime<=F)u(w),G.sortIndex=G.expirationTime,c(y,G);else break;G=a(w)}}function oe(F){if($=!1,X(F),!T)if(a(y)!==null)T=!0,he(ue);else{var G=a(w);G!==null&&ge(oe,G.startTime-F)}}function ue(F,G){T=!1,$&&($=!1,U(Me),Me=-1),B=!0;var M=N;try{for(X(G),A=a(y);A!==null&&(!(A.expirationTime>G)||F&&!Ie());){var S=A.callback;if(typeof S=="function"){A.callback=null,N=A.priorityLevel;var g=S(A.expirationTime<=G);G=l.unstable_now(),typeof g=="function"?A.callback=g:A===a(y)&&u(y),X(G)}else u(y);A=a(y)}if(A!==null)var te=!0;else{var O=a(w);O!==null&&ge(oe,O.startTime-G),te=!1}return te}finally{A=null,N=M,B=!1}}var ne=!1,de=null,Me=-1,Ne=5,Pe=-1;function Ie(){return!(l.unstable_now()-Pe<Ne)}function ze(){if(de!==null){var F=l.unstable_now();Pe=F;var G=!0;try{G=de(!0,F)}finally{G?$e():(ne=!1,de=null)}}else ne=!1}var $e;if(typeof H=="function")$e=function(){H(ze)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ae=ve.port2;ve.port1.onmessage=ze,$e=function(){Ae.postMessage(null)}}else $e=function(){R(ze,0)};function he(F){de=F,ne||(ne=!0,$e())}function ge(F,G){Me=R(function(){F(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(F){F.callback=null},l.unstable_continueExecution=function(){T||B||(T=!0,he(ue))},l.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<F?Math.floor(1e3/F):5},l.unstable_getCurrentPriorityLevel=function(){return N},l.unstable_getFirstCallbackNode=function(){return a(y)},l.unstable_next=function(F){switch(N){case 1:case 2:case 3:var G=3;break;default:G=N}var M=N;N=G;try{return F()}finally{N=M}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var M=N;N=F;try{return G()}finally{N=M}},l.unstable_scheduleCallback=function(F,G,M){var S=l.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?S+M:S):M=S,F){case 1:var g=-1;break;case 2:g=250;break;case 5:g=1073741823;break;case 4:g=1e4;break;default:g=5e3}return g=M+g,F={id:E++,callback:G,priorityLevel:F,startTime:M,expirationTime:g,sortIndex:-1},M>S?(F.sortIndex=M,c(w,F),a(y)===null&&F===a(w)&&($?(U(Me),Me=-1):$=!0,ge(oe,M-S))):(F.sortIndex=g,c(y,F),T||B||(T=!0,he(ue))),F},l.unstable_shouldYield=Ie,l.unstable_wrapCallback=function(F){var G=N;return function(){var M=N;N=G;try{return F.apply(this,arguments)}finally{N=M}}}})(Ki)),Ki}var sd;function Yp(){return sd||(sd=1,Qi.exports=Wp()),Qi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function Jp(){if(ld)return Tt;ld=1;var l=oa(),c=Yp();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function h(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(f[e]=t,e=0;e<t.length;e++)u.add(t[e])}var j=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},A={};function N(e){return y.call(A,e)?!0:y.call(E,e)?!1:w.test(e)?A[e]=!0:(E[e]=!0,!1)}function B(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,n,o){if(t===null||typeof t>"u"||B(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $(e,t,n,o,s,i,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=d}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new $(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new $(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new $(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new $(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new $(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new $(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new $(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new $(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new $(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,H);R[t]=new $(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,H);R[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,H);R[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new $(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new $(e,1,!1,e.toLowerCase(),null,!0,!0)});function X(e,t,n,o){var s=R.hasOwnProperty(t)?R[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,n,s,o)&&(n=null),o||s===null?N(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,o=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var oe=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),ne=Symbol.for("react.portal"),de=Symbol.for("react.fragment"),Me=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),$e=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,S;function g(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var te=!1;function O(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var o=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){o=I}e.call(t.prototype)}else{try{throw Error()}catch(I){o=I}e()}}catch(I){if(I&&o&&typeof I.stack=="string"){for(var s=I.stack.split(`
`),i=o.stack.split(`
`),d=s.length-1,v=i.length-1;1<=d&&0<=v&&s[d]!==i[v];)v--;for(;1<=d&&0<=v;d--,v--)if(s[d]!==i[v]){if(d!==1||v!==1)do if(d--,v--,0>v||s[d]!==i[v]){var C=`
`+s[d].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=d&&0<=v);break}}}finally{te=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?g(e):""}function D(e){switch(e.tag){case 5:return g(e.type);case 16:return g("Lazy");case 13:return g("Suspense");case 19:return g("SuspenseList");case 0:case 2:case 15:return e=O(e.type,!1),e;case 11:return e=O(e.type.render,!1),e;case 1:return e=O(e.type,!0),e;default:return""}}function V(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case de:return"Fragment";case ne:return"Portal";case Ne:return"Profiler";case Me:return"StrictMode";case $e:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ie:return(e.displayName||"Context")+".Consumer";case Pe:return(e._context.displayName||"Context")+".Provider";case ze:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return t=e.displayName||null,t!==null?t:V(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return V(e(t))}catch{}}return null}function ie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===Me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){o=""+d,i.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function le(e){e._valueTracker||(e._valueTracker=k(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=z(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Te(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function be(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=ke(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function We(e,t){t=t.checked,t!=null&&X(e,"checked",t,!1)}function je(e,t){We(e,t);var n=ke(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_n(e,t.type,n):t.hasOwnProperty("defaultValue")&&_n(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Le(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _n(e,t,n){(t!=="number"||Ce(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Tn=Array.isArray;function en(e,t,n,o){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ke(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function it(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(Tn(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ke(n)}}function Bo(e,t){var n=ke(t.value),o=ke(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Fo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fr,ht=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var p={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W=["Webkit","ms","Moz","O"];Object.keys(p).forEach(function(e){W.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),p[t]=p[e]})});function K(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||p.hasOwnProperty(e)&&p[e]?(""+t).trim():t+"px"}function Q(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,s=K(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,s):e[n]=s}}var b=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z(e,t){if(t){if(b[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function pe(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var se=null;function ye(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var re=null,et=null,mt=null;function Dt(e){if(e=fo(e)){if(typeof re!="function")throw Error(a(280));var t=e.stateNode;t&&(t=cs(t),re(e.stateNode,e.type,t))}}function Fe(e){et?mt?mt.push(e):mt=[e]:et=e}function va(){if(et){var e=et,t=mt;if(mt=et=null,Dt(e),t)for(e=0;e<t.length;e++)Dt(t[e])}}function ka(e,t){return e(t)}function ja(){}var al=!1;function wa(e,t,n){if(al)return e(t,n);al=!0;try{return ka(e,t,n)}finally{al=!1,(et!==null||mt!==null)&&(ja(),va())}}function Vr(e,t){var n=e.stateNode;if(n===null)return null;var o=cs(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var cl=!1;if(j)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{cl=!1}function Yd(e,t,n,o,s,i,d,v,C){var I=Array.prototype.slice.call(arguments,3);try{t.apply(n,I)}catch(J){this.onError(J)}}var Yr=!1,Oo=null,Uo=!1,ul=null,Jd={onError:function(e){Yr=!0,Oo=e}};function Qd(e,t,n,o,s,i,d,v,C){Yr=!1,Oo=null,Yd.apply(Jd,arguments)}function Kd(e,t,n,o,s,i,d,v,C){if(Qd.apply(this,arguments),Yr){if(Yr){var I=Oo;Yr=!1,Oo=null}else throw Error(a(198));Uo||(Uo=!0,ul=I)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ca(e){if(qn(e)!==e)throw Error(a(188))}function Gd(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(o=s.return,o!==null){n=o;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ca(s),e;if(i===o)return Ca(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==o.return)n=s,o=i;else{for(var d=!1,v=s.child;v;){if(v===n){d=!0,n=s,o=i;break}if(v===o){d=!0,o=s,n=i;break}v=v.sibling}if(!d){for(v=i.child;v;){if(v===n){d=!0,n=i,o=s;break}if(v===o){d=!0,o=i,n=s;break}v=v.sibling}if(!d)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Na(e){return e=Gd(e),e!==null?ba(e):null}function ba(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ba(e);if(t!==null)return t;e=e.sibling}return null}var Ea=c.unstable_scheduleCallback,_a=c.unstable_cancelCallback,qd=c.unstable_shouldYield,Xd=c.unstable_requestPaint,nt=c.unstable_now,Zd=c.unstable_getCurrentPriorityLevel,dl=c.unstable_ImmediatePriority,Ta=c.unstable_UserBlockingPriority,Ho=c.unstable_NormalPriority,ef=c.unstable_LowPriority,Ma=c.unstable_IdlePriority,Vo=null,tn=null;function tf(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:of,nf=Math.log,rf=Math.LN2;function of(e){return e>>>=0,e===0?32:31-(nf(e)/rf|0)|0}var Wo=64,Yo=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,s=e.suspendedLanes,i=e.pingedLanes,d=n&268435455;if(d!==0){var v=d&~s;v!==0?o=Jr(v):(i&=d,i!==0&&(o=Jr(i)))}else d=n&~s,d!==0?o=Jr(d):i!==0&&(o=Jr(i));if(o===0)return 0;if(t!==0&&t!==o&&(t&s)===0&&(s=o&-o,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Vt(t),s=1<<n,o|=e[n],t&=~s;return o}function sf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var d=31-Vt(i),v=1<<d,C=s[d];C===-1?((v&n)===0||(v&o)!==0)&&(s[d]=sf(v,t)):C<=t&&(e.expiredLanes|=v),i&=~v}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $a(){var e=Wo;return Wo<<=1,(Wo&4194240)===0&&(Wo=64),e}function pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function af(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Vt(n),i=1<<s;t[s]=0,o[s]=-1,e[s]=-1,n&=~i}}function hl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Vt(n),s=1<<o;s&t|e[o]&t&&(e[o]|=t),n&=~s}}var Ve=0;function La(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ra,ml,Pa,Da,Ia,gl=!1,Qo=[],Mn=null,$n=null,Ln=null,Kr=new Map,Gr=new Map,Rn=[],cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function za(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(t.pointerId)}}function qr(e,t,n,o,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fo(t),t!==null&&ml(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uf(e,t,n,o,s){switch(t){case"focusin":return Mn=qr(Mn,e,t,n,o,s),!0;case"dragenter":return $n=qr($n,e,t,n,o,s),!0;case"mouseover":return Ln=qr(Ln,e,t,n,o,s),!0;case"pointerover":var i=s.pointerId;return Kr.set(i,qr(Kr.get(i)||null,e,t,n,o,s)),!0;case"gotpointercapture":return i=s.pointerId,Gr.set(i,qr(Gr.get(i)||null,e,t,n,o,s)),!0}return!1}function Aa(e){var t=Xn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Sa(n),t!==null){e.blockedOn=t,Ia(e.priority,function(){Pa(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);se=o,n.target.dispatchEvent(o),se=null}else return t=fo(n),t!==null&&ml(t),e.blockedOn=n,!1;t.shift()}return!0}function Ba(e,t,n){Ko(e)&&n.delete(t)}function df(){gl=!1,Mn!==null&&Ko(Mn)&&(Mn=null),$n!==null&&Ko($n)&&($n=null),Ln!==null&&Ko(Ln)&&(Ln=null),Kr.forEach(Ba),Gr.forEach(Ba)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,gl||(gl=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,df)))}function Zr(e){function t(s){return Xr(s,e)}if(0<Qo.length){Xr(Qo[0],e);for(var n=1;n<Qo.length;n++){var o=Qo[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Mn!==null&&Xr(Mn,e),$n!==null&&Xr($n,e),Ln!==null&&Xr(Ln,e),Kr.forEach(t),Gr.forEach(t),n=0;n<Rn.length;n++)o=Rn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Aa(n),n.blockedOn===null&&Rn.shift()}var pr=oe.ReactCurrentBatchConfig,Go=!0;function ff(e,t,n,o){var s=Ve,i=pr.transition;pr.transition=null;try{Ve=1,xl(e,t,n,o)}finally{Ve=s,pr.transition=i}}function pf(e,t,n,o){var s=Ve,i=pr.transition;pr.transition=null;try{Ve=4,xl(e,t,n,o)}finally{Ve=s,pr.transition=i}}function xl(e,t,n,o){if(Go){var s=yl(e,t,n,o);if(s===null)Dl(e,t,o,qo,n),za(e,o);else if(uf(s,e,t,n,o))o.stopPropagation();else if(za(e,o),t&4&&-1<cf.indexOf(e)){for(;s!==null;){var i=fo(s);if(i!==null&&Ra(i),i=yl(e,t,n,o),i===null&&Dl(e,t,o,qo,n),i===s)break;s=i}s!==null&&o.stopPropagation()}else Dl(e,t,o,null,n)}}var qo=null;function yl(e,t,n,o){if(qo=null,e=ye(o),e=Xn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sa(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qo=e,null}function Fa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zd()){case dl:return 1;case Ta:return 4;case Ho:case ef:return 16;case Ma:return 536870912;default:return 16}default:return 16}}var Pn=null,vl=null,Xo=null;function Oa(){if(Xo)return Xo;var e,t=vl,n=t.length,o,s="value"in Pn?Pn.value:Pn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var d=n-e;for(o=1;o<=d&&t[n-o]===s[i-o];o++);return Xo=s.slice(e,1<o?1-o:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function Ua(){return!1}function Mt(e){function t(n,o,s,i,d){this._reactName=n,this._targetInst=s,this.type=o,this.nativeEvent=i,this.target=d,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(i):i[v]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?es:Ua,this.isPropagationStopped=Ua,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Mt(hr),eo=M({},hr,{view:0,detail:0}),hf=Mt(eo),jl,wl,to,ts=M({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(jl=e.screenX-to.screenX,wl=e.screenY-to.screenY):wl=jl=0,to=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:wl}}),Ha=Mt(ts),mf=M({},ts,{dataTransfer:0}),gf=Mt(mf),xf=M({},eo,{relatedTarget:0}),Sl=Mt(xf),yf=M({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),vf=Mt(yf),kf=M({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jf=Mt(kf),wf=M({},hr,{data:0}),Va=Mt(wf),Sf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nf[e])?!!t[e]:!1}function Cl(){return bf}var Ef=M({},eo,{key:function(e){if(e.key){var t=Sf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_f=Mt(Ef),Tf=M({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Mt(Tf),Mf=M({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),$f=Mt(Mf),Lf=M({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=Mt(Lf),Pf=M({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Df=Mt(Pf),If=[9,13,27,32],Nl=j&&"CompositionEvent"in window,no=null;j&&"documentMode"in document&&(no=document.documentMode);var zf=j&&"TextEvent"in window&&!no,Ya=j&&(!Nl||no&&8<no&&11>=no),Ja=" ",Qa=!1;function Ka(e,t){switch(e){case"keyup":return If.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function Af(e,t){switch(e){case"compositionend":return Ga(t);case"keypress":return t.which!==32?null:(Qa=!0,Ja);case"textInput":return e=t.data,e===Ja&&Qa?null:e;default:return null}}function Bf(e,t){if(mr)return e==="compositionend"||!Nl&&Ka(e,t)?(e=Oa(),Xo=vl=Pn=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ya&&t.locale!=="ko"?null:t.data;default:return null}}var Ff={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ff[e.type]:t==="textarea"}function Xa(e,t,n,o){Fe(o),t=ls(t,"onChange"),0<t.length&&(n=new kl("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var ro=null,oo=null;function Of(e){gc(e,0)}function ns(e){var t=kr(e);if(_e(t))return e}function Uf(e,t){if(e==="change")return t}var Za=!1;if(j){var bl;if(j){var El="oninput"in document;if(!El){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),El=typeof ec.oninput=="function"}bl=El}else bl=!1;Za=bl&&(!document.documentMode||9<document.documentMode)}function tc(){ro&&(ro.detachEvent("onpropertychange",nc),oo=ro=null)}function nc(e){if(e.propertyName==="value"&&ns(oo)){var t=[];Xa(t,oo,e,ye(e)),wa(Of,t)}}function Hf(e,t,n){e==="focusin"?(tc(),ro=t,oo=n,ro.attachEvent("onpropertychange",nc)):e==="focusout"&&tc()}function Vf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ns(oo)}function Wf(e,t){if(e==="click")return ns(t)}function Yf(e,t){if(e==="input"||e==="change")return ns(t)}function Jf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:Jf;function so(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var s=n[o];if(!y.call(t,s)||!Wt(e[s],t[s]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oc(e,t){var n=rc(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rc(n)}}function sc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lc(){for(var e=window,t=Ce();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ce(e.document)}return t}function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qf(e){var t=lc(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sc(n.ownerDocument.documentElement,n)){if(o!==null&&_l(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(o.start,s);o=o.end===void 0?i:Math.min(o.end,s),!e.extend&&i>o&&(s=o,o=i,i=s),s=oc(n,i);var d=oc(n,o);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kf=j&&"documentMode"in document&&11>=document.documentMode,gr=null,Tl=null,lo=null,Ml=!1;function ic(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ml||gr==null||gr!==Ce(o)||(o=gr,"selectionStart"in o&&_l(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),lo&&so(lo,o)||(lo=o,o=ls(Tl,"onSelect"),0<o.length&&(t=new kl("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=gr)))}function rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},$l={},ac={};j&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function os(e){if($l[e])return $l[e];if(!xr[e])return e;var t=xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ac)return $l[e]=t[n];return e}var cc=os("animationend"),uc=os("animationiteration"),dc=os("animationstart"),fc=os("transitionend"),pc=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){pc.set(e,t),h(t,[e])}for(var Ll=0;Ll<hc.length;Ll++){var Rl=hc[Ll],Gf=Rl.toLowerCase(),qf=Rl[0].toUpperCase()+Rl.slice(1);Dn(Gf,"on"+qf)}Dn(cc,"onAnimationEnd"),Dn(uc,"onAnimationIteration"),Dn(dc,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(fc,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xf=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function mc(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Kd(o,t,void 0,e),e.currentTarget=null}function gc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],s=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var d=o.length-1;0<=d;d--){var v=o[d],C=v.instance,I=v.currentTarget;if(v=v.listener,C!==i&&s.isPropagationStopped())break e;mc(s,v,I),i=C}else for(d=0;d<o.length;d++){if(v=o[d],C=v.instance,I=v.currentTarget,v=v.listener,C!==i&&s.isPropagationStopped())break e;mc(s,v,I),i=C}}}if(Uo)throw e=ul,Uo=!1,ul=null,e}function Qe(e,t){var n=t[Ol];n===void 0&&(n=t[Ol]=new Set);var o=e+"__bubble";n.has(o)||(xc(t,e,2,!1),n.add(o))}function Pl(e,t,n){var o=0;t&&(o|=4),xc(n,e,o,t)}var ss="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[ss]){e[ss]=!0,u.forEach(function(n){n!=="selectionchange"&&(Xf.has(n)||Pl(n,!1,e),Pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ss]||(t[ss]=!0,Pl("selectionchange",!1,t))}}function xc(e,t,n,o){switch(Fa(t)){case 1:var s=ff;break;case 4:s=pf;break;default:s=xl}n=s.bind(null,t,n,e),s=void 0,!cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Dl(e,t,n,o,s){var i=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var v=o.stateNode.containerInfo;if(v===s||v.nodeType===8&&v.parentNode===s)break;if(d===4)for(d=o.return;d!==null;){var C=d.tag;if((C===3||C===4)&&(C=d.stateNode.containerInfo,C===s||C.nodeType===8&&C.parentNode===s))return;d=d.return}for(;v!==null;){if(d=Xn(v),d===null)return;if(C=d.tag,C===5||C===6){o=i=d;continue e}v=v.parentNode}}o=o.return}wa(function(){var I=i,J=ye(n),q=[];e:{var Y=pc.get(e);if(Y!==void 0){var ae=kl,fe=e;switch(e){case"keypress":if(Zo(n)===0)break e;case"keydown":case"keyup":ae=_f;break;case"focusin":fe="focus",ae=Sl;break;case"focusout":fe="blur",ae=Sl;break;case"beforeblur":case"afterblur":ae=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=$f;break;case cc:case uc:case dc:ae=vf;break;case fc:ae=Rf;break;case"scroll":ae=hf;break;case"wheel":ae=Df;break;case"copy":case"cut":case"paste":ae=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Wa}var me=(t&4)!==0,rt=!me&&e==="scroll",L=me?Y!==null?Y+"Capture":null:Y;me=[];for(var _=I,P;_!==null;){P=_;var ee=P.stateNode;if(P.tag===5&&ee!==null&&(P=ee,L!==null&&(ee=Vr(_,L),ee!=null&&me.push(co(_,ee,P)))),rt)break;_=_.return}0<me.length&&(Y=new ae(Y,fe,null,n,J),q.push({event:Y,listeners:me}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",Y&&n!==se&&(fe=n.relatedTarget||n.fromElement)&&(Xn(fe)||fe[gn]))break e;if((ae||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(fe=n.relatedTarget||n.toElement,ae=I,fe=fe?Xn(fe):null,fe!==null&&(rt=qn(fe),fe!==rt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ae=null,fe=I),ae!==fe)){if(me=Ha,ee="onMouseLeave",L="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(me=Wa,ee="onPointerLeave",L="onPointerEnter",_="pointer"),rt=ae==null?Y:kr(ae),P=fe==null?Y:kr(fe),Y=new me(ee,_+"leave",ae,n,J),Y.target=rt,Y.relatedTarget=P,ee=null,Xn(J)===I&&(me=new me(L,_+"enter",fe,n,J),me.target=P,me.relatedTarget=rt,ee=me),rt=ee,ae&&fe)t:{for(me=ae,L=fe,_=0,P=me;P;P=yr(P))_++;for(P=0,ee=L;ee;ee=yr(ee))P++;for(;0<_-P;)me=yr(me),_--;for(;0<P-_;)L=yr(L),P--;for(;_--;){if(me===L||L!==null&&me===L.alternate)break t;me=yr(me),L=yr(L)}me=null}else me=null;ae!==null&&yc(q,Y,ae,me,!1),fe!==null&&rt!==null&&yc(q,rt,fe,me,!0)}}e:{if(Y=I?kr(I):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var xe=Uf;else if(qa(Y))if(Za)xe=Yf;else{xe=Vf;var we=Hf}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(xe=Wf);if(xe&&(xe=xe(e,I))){Xa(q,xe,n,J);break e}we&&we(e,Y,I),e==="focusout"&&(we=Y._wrapperState)&&we.controlled&&Y.type==="number"&&_n(Y,"number",Y.value)}switch(we=I?kr(I):window,e){case"focusin":(qa(we)||we.contentEditable==="true")&&(gr=we,Tl=I,lo=null);break;case"focusout":lo=Tl=gr=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,ic(q,n,J);break;case"selectionchange":if(Kf)break;case"keydown":case"keyup":ic(q,n,J)}var Se;if(Nl)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else mr?Ka(e,n)&&(Ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ya&&n.locale!=="ko"&&(mr||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&mr&&(Se=Oa()):(Pn=J,vl="value"in Pn?Pn.value:Pn.textContent,mr=!0)),we=ls(I,Ee),0<we.length&&(Ee=new Va(Ee,e,null,n,J),q.push({event:Ee,listeners:we}),Se?Ee.data=Se:(Se=Ga(n),Se!==null&&(Ee.data=Se)))),(Se=zf?Af(e,n):Bf(e,n))&&(I=ls(I,"onBeforeInput"),0<I.length&&(J=new Va("onBeforeInput","beforeinput",null,n,J),q.push({event:J,listeners:I}),J.data=Se))}gc(q,t)})}function co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ls(e,t){for(var n=t+"Capture",o=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vr(e,n),i!=null&&o.unshift(co(e,i,s)),i=Vr(e,t),i!=null&&o.push(co(e,i,s))),e=e.return}return o}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yc(e,t,n,o,s){for(var i=t._reactName,d=[];n!==null&&n!==o;){var v=n,C=v.alternate,I=v.stateNode;if(C!==null&&C===o)break;v.tag===5&&I!==null&&(v=I,s?(C=Vr(n,i),C!=null&&d.unshift(co(n,C,v))):s||(C=Vr(n,i),C!=null&&d.push(co(n,C,v)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Zf=/\r\n?/g,ep=/\u0000|\uFFFD/g;function vc(e){return(typeof e=="string"?e:""+e).replace(Zf,`
`).replace(ep,"")}function is(e,t,n){if(t=vc(t),vc(e)!==t&&n)throw Error(a(425))}function as(){}var Il=null,zl=null;function Al(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,tp=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,np=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(e){return kc.resolve(null).then(e).catch(rp)}:Bl;function rp(e){setTimeout(function(){throw e})}function Fl(e,t){var n=t,o=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(o===0){e.removeChild(s),Zr(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=s}while(n);Zr(t)}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),nn="__reactFiber$"+vr,uo="__reactProps$"+vr,gn="__reactContainer$"+vr,Ol="__reactEvents$"+vr,op="__reactListeners$"+vr,sp="__reactHandles$"+vr;function Xn(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jc(e);e!==null;){if(n=e[nn])return n;e=jc(e)}return t}e=n,n=e.parentNode}return null}function fo(e){return e=e[nn]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function cs(e){return e[uo]||null}var Ul=[],jr=-1;function zn(e){return{current:e}}function Ke(e){0>jr||(e.current=Ul[jr],Ul[jr]=null,jr--)}function Je(e,t){jr++,Ul[jr]=e.current,e.current=t}var An={},gt=zn(An),Ct=zn(!1),Zn=An;function wr(e,t){var n=e.type.contextTypes;if(!n)return An;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(e){return e=e.childContextTypes,e!=null}function us(){Ke(Ct),Ke(gt)}function wc(e,t,n){if(gt.current!==An)throw Error(a(168));Je(gt,t),Je(Ct,n)}function Sc(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(a(108,ie(e)||"Unknown",s));return M({},n,o)}function ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,Zn=gt.current,Je(gt,e),Je(Ct,Ct.current),!0}function Cc(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=Sc(e,t,Zn),o.__reactInternalMemoizedMergedChildContext=e,Ke(Ct),Ke(gt),Je(gt,e)):Ke(Ct),Je(Ct,n)}var xn=null,fs=!1,Hl=!1;function Nc(e){xn===null?xn=[e]:xn.push(e)}function lp(e){fs=!0,Nc(e)}function Bn(){if(!Hl&&xn!==null){Hl=!0;var e=0,t=Ve;try{var n=xn;for(Ve=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}xn=null,fs=!1}catch(s){throw xn!==null&&(xn=xn.slice(e+1)),Ea(dl,Bn),s}finally{Ve=t,Hl=!1}}return null}var Sr=[],Cr=0,ps=null,hs=0,It=[],zt=0,er=null,yn=1,vn="";function tr(e,t){Sr[Cr++]=hs,Sr[Cr++]=ps,ps=e,hs=t}function bc(e,t,n){It[zt++]=yn,It[zt++]=vn,It[zt++]=er,er=e;var o=yn;e=vn;var s=32-Vt(o)-1;o&=~(1<<s),n+=1;var i=32-Vt(t)+s;if(30<i){var d=s-s%5;i=(o&(1<<d)-1).toString(32),o>>=d,s-=d,yn=1<<32-Vt(t)+s|n<<s|o,vn=i+e}else yn=1<<i|n<<s|o,vn=e}function Vl(e){e.return!==null&&(tr(e,1),bc(e,1,0))}function Wl(e){for(;e===ps;)ps=Sr[--Cr],Sr[Cr]=null,hs=Sr[--Cr],Sr[Cr]=null;for(;e===er;)er=It[--zt],It[zt]=null,vn=It[--zt],It[zt]=null,yn=It[--zt],It[zt]=null}var $t=null,Lt=null,Ge=!1,Yt=null;function Ec(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _c(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Lt=In(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=er!==null?{id:yn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Lt=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jl(e){if(Ge){var t=Lt;if(t){var n=t;if(!_c(e,t)){if(Yl(e))throw Error(a(418));t=In(n.nextSibling);var o=$t;t&&_c(e,t)?Ec(o,n):(e.flags=e.flags&-4097|2,Ge=!1,$t=e)}}else{if(Yl(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ge=!1,$t=e}}}function Tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function ms(e){if(e!==$t)return!1;if(!Ge)return Tc(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Al(e.type,e.memoizedProps)),t&&(t=Lt)){if(Yl(e))throw Mc(),Error(a(418));for(;t;)Ec(e,t),t=In(t.nextSibling)}if(Tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=In(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=$t?In(e.stateNode.nextSibling):null;return!0}function Mc(){for(var e=Lt;e;)e=In(e.nextSibling)}function Nr(){Lt=$t=null,Ge=!1}function Ql(e){Yt===null?Yt=[e]:Yt.push(e)}var ip=oe.ReactCurrentBatchConfig;function po(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var s=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(d){var v=s.refs;d===null?delete v[i]:v[i]=d},t._stringRef=i,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $c(e){var t=e._init;return t(e._payload)}function Lc(e){function t(L,_){if(e){var P=L.deletions;P===null?(L.deletions=[_],L.flags|=16):P.push(_)}}function n(L,_){if(!e)return null;for(;_!==null;)t(L,_),_=_.sibling;return null}function o(L,_){for(L=new Map;_!==null;)_.key!==null?L.set(_.key,_):L.set(_.index,_),_=_.sibling;return L}function s(L,_){return L=Jn(L,_),L.index=0,L.sibling=null,L}function i(L,_,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<_?(L.flags|=2,_):P):(L.flags|=2,_)):(L.flags|=1048576,_)}function d(L){return e&&L.alternate===null&&(L.flags|=2),L}function v(L,_,P,ee){return _===null||_.tag!==6?(_=Bi(P,L.mode,ee),_.return=L,_):(_=s(_,P),_.return=L,_)}function C(L,_,P,ee){var xe=P.type;return xe===de?J(L,_,P.props.children,ee,P.key):_!==null&&(_.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===he&&$c(xe)===_.type)?(ee=s(_,P.props),ee.ref=po(L,_,P),ee.return=L,ee):(ee=Fs(P.type,P.key,P.props,null,L.mode,ee),ee.ref=po(L,_,P),ee.return=L,ee)}function I(L,_,P,ee){return _===null||_.tag!==4||_.stateNode.containerInfo!==P.containerInfo||_.stateNode.implementation!==P.implementation?(_=Fi(P,L.mode,ee),_.return=L,_):(_=s(_,P.children||[]),_.return=L,_)}function J(L,_,P,ee,xe){return _===null||_.tag!==7?(_=cr(P,L.mode,ee,xe),_.return=L,_):(_=s(_,P),_.return=L,_)}function q(L,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Bi(""+_,L.mode,P),_.return=L,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ue:return P=Fs(_.type,_.key,_.props,null,L.mode,P),P.ref=po(L,null,_),P.return=L,P;case ne:return _=Fi(_,L.mode,P),_.return=L,_;case he:var ee=_._init;return q(L,ee(_._payload),P)}if(Tn(_)||G(_))return _=cr(_,L.mode,P,null),_.return=L,_;gs(L,_)}return null}function Y(L,_,P,ee){var xe=_!==null?_.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return xe!==null?null:v(L,_,""+P,ee);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ue:return P.key===xe?C(L,_,P,ee):null;case ne:return P.key===xe?I(L,_,P,ee):null;case he:return xe=P._init,Y(L,_,xe(P._payload),ee)}if(Tn(P)||G(P))return xe!==null?null:J(L,_,P,ee,null);gs(L,P)}return null}function ae(L,_,P,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return L=L.get(P)||null,v(_,L,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ue:return L=L.get(ee.key===null?P:ee.key)||null,C(_,L,ee,xe);case ne:return L=L.get(ee.key===null?P:ee.key)||null,I(_,L,ee,xe);case he:var we=ee._init;return ae(L,_,P,we(ee._payload),xe)}if(Tn(ee)||G(ee))return L=L.get(P)||null,J(_,L,ee,xe,null);gs(_,ee)}return null}function fe(L,_,P,ee){for(var xe=null,we=null,Se=_,Ee=_=0,ut=null;Se!==null&&Ee<P.length;Ee++){Se.index>Ee?(ut=Se,Se=null):ut=Se.sibling;var He=Y(L,Se,P[Ee],ee);if(He===null){Se===null&&(Se=ut);break}e&&Se&&He.alternate===null&&t(L,Se),_=i(He,_,Ee),we===null?xe=He:we.sibling=He,we=He,Se=ut}if(Ee===P.length)return n(L,Se),Ge&&tr(L,Ee),xe;if(Se===null){for(;Ee<P.length;Ee++)Se=q(L,P[Ee],ee),Se!==null&&(_=i(Se,_,Ee),we===null?xe=Se:we.sibling=Se,we=Se);return Ge&&tr(L,Ee),xe}for(Se=o(L,Se);Ee<P.length;Ee++)ut=ae(Se,L,Ee,P[Ee],ee),ut!==null&&(e&&ut.alternate!==null&&Se.delete(ut.key===null?Ee:ut.key),_=i(ut,_,Ee),we===null?xe=ut:we.sibling=ut,we=ut);return e&&Se.forEach(function(Qn){return t(L,Qn)}),Ge&&tr(L,Ee),xe}function me(L,_,P,ee){var xe=G(P);if(typeof xe!="function")throw Error(a(150));if(P=xe.call(P),P==null)throw Error(a(151));for(var we=xe=null,Se=_,Ee=_=0,ut=null,He=P.next();Se!==null&&!He.done;Ee++,He=P.next()){Se.index>Ee?(ut=Se,Se=null):ut=Se.sibling;var Qn=Y(L,Se,He.value,ee);if(Qn===null){Se===null&&(Se=ut);break}e&&Se&&Qn.alternate===null&&t(L,Se),_=i(Qn,_,Ee),we===null?xe=Qn:we.sibling=Qn,we=Qn,Se=ut}if(He.done)return n(L,Se),Ge&&tr(L,Ee),xe;if(Se===null){for(;!He.done;Ee++,He=P.next())He=q(L,He.value,ee),He!==null&&(_=i(He,_,Ee),we===null?xe=He:we.sibling=He,we=He);return Ge&&tr(L,Ee),xe}for(Se=o(L,Se);!He.done;Ee++,He=P.next())He=ae(Se,L,Ee,He.value,ee),He!==null&&(e&&He.alternate!==null&&Se.delete(He.key===null?Ee:He.key),_=i(He,_,Ee),we===null?xe=He:we.sibling=He,we=He);return e&&Se.forEach(function(Fp){return t(L,Fp)}),Ge&&tr(L,Ee),xe}function rt(L,_,P,ee){if(typeof P=="object"&&P!==null&&P.type===de&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case ue:e:{for(var xe=P.key,we=_;we!==null;){if(we.key===xe){if(xe=P.type,xe===de){if(we.tag===7){n(L,we.sibling),_=s(we,P.props.children),_.return=L,L=_;break e}}else if(we.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===he&&$c(xe)===we.type){n(L,we.sibling),_=s(we,P.props),_.ref=po(L,we,P),_.return=L,L=_;break e}n(L,we);break}else t(L,we);we=we.sibling}P.type===de?(_=cr(P.props.children,L.mode,ee,P.key),_.return=L,L=_):(ee=Fs(P.type,P.key,P.props,null,L.mode,ee),ee.ref=po(L,_,P),ee.return=L,L=ee)}return d(L);case ne:e:{for(we=P.key;_!==null;){if(_.key===we)if(_.tag===4&&_.stateNode.containerInfo===P.containerInfo&&_.stateNode.implementation===P.implementation){n(L,_.sibling),_=s(_,P.children||[]),_.return=L,L=_;break e}else{n(L,_);break}else t(L,_);_=_.sibling}_=Fi(P,L.mode,ee),_.return=L,L=_}return d(L);case he:return we=P._init,rt(L,_,we(P._payload),ee)}if(Tn(P))return fe(L,_,P,ee);if(G(P))return me(L,_,P,ee);gs(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,_!==null&&_.tag===6?(n(L,_.sibling),_=s(_,P),_.return=L,L=_):(n(L,_),_=Bi(P,L.mode,ee),_.return=L,L=_),d(L)):n(L,_)}return rt}var br=Lc(!0),Rc=Lc(!1),xs=zn(null),ys=null,Er=null,Kl=null;function Gl(){Kl=Er=ys=null}function ql(e){var t=xs.current;Ke(xs),e._currentValue=t}function Xl(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function _r(e,t){ys=e,Kl=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(bt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Kl!==e)if(e={context:e,memoizedValue:t,next:null},Er===null){if(ys===null)throw Error(a(308));Er=e,ys.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return t}var nr=null;function Zl(e){nr===null?nr=[e]:nr.push(e)}function Pc(e,t,n,o){var s=t.interleaved;return s===null?(n.next=n,Zl(t)):(n.next=s.next,s.next=n),t.interleaved=n,kn(e,o)}function kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fn=!1;function ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ue&2)!==0){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,kn(e,n)}return s=o.interleaved,s===null?(t.next=t,Zl(o)):(t.next=s.next,s.next=t),o.interleaved=t,kn(e,n)}function vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,hl(e,n)}}function Ic(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=d:i=i.next=d,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ks(e,t,n,o){var s=e.updateQueue;Fn=!1;var i=s.firstBaseUpdate,d=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var C=v,I=C.next;C.next=null,d===null?i=I:d.next=I,d=C;var J=e.alternate;J!==null&&(J=J.updateQueue,v=J.lastBaseUpdate,v!==d&&(v===null?J.firstBaseUpdate=I:v.next=I,J.lastBaseUpdate=C))}if(i!==null){var q=s.baseState;d=0,J=I=C=null,v=i;do{var Y=v.lane,ae=v.eventTime;if((o&Y)===Y){J!==null&&(J=J.next={eventTime:ae,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var fe=e,me=v;switch(Y=t,ae=n,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){q=fe.call(ae,q,Y);break e}q=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,Y=typeof fe=="function"?fe.call(ae,q,Y):fe,Y==null)break e;q=M({},q,Y);break e;case 2:Fn=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,Y=s.effects,Y===null?s.effects=[v]:Y.push(v))}else ae={eventTime:ae,lane:Y,tag:v.tag,payload:v.payload,callback:v.callback,next:null},J===null?(I=J=ae,C=q):J=J.next=ae,d|=Y;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;Y=v,v=Y.next,Y.next=null,s.lastBaseUpdate=Y,s.shared.pending=null}}while(!0);if(J===null&&(C=q),s.baseState=C,s.firstBaseUpdate=I,s.lastBaseUpdate=J,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sr|=d,e.lanes=d,e.memoizedState=q}}function zc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=n,typeof s!="function")throw Error(a(191,s));s.call(o)}}}var ho={},rn=zn(ho),mo=zn(ho),go=zn(ho);function rr(e){if(e===ho)throw Error(a(174));return e}function ti(e,t){switch(Je(go,t),Je(mo,e),Je(rn,ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pt(t,e)}Ke(rn),Je(rn,t)}function Tr(){Ke(rn),Ke(mo),Ke(go)}function Ac(e){rr(go.current);var t=rr(rn.current),n=pt(t,e.type);t!==n&&(Je(mo,e),Je(rn,n))}function ni(e){mo.current===e&&(Ke(rn),Ke(mo))}var Xe=zn(0);function js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function oi(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var ws=oe.ReactCurrentDispatcher,si=oe.ReactCurrentBatchConfig,or=0,Ze=null,st=null,at=null,Ss=!1,xo=!1,yo=0,ap=0;function xt(){throw Error(a(321))}function li(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function ii(e,t,n,o,s,i){if(or=i,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ws.current=e===null||e.memoizedState===null?fp:pp,e=n(o,s),xo){i=0;do{if(xo=!1,yo=0,25<=i)throw Error(a(301));i+=1,at=st=null,t.updateQueue=null,ws.current=hp,e=n(o,s)}while(xo)}if(ws.current=bs,t=st!==null&&st.next!==null,or=0,at=st=Ze=null,Ss=!1,t)throw Error(a(300));return e}function ai(){var e=yo!==0;return yo=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ze.memoizedState=at=e:at=at.next=e,at}function Bt(){if(st===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=at===null?Ze.memoizedState:at.next;if(t!==null)at=t,st=e;else{if(e===null)throw Error(a(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},at===null?Ze.memoizedState=at=e:at=at.next=e}return at}function vo(e,t){return typeof t=="function"?t(e):t}function ci(e){var t=Bt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var o=st,s=o.baseQueue,i=n.pending;if(i!==null){if(s!==null){var d=s.next;s.next=i.next,i.next=d}o.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,o=o.baseState;var v=d=null,C=null,I=i;do{var J=I.lane;if((or&J)===J)C!==null&&(C=C.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),o=I.hasEagerState?I.eagerState:e(o,I.action);else{var q={lane:J,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};C===null?(v=C=q,d=o):C=C.next=q,Ze.lanes|=J,sr|=J}I=I.next}while(I!==null&&I!==i);C===null?d=o:C.next=v,Wt(o,t.memoizedState)||(bt=!0),t.memoizedState=o,t.baseState=d,t.baseQueue=C,n.lastRenderedState=o}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ze.lanes|=i,sr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ui(e){var t=Bt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var d=s=s.next;do i=e(i,d.action),d=d.next;while(d!==s);Wt(i,t.memoizedState)||(bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Bc(){}function Fc(e,t){var n=Ze,o=Bt(),s=t(),i=!Wt(o.memoizedState,s);if(i&&(o.memoizedState=s,bt=!0),o=o.queue,di(Hc.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,ko(9,Uc.bind(null,n,o,s,t),void 0,null),ct===null)throw Error(a(349));(or&30)!==0||Oc(n,t,s)}return s}function Oc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uc(e,t,n,o){t.value=n,t.getSnapshot=o,Vc(t)&&Wc(e)}function Hc(e,t,n){return n(function(){Vc(t)&&Wc(e)})}function Vc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function Wc(e){var t=kn(e,1);t!==null&&Gt(t,e,1,-1)}function Yc(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=dp.bind(null,Ze,e),[t.memoizedState,e]}function ko(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Jc(){return Bt().memoizedState}function Cs(e,t,n,o){var s=on();Ze.flags|=e,s.memoizedState=ko(1|t,n,void 0,o===void 0?null:o)}function Ns(e,t,n,o){var s=Bt();o=o===void 0?null:o;var i=void 0;if(st!==null){var d=st.memoizedState;if(i=d.destroy,o!==null&&li(o,d.deps)){s.memoizedState=ko(t,n,i,o);return}}Ze.flags|=e,s.memoizedState=ko(1|t,n,i,o)}function Qc(e,t){return Cs(8390656,8,e,t)}function di(e,t){return Ns(2048,8,e,t)}function Kc(e,t){return Ns(4,2,e,t)}function Gc(e,t){return Ns(4,4,e,t)}function qc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xc(e,t,n){return n=n!=null?n.concat([e]):null,Ns(4,4,qc.bind(null,t,e),n)}function fi(){}function Zc(e,t){var n=Bt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&li(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function eu(e,t){var n=Bt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&li(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function tu(e,t,n){return(or&21)===0?(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n):(Wt(n,t)||(n=$a(),Ze.lanes|=n,sr|=n,e.baseState=!0),t)}function cp(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var o=si.transition;si.transition={};try{e(!1),t()}finally{Ve=n,si.transition=o}}function nu(){return Bt().memoizedState}function up(e,t,n){var o=Wn(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))ou(t,n);else if(n=Pc(e,t,n,o),n!==null){var s=wt();Gt(n,e,o,s),su(n,t,o)}}function dp(e,t,n){var o=Wn(e),s={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))ou(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var d=t.lastRenderedState,v=i(d,n);if(s.hasEagerState=!0,s.eagerState=v,Wt(v,d)){var C=t.interleaved;C===null?(s.next=s,Zl(t)):(s.next=C.next,C.next=s),t.interleaved=s;return}}catch{}finally{}n=Pc(e,t,s,o),n!==null&&(s=wt(),Gt(n,e,o,s),su(n,t,o))}}function ru(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function ou(e,t){xo=Ss=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function su(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,hl(e,n)}}var bs={readContext:At,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},fp={readContext:At,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Qc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4194308,4,qc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=on();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=up.bind(null,Ze,e),[o.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:Yc,useDebugValue:fi,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=Yc(!1),t=e[0];return e=cp.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Ze,s=on();if(Ge){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),ct===null)throw Error(a(349));(or&30)!==0||Oc(o,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Qc(Hc.bind(null,o,i,e),[e]),o.flags|=2048,ko(9,Uc.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=on(),t=ct.identifierPrefix;if(Ge){var n=vn,o=yn;n=(o&~(1<<32-Vt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=yo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ap++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pp={readContext:At,useCallback:Zc,useContext:At,useEffect:di,useImperativeHandle:Xc,useInsertionEffect:Kc,useLayoutEffect:Gc,useMemo:eu,useReducer:ci,useRef:Jc,useState:function(){return ci(vo)},useDebugValue:fi,useDeferredValue:function(e){var t=Bt();return tu(t,st.memoizedState,e)},useTransition:function(){var e=ci(vo)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Bc,useSyncExternalStore:Fc,useId:nu,unstable_isNewReconciler:!1},hp={readContext:At,useCallback:Zc,useContext:At,useEffect:di,useImperativeHandle:Xc,useInsertionEffect:Kc,useLayoutEffect:Gc,useMemo:eu,useReducer:ui,useRef:Jc,useState:function(){return ui(vo)},useDebugValue:fi,useDeferredValue:function(e){var t=Bt();return st===null?t.memoizedState=e:tu(t,st.memoizedState,e)},useTransition:function(){var e=ui(vo)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Bc,useSyncExternalStore:Fc,useId:nu,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pi(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Es={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=wt(),s=Wn(e),i=jn(o,s);i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(Gt(t,e,s,o),vs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=wt(),s=Wn(e),i=jn(o,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(Gt(t,e,s,o),vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),o=Wn(e),s=jn(n,o);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,o),t!==null&&(Gt(t,e,o,n),vs(t,e,o))}};function lu(e,t,n,o,s,i,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,d):t.prototype&&t.prototype.isPureReactComponent?!so(n,o)||!so(s,i):!0}function iu(e,t,n){var o=!1,s=An,i=t.contextType;return typeof i=="object"&&i!==null?i=At(i):(s=Nt(t)?Zn:gt.current,o=t.contextTypes,i=(o=o!=null)?wr(e,s):An),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Es,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function au(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Es.enqueueReplaceState(t,t.state,null)}function hi(e,t,n,o){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ei(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=At(i):(i=Nt(t)?Zn:gt.current,s.context=wr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pi(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Es.enqueueReplaceState(s,s.state,null),ks(e,n,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",o=t;do n+=D(o),o=o.return;while(o);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function mi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mp=typeof WeakMap=="function"?WeakMap:Map;function cu(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Ps||(Ps=!0,$i=o),gi(e,t)},n}function uu(e,t,n){n=jn(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;n.payload=function(){return o(s)},n.callback=function(){gi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gi(e,t),typeof o!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function du(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new mp;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(n)||(s.add(n),e=Tp.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pu(e,t,n,o,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,On(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var gp=oe.ReactCurrentOwner,bt=!1;function jt(e,t,n,o){t.child=e===null?Rc(t,null,n,o):br(t,e.child,n,o)}function hu(e,t,n,o,s){n=n.render;var i=t.ref;return _r(t,s),o=ii(e,t,n,o,i,s),n=ai(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(Ge&&n&&Vl(t),t.flags|=1,jt(e,t,o,s),t.child)}function mu(e,t,n,o,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ai(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gu(e,t,i,o,s)):(e=Fs(n.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&s)===0){var d=i.memoizedProps;if(n=n.compare,n=n!==null?n:so,n(d,o)&&e.ref===t.ref)return wn(e,t,s)}return t.flags|=1,e=Jn(i,o),e.ref=t.ref,e.return=t,t.child=e}function gu(e,t,n,o,s){if(e!==null){var i=e.memoizedProps;if(so(i,o)&&e.ref===t.ref)if(bt=!1,t.pendingProps=o=i,(e.lanes&s)!==0)(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,wn(e,t,s)}return xi(e,t,n,o,s)}function xu(e,t,n){var o=t.pendingProps,s=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Lr,Rt),Rt|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(Lr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,Je(Lr,Rt),Rt|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,Je(Lr,Rt),Rt|=o;return jt(e,t,s,n),t.child}function yu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xi(e,t,n,o,s){var i=Nt(n)?Zn:gt.current;return i=wr(t,i),_r(t,s),n=ii(e,t,n,o,i,s),o=ai(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(Ge&&o&&Vl(t),t.flags|=1,jt(e,t,n,s),t.child)}function vu(e,t,n,o,s){if(Nt(n)){var i=!0;ds(t)}else i=!1;if(_r(t,s),t.stateNode===null)Ts(e,t),iu(t,n,o),hi(t,n,o,s),o=!0;else if(e===null){var d=t.stateNode,v=t.memoizedProps;d.props=v;var C=d.context,I=n.contextType;typeof I=="object"&&I!==null?I=At(I):(I=Nt(n)?Zn:gt.current,I=wr(t,I));var J=n.getDerivedStateFromProps,q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function";q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==o||C!==I)&&au(t,d,o,I),Fn=!1;var Y=t.memoizedState;d.state=Y,ks(t,o,d,s),C=t.memoizedState,v!==o||Y!==C||Ct.current||Fn?(typeof J=="function"&&(pi(t,n,J,o),C=t.memoizedState),(v=Fn||lu(t,n,v,o,Y,C,I))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=C),d.props=o,d.state=C,d.context=I,o=v):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,Dc(e,t),v=t.memoizedProps,I=t.type===t.elementType?v:Jt(t.type,v),d.props=I,q=t.pendingProps,Y=d.context,C=n.contextType,typeof C=="object"&&C!==null?C=At(C):(C=Nt(n)?Zn:gt.current,C=wr(t,C));var ae=n.getDerivedStateFromProps;(J=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==q||Y!==C)&&au(t,d,o,C),Fn=!1,Y=t.memoizedState,d.state=Y,ks(t,o,d,s);var fe=t.memoizedState;v!==q||Y!==fe||Ct.current||Fn?(typeof ae=="function"&&(pi(t,n,ae,o),fe=t.memoizedState),(I=Fn||lu(t,n,I,o,Y,fe,C)||!1)?(J||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,fe,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,fe,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=fe),d.props=o,d.state=fe,d.context=C,o=I):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),o=!1)}return yi(e,t,n,o,i,s)}function yi(e,t,n,o,s,i){yu(e,t);var d=(t.flags&128)!==0;if(!o&&!d)return s&&Cc(t,n,!1),wn(e,t,i);o=t.stateNode,gp.current=t;var v=d&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&d?(t.child=br(t,e.child,null,i),t.child=br(t,null,v,i)):jt(e,t,v,i),t.memoizedState=o.state,s&&Cc(t,n,!0),t.child}function ku(e){var t=e.stateNode;t.pendingContext?wc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wc(e,t.context,!1),ti(e,t.containerInfo)}function ju(e,t,n,o,s){return Nr(),Ql(s),t.flags|=256,jt(e,t,n,o),t.child}var vi={dehydrated:null,treeContext:null,retryLane:0};function ki(e){return{baseLanes:e,cachePool:null,transitions:null}}function wu(e,t,n){var o=t.pendingProps,s=Xe.current,i=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(s&2)!==0),v?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Je(Xe,s&1),e===null)return Jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=o.children,e=o.fallback,i?(o=t.mode,i=t.child,d={mode:"hidden",children:d},(o&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=d):i=Os(d,o,0,null),e=cr(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ki(n),t.memoizedState=vi,e):ji(t,d));if(s=e.memoizedState,s!==null&&(v=s.dehydrated,v!==null))return xp(e,t,d,o,v,s,n);if(i){i=o.fallback,d=t.mode,s=e.child,v=s.sibling;var C={mode:"hidden",children:o.children};return(d&1)===0&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=C,t.deletions=null):(o=Jn(s,C),o.subtreeFlags=s.subtreeFlags&14680064),v!==null?i=Jn(v,i):(i=cr(i,d,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,d=e.child.memoizedState,d=d===null?ki(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},i.memoizedState=d,i.childLanes=e.childLanes&~n,t.memoizedState=vi,o}return i=e.child,e=i.sibling,o=Jn(i,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ji(e,t){return t=Os({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _s(e,t,n,o){return o!==null&&Ql(o),br(t,e.child,null,n),e=ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xp(e,t,n,o,s,i,d){if(n)return t.flags&256?(t.flags&=-257,o=mi(Error(a(422))),_s(e,t,d,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,s=t.mode,o=Os({mode:"visible",children:o.children},s,0,null),i=cr(i,s,d,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,(t.mode&1)!==0&&br(t,e.child,null,d),t.child.memoizedState=ki(d),t.memoizedState=vi,i);if((t.mode&1)===0)return _s(e,t,d,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var v=o.dgst;return o=v,i=Error(a(419)),o=mi(i,o,void 0),_s(e,t,d,o)}if(v=(d&e.childLanes)!==0,bt||v){if(o=ct,o!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(o.suspendedLanes|d))!==0?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kn(e,s),Gt(o,e,s,-1))}return zi(),o=mi(Error(a(421))),_s(e,t,d,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Lt=In(s.nextSibling),$t=t,Ge=!0,Yt=null,e!==null&&(It[zt++]=yn,It[zt++]=vn,It[zt++]=er,yn=e.id,vn=e.overflow,er=t),t=ji(t,o.children),t.flags|=4096,t)}function Su(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Xl(e.return,t,n)}function wi(e,t,n,o,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=s)}function Cu(e,t,n){var o=t.pendingProps,s=o.revealOrder,i=o.tail;if(jt(e,t,o.children,n),o=Xe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Su(e,n,t);else if(e.tag===19)Su(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Je(Xe,o),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&js(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&js(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wi(t,!0,n,null,i);break;case"together":wi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ts(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yp(e,t,n){switch(t.tag){case 3:ku(t),Nr();break;case 5:Ac(t);break;case 1:Nt(t.type)&&ds(t);break;case 4:ti(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;Je(xs,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Je(Xe,Xe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?wu(e,t,n):(Je(Xe,Xe.current&1),e=wn(e,t,n),e!==null?e.sibling:null);Je(Xe,Xe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Cu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(Xe,Xe.current),o)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return wn(e,t,n)}var Nu,Si,bu,Eu;Nu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Si=function(){},bu=function(e,t,n,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,rr(rn.current);var i=null;switch(n){case"input":s=Te(e,s),o=Te(e,o),i=[];break;case"select":s=M({},s,{value:void 0}),o=M({},o,{value:void 0}),i=[];break;case"textarea":s=it(e,s),o=it(e,o),i=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=as)}Z(n,o);var d;n=null;for(I in s)if(!o.hasOwnProperty(I)&&s.hasOwnProperty(I)&&s[I]!=null)if(I==="style"){var v=s[I];for(d in v)v.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(f.hasOwnProperty(I)?i||(i=[]):(i=i||[]).push(I,null));for(I in o){var C=o[I];if(v=s?.[I],o.hasOwnProperty(I)&&C!==v&&(C!=null||v!=null))if(I==="style")if(v){for(d in v)!v.hasOwnProperty(d)||C&&C.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in C)C.hasOwnProperty(d)&&v[d]!==C[d]&&(n||(n={}),n[d]=C[d])}else n||(i||(i=[]),i.push(I,n)),n=C;else I==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,v=v?v.__html:void 0,C!=null&&v!==C&&(i=i||[]).push(I,C)):I==="children"?typeof C!="string"&&typeof C!="number"||(i=i||[]).push(I,""+C):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(f.hasOwnProperty(I)?(C!=null&&I==="onScroll"&&Qe("scroll",e),i||v===C||(i=[])):(i=i||[]).push(I,C))}n&&(i=i||[]).push("style",n);var I=i;(t.updateQueue=I)&&(t.flags|=4)}},Eu=function(e,t,n,o){n!==o&&(t.flags|=4)};function jo(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function vp(e,t,n){var o=t.pendingProps;switch(Wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Nt(t.type)&&us(),yt(t),null;case 3:return o=t.stateNode,Tr(),Ke(Ct),Ke(gt),oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Yt!==null&&(Pi(Yt),Yt=null))),Si(e,t),yt(t),null;case 5:ni(t);var s=rr(go.current);if(n=t.type,e!==null&&t.stateNode!=null)bu(e,t,n,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(a(166));return yt(t),null}if(e=rr(rn.current),ms(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[nn]=t,o[uo]=i,e=(t.mode&1)!==0,n){case"dialog":Qe("cancel",o),Qe("close",o);break;case"iframe":case"object":case"embed":Qe("load",o);break;case"video":case"audio":for(s=0;s<io.length;s++)Qe(io[s],o);break;case"source":Qe("error",o);break;case"img":case"image":case"link":Qe("error",o),Qe("load",o);break;case"details":Qe("toggle",o);break;case"input":be(o,i),Qe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",o);break;case"textarea":dr(o,i),Qe("invalid",o)}Z(n,i),s=null;for(var d in i)if(i.hasOwnProperty(d)){var v=i[d];d==="children"?typeof v=="string"?o.textContent!==v&&(i.suppressHydrationWarning!==!0&&is(o.textContent,v,e),s=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(i.suppressHydrationWarning!==!0&&is(o.textContent,v,e),s=["children",""+v]):f.hasOwnProperty(d)&&v!=null&&d==="onScroll"&&Qe("scroll",o)}switch(n){case"input":le(o),Le(o,i,!0);break;case"textarea":le(o),Fo(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=as)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(n,{is:o.is}):(e=d.createElement(n),n==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,n),e[nn]=t,e[uo]=o,Nu(e,t,!1,!1),t.stateNode=e;e:{switch(d=pe(n,o),n){case"dialog":Qe("cancel",e),Qe("close",e),s=o;break;case"iframe":case"object":case"embed":Qe("load",e),s=o;break;case"video":case"audio":for(s=0;s<io.length;s++)Qe(io[s],e);s=o;break;case"source":Qe("error",e),s=o;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=o;break;case"details":Qe("toggle",e),s=o;break;case"input":be(e,o),s=Te(e,o),Qe("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=M({},o,{value:void 0}),Qe("invalid",e);break;case"textarea":dr(e,o),s=it(e,o),Qe("invalid",e);break;default:s=o}Z(n,s),v=s;for(i in v)if(v.hasOwnProperty(i)){var C=v[i];i==="style"?Q(e,C):i==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&ht(e,C)):i==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&Gn(e,C):typeof C=="number"&&Gn(e,""+C):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(f.hasOwnProperty(i)?C!=null&&i==="onScroll"&&Qe("scroll",e):C!=null&&X(e,i,C,d))}switch(n){case"input":le(e),Le(e,o,!1);break;case"textarea":le(e),Fo(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ke(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?en(e,!!o.multiple,i,!1):o.defaultValue!=null&&en(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=as)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Eu(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(a(166));if(n=rr(go.current),rr(rn.current),ms(t)){if(o=t.stateNode,n=t.memoizedProps,o[nn]=t,(i=o.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:is(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&is(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[nn]=t,t.stateNode=o}return yt(t),null;case 13:if(Ke(Xe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&Lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Mc(),Nr(),t.flags|=98560,i=!1;else if(i=ms(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(a(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));i[nn]=t}else Nr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),i=!1}else Yt!==null&&(Pi(Yt),Yt=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Xe.current&1)!==0?lt===0&&(lt=3):zi())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Tr(),Si(e,t),e===null&&ao(t.stateNode.containerInfo),yt(t),null;case 10:return ql(t.type._context),yt(t),null;case 17:return Nt(t.type)&&us(),yt(t),null;case 19:if(Ke(Xe),i=t.memoizedState,i===null)return yt(t),null;if(o=(t.flags&128)!==0,d=i.rendering,d===null)if(o)jo(i,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=js(e),d!==null){for(t.flags|=128,jo(i,!1),o=d.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,d=i.alternate,d===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,e=d.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Je(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&nt()>Rr&&(t.flags|=128,o=!0,jo(i,!1),t.lanes=4194304)}else{if(!o)if(e=js(d),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Ge)return yt(t),null}else 2*nt()-i.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,o=!0,jo(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(n=i.last,n!==null?n.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nt(),t.sibling=null,n=Xe.current,Je(Xe,o?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return Ii(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function kp(e,t){switch(Wl(t),t.tag){case 1:return Nt(t.type)&&us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),Ke(Ct),Ke(gt),oi(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ni(t),null;case 13:if(Ke(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Xe),null;case 4:return Tr(),null;case 10:return ql(t.type._context),null;case 22:case 23:return Ii(),null;case 24:return null;default:return null}}var Ms=!1,vt=!1,jp=typeof WeakSet=="function"?WeakSet:Set,ce=null;function $r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){tt(e,t,o)}else n.current=null}function Ci(e,t,n){try{n()}catch(o){tt(e,t,o)}}var _u=!1;function wp(e,t){if(Il=Go,e=lc(),_l(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var s=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var d=0,v=-1,C=-1,I=0,J=0,q=e,Y=null;t:for(;;){for(var ae;q!==n||s!==0&&q.nodeType!==3||(v=d+s),q!==i||o!==0&&q.nodeType!==3||(C=d+o),q.nodeType===3&&(d+=q.nodeValue.length),(ae=q.firstChild)!==null;)Y=q,q=ae;for(;;){if(q===e)break t;if(Y===n&&++I===s&&(v=d),Y===i&&++J===o&&(C=d),(ae=q.nextSibling)!==null)break;q=Y,Y=q.parentNode}q=ae}n=v===-1||C===-1?null:{start:v,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(zl={focusedElem:e,selectionRange:n},Go=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var fe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,rt=fe.memoizedState,L=t.stateNode,_=L.getSnapshotBeforeUpdate(t.elementType===t.type?me:Jt(t.type,me),rt);L.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ee){tt(t,t.return,ee)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return fe=_u,_u=!1,fe}function wo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ci(t,n,i)}s=s.next}while(s!==o)}}function $s(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Ni(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tu(e){var t=e.alternate;t!==null&&(e.alternate=null,Tu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[uo],delete t[Ol],delete t[op],delete t[sp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mu(e){return e.tag===5||e.tag===3||e.tag===4}function $u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bi(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=as));else if(o!==4&&(e=e.child,e!==null))for(bi(e,t,n),e=e.sibling;e!==null;)bi(e,t,n),e=e.sibling}function Ei(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ei(e,t,n),e=e.sibling;e!==null;)Ei(e,t,n),e=e.sibling}var dt=null,Qt=!1;function Un(e,t,n){for(n=n.child;n!==null;)Lu(e,t,n),n=n.sibling}function Lu(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:vt||$r(n,t);case 6:var o=dt,s=Qt;dt=null,Un(e,t,n),dt=o,Qt=s,dt!==null&&(Qt?(e=dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Qt?(e=dt,n=n.stateNode,e.nodeType===8?Fl(e.parentNode,n):e.nodeType===1&&Fl(e,n),Zr(e)):Fl(dt,n.stateNode));break;case 4:o=dt,s=Qt,dt=n.stateNode.containerInfo,Qt=!0,Un(e,t,n),dt=o,Qt=s;break;case 0:case 11:case 14:case 15:if(!vt&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var i=s,d=i.destroy;i=i.tag,d!==void 0&&((i&2)!==0||(i&4)!==0)&&Ci(n,t,d),s=s.next}while(s!==o)}Un(e,t,n);break;case 1:if(!vt&&($r(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){tt(n,t,v)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(vt=(o=vt)||n.memoizedState!==null,Un(e,t,n),vt=o):Un(e,t,n);break;default:Un(e,t,n)}}function Ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jp),t.forEach(function(o){var s=$p.bind(null,e,o);n.has(o)||(n.add(o),o.then(s,s))})}}function Kt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];try{var i=e,d=t,v=d;e:for(;v!==null;){switch(v.tag){case 5:dt=v.stateNode,Qt=!1;break e;case 3:dt=v.stateNode.containerInfo,Qt=!0;break e;case 4:dt=v.stateNode.containerInfo,Qt=!0;break e}v=v.return}if(dt===null)throw Error(a(160));Lu(i,d,s),dt=null,Qt=!1;var C=s.alternate;C!==null&&(C.return=null),s.return=null}catch(I){tt(s,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pu(t,e),t=t.sibling}function Pu(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),sn(e),o&4){try{wo(3,e,e.return),$s(3,e)}catch(me){tt(e,e.return,me)}try{wo(5,e,e.return)}catch(me){tt(e,e.return,me)}}break;case 1:Kt(t,e),sn(e),o&512&&n!==null&&$r(n,n.return);break;case 5:if(Kt(t,e),sn(e),o&512&&n!==null&&$r(n,n.return),e.flags&32){var s=e.stateNode;try{Gn(s,"")}catch(me){tt(e,e.return,me)}}if(o&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,d=n!==null?n.memoizedProps:i,v=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{v==="input"&&i.type==="radio"&&i.name!=null&&We(s,i),pe(v,d);var I=pe(v,i);for(d=0;d<C.length;d+=2){var J=C[d],q=C[d+1];J==="style"?Q(s,q):J==="dangerouslySetInnerHTML"?ht(s,q):J==="children"?Gn(s,q):X(s,J,q,I)}switch(v){case"input":je(s,i);break;case"textarea":Bo(s,i);break;case"select":var Y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var ae=i.value;ae!=null?en(s,!!i.multiple,ae,!1):Y!==!!i.multiple&&(i.defaultValue!=null?en(s,!!i.multiple,i.defaultValue,!0):en(s,!!i.multiple,i.multiple?[]:"",!1))}s[uo]=i}catch(me){tt(e,e.return,me)}}break;case 6:if(Kt(t,e),sn(e),o&4){if(e.stateNode===null)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(me){tt(e,e.return,me)}}break;case 3:if(Kt(t,e),sn(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(t.containerInfo)}catch(me){tt(e,e.return,me)}break;case 4:Kt(t,e),sn(e);break;case 13:Kt(t,e),sn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mi=nt())),o&4&&Ru(e);break;case 22:if(J=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(I=vt)||J,Kt(t,e),vt=I):Kt(t,e),sn(e),o&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!J&&(e.mode&1)!==0)for(ce=e,J=e.child;J!==null;){for(q=ce=J;ce!==null;){switch(Y=ce,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:wo(4,Y,Y.return);break;case 1:$r(Y,Y.return);var fe=Y.stateNode;if(typeof fe.componentWillUnmount=="function"){o=Y,n=Y.return;try{t=o,fe.props=t.memoizedProps,fe.state=t.memoizedState,fe.componentWillUnmount()}catch(me){tt(o,n,me)}}break;case 5:$r(Y,Y.return);break;case 22:if(Y.memoizedState!==null){zu(q);continue}}ae!==null?(ae.return=Y,ce=ae):zu(q)}J=J.sibling}e:for(J=null,q=e;;){if(q.tag===5){if(J===null){J=q;try{s=q.stateNode,I?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(v=q.stateNode,C=q.memoizedProps.style,d=C!=null&&C.hasOwnProperty("display")?C.display:null,v.style.display=K("display",d))}catch(me){tt(e,e.return,me)}}}else if(q.tag===6){if(J===null)try{q.stateNode.nodeValue=I?"":q.memoizedProps}catch(me){tt(e,e.return,me)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;J===q&&(J=null),q=q.return}J===q&&(J=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Kt(t,e),sn(e),o&4&&Ru(e);break;case 21:break;default:Kt(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Mu(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(Gn(s,""),o.flags&=-33);var i=$u(e);Ei(e,i,s);break;case 3:case 4:var d=o.stateNode.containerInfo,v=$u(e);bi(e,v,d);break;default:throw Error(a(161))}}catch(C){tt(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sp(e,t,n){ce=e,Du(e)}function Du(e,t,n){for(var o=(e.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&o){var d=s.memoizedState!==null||Ms;if(!d){var v=s.alternate,C=v!==null&&v.memoizedState!==null||vt;v=Ms;var I=vt;if(Ms=d,(vt=C)&&!I)for(ce=s;ce!==null;)d=ce,C=d.child,d.tag===22&&d.memoizedState!==null?Au(s):C!==null?(C.return=d,ce=C):Au(s);for(;i!==null;)ce=i,Du(i),i=i.sibling;ce=s,Ms=v,vt=I}Iu(e)}else(s.subtreeFlags&8772)!==0&&i!==null?(i.return=s,ce=i):Iu(e)}}function Iu(e){for(;ce!==null;){var t=ce;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||$s(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!vt)if(n===null)o.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);o.componentDidUpdate(s,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&zc(t,i,o);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zc(t,d,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var J=I.memoizedState;if(J!==null){var q=J.dehydrated;q!==null&&Zr(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}vt||t.flags&512&&Ni(t)}catch(Y){tt(t,t.return,Y)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function zu(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Au(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$s(4,t)}catch(C){tt(t,n,C)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(C){tt(t,s,C)}}var i=t.return;try{Ni(t)}catch(C){tt(t,i,C)}break;case 5:var d=t.return;try{Ni(t)}catch(C){tt(t,d,C)}}}catch(C){tt(t,t.return,C)}if(t===e){ce=null;break}var v=t.sibling;if(v!==null){v.return=t.return,ce=v;break}ce=t.return}}var Cp=Math.ceil,Ls=oe.ReactCurrentDispatcher,_i=oe.ReactCurrentOwner,Ft=oe.ReactCurrentBatchConfig,Ue=0,ct=null,ot=null,ft=0,Rt=0,Lr=zn(0),lt=0,So=null,sr=0,Rs=0,Ti=0,Co=null,Et=null,Mi=0,Rr=1/0,Sn=null,Ps=!1,$i=null,Hn=null,Ds=!1,Vn=null,Is=0,No=0,Li=null,zs=-1,As=0;function wt(){return(Ue&6)!==0?nt():zs!==-1?zs:zs=nt()}function Wn(e){return(e.mode&1)===0?1:(Ue&2)!==0&&ft!==0?ft&-ft:ip.transition!==null?(As===0&&(As=$a()),As):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:Fa(e.type)),e)}function Gt(e,t,n,o){if(50<No)throw No=0,Li=null,Error(a(185));Qr(e,n,o),((Ue&2)===0||e!==ct)&&(e===ct&&((Ue&2)===0&&(Rs|=n),lt===4&&Yn(e,ft)),_t(e,o),n===1&&Ue===0&&(t.mode&1)===0&&(Rr=nt()+500,fs&&Bn()))}function _t(e,t){var n=e.callbackNode;lf(e,t);var o=Jo(e,e===ct?ft:0);if(o===0)n!==null&&_a(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&_a(n),t===1)e.tag===0?lp(Fu.bind(null,e)):Nc(Fu.bind(null,e)),np(function(){(Ue&6)===0&&Bn()}),n=null;else{switch(La(o)){case 1:n=dl;break;case 4:n=Ta;break;case 16:n=Ho;break;case 536870912:n=Ma;break;default:n=Ho}n=Qu(n,Bu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bu(e,t){if(zs=-1,As=0,(Ue&6)!==0)throw Error(a(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var o=Jo(e,e===ct?ft:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Bs(e,o);else{t=o;var s=Ue;Ue|=2;var i=Uu();(ct!==e||ft!==t)&&(Sn=null,Rr=nt()+500,ir(e,t));do try{Ep();break}catch(v){Ou(e,v)}while(!0);Gl(),Ls.current=i,Ue=s,ot!==null?t=0:(ct=null,ft=0,t=lt)}if(t!==0){if(t===2&&(s=fl(e),s!==0&&(o=s,t=Ri(e,s))),t===1)throw n=So,ir(e,0),Yn(e,o),_t(e,nt()),n;if(t===6)Yn(e,o);else{if(s=e.current.alternate,(o&30)===0&&!Np(s)&&(t=Bs(e,o),t===2&&(i=fl(e),i!==0&&(o=i,t=Ri(e,i))),t===1))throw n=So,ir(e,0),Yn(e,o),_t(e,nt()),n;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:ar(e,Et,Sn);break;case 3:if(Yn(e,o),(o&130023424)===o&&(t=Mi+500-nt(),10<t)){if(Jo(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){wt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bl(ar.bind(null,e,Et,Sn),t);break}ar(e,Et,Sn);break;case 4:if(Yn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var d=31-Vt(o);i=1<<d,d=t[d],d>s&&(s=d),o&=~i}if(o=s,o=nt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Cp(o/1960))-o,10<o){e.timeoutHandle=Bl(ar.bind(null,e,Et,Sn),o);break}ar(e,Et,Sn);break;case 5:ar(e,Et,Sn);break;default:throw Error(a(329))}}}return _t(e,nt()),e.callbackNode===n?Bu.bind(null,e):null}function Ri(e,t){var n=Co;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=Bs(e,t),e!==2&&(t=Et,Et=n,t!==null&&Pi(t)),e}function Pi(e){Et===null?Et=e:Et.push.apply(Et,e)}function Np(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var s=n[o],i=s.getSnapshot;s=s.value;try{if(!Wt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~Ti,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),o=1<<n;e[n]=-1,t&=~o}}function Fu(e){if((Ue&6)!==0)throw Error(a(327));Pr();var t=Jo(e,0);if((t&1)===0)return _t(e,nt()),null;var n=Bs(e,t);if(e.tag!==0&&n===2){var o=fl(e);o!==0&&(t=o,n=Ri(e,o))}if(n===1)throw n=So,ir(e,0),Yn(e,t),_t(e,nt()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,Et,Sn),_t(e,nt()),null}function Di(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(Rr=nt()+500,fs&&Bn())}}function lr(e){Vn!==null&&Vn.tag===0&&(Ue&6)===0&&Pr();var t=Ue;Ue|=1;var n=Ft.transition,o=Ve;try{if(Ft.transition=null,Ve=1,e)return e()}finally{Ve=o,Ft.transition=n,Ue=t,(Ue&6)===0&&Bn()}}function Ii(){Rt=Lr.current,Ke(Lr)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tp(n)),ot!==null)for(n=ot.return;n!==null;){var o=n;switch(Wl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&us();break;case 3:Tr(),Ke(Ct),Ke(gt),oi();break;case 5:ni(o);break;case 4:Tr();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:ql(o.type._context);break;case 22:case 23:Ii()}n=n.return}if(ct=e,ot=e=Jn(e.current,null),ft=Rt=t,lt=0,So=null,Ti=Rs=sr=0,Et=Co=null,nr!==null){for(t=0;t<nr.length;t++)if(n=nr[t],o=n.interleaved,o!==null){n.interleaved=null;var s=o.next,i=n.pending;if(i!==null){var d=i.next;i.next=s,o.next=d}n.pending=o}nr=null}return e}function Ou(e,t){do{var n=ot;try{if(Gl(),ws.current=bs,Ss){for(var o=Ze.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Ss=!1}if(or=0,at=st=Ze=null,xo=!1,yo=0,_i.current=null,n===null||n.return===null){lt=1,So=t,ot=null;break}e:{var i=e,d=n.return,v=n,C=t;if(t=ft,v.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=C,J=v,q=J.tag;if((J.mode&1)===0&&(q===0||q===11||q===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var ae=fu(d);if(ae!==null){ae.flags&=-257,pu(ae,d,v,i,t),ae.mode&1&&du(i,I,t),t=ae,C=I;var fe=t.updateQueue;if(fe===null){var me=new Set;me.add(C),t.updateQueue=me}else fe.add(C);break e}else{if((t&1)===0){du(i,I,t),zi();break e}C=Error(a(426))}}else if(Ge&&v.mode&1){var rt=fu(d);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),pu(rt,d,v,i,t),Ql(Mr(C,v));break e}}i=C=Mr(C,v),lt!==4&&(lt=2),Co===null?Co=[i]:Co.push(i),i=d;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var L=cu(i,C,t);Ic(i,L);break e;case 1:v=C;var _=i.type,P=i.stateNode;if((i.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Hn===null||!Hn.has(P)))){i.flags|=65536,t&=-t,i.lanes|=t;var ee=uu(i,v,t);Ic(i,ee);break e}}i=i.return}while(i!==null)}Vu(n)}catch(xe){t=xe,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function Uu(){var e=Ls.current;return Ls.current=bs,e===null?bs:e}function zi(){(lt===0||lt===3||lt===2)&&(lt=4),ct===null||(sr&268435455)===0&&(Rs&268435455)===0||Yn(ct,ft)}function Bs(e,t){var n=Ue;Ue|=2;var o=Uu();(ct!==e||ft!==t)&&(Sn=null,ir(e,t));do try{bp();break}catch(s){Ou(e,s)}while(!0);if(Gl(),Ue=n,Ls.current=o,ot!==null)throw Error(a(261));return ct=null,ft=0,lt}function bp(){for(;ot!==null;)Hu(ot)}function Ep(){for(;ot!==null&&!qd();)Hu(ot)}function Hu(e){var t=Ju(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Vu(e):ot=t,_i.current=null}function Vu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=vp(n,t,Rt),n!==null){ot=n;return}}else{if(n=kp(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,ot=null;return}}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);lt===0&&(lt=5)}function ar(e,t,n){var o=Ve,s=Ft.transition;try{Ft.transition=null,Ve=1,_p(e,t,n,o)}finally{Ft.transition=s,Ve=o}return null}function _p(e,t,n,o){do Pr();while(Vn!==null);if((Ue&6)!==0)throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(af(e,i),e===ct&&(ot=ct=null,ft=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ds||(Ds=!0,Qu(Ho,function(){return Pr(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=Ft.transition,Ft.transition=null;var d=Ve;Ve=1;var v=Ue;Ue|=4,_i.current=null,wp(e,n),Pu(n,e),Qf(zl),Go=!!Il,zl=Il=null,e.current=n,Sp(n),Xd(),Ue=v,Ve=d,Ft.transition=i}else e.current=n;if(Ds&&(Ds=!1,Vn=e,Is=s),i=e.pendingLanes,i===0&&(Hn=null),tf(n.stateNode),_t(e,nt()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],o(s.value,{componentStack:s.stack,digest:s.digest});if(Ps)throw Ps=!1,e=$i,$i=null,e;return(Is&1)!==0&&e.tag!==0&&Pr(),i=e.pendingLanes,(i&1)!==0?e===Li?No++:(No=0,Li=e):No=0,Bn(),null}function Pr(){if(Vn!==null){var e=La(Is),t=Ft.transition,n=Ve;try{if(Ft.transition=null,Ve=16>e?16:e,Vn===null)var o=!1;else{if(e=Vn,Vn=null,Is=0,(Ue&6)!==0)throw Error(a(331));var s=Ue;for(Ue|=4,ce=e.current;ce!==null;){var i=ce,d=i.child;if((ce.flags&16)!==0){var v=i.deletions;if(v!==null){for(var C=0;C<v.length;C++){var I=v[C];for(ce=I;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:wo(8,J,i)}var q=J.child;if(q!==null)q.return=J,ce=q;else for(;ce!==null;){J=ce;var Y=J.sibling,ae=J.return;if(Tu(J),J===I){ce=null;break}if(Y!==null){Y.return=ae,ce=Y;break}ce=ae}}}var fe=i.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var rt=me.sibling;me.sibling=null,me=rt}while(me!==null)}}ce=i}}if((i.subtreeFlags&2064)!==0&&d!==null)d.return=i,ce=d;else e:for(;ce!==null;){if(i=ce,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:wo(9,i,i.return)}var L=i.sibling;if(L!==null){L.return=i.return,ce=L;break e}ce=i.return}}var _=e.current;for(ce=_;ce!==null;){d=ce;var P=d.child;if((d.subtreeFlags&2064)!==0&&P!==null)P.return=d,ce=P;else e:for(d=_;ce!==null;){if(v=ce,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:$s(9,v)}}catch(xe){tt(v,v.return,xe)}if(v===d){ce=null;break e}var ee=v.sibling;if(ee!==null){ee.return=v.return,ce=ee;break e}ce=v.return}}if(Ue=s,Bn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Vo,e)}catch{}o=!0}return o}finally{Ve=n,Ft.transition=t}}return!1}function Wu(e,t,n){t=Mr(n,t),t=cu(e,t,1),e=On(e,t,1),t=wt(),e!==null&&(Qr(e,1,t),_t(e,t))}function tt(e,t,n){if(e.tag===3)Wu(e,e,n);else for(;t!==null;){if(t.tag===3){Wu(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hn===null||!Hn.has(o))){e=Mr(n,e),e=uu(t,e,1),t=On(t,e,1),e=wt(),t!==null&&(Qr(t,1,e),_t(t,e));break}}t=t.return}}function Tp(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,ct===e&&(ft&n)===n&&(lt===4||lt===3&&(ft&130023424)===ft&&500>nt()-Mi?ir(e,0):Ti|=n),_t(e,t)}function Yu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Yo,Yo<<=1,(Yo&130023424)===0&&(Yo=4194304)));var n=wt();e=kn(e,t),e!==null&&(Qr(e,t,n),_t(e,n))}function Mp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yu(e,n)}function $p(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}o!==null&&o.delete(t),Yu(e,n)}var Ju;Ju=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)bt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return bt=!1,yp(e,t,n);bt=(e.flags&131072)!==0}else bt=!1,Ge&&(t.flags&1048576)!==0&&bc(t,hs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ts(e,t),e=t.pendingProps;var s=wr(t,gt.current);_r(t,n),s=ii(null,t,o,e,s,n);var i=ai();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(o)?(i=!0,ds(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ei(t),s.updater=Es,t.stateNode=s,s._reactInternals=t,hi(t,o,e,n),t=yi(null,t,o,!0,i,n)):(t.tag=0,Ge&&i&&Vl(t),jt(null,t,s,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Ts(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=Rp(o),e=Jt(o,e),s){case 0:t=xi(null,t,o,e,n);break e;case 1:t=vu(null,t,o,e,n);break e;case 11:t=hu(null,t,o,e,n);break e;case 14:t=mu(null,t,o,Jt(o.type,e),n);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Jt(o,s),xi(e,t,o,s,n);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Jt(o,s),vu(e,t,o,s,n);case 3:e:{if(ku(t),e===null)throw Error(a(387));o=t.pendingProps,i=t.memoizedState,s=i.element,Dc(e,t),ks(t,o,null,n);var d=t.memoizedState;if(o=d.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Mr(Error(a(423)),t),t=ju(e,t,o,n,s);break e}else if(o!==s){s=Mr(Error(a(424)),t),t=ju(e,t,o,n,s);break e}else for(Lt=In(t.stateNode.containerInfo.firstChild),$t=t,Ge=!0,Yt=null,n=Rc(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),o===s){t=wn(e,t,n);break e}jt(e,t,o,n)}t=t.child}return t;case 5:return Ac(t),e===null&&Jl(t),o=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,d=s.children,Al(o,s)?d=null:i!==null&&Al(o,i)&&(t.flags|=32),yu(e,t),jt(e,t,d,n),t.child;case 6:return e===null&&Jl(t),null;case 13:return wu(e,t,n);case 4:return ti(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=br(t,null,o,n):jt(e,t,o,n),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Jt(o,s),hu(e,t,o,s,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,i=t.memoizedProps,d=s.value,Je(xs,o._currentValue),o._currentValue=d,i!==null)if(Wt(i.value,d)){if(i.children===s.children&&!Ct.current){t=wn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var v=i.dependencies;if(v!==null){d=i.child;for(var C=v.firstContext;C!==null;){if(C.context===o){if(i.tag===1){C=jn(-1,n&-n),C.tag=2;var I=i.updateQueue;if(I!==null){I=I.shared;var J=I.pending;J===null?C.next=C:(C.next=J.next,J.next=C),I.pending=C}}i.lanes|=n,C=i.alternate,C!==null&&(C.lanes|=n),Xl(i.return,n,t),v.lanes|=n;break}C=C.next}}else if(i.tag===10)d=i.type===t.type?null:i.child;else if(i.tag===18){if(d=i.return,d===null)throw Error(a(341));d.lanes|=n,v=d.alternate,v!==null&&(v.lanes|=n),Xl(d,n,t),d=i.sibling}else d=i.child;if(d!==null)d.return=i;else for(d=i;d!==null;){if(d===t){d=null;break}if(i=d.sibling,i!==null){i.return=d.return,d=i;break}d=d.return}i=d}jt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,_r(t,n),s=At(s),o=o(s),t.flags|=1,jt(e,t,o,n),t.child;case 14:return o=t.type,s=Jt(o,t.pendingProps),s=Jt(o.type,s),mu(e,t,o,s,n);case 15:return gu(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Jt(o,s),Ts(e,t),t.tag=1,Nt(o)?(e=!0,ds(t)):e=!1,_r(t,n),iu(t,o,s),hi(t,o,s,n),yi(null,t,o,!0,e,n);case 19:return Cu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};function Qu(e,t){return Ea(e,t)}function Lp(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,o){return new Lp(e,t,n,o)}function Ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rp(e){if(typeof e=="function")return Ai(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ze)return 11;if(e===Ae)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fs(e,t,n,o,s,i){var d=2;if(o=e,typeof e=="function")Ai(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case de:return cr(n.children,s,i,t);case Me:d=8,s|=8;break;case Ne:return e=Ot(12,n,t,s|2),e.elementType=Ne,e.lanes=i,e;case $e:return e=Ot(13,n,t,s),e.elementType=$e,e.lanes=i,e;case ve:return e=Ot(19,n,t,s),e.elementType=ve,e.lanes=i,e;case ge:return Os(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pe:d=10;break e;case Ie:d=9;break e;case ze:d=11;break e;case Ae:d=14;break e;case he:d=16,o=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Ot(d,n,t,s),t.elementType=e,t.type=o,t.lanes=i,t}function cr(e,t,n,o){return e=Ot(7,e,o,t),e.lanes=n,e}function Os(e,t,n,o){return e=Ot(22,e,o,t),e.elementType=ge,e.lanes=n,e.stateNode={isHidden:!1},e}function Bi(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Fi(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pp(e,t,n,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Oi(e,t,n,o,s,i,d,v,C){return e=new Pp(e,t,n,v,C),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ei(i),e}function Dp(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Ku(e){if(!e)return An;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(Nt(n))return Sc(e,n,t)}return t}function Gu(e,t,n,o,s,i,d,v,C){return e=Oi(n,o,!0,e,s,i,d,v,C),e.context=Ku(null),n=e.current,o=wt(),s=Wn(n),i=jn(o,s),i.callback=t??null,On(n,i,s),e.current.lanes=s,Qr(e,s,o),_t(e,o),e}function Us(e,t,n,o){var s=t.current,i=wt(),d=Wn(s);return n=Ku(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(i,d),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=On(s,t,d),e!==null&&(Gt(e,s,d,i),vs(e,s,d)),d}function Hs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ui(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function Ip(){return null}var Xu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hi(e){this._internalRoot=e}Vs.prototype.render=Hi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Us(e,t,null,null)},Vs.prototype.unmount=Hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){Us(null,e,null,null)}),t[gn]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Da();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&Aa(e)}};function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zu(){}function zp(e,t,n,o,s){if(s){if(typeof o=="function"){var i=o;o=function(){var I=Hs(d);i.call(I)}}var d=Gu(t,o,e,0,null,!1,!1,"",Zu);return e._reactRootContainer=d,e[gn]=d.current,ao(e.nodeType===8?e.parentNode:e),lr(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var v=o;o=function(){var I=Hs(C);v.call(I)}}var C=Oi(e,0,!1,null,null,!1,!1,"",Zu);return e._reactRootContainer=C,e[gn]=C.current,ao(e.nodeType===8?e.parentNode:e),lr(function(){Us(t,C,n,o)}),C}function Ys(e,t,n,o,s){var i=n._reactRootContainer;if(i){var d=i;if(typeof s=="function"){var v=s;s=function(){var C=Hs(d);v.call(C)}}Us(t,d,e,s)}else d=zp(n,t,e,s,o);return Hs(d)}Ra=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(hl(t,n|1),_t(t,nt()),(Ue&6)===0&&(Rr=nt()+500,Bn()))}break;case 13:lr(function(){var o=kn(e,1);if(o!==null){var s=wt();Gt(o,e,1,s)}}),Ui(e,1)}},ml=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var n=wt();Gt(t,e,134217728,n)}Ui(e,134217728)}},Pa=function(e){if(e.tag===13){var t=Wn(e),n=kn(e,t);if(n!==null){var o=wt();Gt(n,e,t,o)}Ui(e,t)}},Da=function(){return Ve},Ia=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}},re=function(e,t,n){switch(t){case"input":if(je(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var s=cs(o);if(!s)throw Error(a(90));_e(o),je(o,s)}}}break;case"textarea":Bo(e,n);break;case"select":t=n.value,t!=null&&en(e,!!n.multiple,t,!1)}},ka=Di,ja=lr;var Ap={usingClientEntryPoint:!1,Events:[fo,kr,cs,Fe,va,Di]},bo={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bp={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Na(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||Ip,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Vo=Js.inject(Bp),tn=Js}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ap,Tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vi(t))throw Error(a(200));return Dp(e,t,null,n)},Tt.createRoot=function(e,t){if(!Vi(e))throw Error(a(299));var n=!1,o="",s=Xu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Oi(e,1,!1,null,null,n,!1,o,s),e[gn]=t.current,ao(e.nodeType===8?e.parentNode:e),new Hi(t)},Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Na(t),e=e===null?null:e.stateNode,e},Tt.flushSync=function(e){return lr(e)},Tt.hydrate=function(e,t,n){if(!Ws(t))throw Error(a(200));return Ys(null,e,t,!0,n)},Tt.hydrateRoot=function(e,t,n){if(!Vi(e))throw Error(a(405));var o=n!=null&&n.hydratedSources||null,s=!1,i="",d=Xu;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Gu(t,null,e,1,n??null,s,!1,i,d),e[gn]=t.current,ao(e),o)for(e=0;e<o.length;e++)n=o[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Vs(t)},Tt.render=function(e,t,n){if(!Ws(t))throw Error(a(200));return Ys(null,e,t,!1,n)},Tt.unmountComponentAtNode=function(e){if(!Ws(e))throw Error(a(40));return e._reactRootContainer?(lr(function(){Ys(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1},Tt.unstable_batchedUpdates=Di,Tt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Ws(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Ys(e,t,n,!1,o)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var id;function Qp(){if(id)return Ji.exports;id=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),Ji.exports=Jp(),Ji.exports}var ad;function Kp(){if(ad)return Qs;ad=1;var l=Qp();return Qs.createRoot=l.createRoot,Qs.hydrateRoot=l.hydrateRoot,Qs}var Gp=Kp();const qp=kd(Gp);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cd="popstate";function Xp(l={}){function c(u,f){let{pathname:h,search:x,hash:j}=u.location;return ea("",{pathname:h,search:x,hash:j},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function a(u,f){return typeof f=="string"?f:To(f)}return eh(c,a,null,l)}function qe(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function qt(l,c){if(!l){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function Zp(){return Math.random().toString(36).substring(2,10)}function ud(l,c){return{usr:l.state,key:l.key,idx:c}}function ea(l,c,a=null,u){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof c=="string"?Br(c):c,state:a,key:c&&c.key||u||Zp()}}function To({pathname:l="/",search:c="",hash:a=""}){return c&&c!=="?"&&(l+=c.charAt(0)==="?"?c:"?"+c),a&&a!=="#"&&(l+=a.charAt(0)==="#"?a:"#"+a),l}function Br(l){let c={};if(l){let a=l.indexOf("#");a>=0&&(c.hash=l.substring(a),l=l.substring(0,a));let u=l.indexOf("?");u>=0&&(c.search=l.substring(u),l=l.substring(0,u)),l&&(c.pathname=l)}return c}function eh(l,c,a,u={}){let{window:f=document.defaultView,v5Compat:h=!1}=u,x=f.history,j="POP",y=null,w=E();w==null&&(w=0,x.replaceState({...x.state,idx:w},""));function E(){return(x.state||{idx:null}).idx}function A(){j="POP";let R=E(),U=R==null?null:R-w;w=R,y&&y({action:j,location:$.location,delta:U})}function N(R,U){j="PUSH";let H=ea($.location,R,U);w=E()+1;let X=ud(H,w),oe=$.createHref(H);try{x.pushState(X,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;f.location.assign(oe)}h&&y&&y({action:j,location:$.location,delta:1})}function B(R,U){j="REPLACE";let H=ea($.location,R,U);w=E();let X=ud(H,w),oe=$.createHref(H);x.replaceState(X,"",oe),h&&y&&y({action:j,location:$.location,delta:0})}function T(R){return th(R)}let $={get action(){return j},get location(){return l(f,x)},listen(R){if(y)throw new Error("A history only accepts one active listener");return f.addEventListener(cd,A),y=R,()=>{f.removeEventListener(cd,A),y=null}},createHref(R){return c(f,R)},createURL:T,encodeLocation(R){let U=T(R);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:N,replace:B,go(R){return x.go(R)}};return $}function th(l,c=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),qe(a,"No window.location.(origin|href) available to create URL");let u=typeof l=="string"?l:To(l);return u=u.replace(/ $/,"%20"),!c&&u.startsWith("//")&&(u=a+u),new URL(u,a)}function jd(l,c,a="/"){return nh(l,c,a,!1)}function nh(l,c,a,u){let f=typeof c=="string"?Br(c):c,h=bn(f.pathname||"/",a);if(h==null)return null;let x=wd(l);rh(x);let j=null;for(let y=0;j==null&&y<x.length;++y){let w=hh(h);j=fh(x[y],w,u)}return j}function wd(l,c=[],a=[],u="",f=!1){let h=(x,j,y=f,w)=>{let E={relativePath:w===void 0?x.path||"":w,caseSensitive:x.caseSensitive===!0,childrenIndex:j,route:x};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(u)&&y)return;qe(E.relativePath.startsWith(u),`Absolute route path "${E.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(u.length)}let A=Nn([u,E.relativePath]),N=a.concat(E);x.children&&x.children.length>0&&(qe(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),wd(x.children,c,N,A,y)),!(x.path==null&&!x.index)&&c.push({path:A,score:uh(A,x.index),routesMeta:N})};return l.forEach((x,j)=>{if(x.path===""||!x.path?.includes("?"))h(x,j);else for(let y of Sd(x.path))h(x,j,!0,y)}),c}function Sd(l){let c=l.split("/");if(c.length===0)return[];let[a,...u]=c,f=a.endsWith("?"),h=a.replace(/\?$/,"");if(u.length===0)return f?[h,""]:[h];let x=Sd(u.join("/")),j=[];return j.push(...x.map(y=>y===""?h:[h,y].join("/"))),f&&j.push(...x),j.map(y=>l.startsWith("/")&&y===""?"/":y)}function rh(l){l.sort((c,a)=>c.score!==a.score?a.score-c.score:dh(c.routesMeta.map(u=>u.childrenIndex),a.routesMeta.map(u=>u.childrenIndex)))}var oh=/^:[\w-]+$/,sh=3,lh=2,ih=1,ah=10,ch=-2,dd=l=>l==="*";function uh(l,c){let a=l.split("/"),u=a.length;return a.some(dd)&&(u+=ch),c&&(u+=lh),a.filter(f=>!dd(f)).reduce((f,h)=>f+(oh.test(h)?sh:h===""?ih:ah),u)}function dh(l,c){return l.length===c.length&&l.slice(0,-1).every((u,f)=>u===c[f])?l[l.length-1]-c[c.length-1]:0}function fh(l,c,a=!1){let{routesMeta:u}=l,f={},h="/",x=[];for(let j=0;j<u.length;++j){let y=u[j],w=j===u.length-1,E=h==="/"?c:c.slice(h.length)||"/",A=Zs({path:y.relativePath,caseSensitive:y.caseSensitive,end:w},E),N=y.route;if(!A&&w&&a&&!u[u.length-1].route.index&&(A=Zs({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(f,A.params),x.push({params:f,pathname:Nn([h,A.pathname]),pathnameBase:yh(Nn([h,A.pathnameBase])),route:N}),A.pathnameBase!=="/"&&(h=Nn([h,A.pathnameBase]))}return x}function Zs(l,c){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[a,u]=ph(l.path,l.caseSensitive,l.end),f=c.match(a);if(!f)return null;let h=f[0],x=h.replace(/(.)\/+$/,"$1"),j=f.slice(1);return{params:u.reduce((w,{paramName:E,isOptional:A},N)=>{if(E==="*"){let T=j[N]||"";x=h.slice(0,h.length-T.length).replace(/(.)\/+$/,"$1")}const B=j[N];return A&&!B?w[E]=void 0:w[E]=(B||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:x,pattern:l}}function ph(l,c=!1,a=!0){qt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let u=[],f="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,j,y)=>(u.push({paramName:j,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(u.push({paramName:"*"}),f+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?f+="\\/*$":l!==""&&l!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,c?void 0:"i"),u]}function hh(l){try{return l.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return qt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),l}}function bn(l,c){if(c==="/")return l;if(!l.toLowerCase().startsWith(c.toLowerCase()))return null;let a=c.endsWith("/")?c.length-1:c.length,u=l.charAt(a);return u&&u!=="/"?null:l.slice(a)||"/"}function mh(l,c="/"){let{pathname:a,search:u="",hash:f=""}=typeof l=="string"?Br(l):l;return{pathname:a?a.startsWith("/")?a:gh(a,c):c,search:vh(u),hash:kh(f)}}function gh(l,c){let a=c.replace(/\/+$/,"").split("/");return l.split("/").forEach(f=>{f===".."?a.length>1&&a.pop():f!=="."&&a.push(f)}),a.length>1?a.join("/"):"/"}function Gi(l,c,a,u){return`Cannot include a '${l}' character in a manually specified \`to.${c}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xh(l){return l.filter((c,a)=>a===0||c.route.path&&c.route.path.length>0)}function sa(l){let c=xh(l);return c.map((a,u)=>u===c.length-1?a.pathname:a.pathnameBase)}function la(l,c,a,u=!1){let f;typeof l=="string"?f=Br(l):(f={...l},qe(!f.pathname||!f.pathname.includes("?"),Gi("?","pathname","search",f)),qe(!f.pathname||!f.pathname.includes("#"),Gi("#","pathname","hash",f)),qe(!f.search||!f.search.includes("#"),Gi("#","search","hash",f)));let h=l===""||f.pathname==="",x=h?"/":f.pathname,j;if(x==null)j=a;else{let A=c.length-1;if(!u&&x.startsWith("..")){let N=x.split("/");for(;N[0]==="..";)N.shift(),A-=1;f.pathname=N.join("/")}j=A>=0?c[A]:"/"}let y=mh(f,j),w=x&&x!=="/"&&x.endsWith("/"),E=(h||x===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(w||E)&&(y.pathname+="/"),y}var Nn=l=>l.join("/").replace(/\/\/+/g,"/"),yh=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),vh=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,kh=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function jh(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cd=["POST","PUT","PATCH","DELETE"];new Set(Cd);var wh=["GET",...Cd];new Set(wh);var Fr=m.createContext(null);Fr.displayName="DataRouter";var nl=m.createContext(null);nl.displayName="DataRouterState";m.createContext(!1);var Nd=m.createContext({isTransitioning:!1});Nd.displayName="ViewTransition";var Sh=m.createContext(new Map);Sh.displayName="Fetchers";var Ch=m.createContext(null);Ch.displayName="Await";var Zt=m.createContext(null);Zt.displayName="Navigation";var $o=m.createContext(null);$o.displayName="Location";var mn=m.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var ia=m.createContext(null);ia.displayName="RouteError";function Nh(l,{relative:c}={}){qe(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:u}=m.useContext(Zt),{hash:f,pathname:h,search:x}=Lo(l,{relative:c}),j=h;return a!=="/"&&(j=h==="/"?a:Nn([a,h])),u.createHref({pathname:j,search:x,hash:f})}function Or(){return m.useContext($o)!=null}function Pt(){return qe(Or(),"useLocation() may be used only in the context of a <Router> component."),m.useContext($o).location}var bd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ed(l){m.useContext(Zt).static||m.useLayoutEffect(l)}function Ht(){let{isDataRoute:l}=m.useContext(mn);return l?Ah():bh()}function bh(){qe(Or(),"useNavigate() may be used only in the context of a <Router> component.");let l=m.useContext(Fr),{basename:c,navigator:a}=m.useContext(Zt),{matches:u}=m.useContext(mn),{pathname:f}=Pt(),h=JSON.stringify(sa(u)),x=m.useRef(!1);return Ed(()=>{x.current=!0}),m.useCallback((y,w={})=>{if(qt(x.current,bd),!x.current)return;if(typeof y=="number"){a.go(y);return}let E=la(y,JSON.parse(h),f,w.relative==="path");l==null&&c!=="/"&&(E.pathname=E.pathname==="/"?c:Nn([c,E.pathname])),(w.replace?a.replace:a.push)(E,w.state,w)},[c,a,h,f,l])}m.createContext(null);function Lo(l,{relative:c}={}){let{matches:a}=m.useContext(mn),{pathname:u}=Pt(),f=JSON.stringify(sa(a));return m.useMemo(()=>la(l,JSON.parse(f),u,c==="path"),[l,f,u,c])}function Eh(l,c){return _d(l,c)}function _d(l,c,a,u,f){qe(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=m.useContext(Zt),{matches:x}=m.useContext(mn),j=x[x.length-1],y=j?j.params:{},w=j?j.pathname:"/",E=j?j.pathnameBase:"/",A=j&&j.route;{let H=A&&A.path||"";Td(w,!A||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let N=Pt(),B;if(c){let H=typeof c=="string"?Br(c):c;qe(E==="/"||H.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${H.pathname}" was given in the \`location\` prop.`),B=H}else B=N;let T=B.pathname||"/",$=T;if(E!=="/"){let H=E.replace(/^\//,"").split("/");$="/"+T.replace(/^\//,"").split("/").slice(H.length).join("/")}let R=jd(l,{pathname:$});qt(A||R!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),qt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=Lh(R&&R.map(H=>Object.assign({},H,{params:Object.assign({},y,H.params),pathname:Nn([E,h.encodeLocation?h.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?E:Nn([E,h.encodeLocation?h.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),x,a,u,f);return c&&U?m.createElement($o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},U):U}function _h(){let l=zh(),c=jh(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),a=l instanceof Error?l.stack:null,u="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:u},h={padding:"2px 4px",backgroundColor:u},x=null;return console.error("Error handled by React Router default ErrorBoundary:",l),x=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:h},"ErrorBoundary")," or"," ",m.createElement("code",{style:h},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},c),a?m.createElement("pre",{style:f},a):null,x)}var Th=m.createElement(_h,null),Mh=class extends m.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,c){return c.location!==l.location||c.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:c.error,location:c.location,revalidation:l.revalidation||c.revalidation}}componentDidCatch(l,c){this.props.unstable_onError?this.props.unstable_onError(l,c):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?m.createElement(mn.Provider,{value:this.props.routeContext},m.createElement(ia.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $h({routeContext:l,match:c,children:a}){let u=m.useContext(Fr);return u&&u.static&&u.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=c.route.id),m.createElement(mn.Provider,{value:l},a)}function Lh(l,c=[],a=null,u=null,f=null){if(l==null){if(!a)return null;if(a.errors)l=a.matches;else if(c.length===0&&!a.initialized&&a.matches.length>0)l=a.matches;else return null}let h=l,x=a?.errors;if(x!=null){let w=h.findIndex(E=>E.route.id&&x?.[E.route.id]!==void 0);qe(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),h=h.slice(0,Math.min(h.length,w+1))}let j=!1,y=-1;if(a)for(let w=0;w<h.length;w++){let E=h[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=w),E.route.id){let{loaderData:A,errors:N}=a,B=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!N||N[E.route.id]===void 0);if(E.route.lazy||B){j=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((w,E,A)=>{let N,B=!1,T=null,$=null;a&&(N=x&&E.route.id?x[E.route.id]:void 0,T=E.route.errorElement||Th,j&&(y<0&&A===0?(Td("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,$=null):y===A&&(B=!0,$=E.route.hydrateFallbackElement||null)));let R=c.concat(h.slice(0,A+1)),U=()=>{let H;return N?H=T:B?H=$:E.route.Component?H=m.createElement(E.route.Component,null):E.route.element?H=E.route.element:H=w,m.createElement($h,{match:E,routeContext:{outlet:w,matches:R,isDataRoute:a!=null},children:H})};return a&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?m.createElement(Mh,{location:a.location,revalidation:a.revalidation,component:T,error:N,children:U(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:u}):U()},null)}function aa(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rh(l){let c=m.useContext(Fr);return qe(c,aa(l)),c}function Ph(l){let c=m.useContext(nl);return qe(c,aa(l)),c}function Dh(l){let c=m.useContext(mn);return qe(c,aa(l)),c}function ca(l){let c=Dh(l),a=c.matches[c.matches.length-1];return qe(a.route.id,`${l} can only be used on routes that contain a unique "id"`),a.route.id}function Ih(){return ca("useRouteId")}function zh(){let l=m.useContext(ia),c=Ph("useRouteError"),a=ca("useRouteError");return l!==void 0?l:c.errors?.[a]}function Ah(){let{router:l}=Rh("useNavigate"),c=ca("useNavigate"),a=m.useRef(!1);return Ed(()=>{a.current=!0}),m.useCallback(async(f,h={})=>{qt(a.current,bd),a.current&&(typeof f=="number"?l.navigate(f):await l.navigate(f,{fromRouteId:c,...h}))},[l,c])}var fd={};function Td(l,c,a){!c&&!fd[l]&&(fd[l]=!0,qt(!1,a))}m.memo(Bh);function Bh({routes:l,future:c,state:a,unstable_onError:u}){return _d(l,void 0,a,u,c)}function Cn({to:l,replace:c,state:a,relative:u}){qe(Or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=m.useContext(Zt);qt(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=m.useContext(mn),{pathname:x}=Pt(),j=Ht(),y=la(l,sa(h),x,u==="path"),w=JSON.stringify(y);return m.useEffect(()=>{j(JSON.parse(w),{replace:c,state:a,relative:u})},[j,w,u,c,a]),null}function Ut(l){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fh({basename:l="/",children:c=null,location:a,navigationType:u="POP",navigator:f,static:h=!1}){qe(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=l.replace(/^\/*/,"/"),j=m.useMemo(()=>({basename:x,navigator:f,static:h,future:{}}),[x,f,h]);typeof a=="string"&&(a=Br(a));let{pathname:y="/",search:w="",hash:E="",state:A=null,key:N="default"}=a,B=m.useMemo(()=>{let T=bn(y,x);return T==null?null:{location:{pathname:T,search:w,hash:E,state:A,key:N},navigationType:u}},[x,y,w,E,A,N,u]);return qt(B!=null,`<Router basename="${x}"> is not able to match the URL "${y}${w}${E}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:m.createElement(Zt.Provider,{value:j},m.createElement($o.Provider,{children:c,value:B}))}function Oh({children:l,location:c}){return Eh(ta(l),c)}function ta(l,c=[]){let a=[];return m.Children.forEach(l,(u,f)=>{if(!m.isValidElement(u))return;let h=[...c,f];if(u.type===m.Fragment){a.push.apply(a,ta(u.props.children,h));return}qe(u.type===Ut,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!u.props.index||!u.props.children,"An index route cannot have child routes.");let x={id:u.props.id||h.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(x.children=ta(u.props.children,h)),a.push(x)}),a}var qs="get",Xs="application/x-www-form-urlencoded";function rl(l){return l!=null&&typeof l.tagName=="string"}function Uh(l){return rl(l)&&l.tagName.toLowerCase()==="button"}function Hh(l){return rl(l)&&l.tagName.toLowerCase()==="form"}function Vh(l){return rl(l)&&l.tagName.toLowerCase()==="input"}function Wh(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Yh(l,c){return l.button===0&&(!c||c==="_self")&&!Wh(l)}var Ks=null;function Jh(){if(Ks===null)try{new FormData(document.createElement("form"),0),Ks=!1}catch{Ks=!0}return Ks}var Qh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qi(l){return l!=null&&!Qh.has(l)?(qt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xs}"`),null):l}function Kh(l,c){let a,u,f,h,x;if(Hh(l)){let j=l.getAttribute("action");u=j?bn(j,c):null,a=l.getAttribute("method")||qs,f=qi(l.getAttribute("enctype"))||Xs,h=new FormData(l)}else if(Uh(l)||Vh(l)&&(l.type==="submit"||l.type==="image")){let j=l.form;if(j==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=l.getAttribute("formaction")||j.getAttribute("action");if(u=y?bn(y,c):null,a=l.getAttribute("formmethod")||j.getAttribute("method")||qs,f=qi(l.getAttribute("formenctype"))||qi(j.getAttribute("enctype"))||Xs,h=new FormData(j,l),!Jh()){let{name:w,type:E,value:A}=l;if(E==="image"){let N=w?`${w}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else w&&h.append(w,A)}}else{if(rl(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=qs,u=null,f=Xs,x=l}return h&&f==="text/plain"&&(x=h,h=void 0),{action:u,method:a.toLowerCase(),encType:f,formData:h,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ua(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function Gh(l,c,a){let u=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return u.pathname==="/"?u.pathname=`_root.${a}`:c&&bn(u.pathname,c)==="/"?u.pathname=`${c.replace(/\/$/,"")}/_root.${a}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${a}`,u}async function qh(l,c){if(l.id in c)return c[l.id];try{let a=await import(l.module);return c[l.id]=a,a}catch(a){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xh(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Zh(l,c,a){let u=await Promise.all(l.map(async f=>{let h=c.routes[f.route.id];if(h){let x=await qh(h,a);return x.links?x.links():[]}return[]}));return rm(u.flat(1).filter(Xh).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function pd(l,c,a,u,f,h){let x=(y,w)=>a[w]?y.route.id!==a[w].route.id:!0,j=(y,w)=>a[w].pathname!==y.pathname||a[w].route.path?.endsWith("*")&&a[w].params["*"]!==y.params["*"];return h==="assets"?c.filter((y,w)=>x(y,w)||j(y,w)):h==="data"?c.filter((y,w)=>{let E=u.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(x(y,w)||j(y,w))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function em(l,c,{includeHydrateFallback:a}={}){return tm(l.map(u=>{let f=c.routes[u.route.id];if(!f)return[];let h=[f.module];return f.clientActionModule&&(h=h.concat(f.clientActionModule)),f.clientLoaderModule&&(h=h.concat(f.clientLoaderModule)),a&&f.hydrateFallbackModule&&(h=h.concat(f.hydrateFallbackModule)),f.imports&&(h=h.concat(f.imports)),h}).flat(1))}function tm(l){return[...new Set(l)]}function nm(l){let c={},a=Object.keys(l).sort();for(let u of a)c[u]=l[u];return c}function rm(l,c){let a=new Set;return new Set(c),l.reduce((u,f)=>{let h=JSON.stringify(nm(f));return a.has(h)||(a.add(h),u.push({key:h,link:f})),u},[])}function Md(){let l=m.useContext(Fr);return ua(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function om(){let l=m.useContext(nl);return ua(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var da=m.createContext(void 0);da.displayName="FrameworkContext";function $d(){let l=m.useContext(da);return ua(l,"You must render this element inside a <HydratedRouter> element"),l}function sm(l,c){let a=m.useContext(da),[u,f]=m.useState(!1),[h,x]=m.useState(!1),{onFocus:j,onBlur:y,onMouseEnter:w,onMouseLeave:E,onTouchStart:A}=c,N=m.useRef(null);m.useEffect(()=>{if(l==="render"&&x(!0),l==="viewport"){let $=U=>{U.forEach(H=>{x(H.isIntersecting)})},R=new IntersectionObserver($,{threshold:.5});return N.current&&R.observe(N.current),()=>{R.disconnect()}}},[l]),m.useEffect(()=>{if(u){let $=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout($)}}},[u]);let B=()=>{f(!0)},T=()=>{f(!1),x(!1)};return a?l!=="intent"?[h,N,{}]:[h,N,{onFocus:_o(j,B),onBlur:_o(y,T),onMouseEnter:_o(w,B),onMouseLeave:_o(E,T),onTouchStart:_o(A,B)}]:[!1,N,{}]}function _o(l,c){return a=>{l&&l(a),a.defaultPrevented||c(a)}}function lm({page:l,...c}){let{router:a}=Md(),u=m.useMemo(()=>jd(a.routes,l,a.basename),[a.routes,l,a.basename]);return u?m.createElement(am,{page:l,matches:u,...c}):null}function im(l){let{manifest:c,routeModules:a}=$d(),[u,f]=m.useState([]);return m.useEffect(()=>{let h=!1;return Zh(l,c,a).then(x=>{h||f(x)}),()=>{h=!0}},[l,c,a]),u}function am({page:l,matches:c,...a}){let u=Pt(),{manifest:f,routeModules:h}=$d(),{basename:x}=Md(),{loaderData:j,matches:y}=om(),w=m.useMemo(()=>pd(l,c,y,f,u,"data"),[l,c,y,f,u]),E=m.useMemo(()=>pd(l,c,y,f,u,"assets"),[l,c,y,f,u]),A=m.useMemo(()=>{if(l===u.pathname+u.search+u.hash)return[];let T=new Set,$=!1;if(c.forEach(U=>{let H=f.routes[U.route.id];!H||!H.hasLoader||(!w.some(X=>X.route.id===U.route.id)&&U.route.id in j&&h[U.route.id]?.shouldRevalidate||H.hasClientLoader?$=!0:T.add(U.route.id))}),T.size===0)return[];let R=Gh(l,x,"data");return $&&T.size>0&&R.searchParams.set("_routes",c.filter(U=>T.has(U.route.id)).map(U=>U.route.id).join(",")),[R.pathname+R.search]},[x,j,u,f,w,c,l,h]),N=m.useMemo(()=>em(E,f),[E,f]),B=im(E);return m.createElement(m.Fragment,null,A.map(T=>m.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...a})),N.map(T=>m.createElement("link",{key:T,rel:"modulepreload",href:T,...a})),B.map(({key:T,link:$})=>m.createElement("link",{key:T,nonce:a.nonce,...$})))}function cm(...l){return c=>{l.forEach(a=>{typeof a=="function"?a(c):a!=null&&(a.current=c)})}}var Ld=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ld&&(window.__reactRouterVersion="7.9.5")}catch{}function um({basename:l,children:c,window:a}){let u=m.useRef();u.current==null&&(u.current=Xp({window:a,v5Compat:!0}));let f=u.current,[h,x]=m.useState({action:f.action,location:f.location}),j=m.useCallback(y=>{m.startTransition(()=>x(y))},[x]);return m.useLayoutEffect(()=>f.listen(j),[f,j]),m.createElement(Fh,{basename:l,children:c,location:h.location,navigationType:h.action,navigator:f})}var Rd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pd=m.forwardRef(function({onClick:c,discover:a="render",prefetch:u="none",relative:f,reloadDocument:h,replace:x,state:j,target:y,to:w,preventScrollReset:E,viewTransition:A,...N},B){let{basename:T}=m.useContext(Zt),$=typeof w=="string"&&Rd.test(w),R,U=!1;if(typeof w=="string"&&$&&(R=w,Ld))try{let Ne=new URL(window.location.href),Pe=w.startsWith("//")?new URL(Ne.protocol+w):new URL(w),Ie=bn(Pe.pathname,T);Pe.origin===Ne.origin&&Ie!=null?w=Ie+Pe.search+Pe.hash:U=!0}catch{qt(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Nh(w,{relative:f}),[X,oe,ue]=sm(u,N),ne=hm(w,{replace:x,state:j,target:y,preventScrollReset:E,relative:f,viewTransition:A});function de(Ne){c&&c(Ne),Ne.defaultPrevented||ne(Ne)}let Me=m.createElement("a",{...N,...ue,href:R||H,onClick:U||h?c:de,ref:cm(B,oe),target:y,"data-discover":!$&&a==="render"?"true":void 0});return X&&!$?m.createElement(m.Fragment,null,Me,m.createElement(lm,{page:H})):Me});Pd.displayName="Link";var dm=m.forwardRef(function({"aria-current":c="page",caseSensitive:a=!1,className:u="",end:f=!1,style:h,to:x,viewTransition:j,children:y,...w},E){let A=Lo(x,{relative:w.relative}),N=Pt(),B=m.useContext(nl),{navigator:T,basename:$}=m.useContext(Zt),R=B!=null&&vm(A)&&j===!0,U=T.encodeLocation?T.encodeLocation(A).pathname:A.pathname,H=N.pathname,X=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;a||(H=H.toLowerCase(),X=X?X.toLowerCase():null,U=U.toLowerCase()),X&&$&&(X=bn(X,$)||X);const oe=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ue=H===U||!f&&H.startsWith(U)&&H.charAt(oe)==="/",ne=X!=null&&(X===U||!f&&X.startsWith(U)&&X.charAt(U.length)==="/"),de={isActive:ue,isPending:ne,isTransitioning:R},Me=ue?c:void 0,Ne;typeof u=="function"?Ne=u(de):Ne=[u,ue?"active":null,ne?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Pe=typeof h=="function"?h(de):h;return m.createElement(Pd,{...w,"aria-current":Me,className:Ne,ref:E,style:Pe,to:x,viewTransition:j},typeof y=="function"?y(de):y)});dm.displayName="NavLink";var fm=m.forwardRef(({discover:l="render",fetcherKey:c,navigate:a,reloadDocument:u,replace:f,state:h,method:x=qs,action:j,onSubmit:y,relative:w,preventScrollReset:E,viewTransition:A,...N},B)=>{let T=xm(),$=ym(j,{relative:w}),R=x.toLowerCase()==="get"?"get":"post",U=typeof j=="string"&&Rd.test(j),H=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,ue=oe?.getAttribute("formmethod")||x;T(oe||X.currentTarget,{fetcherKey:c,method:ue,navigate:a,replace:f,state:h,relative:w,preventScrollReset:E,viewTransition:A})};return m.createElement("form",{ref:B,method:R,action:$,onSubmit:u?y:H,...N,"data-discover":!U&&l==="render"?"true":void 0})});fm.displayName="Form";function pm(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dd(l){let c=m.useContext(Fr);return qe(c,pm(l)),c}function hm(l,{target:c,replace:a,state:u,preventScrollReset:f,relative:h,viewTransition:x}={}){let j=Ht(),y=Pt(),w=Lo(l,{relative:h});return m.useCallback(E=>{if(Yh(E,c)){E.preventDefault();let A=a!==void 0?a:To(y)===To(w);j(l,{replace:A,state:u,preventScrollReset:f,relative:h,viewTransition:x})}},[y,j,w,a,u,c,l,f,h,x])}var mm=0,gm=()=>`__${String(++mm)}__`;function xm(){let{router:l}=Dd("useSubmit"),{basename:c}=m.useContext(Zt),a=Ih();return m.useCallback(async(u,f={})=>{let{action:h,method:x,encType:j,formData:y,body:w}=Kh(u,c);if(f.navigate===!1){let E=f.fetcherKey||gm();await l.fetch(E,a,f.action||h,{preventScrollReset:f.preventScrollReset,formData:y,body:w,formMethod:f.method||x,formEncType:f.encType||j,flushSync:f.flushSync})}else await l.navigate(f.action||h,{preventScrollReset:f.preventScrollReset,formData:y,body:w,formMethod:f.method||x,formEncType:f.encType||j,replace:f.replace,state:f.state,fromRouteId:a,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,c,a])}function ym(l,{relative:c}={}){let{basename:a}=m.useContext(Zt),u=m.useContext(mn);qe(u,"useFormAction must be used inside a RouteContext");let[f]=u.matches.slice(-1),h={...Lo(l||".",{relative:c})},x=Pt();if(l==null){h.search=x.search;let j=new URLSearchParams(h.search),y=j.getAll("index");if(y.some(E=>E==="")){j.delete("index"),y.filter(A=>A).forEach(A=>j.append("index",A));let E=j.toString();h.search=E?`?${E}`:""}}return(!l||l===".")&&f.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(h.pathname=h.pathname==="/"?a:Nn([a,h.pathname])),To(h)}function vm(l,{relative:c}={}){let a=m.useContext(Nd);qe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Dd("useViewTransitionState"),f=Lo(l,{relative:c});if(!a.isTransitioning)return!1;let h=bn(a.currentLocation.pathname,u)||a.currentLocation.pathname,x=bn(a.nextLocation.pathname,u)||a.nextLocation.pathname;return Zs(f.pathname,x)!=null||Zs(f.pathname,h)!=null}const km={},Id="calendar1",De={calendar1:"calendar1",calendar2:"calendar2",calendar3:"calendar3"},zd=De[Id],jm=km?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",Ur=l=>l||zd,na=l=>({id:String(l.id),date:l.booking_date,name:l.client_name,phone:l.client_phone,designer:l.designer_name,message:l.message,time:l.booking_time||"21h00",timestamp:new Date(l.created_at).getTime()}),Xt=async(l,c)=>{const a=await fetch(`${jm}${l}`,{headers:{"Content-Type":"application/json",...c?.headers||{}},...c});if(!a.ok){let u=`API request failed with status ${a.status}`;const f=a.clone();try{const h=await a.json();if(h.detail)u=h.detail;else if(h.non_field_errors&&h.non_field_errors.length>0)u=h.non_field_errors[0];else if(typeof h=="object"){const x=Object.keys(h)[0];x&&Array.isArray(h[x])&&h[x].length>0?u=h[x][0]:x&&typeof h[x]=="string"&&(u=h[x])}}catch{try{const h=await f.text();h&&(u=h)}catch{}}throw new Error(u)}if(a.status!==204)return await a.json()},Ad={calendar1:"Pose",calendar2:"SAV",calendar3:"Metr"},fa=(l="calendar1")=>De[l]||De[Id],fn=l=>{if(!l)return"Pose";for(const[c,a]of Object.entries(De))if(a===l)return Ad[c]||"Pose";return"Pose"},Dr=new Map,el=1e3,Hr=async(l,c)=>{const a=Ur(l),u=new URLSearchParams({calendar_id:a}),f=`bookings_${a}_${u.toString()}`,h=Dr.get(f);if(h&&Date.now()-h.timestamp<el)return console.log(`[getAllBookings] Using cached request for calendar_id: ${a}`),h.promise;console.log(`[getAllBookings] Querying bookings for calendar_id: ${a}`);const x=(async()=>{try{const j=await Xt(`/bookings/?${u.toString()}`);return console.log(`[getAllBookings] Received ${j.length} bookings from API for calendar_id: ${a}`),j.map(na)}catch(j){if(console.warn(`[getAllBookings] Failed to fetch bookings for calendar_id: ${a}`,j),a==="calendar1"||a==="calendar2"||a==="calendar3"){const y=a==="calendar1"?"1":a==="calendar2"?"2":"3";console.log(`[getAllBookings] Trying legacy format: ${y}`);try{const w=new URLSearchParams({calendar_id:y});c?.startDate,c?.endDate;const E=await Xt(`/bookings/?${w.toString()}`);return console.log(`[getAllBookings] Received ${E.length} bookings from API using legacy format`),E.map(na)}catch(w){console.warn("[getAllBookings] Legacy format also failed:",w)}}return[]}finally{setTimeout(()=>{Dr.delete(f)},el)}})();return Dr.set(f,{promise:x,timestamp:Date.now()}),x},wm={[De.calendar1]:1,[De.calendar2]:3,[De.calendar3]:8},pa=l=>l?wm[l]??3:3,St=l=>l?l===De.calendar2||l===De.calendar3:!1,Sm=async(l,c,a)=>{try{const u=new Date;u.setHours(0,0,0,0);const f=new Date(l+"T00:00:00");if(f.setHours(0,0,0,0),f<u)return!1;const x=(await Hr(c)).filter(y=>{const w=new Date(y.date+"T00:00:00");return w.setHours(0,0,0,0),y.date===l&&w>=u}),j=a??pa(c);return x.length>=j}catch(u){return console.error("Error checking booking limit:",u),!1}},ol=async(l,c,a)=>{const u=Ur(c);try{if(await Tm(l.date,u))throw new Error("Cette date est un jour fri ou un jour non disponible. Les rservations ne sont pas autorises pour cette date.");const h=await Hr(u);if(St(u)&&l.timeSlot){const y=new Date;y.setHours(0,0,0,0);const w=new Date(l.date+"T00:00:00");if(w.setHours(0,0,0,0),w>=y){const E=B=>B.trim().toLowerCase(),A=E(l.timeSlot);if(h.some(B=>{const T=new Date(B.date+"T00:00:00");if(T.setHours(0,0,0,0),T<y)return!1;const $=E(B.time||"");return B.date===l.date&&$===A}))throw new Error(`Ce crneau (${l.timeSlot}) est dj rserv pour cette date. Veuillez choisir un autre crneau.`)}}if(!St(u)){const y=a??pa(u);if(await Sm(l.date,u,y))throw new Error(`This date is fully booked. Maximum ${y} bookings per day.`)}let x=l.timeSlot||"21h00";St(u)&&!l.timeSlot&&(console.warn("[addBooking] Time slot calendar but no timeSlot provided!"),x="");const j={calendar_id:u,booking_date:l.date,booking_time:x,client_name:l.name,client_phone:l.phone,designer_name:l.designer,message:l.message};return console.log("[addBooking] Sending booking to API:",j),console.log("[addBooking] Time slot from bookingData:",l.timeSlot),console.log("[addBooking] Calendar uses time slots:",St(u)),await Xt("/bookings/",{method:"POST",body:JSON.stringify(j)}),!0}catch(f){throw console.error("Error adding booking:",f),f}},Cm=async l=>{const c=Ur(l);try{return await Xt(`/bookings/reset/?calendar_id=${c}`,{method:"DELETE"}),console.log(`Cleared backend bookings for calendar: ${c}`),!0}catch(a){return console.error("Error resetting bookings:",a),!1}},Nm=async()=>{console.log(" Resetting all calendars...");const l=Object.values(De),c=[...new Set(l)];for(const a of c)await Cm(a);console.log(" All calendars have been reset to 0 bookings")},Bd=async(l,c)=>{try{console.log("[updateBooking] Updating booking:",l,c);const a=await Xt(`/bookings/${l}/`,{method:"PUT",body:JSON.stringify(c)});return na(a)}catch(a){throw console.error("Error updating booking:",a),a}},ra=async l=>{try{return console.log("[deleteBooking] Deleting booking:",l),await Xt(`/bookings/${l}/`,{method:"DELETE"}),!0}catch(c){throw console.error("Error deleting booking:",c),c}},tl=l=>({id:l.id,calendar_id:l.calendar_id,holiday_date:l.holiday_date,description:l.description,created_at:l.created_at}),Mo=async(l,c)=>{const a=Ur(l),u=new URLSearchParams({calendar_id:a}),f=`holidays_${a}_${u.toString()}`,h=Dr.get(f);if(h&&Date.now()-h.timestamp<el)return console.log(`[getAllHolidays] Using cached request for calendar_id: ${a}`),h.promise;const x=(async()=>{try{return(await Xt(`/holidays/?${u.toString()}`)).map(tl)}catch(j){if(console.warn(`[getAllHolidays] Failed to fetch holidays for calendar_id: ${a}`,j),a==="calendar1"||a==="calendar2"||a==="calendar3"){const y=a==="calendar1"?"1":a==="calendar2"?"2":"3";try{const w=new URLSearchParams({calendar_id:y});return c?.startDate,c?.endDate,(await Xt(`/holidays/?${w.toString()}`)).map(tl)}catch(w){console.warn("[getAllHolidays] Legacy format also failed:",w)}}return[]}finally{setTimeout(()=>{Dr.delete(f)},el)}})();return Dr.set(f,{promise:x,timestamp:Date.now()}),x},bm=async(l,c,a)=>{const u=Ur(l);try{const h=await Xt("/holidays/",{method:"POST",body:JSON.stringify({calendar_id:u,holiday_date:c,description:a||""})});return tl(h)}catch(f){throw console.error("Error adding holiday:",f),f}},Em=async(l,c,a,u)=>{const f=Ur(c);try{const h={calendar_id:f,holiday_date:a,description:u||""},x=await Xt(`/holidays/${l}/`,{method:"PUT",body:JSON.stringify(h)});return tl(x)}catch(h){throw console.error("Error updating holiday:",h),h}},_m=async l=>{try{return await Xt(`/holidays/${l}/`,{method:"DELETE"}),!0}catch(c){throw console.error("Error deleting holiday:",c),c}},Tm=async(l,c)=>{try{return(await Mo(c)).some(u=>u.holiday_date===l)}catch(a){return console.error("Error checking holiday:",a),!1}},ha=async()=>{const l=[],c=Date.now(),a=c-1440*60*1e3,u=c-10080*60*1e3;try{const h=Object.values(De).map(j=>Hr(j).then(y=>({calendarId:j,bookings:y})));(await Promise.all(h)).forEach(({calendarId:j,bookings:y})=>{y.forEach(w=>{if(w.timestamp>a){const E=fn(j);l.push({id:`booking-${w.id}`,type:"booking",title:"Nouvelle rservation",message:`${w.name} - ${E}`,timestamp:w.timestamp,data:{...w,calendarId:j}})}})})}catch(f){console.error("Error loading booking notifications:",f)}try{const h=Object.values(De).map(j=>Mo(j).then(y=>({calendarId:j,holidays:y})));(await Promise.all(h)).forEach(({calendarId:j,holidays:y})=>{y.forEach(w=>{const E=new Date(w.created_at).getTime();if(E>u){const A=fn(j);l.push({id:`holiday-${w.id}`,type:"holiday",title:"Nouveau jour fri",message:`${A} - ${w.holiday_date}`,timestamp:E,data:{...w,calendarId:j}})}})})}catch(f){console.error("Error loading holiday notifications:",f)}return l.sort((f,h)=>h.timestamp-f.timestamp),l},Mm=l=>{const a=Date.now()-10080*60*1e3,u=[];return l.forEach(f=>{const h=new Date(f.createdAt).getTime();h>a&&u.push({id:`user-${f.id}`,type:"user",title:"Nouvel utilisateur",message:`${f.name} (${f.role})`,timestamp:h,data:f})}),u.sort((f,h)=>h.timestamp-f.timestamp)},ma=l=>{const a=Date.now()-l,u=Math.floor(a/6e4),f=Math.floor(a/36e5),h=Math.floor(a/864e5);return u<1?" l'instant":u<60?`Il y a ${u} min`:f<24?`Il y a ${f} h`:h<7?`Il y a ${h} j`:new Date(l).toLocaleDateString("fr-FR")},$m=({isOpen:l,onClose:c,onSubmit:a,booking:u,isDarkMode:f=!0})=>{const[h,x]=m.useState({calendar_id:De.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),[j,y]=m.useState({});m.useEffect(()=>{x(u?{calendar_id:u.calendarId||De.calendar1,booking_date:u.date||"",booking_time:u.time&&u.time!=="21h00"?u.time:"",client_name:u.name||"",client_phone:u.phone||"",designer_name:u.designer||"",message:u.message||""}:{calendar_id:De.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),y({})},[u,l]);const w=$=>{const{name:R,value:U}=$.target;if(R==="client_phone"){const H=U.replace(/\D/g,"");x(X=>({...X,[R]:H}))}else x(H=>({...H,[R]:U}));j[R]&&y(H=>({...H,[R]:void 0}))},E=()=>{const $={};return h.calendar_id.trim()||($.calendar_id="Le calendrier est requis"),h.booking_date.trim()||($.booking_date="La date est requise"),[De.calendar2,De.calendar3].includes(h.calendar_id)&&!h.booking_time.trim()&&($.booking_time="Le crneau horaire est requis pour ce calendrier"),h.client_name.trim()||($.client_name="Le nom du client est requis"),h.client_phone.trim()?h.client_phone.length<8&&($.client_phone="Le numro de tlphone doit contenir au moins 8 chiffres"):$.client_phone="Le tlphone est requis",h.designer_name.trim()||($.designer_name="Le nom du concepteur est requis"),y($),Object.keys($).length===0},A=$=>{if($.preventDefault(),E()){const R={...h,booking_time:h.booking_time||"21h00"};a(R)}},N=()=>{const $=h.calendar_id;return $===De.calendar2?["9h00","10h30","14h00"]:$===De.calendar3?["8-10","10-12","14-16","16-18"]:[]};if(!l)return null;const B=N(),T=B.length>0;return r.jsx("div",{className:`admin-booking-modal-overlay ${f?"dark-mode":"light-mode"}`,onClick:c,children:r.jsxs("div",{className:"admin-booking-modal",onClick:$=>$.stopPropagation(),children:[r.jsxs("div",{className:"admin-booking-modal-header",children:[r.jsx("h2",{children:u?"Modifier la rservation":"Nouvelle rservation"}),r.jsx("button",{className:"close-button",onClick:c,children:""})]}),r.jsxs("form",{onSubmit:A,className:"admin-booking-modal-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"calendar_id",children:"Calendrier *"}),r.jsxs("select",{id:"calendar_id",name:"calendar_id",value:h.calendar_id,onChange:w,className:j.calendar_id?"error":"",children:[r.jsx("option",{value:De.calendar1,children:"Pose"}),r.jsx("option",{value:De.calendar2,children:"SAV"}),r.jsx("option",{value:De.calendar3,children:"Metr"})]}),j.calendar_id&&r.jsx("span",{className:"error-message",children:j.calendar_id})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"booking_date",children:"Date *"}),r.jsx("input",{type:"date",id:"booking_date",name:"booking_date",value:h.booking_date,onChange:w,className:j.booking_date?"error":""}),j.booking_date&&r.jsx("span",{className:"error-message",children:j.booking_date})]}),T&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"booking_time",children:"Crneau horaire *"}),r.jsxs("select",{id:"booking_time",name:"booking_time",value:h.booking_time,onChange:w,className:j.booking_time?"error":"",children:[r.jsx("option",{value:"",children:"Slectionner un crneau"}),B.map($=>r.jsx("option",{value:$,children:$},$))]}),j.booking_time&&r.jsx("span",{className:"error-message",children:j.booking_time})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"client_name",children:"Nom du client *"}),r.jsx("input",{type:"text",id:"client_name",name:"client_name",value:h.client_name,onChange:w,className:j.client_name?"error":""}),j.client_name&&r.jsx("span",{className:"error-message",children:j.client_name})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"client_phone",children:"Tlphone *"}),r.jsx("input",{type:"tel",id:"client_phone",name:"client_phone",value:h.client_phone,onChange:w,className:j.client_phone?"error":"",placeholder:"Ex: 0612345678"}),j.client_phone&&r.jsx("span",{className:"error-message",children:j.client_phone})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"designer_name",children:"Nom du concepteur *"}),r.jsx("input",{type:"text",id:"designer_name",name:"designer_name",value:h.designer_name,onChange:w,className:j.designer_name?"error":""}),j.designer_name&&r.jsx("span",{className:"error-message",children:j.designer_name})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"message",children:"Message / Commentaire"}),r.jsx("textarea",{id:"message",name:"message",value:h.message,onChange:w,rows:4})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-button",onClick:c,children:"Annuler"}),r.jsx("button",{type:"submit",className:"submit-button",children:u?"Modifier":"Crer"})]})]})]})})};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rm=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,a,u)=>u?u.toUpperCase():a.toLowerCase()),hd=l=>{const c=Rm(l);return c.charAt(0).toUpperCase()+c.slice(1)},Fd=(...l)=>l.filter((c,a,u)=>!!c&&c.trim()!==""&&u.indexOf(c)===a).join(" ").trim(),Pm=l=>{for(const c in l)if(c.startsWith("aria-")||c==="role"||c==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=m.forwardRef(({color:l="currentColor",size:c=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:f="",children:h,iconNode:x,...j},y)=>m.createElement("svg",{ref:y,...Dm,width:c,height:c,stroke:l,strokeWidth:u?Number(a)*24/Number(c):a,className:Fd("lucide",f),...!h&&!Pm(j)&&{"aria-hidden":"true"},...j},[...x.map(([w,E])=>m.createElement(w,E)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(l,c)=>{const a=m.forwardRef(({className:u,...f},h)=>m.createElement(Im,{ref:h,iconNode:c,className:Fd(`lucide-${Lm(hd(l))}`,`lucide-${l}`,u),...f}));return a.displayName=hd(l),a};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Am=Oe("bell-off",zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Fm=Oe("bell-ring",Bm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ir=Oe("bell",Om);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],zr=Oe("calendar-check",Um);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ye=Oe("calendar",Hm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ro=Oe("chevron-down",Vm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Po=Oe("chevrons-right",Wm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jm=Oe("circle-check",Ym);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Do=Oe("clipboard-list",Qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gm=Oe("clock",Km);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xi=Oe("database",qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],md=Oe("download",Xm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eg=Oe("eye-off",Zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ng=Oe("eye",tg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],og=Oe("globe",rg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Io=Oe("house",sg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gd=Oe("key",lg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ag=Oe("lock",ig);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],En=Oe("log-out",cg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dg=Oe("mail",ug);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M5 12h14",key:"1ays0h"}]],zo=Oe("minus",fg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pn=Oe("moon",pg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Zi=Oe("palette",hg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],gg=Oe("percent",mg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Od=Oe("plus",xg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ga=Oe("refresh-cw",yg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kg=Oe("save",vg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ur=Oe("settings",jg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xd=Oe("shield",wg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hn=Oe("sun",Sg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yd=Oe("trash-2",Cg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bg=Oe("trending-up",Ng);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vd=Oe("upload",Eg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ar=Oe("users",_g);function Tg(){const l=Ht(),c=Pt(),[a,u]=m.useState([]),[f,h]=m.useState([]),[x,j]=m.useState(!0),[y,w]=m.useState("all"),[E,A]=m.useState(""),[N,B]=m.useState("all"),[T,$]=m.useState(()=>{const k=localStorage.getItem("darkMode");return k?JSON.parse(k):!0}),[R,U]=m.useState(!0),[H,X]=m.useState(!1),[oe,ue]=m.useState(null),[ne,de]=m.useState(!0),[Me,Ne]=m.useState(!1),[Pe,Ie]=m.useState(0),[ze,$e]=m.useState([]);m.useEffect(()=>{const k=localStorage.getItem("user");if(!k){l("/login");return}if(JSON.parse(k).role!=="admin"){l("/");return}Ae()},[l]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(T)),document.documentElement.setAttribute("data-theme",T?"dark":"light")},[T]),m.useEffect(()=>{he()},[a,y,E,N]);const ve=async()=>{try{const k=await ha();$e(k),Ie(k.length)}catch(k){console.error("Error loading notifications:",k)}};m.useEffect(()=>{ve();const k=setInterval(ve,3e4),le=()=>ve();return window.addEventListener("notificationRefresh",le),()=>{clearInterval(k),window.removeEventListener("notificationRefresh",le)}},[a]),m.useEffect(()=>{const k=le=>{const _e=le.target;Me&&!_e.closest("[data-notifications-dropdown]")&&Ne(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[Me]);const Ae=async()=>{j(!0);try{const le=Object.values(De).map(Te=>Hr(Te).then(be=>({calendarId:Te,bookings:be}))),_e=await Promise.all(le),Ce=[];_e.forEach(({calendarId:Te,bookings:be})=>{be.forEach(We=>{Ce.push({...We,calendarId:Te})})}),Ce.sort((Te,be)=>{const We=be.date.localeCompare(Te.date);return We!==0?We:(be.time||"").localeCompare(Te.time||"")}),u(Ce)}catch(k){console.error("Error loading bookings:",k),alert("Erreur lors du chargement des rservations")}finally{j(!1)}},he=()=>{let k=[...a];if(y!=="all"&&(k=k.filter(We=>We.calendarId===y)),E){const We=E.toLowerCase();k=k.filter(je=>je.name.toLowerCase().includes(We)||je.phone.includes(We)||je.designer.toLowerCase().includes(We))}const le=new Date;le.setHours(0,0,0,0);const _e=le.getFullYear(),Ce=String(le.getMonth()+1).padStart(2,"0"),Te=String(le.getDate()).padStart(2,"0"),be=`${_e}-${Ce}-${Te}`;N==="today"?k=k.filter(We=>We.date===be):N==="future"?k=k.filter(We=>{const je=new Date(We.date+"T00:00:00");return je.setHours(0,0,0,0),je>=le}):N==="past"&&(k=k.filter(We=>{const je=new Date(We.date+"T00:00:00");return je.setHours(0,0,0,0),je<le})),h(k)},ge=k=>new Date(k+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),F=k=>new Date(k).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),G=k=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[k]||k,M=()=>{$(!T)},S=()=>{localStorage.removeItem("user"),l("/")},g="#fa541c",te=T?"#000000":"#f5f5f5",O=T?"#ffffff":"#111827",D=T?"#9ca3af":"#6b7280",V=T?"#333333":"#e5e7eb",ie=k=>{ue(k),X(!0)},ke=async k=>{if(window.confirm(`tes-vous sr de vouloir supprimer la rservation de ${k.name} pour le ${ge(k.date)} ?`))try{await ra(k.id),alert("Rservation supprime avec succs"),await Ae(),ve()}catch(le){console.error("Error deleting booking:",le),alert("Erreur lors de la suppression de la rservation")}},z=async k=>{try{if(oe)await Bd(oe.id,k),alert("Rservation modifie avec succs");else{const le={name:k.client_name,phone:k.client_phone,designer:k.designer_name,message:k.message,date:k.booking_date,selectedDate:new Date(k.booking_date),timeSlot:k.booking_time||void 0};await ol(le,k.calendar_id),alert("Rservation cre avec succs")}X(!1),ue(null),await Ae(),ve()}catch(le){console.error("Error saving booking:",le);const _e=le?.message||"Erreur lors de l'enregistrement de la rservation";alert(` ${_e}`)}};return r.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:te},children:[r.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:R?"256px":"64px",borderRight:`1px solid ${V}`,backgroundColor:T?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[r.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${V}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${g} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:r.jsx(Ye,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),R&&r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:O},children:"Tableau de Bord"}),r.jsx("div",{style:{fontSize:"12px",color:D},children:"Tableau de Bord"})]})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsx(ln,{Icon:Io,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:R,onClick:()=>l("/dashboard"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(ln,{Icon:Do,title:"Rservation",isActive:c.pathname==="/rservation",open:R,onClick:()=>l("/rservation"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(ln,{Icon:zr,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:R,onClick:()=>l("/jours-feries"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(ln,{Icon:Ar,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:R,onClick:()=>l("/utilisateurs"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D}),r.jsxs("button",{onClick:()=>de(!ne),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:D,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=O},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=D},children:[r.jsx(Ye,{style:{width:"20px",height:"20px",flexShrink:0}}),R&&r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),ne?r.jsx(zo,{style:{width:"16px",height:"16px",flexShrink:0}}):r.jsx(Ro,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),ne&&r.jsxs("div",{style:{paddingLeft:"20px"},children:[r.jsx(ln,{Icon:Ye,title:"Metr",isActive:c.pathname==="/metre",open:R,onClick:()=>l("/metre"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(ln,{Icon:Ye,title:"Pose",isActive:c.pathname==="/pose",open:R,onClick:()=>l("/pose"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(ln,{Icon:Ye,title:"SAV",isActive:c.pathname==="/sav",open:R,onClick:()=>l("/sav"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D})]})]}),R&&r.jsxs("div",{style:{borderTop:`1px solid ${V}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[r.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:D,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),r.jsx(ln,{Icon:T?hn:pn,title:T?"Mode clair":"Mode sombre",isActive:!1,open:R,onClick:M,isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(ln,{Icon:ur,title:"Paramtres",isActive:c.pathname==="/parametres",open:R,onClick:()=>l("/parametres"),isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D})]}),r.jsx("div",{style:{borderTop:`1px solid ${V}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:r.jsx(ln,{Icon:En,title:"Dconnexion",isActive:!1,open:R,onClick:S,isDarkMode:T,orangeColor:g,textColor:O,textSecondary:D})}),r.jsxs("button",{onClick:()=>U(!R),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${V}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:D,transition:"background-color 0.2s",height:"48px"},onMouseEnter:k=>k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#f9fafb",onMouseLeave:k=>k.currentTarget.style.backgroundColor="transparent",children:[r.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Po,{style:{width:"16px",height:"16px",transform:R?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),R&&r.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),r.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:te},children:r.jsxs("div",{className:`admin-page ${T?"dark-mode":"light-mode"}`,children:[r.jsx("header",{className:"admin-header",children:r.jsxs("div",{className:"header-content",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Administration - Rservations"}),r.jsx("p",{children:"Gestion des rservations"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[r.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>Ne(!Me),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:T?"#1a1a1a":"#ffffff",border:`1px solid ${T?"#333333":"#e5e7eb"}`,color:T?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:k=>{k.currentTarget.style.color=T?"#ffffff":"#111827",k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#f9fafb"},onMouseLeave:k=>{k.currentTarget.style.color=T?"#9ca3af":"#6b7280",k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#ffffff"},children:[r.jsx(Ir,{style:{width:"20px",height:"20px"}}),Pe>0&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:Pe>99?"99+":Pe})]}),Me&&r.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:T?"#1a1a1a":"#ffffff",border:`1px solid ${T?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[r.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${T?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:T?"#ffffff":"#111827"},children:"Notifications"}),Pe>0&&r.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[Pe," nouvelle",Pe>1?"s":""]})]}),r.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:ze.length===0?r.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:T?"#9ca3af":"#6b7280"},children:"Aucune notification"}):ze.slice(0,10).map(k=>{const le=ma(k.timestamp),Ce=(()=>{if(k.type==="booking"){const Te=k.data,be=fn(Te.calendarId);return{subtitle:`${Te.name} - ${be}`,details:`${ge(Te.date)} ${Te.time&&Te.time!=="21h00"?` ${Te.time}`:""}`,onClick:()=>{Ne(!1),l("/rservation")}}}else if(k.type==="holiday"){const Te=k.data;return{subtitle:`${fn(Te.calendarId)} - ${ge(Te.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{Ne(!1),l("/jours-feries")}}}else if(k.type==="user"){const Te=k.data;return{subtitle:`${Te.name} (${G(Te.role)})`,details:Te.email,onClick:()=>{Ne(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return r.jsx("div",{onClick:Ce.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${T?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Te=>{Te.currentTarget.style.backgroundColor=T?"#2a2a2a":"#f9fafb"},onMouseLeave:Te=>{Te.currentTarget.style.backgroundColor="transparent"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:T?"#ffffff":"#111827",marginBottom:"4px"},children:k.title}),r.jsx("div",{style:{fontSize:"13px",color:T?"#9ca3af":"#6b7280",marginBottom:"4px"},children:Ce.subtitle}),r.jsx("div",{style:{fontSize:"12px",color:T?"#6b7280":"#9ca3af"},children:Ce.details})]}),r.jsx("div",{style:{fontSize:"11px",color:T?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:le})]})},k.id)})}),ze.length>0&&r.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${T?"#333333":"#e5e7eb"}`,textAlign:"center"},children:r.jsx("button",{onClick:()=>{Ne(!1),ze[0]?.type==="booking"?l("/rservation"):ze[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),r.jsx("button",{onClick:M,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${T?"#333333":"#e5e7eb"}`,backgroundColor:T?"#1a1a1a":"#ffffff",color:T?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:k=>{k.currentTarget.style.color=T?"#ffffff":"#111827",k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#f9fafb"},onMouseLeave:k=>{k.currentTarget.style.color=T?"#9ca3af":"#6b7280",k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#ffffff"},children:T?r.jsx(hn,{style:{width:"16px",height:"16px"}}):r.jsx(pn,{style:{width:"16px",height:"16px"}})}),r.jsx("button",{onClick:S,style:{padding:"8px",borderRadius:"8px",backgroundColor:T?"#1a1a1a":"#ffffff",border:`1px solid ${T?"#333333":"#e5e7eb"}`,color:T?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:k=>{k.currentTarget.style.color=T?"#ffffff":"#111827",k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#f9fafb"},onMouseLeave:k=>{k.currentTarget.style.color=T?"#9ca3af":"#6b7280",k.currentTarget.style.backgroundColor=T?"#1a1a1a":"#ffffff"},children:r.jsx(En,{style:{width:"20px",height:"20px"}})})]})]})}),r.jsxs("div",{className:"admin-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"calendar-filter",children:"Calendrier:"}),r.jsxs("select",{id:"calendar-filter",value:y,onChange:k=>w(k.target.value),children:[r.jsx("option",{value:"all",children:"Tous les calendriers"}),r.jsx("option",{value:De.calendar1,children:"Pose"}),r.jsx("option",{value:De.calendar2,children:"SAV"}),r.jsx("option",{value:De.calendar3,children:"Metr"})]})]}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"date-filter",children:"Date:"}),r.jsxs("select",{id:"date-filter",value:N,onChange:k=>B(k.target.value),children:[r.jsx("option",{value:"all",children:"Toutes les dates"}),r.jsx("option",{value:"today",children:"Aujourd'hui"}),r.jsx("option",{value:"future",children:"Futures"}),r.jsx("option",{value:"past",children:"Passes"})]})]}),r.jsxs("div",{className:"filter-group search-group",children:[r.jsx("label",{htmlFor:"search",children:"Rechercher:"}),r.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:r.jsx("input",{id:"search",type:"text",placeholder:"Nom, tlphone, concepteur...",value:E,onChange:k=>A(k.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),r.jsxs("button",{className:"refresh-button",onClick:Ae,children:[r.jsx(ga,{className:"refresh-icon"}),"Actualiser"]})]}),r.jsx("main",{className:"admin-main",children:x?r.jsx("div",{className:"loading-message",children:"Chargement des rservations..."}):f.length===0?r.jsx("div",{className:"no-bookings",children:"Aucune rservation trouve"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bookings-summary",children:r.jsxs("p",{children:["Total: ",f.length," rservation(s)"]})}),r.jsx("div",{className:"bookings-table-container",children:r.jsxs("table",{className:"bookings-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Heure"}),r.jsx("th",{children:"Calendrier"}),r.jsx("th",{children:"Client"}),r.jsx("th",{children:"Tlphone"}),r.jsx("th",{children:"Concepteur"}),r.jsx("th",{children:"Message"}),r.jsx("th",{children:"Cr le"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:f.map(k=>r.jsxs("tr",{children:[r.jsx("td",{children:ge(k.date)}),r.jsx("td",{className:"time-slot-cell",children:k.time&&k.time!=="21h00"?k.time:"-"}),r.jsx("td",{children:r.jsx("span",{className:"calendar-badge",children:fn(k.calendarId)})}),r.jsx("td",{children:k.name}),r.jsx("td",{children:k.phone}),r.jsx("td",{children:k.designer}),r.jsx("td",{className:"message-cell",children:k.message||r.jsx("span",{className:"no-message",children:"-"})}),r.jsx("td",{children:F(k.timestamp)}),r.jsxs("td",{className:"actions-cell",children:[r.jsx("button",{className:"edit-button",onClick:()=>ie(k),title:"Modifier",children:""}),r.jsx("button",{className:"delete-button",onClick:()=>ke(k),title:"Supprimer",children:""})]})]},k.id))})]})})]})}),r.jsx($m,{isOpen:H,onClose:()=>{X(!1),ue(null)},onSubmit:z,booking:oe,isDarkMode:T})]})})]})}const ln=({Icon:l,title:c,isActive:a,open:u,onClick:f,isDarkMode:h,orangeColor:x,textColor:j,textSecondary:y})=>r.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${x}30`:`${x}15`:"transparent",color:a?x:y,borderLeft:a?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:w=>{a||(w.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",w.currentTarget.style.color=j)},onMouseLeave:w=>{a||(w.currentTarget.style.backgroundColor="transparent",w.currentTarget.style.color=y)},children:[r.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&r.jsx("span",{children:c})]});function Mg(){const l=localStorage.getItem("user");return l?JSON.parse(l).role!=="admin"?r.jsx(Cn,{to:"/",replace:!0}):r.jsx(Tg,{}):r.jsx(Cn,{to:"/login",replace:!0})}function Kn({children:l,requireAdmin:c=!1,requireUser:a=!1}){const[u,f]=m.useState(!0),[h,x]=m.useState(!1);return m.useEffect(()=>{const j=localStorage.getItem("user");if(!j){x(!1),f(!1);return}try{const y=JSON.parse(j),w=y.isAuthenticated,E=y.role==="admin";if(!w){x(!1),f(!1);return}if(c&&!E){x(!1),f(!1);return}if(a&&E){x(!1),f(!1);return}x(!0),f(!1)}catch{x(!1),f(!1)}},[c,a]),u?r.jsx("div",{children:"Loading..."}):h?r.jsx(r.Fragment,{children:l}):c?r.jsx(Cn,{to:"/calendrier",replace:!0}):r.jsx(Cn,{to:"/login",replace:!0})}function $g(){const[l,c]=m.useState(!0),[a,u]=m.useState(null);return m.useEffect(()=>{const f=localStorage.getItem("user");if(!f){u(r.jsx(Cn,{to:"/login",replace:!0})),c(!1);return}try{const h=JSON.parse(f),x=h.isAuthenticated,j=h.role==="admin";if(!x){u(r.jsx(Cn,{to:"/login",replace:!0})),c(!1);return}u(j?r.jsx(Cn,{to:"/dashboard",replace:!0}):r.jsx(Cn,{to:"/calendrier",replace:!0})),c(!1)}catch{u(r.jsx(Cn,{to:"/login",replace:!0})),c(!1)}},[]),l?r.jsx("div",{children:"Loading..."}):r.jsx(r.Fragment,{children:a})}function sl({isDarkMode:l}){const[c]=m.useState(()=>Array.from({length:30},(u,f)=>({id:f,left:Math.random()*100,delay:Math.random()*5,duration:3+Math.random()*4,size:5+Math.random()*10}))),[a]=m.useState(()=>Array.from({length:15},(u,f)=>({id:f,left:Math.random()*100,top:Math.random()*100,delay:Math.random()*2,size:10+Math.random()*15})));return r.jsxs("div",{className:"noel-decorations",children:[c.map(u=>r.jsx("div",{className:"snowflake",style:{left:`${u.left}%`,animationDelay:`${u.delay}s`,animationDuration:`${u.duration}s`,width:`${u.size}px`,height:`${u.size}px`},children:""},`snowflake-${u.id}`)),a.map(u=>r.jsx("div",{className:`star ${l?"star-dark":"star-light"}`,style:{left:`${u.left}%`,top:`${u.top}%`,animationDelay:`${u.delay}s`,width:`${u.size}px`,height:`${u.size}px`},children:""},`star-${u.id}`)),r.jsx("div",{className:"ornament ornament-1",children:""}),r.jsx("div",{className:"ornament ornament-2",children:""}),r.jsx("div",{className:"ornament ornament-3",children:""}),r.jsx("div",{className:"ornament ornament-4",children:""}),r.jsx("div",{className:"ornament ornament-5",children:""}),r.jsx("div",{className:"corner-decoration corner-top-left",children:""}),r.jsx("div",{className:"corner-decoration corner-top-right",children:""}),r.jsx("div",{className:"corner-decoration corner-bottom-left",children:""}),r.jsx("div",{className:"corner-decoration corner-bottom-right",children:""})]})}function Ud({disableAnimations:l=!1,isAdminView:c=!1}){const a=Ht(),[u,f]=m.useState(()=>{const N=localStorage.getItem("darkMode");return N?JSON.parse(N):!0}),[h,x]=m.useState(""),[j,y]=m.useState("");m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(u)),document.documentElement.setAttribute("data-theme",u?"dark":"light")},[u]),m.useEffect(()=>{const N=localStorage.getItem("user");if(N)try{const B=JSON.parse(N);x(B.name||""),y(B.role||"")}catch(B){console.error("Error parsing user data:",B)}},[]);const w=()=>{f(!u)},E=()=>{localStorage.removeItem("user"),a("/login")},A=N=>{a(`/${N}`)};return r.jsxs("div",{className:`home-page ${u?"dark-mode":"light-mode"}`,children:[!l&&r.jsx(sl,{isDarkMode:u}),!c&&r.jsx("div",{className:"app-logo",children:r.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),r.jsx("header",{className:`home-header ${c?"admin-style":""}`,children:r.jsxs("div",{className:"header-content",children:[c?r.jsxs("div",{children:[r.jsx("h1",{children:"Administration - Calendrier"}),r.jsx("p",{children:"Gestion des calendriers"})]}):r.jsxs("div",{children:[r.jsx("h1",{children:"Rservez Votre Rendez-vous"}),r.jsx("p",{children:"Slectionnez un type de rendez-vous"})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[j==="technicien"&&h&&!c&&r.jsxs("div",{style:{fontSize:"16px",fontWeight:500,color:u?"#ffffff":"#111827",marginBottom:"4px"},children:["Bienvenue ",h]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[!c&&r.jsx("button",{className:"home-button",onClick:()=>a("/calendrier"),"aria-label":"Home",title:"Accueil",children:""}),r.jsxs("button",{style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:u?"#1a1a1a":"#ffffff",border:`1px solid ${u?"#333333":"#e5e7eb"}`,color:u?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:N=>{N.currentTarget.style.color=u?"#ffffff":"#111827",N.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f9fafb"},onMouseLeave:N=>{N.currentTarget.style.color=u?"#9ca3af":"#6b7280",N.currentTarget.style.backgroundColor=u?"#1a1a1a":"#ffffff"},children:[r.jsx(Ir,{style:{width:"20px",height:"20px"}}),r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%"}})]}),r.jsx("button",{onClick:w,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${u?"#333333":"#e5e7eb"}`,backgroundColor:u?"#1a1a1a":"#ffffff",color:u?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>{N.currentTarget.style.color=u?"#ffffff":"#111827",N.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f9fafb"},onMouseLeave:N=>{N.currentTarget.style.color=u?"#9ca3af":"#6b7280",N.currentTarget.style.backgroundColor=u?"#1a1a1a":"#ffffff"},children:u?r.jsx(hn,{style:{width:"16px",height:"16px"}}):r.jsx(pn,{style:{width:"16px",height:"16px"}})}),r.jsx("button",{onClick:E,style:{padding:"8px",borderRadius:"8px",backgroundColor:u?"#1a1a1a":"#ffffff",border:`1px solid ${u?"#333333":"#e5e7eb"}`,color:u?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:N=>{N.currentTarget.style.color=u?"#ffffff":"#111827",N.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f9fafb"},onMouseLeave:N=>{N.currentTarget.style.color=u?"#9ca3af":"#6b7280",N.currentTarget.style.backgroundColor=u?"#1a1a1a":"#ffffff"},children:r.jsx(En,{style:{width:"20px",height:"20px"}})})]})]})]})}),r.jsx("main",{className:"home-main",children:r.jsxs("div",{className:"calendar-buttons-container",children:[r.jsx("button",{className:"calendar-button metric-button",onClick:()=>A("metre"),children:r.jsxs("div",{className:"button-content",children:[r.jsx("h2",{children:"Metr"}),r.jsx("p",{children:"Rservation Metr"})]})}),r.jsx("button",{className:"calendar-button pose-button",onClick:()=>A("pose"),children:r.jsxs("div",{className:"button-content",children:[r.jsx("h2",{children:"Pose"}),r.jsx("p",{children:"Rservation Pose"})]})}),r.jsx("button",{className:"calendar-button sav-button",onClick:()=>A("sav"),children:r.jsxs("div",{className:"button-content",children:[r.jsx("h2",{children:"SAV"}),r.jsx("p",{children:"Rservation SAV"})]})})]})})]})}const ll=({selectedDate:l,selectedTimeSlot:c,onClose:a,onSubmit:u,isDarkMode:f=!1,initialData:h})=>{const[x,j]=m.useState("");m.useEffect(()=>{const R=localStorage.getItem("user");if(R)try{const U=JSON.parse(R);U.role==="technicien"&&U.name&&j(U.name)}catch(U){console.error("Error parsing user data:",U)}},[]);const[y,w]=m.useState({name:h?.name||"",phone:h?.phone||"",designer:h?.designer||"",message:h?.message||""}),[E,A]=m.useState({});m.useEffect(()=>{x&&!h?.designer&&w(R=>R.designer.trim()?R:{...R,designer:x})},[x,h?.designer]),m.useEffect(()=>{h&&w({name:h.name||"",phone:h.phone||"",designer:h.designer||"",message:h.message||""})},[h]);const N=R=>{const{name:U,value:H}=R.target;if(U==="phone"){const X=H.replace(/\D/g,"");w(oe=>({...oe,[U]:X}))}else w(X=>({...X,[U]:H}));E[U]&&A(X=>({...X,[U]:""}))},B=()=>{const R={};return y.name.trim()||(R.name="Le nom est requis"),y.phone.trim()?/^\d+$/.test(y.phone)||(R.phone="Le numro de tlphone ne doit contenir que des chiffres"):R.phone="Le numro de tlphone est requis",y.designer.trim()||(R.designer="Le nom du concepteur est requis"),A(R),Object.keys(R).length===0},T=R=>{if(R.preventDefault(),B()){const U=l.getFullYear(),H=String(l.getMonth()+1).padStart(2,"0"),X=String(l.getDate()).padStart(2,"0"),oe=`${U}-${H}-${X}`,ue={...y,date:oe,selectedDate:l,timeSlot:c};console.log("[BookingModal] Submitting booking:",ue),u(ue)}},$=R=>R.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return r.jsx("div",{className:"modal-overlay",onClick:a,children:r.jsxs("div",{className:`modal-content ${f?"dark-mode":"light-mode"}`,onClick:R=>R.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"Rservez Votre Rendez-vous"}),r.jsx("button",{className:"close-button",onClick:a,"aria-label":"Fermer",children:""})]}),r.jsxs("div",{className:"selected-date",children:[r.jsx("strong",{children:"Date slectionne :"})," ",$(l)]}),r.jsxs("form",{onSubmit:T,className:"booking-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:"Nom du client *"}),r.jsx("input",{type:"text",id:"name",name:"name",value:y.name,onChange:N,className:E.name?"error":"",placeholder:"Entrez le nom du client"}),E.name&&r.jsx("span",{className:"error-message",children:E.name})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"Numro de tlphone *"}),r.jsx("input",{type:"text",id:"phone",name:"phone",value:y.phone,onChange:N,className:E.phone?"error":"",placeholder:"Entrez le numro de tlphone",required:!0,inputMode:"numeric"}),E.phone&&r.jsx("span",{className:"error-message",children:E.phone})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"designer",children:"Nom du concepteur *"}),r.jsx("input",{type:"text",id:"designer",name:"designer",value:y.designer,onChange:N,className:E.designer?"error":"",placeholder:"Entrez le nom du concepteur",readOnly:!!x,style:x?{backgroundColor:f?"#555":"#f5f5f5",cursor:"not-allowed",opacity:.8}:{}}),E.designer&&r.jsx("span",{className:"error-message",children:E.designer}),x&&r.jsx("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:" Automatiquement rempli avec votre nom (non modifiable)"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"message",children:"Message ou commentaire"}),r.jsx("textarea",{id:"message",name:"message",value:y.message,onChange:N,placeholder:"Toute information supplmentaire ou demande spciale",rows:4})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-button",onClick:a,children:"Annuler"}),r.jsx("button",{type:"submit",className:"submit-button",children:"Rserver"})]})]})]})})},Be=()=>r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%",display:"block"},children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#fa541c",strokeWidth:"2",fill:"none"}),r.jsx("path",{d:"M12 16V12",stroke:"#fa541c",strokeWidth:"2",strokeLinecap:"round"}),r.jsx("circle",{cx:"12",cy:"8",r:"1",fill:"#fa541c"})]}),xa=({onDateSelect:l,isDarkMode:c=!0,refreshTrigger:a,binId:u,view:f="monthly",showTimeSlots:h=!0,timeSlotType:x="numerical"})=>{const[j,y]=m.useState(new Date),[w,E]=m.useState({}),[A,N]=m.useState(!1),[B,T]=m.useState({}),[$,R]=m.useState({}),[U,H]=m.useState([]),[X,oe]=m.useState(!1),[ue,ne]=m.useState(!1),[de,Me]=m.useState(""),[Ne,Pe]=m.useState(""),[Ie,ze]=m.useState({}),[$e,ve]=m.useState(null),[Ae,he]=m.useState(!1),[ge,F]=m.useState(null),G=m.useRef(null),M=m.useRef(null);m.useEffect(()=>{const p=localStorage.getItem("user");if(p){const W=JSON.parse(p);oe(W.role==="technicien"),ne(W.role!=="admin"&&W.role!=="technicien"),Me(W.email||""),Pe(W.name||W.email||""),console.log("=== CALENDAR USER INFO ===",{role:W.role,email:W.email,name:W.name,isTechnicien:W.role==="technicien"})}else console.log("=== CALENDAR USER INFO === No user found in localStorage")},[]);const S=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],g=p=>p===0?6:p-1,te=p=>{const W=p.getFullYear(),K=p.getMonth(),Q=new Date(W,K+1,0).getDate(),b=new Date(W,K,1),Z=g(b.getDay()),pe=[];for(let se=0;se<Z;se++)pe.push(null);for(let se=1;se<=Q;se++)pe.push(new Date(W,K,se));return pe},O=p=>{const W=p.getDay(),K=W===0?-6:1-W,Q=new Date(p);Q.setDate(p.getDate()+K),Q.setHours(0,0,0,0);const b=[];for(let Z=0;Z<7;Z++){const pe=new Date(Q);pe.setDate(Q.getDate()+Z),b.push(pe)}return b},D=(p,W)=>{l(p,W)},V=p=>{y(W=>{const K=new Date(W);return K.setMonth(W.getMonth()+p),K})},ie=p=>{y(W=>{const K=new Date(W);return K.setDate(W.getDate()+p*7),K})},ke=p=>{const W=new Date;return W.setHours(0,0,0,0),p<W},z=p=>p.getDay()===0,k=p=>{const W=p.getFullYear(),K=String(p.getMonth()+1).padStart(2,"0"),Q=String(p.getDate()).padStart(2,"0"),b=`${W}-${K}-${Q}`;return Ie[b]||!1},le=p=>ke(p)||z(p)||k(p),_e=f==="monthly"?te(j):[],Ce=f==="weekly"?O(j):[];m.useEffect(()=>{const p=`holidays_${u}_${a}`;return G.current===p?void 0:(G.current=p,(async()=>{try{const K=await Mo(u),Q={};K.forEach(b=>{Q[b.holiday_date]=!0}),ze(Q)}catch(K){console.error("Error loading holidays:",K),ze({})}finally{G.current===p&&(G.current=null)}})(),()=>{G.current===p&&(G.current=null)})},[a,u]),m.useEffect(()=>{const p=`bookings_${u}_${a}`;return M.current===p?void 0:(M.current=p,(async()=>{try{const K=await Hr(u),Q=new Date;Q.setHours(0,0,0,0);const b={},Z={},pe={};K.forEach(se=>{const ye=new Date(se.date+"T00:00:00");if(ye.setHours(0,0,0,0),ye>=Q)if(St(u)){if(se.time&&se.time.trim()&&se.time!=="21h00"){const re=se.time.trim().toLowerCase(),et=`${se.date}|${re}`;Z[et]=!0,pe[et]=se}}else b[se.date]=(b[se.date]||0)+1}),console.log(`[Calendar] Loaded ${K.length} bookings for calendar: ${u}`),console.log("[Calendar] All bookings:",K),console.log(`[Calendar] Booking counts for ${Object.keys(b).length} future dates:`,b),console.log("[Calendar] Booked time slots:",Z),console.log("[Calendar] Today's date:",Q.toISOString().split("T")[0]),b["2025-11-18"]?console.log(`[Calendar] DEBUG: Found ${b["2025-11-18"]} bookings for 2025-11-18`):console.log("[Calendar] DEBUG: No bookings found for 2025-11-18 in counts"),E(b),T(Z),R(pe),H(K),N(!0)}catch(K){if(console.error("Error loading booking counts:",K),u){const Q=`booking_calendar_data_${u}`;localStorage.getItem(Q)||(E({}),T({}))}else E({}),T({});N(!0)}finally{M.current===p&&(M.current=null)}})(),()=>{M.current===p&&(M.current=null)})},[a,u]);const Te=p=>{const W=p.getFullYear(),K=String(p.getMonth()+1).padStart(2,"0"),Q=String(p.getDate()).padStart(2,"0"),b=`${W}-${K}-${Q}`,Z=le(p),pe=pa(u);if(!A&&!Z)return{count:0,isFullyBooked:!1,isDisabled:!0,statusText:""};const se=Ie[b]||!1,ye=w[b]||0,re=!Z&&!se&&ye>=pe;return(b==="2025-11-18"||ye>0||re||se)&&console.log(`[getBookingStatus] Date: ${b}, Count: ${ye}, Max: ${pe}, isFullyBooked: ${re}, isDisabled: ${Z}, isHoliday: ${se}, binId: ${u}, bookingCounts keys:`,Object.keys(w)),{count:Z||se?0:ye,isFullyBooked:re,isDisabled:Z||re||se,statusText:se?"Jour fri":Z?"":re?`${pe} sur ${pe} rservs`:`${ye} sur ${pe} rservs`}},be=(p,W)=>{const K=new Date;K.setHours(0,0,0,0);const Q=new Date(p);if(Q.setHours(0,0,0,0),Q<K)return!1;const b=p.getFullYear(),Z=String(p.getMonth()+1).padStart(2,"0"),pe=String(p.getDate()).padStart(2,"0"),se=`${b}-${Z}-${pe}`,ye=W.trim().toLowerCase(),re=`${se}|${ye}`,et=B[re]||!1;return se==="2025-11-18"&&W&&console.log(`[isSlotBooked] Date: ${se}, TimeSlot: ${W}, Normalized: ${ye}, Key: ${re}, IsBooked: ${et}`),et},We=(p,W)=>{const K=p.getFullYear(),Q=String(p.getMonth()+1).padStart(2,"0"),b=String(p.getDate()).padStart(2,"0"),Z=`${K}-${Q}-${b}`,pe=W.trim().toLowerCase(),se=`${Z}|${pe}`;return $[se]||null},je=(p,W)=>{const K=p.getFullYear(),Q=String(p.getMonth()+1).padStart(2,"0"),b=String(p.getDate()).padStart(2,"0"),Z=`${K}-${Q}-${b}`,pe=new Date;pe.setHours(0,0,0,0);const se=new Date(p);if(se.setHours(0,0,0,0),se<pe)return[];if(W){const ye=We(p,W);return ye&&Tn(ye)?[ye.name]:[]}else{const ye=[];return U.forEach(re=>{re.date===Z&&Tn(re)&&ye.push(re.name)}),ye}},Le=(p,W,K)=>{p.stopPropagation();const Q=je(W,K);if(Q.length>0){const b=p.currentTarget,Z=b.closest(".calendar");if(Z){const pe=Z.getBoundingClientRect(),se=b.getBoundingClientRect();F({x:se.right-pe.left+8,y:se.top-pe.top,names:Q,date:W,timeSlot:K})}}};m.useEffect(()=>{const p=()=>{F(null)};if(ge){document.addEventListener("click",p);const W=setTimeout(()=>{F(null)},2e3);return()=>{document.removeEventListener("click",p),clearTimeout(W)}}},[ge]);const _n=p=>{if(!X||!Ne)return console.log("[isBookingByTechnicien] Not a technicien or no name:",{isTechnicien:X,userName:Ne,userEmail:de}),!1;const W=p.designer.toLowerCase().trim()===Ne.toLowerCase().trim(),K=p.designer.toLowerCase().includes(Ne.toLowerCase()),Q=W||K;return console.log("[isBookingByTechnicien]",{bookingId:p.id,bookingDesigner:p.designer,bookingName:p.name,userName:Ne,userEmail:de,designerMatch:W,designerContains:K,matches:Q}),Q},Tn=p=>X?!_n(p):!1,en=p=>{if(!ue||!de&&!Ne)return!1;const W=de&&(p.name.toLowerCase().includes(de.toLowerCase())||p.designer.toLowerCase().includes(de.toLowerCase())||p.phone===de),K=Ne&&(p.name.toLowerCase()===Ne.toLowerCase()||p.name.toLowerCase().includes(Ne.toLowerCase()));return W||K||!1},it=(p,W)=>{if(!X)return console.log("[getBookingForDateAndSlot] Not a technicien"),null;if(W){const K=We(p,W),Q=K&&_n(K)?K:null;return console.log("[getBookingForDateAndSlot] Time slot booking:",{timeSlot:W,booking:K,result:Q}),Q}else{const K=p.getFullYear(),Q=String(p.getMonth()+1).padStart(2,"0"),b=String(p.getDate()).padStart(2,"0"),Z=`${K}-${Q}-${b}`;console.log("[getBookingForDateAndSlot] Looking for Pose booking:",{dateString:Z,allBookingsCount:U.length});const pe=U.find(se=>{const ye=se.date===Z,re=_n(se);return console.log("[getBookingForDateAndSlot] Checking booking:",{bookingDate:se.date,dateString:Z,matchesDate:ye,matchesTechnicien:re,booking:se}),ye&&re});return console.log("[getBookingForDateAndSlot] Found booking:",pe),pe||null}},dr=(p,W)=>{if(W){const K=We(p,W);return K&&en(K)?K:null}else{const K=p.getFullYear(),Q=String(p.getMonth()+1).padStart(2,"0"),b=String(p.getDate()).padStart(2,"0"),Z=`${K}-${Q}-${b}`;return U.find(se=>se.date===Z&&en(se))||null}},Bo=(p,W)=>{const K=dr(p,W);K&&(ve(K),he(!0),F(null))},Fo=async(p,W)=>{const K=dr(p,W);if(!K)return;const Q=W?`tes-vous sr de vouloir supprimer votre rservation du ${new Date(K.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${W} ?`:`tes-vous sr de vouloir supprimer votre rservation du ${new Date(K.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(Q))try{await ra(K.id),alert(" Rservation supprime avec succs"),F(null),window.location.reload()}catch(b){console.error("Error deleting booking:",b),alert(" Erreur lors de la suppression de la rservation")}},kt=(p,W)=>{const K=it(p,W);K&&(ve(K),he(!0))},pt=async(p,W)=>{const K=it(p,W);if(!K)return;const Q=W?`tes-vous sr de vouloir supprimer votre rservation du ${new Date(K.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${W} ?`:`tes-vous sr de vouloir supprimer votre rservation du ${new Date(K.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(Q))try{await ra(K.id),alert("Rservation supprime avec succs"),window.location.reload()}catch(b){console.error("Error deleting booking:",b),alert("Erreur lors de la suppression de la rservation")}},fr=async p=>{if($e){if(ue&&!en($e)){alert(" Vous ne pouvez modifier que vos propres rservations");return}if(X&&!_n($e)){alert(" Vous ne pouvez modifier que vos propres rservations");return}try{const W={calendar_id:u,booking_date:p.date,booking_time:p.timeSlot||"21h00",client_name:p.name,client_phone:p.phone,designer_name:p.designer,message:p.message};await Bd($e.id,W),alert(" Rservation modifie avec succs"),he(!1),ve(null),window.location.reload()}catch(W){console.error("Error updating booking:",W);const K=W?.message||"Erreur lors de la modification de la rservation";alert(` ${K}`)}}},ht=x!=="pose"&&x!=="sav"&&x!=="numerical",Gn=()=>{const p=O(j)[0],W=O(j)[6];return p.getMonth()===W.getMonth()?`${p.getDate()} - ${W.getDate()} ${S[p.getMonth()]} ${p.getFullYear()}`:`${p.getDate()} ${S[p.getMonth()].slice(0,3)} - ${W.getDate()} ${S[W.getMonth()].slice(0,3)} ${W.getFullYear()}`};return r.jsxs("div",{className:`calendar ${c?"dark-mode":"light-mode"}`,style:{position:"relative"},children:[r.jsxs("div",{className:"calendar-header",children:[r.jsx("button",{className:"nav-button",onClick:()=>f==="weekly"?ie(-1):V(-1),"aria-label":f==="weekly"?"Previous week":"Previous month",children:""}),r.jsx("h2",{className:"month-year",children:f==="weekly"?Gn():`${S[j.getMonth()].charAt(0).toUpperCase()+S[j.getMonth()].slice(1)} ${j.getFullYear()}`}),r.jsx("button",{className:"nav-button",onClick:()=>f==="weekly"?ie(1):V(1),"aria-label":f==="weekly"?"Next week":"Next month",children:""})]}),r.jsx("div",{className:"calendar-container",children:r.jsxs("div",{className:"calendar-grid",children:[r.jsx("div",{className:"day-headers-row",children:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"].map((p,W)=>r.jsx("div",{className:"day-header-cell",children:p},W))}),f==="weekly"?r.jsx("div",{className:"date-headers",children:Ce.map((p,W)=>{const K=Te(p),Q=K.isFullyBooked,b=K.isDisabled;return r.jsxs("div",{className:`date-header ${b?"past":""} ${Q?"fully-booked":""}`,children:[r.jsxs("div",{className:`date-number ${b?"past":""} ${Q?"fully-booked-number":""}`,onClick:ht?(()=>!b&&!Q&&D(p)):void 0,style:{cursor:ht?b||Q?"not-allowed":"pointer":"default"},children:[r.jsx("span",{children:p.getDate()}),!St(u)&&K.count>0&&je(p).length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Z=>Le(Z,p),title:"Voir les rservations",children:r.jsx(Be,{})})]}),h&&r.jsx(r.Fragment,{children:x==="basic"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Matin"}),r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Aprs-midi"})]}):x==="pose"?r.jsx(r.Fragment,{children:(()=>{const Z=be(p,"8:00-11:00"),pe=be(p,"11:00-14:00"),se=be(p,"14:00-17:00");return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`time-slot ${b||Z?"disabled":""}`,onClick:()=>!b&&!Z&&D(p,"8:00-11:00"),style:{cursor:b||Z?"not-allowed":"pointer"},children:[r.jsx("span",{children:"8:00-11:00"}),Z&&je(p,"8:00-11:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:ye=>Le(ye,p,"8:00-11:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||pe?"disabled":""}`,onClick:()=>!b&&!pe&&D(p,"11:00-14:00"),style:{cursor:b||pe?"not-allowed":"pointer"},children:[r.jsx("span",{children:"11:00-14:00"}),pe&&je(p,"11:00-14:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:ye=>Le(ye,p,"11:00-14:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||se?"disabled":""}`,onClick:()=>!b&&!se&&D(p,"14:00-17:00"),style:{cursor:b||se?"not-allowed":"pointer"},children:[r.jsx("span",{children:"14:00-17:00"}),se&&je(p,"14:00-17:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:ye=>Le(ye,p,"14:00-17:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]})]})})()}):x==="sav"?r.jsx(r.Fragment,{children:(()=>{const Z=be(p,"8:00"),pe=be(p,"9:30"),se=be(p,"11:00"),ye=be(p,"12:30"),re=be(p,"14:00"),et=be(p,"15:30"),mt=be(p,"17:00"),Dt=be(p,"18:30");return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`time-slot ${b||Z?"disabled":""}`,onClick:()=>!b&&!Z&&D(p,"8:00"),style:{cursor:b||Z?"not-allowed":"pointer"},children:[r.jsx("span",{children:"8:00"}),Z&&je(p,"8:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"8:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||pe?"disabled":""}`,onClick:()=>!b&&!pe&&D(p,"9:30"),style:{cursor:b||pe?"not-allowed":"pointer"},children:[r.jsx("span",{children:"9:30"}),pe&&je(p,"9:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"9:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||se?"disabled":""}`,onClick:()=>!b&&!se&&D(p,"11:00"),style:{cursor:b||se?"not-allowed":"pointer"},children:[r.jsx("span",{children:"11:00"}),se&&je(p,"11:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"11:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||ye?"disabled":""}`,onClick:()=>!b&&!ye&&D(p,"12:30"),style:{cursor:b||ye?"not-allowed":"pointer"},children:[r.jsx("span",{children:"12:30"}),ye&&je(p,"12:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"12:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||re?"disabled":""}`,onClick:()=>!b&&!re&&D(p,"14:00"),style:{cursor:b||re?"not-allowed":"pointer"},children:[r.jsx("span",{children:"14:00"}),re&&je(p,"14:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"14:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||et?"disabled":""}`,onClick:()=>!b&&!et&&D(p,"15:30"),style:{cursor:b||et?"not-allowed":"pointer"},children:[r.jsx("span",{children:"15:30"}),et&&je(p,"15:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"15:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||mt?"disabled":""}`,onClick:()=>!b&&!mt&&D(p,"17:00"),style:{cursor:b||mt?"not-allowed":"pointer"},children:[r.jsx("span",{children:"17:00"}),mt&&je(p,"17:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"17:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||Dt?"disabled":""}`,onClick:()=>!b&&!Dt&&D(p,"18:30"),style:{cursor:b||Dt?"not-allowed":"pointer"},children:[r.jsx("span",{children:"18:30"}),Dt&&je(p,"18:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"18:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]})]})})()}):r.jsx(r.Fragment,{children:(()=>{const Z=be(p,"8-10"),pe=be(p,"10-12"),se=be(p,"14-16"),ye=be(p,"16-18");return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`time-slot ${b||Z?"disabled":""}`,onClick:()=>!b&&!Z&&D(p,"8-10"),style:{cursor:b||Z?"not-allowed":"pointer"},children:[r.jsx("span",{children:"8-10"}),r.jsxs("div",{className:"time-slot-actions",children:[Z&&je(p,"8-10").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"8-10"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"8-10")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"8-10")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"8-10")},title:"Supprimer",children:""})]})]})]}),r.jsxs("div",{className:`time-slot ${b||pe?"disabled":""}`,onClick:()=>!b&&!pe&&D(p,"10-12"),style:{cursor:b||pe?"not-allowed":"pointer"},children:[r.jsx("span",{children:"10-12"}),r.jsxs("div",{className:"time-slot-actions",children:[pe&&je(p,"10-12").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"10-12"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"10-12")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"10-12")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"10-12")},title:"Supprimer",children:""})]})]})]}),r.jsxs("div",{className:`time-slot ${b||se?"disabled":""}`,onClick:()=>!b&&!se&&D(p,"14-16"),style:{cursor:b||se?"not-allowed":"pointer"},children:[r.jsx("span",{children:"14-16"}),r.jsxs("div",{className:"time-slot-actions",children:[se&&je(p,"14-16").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"14-16"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"14-16")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"14-16")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"14-16")},title:"Supprimer",children:""})]})]})]}),r.jsxs("div",{className:`time-slot ${b||ye?"disabled":""}`,onClick:()=>!b&&!ye&&D(p,"16-18"),style:{cursor:b||ye?"not-allowed":"pointer"},children:[r.jsx("span",{children:"16-18"}),r.jsxs("div",{className:"time-slot-actions",children:[ye&&je(p,"16-18").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"16-18"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"16-18")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"16-18")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},W)})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"date-headers",children:_e.slice(0,7).map((p,W)=>{if(p===null)return r.jsx("div",{className:"date-header empty"},W);const K=Te(p),Q=K.isFullyBooked,b=K.isDisabled;return r.jsxs("div",{className:`date-header ${b?"past":""} ${Q?"fully-booked":""}`,children:[r.jsxs("div",{className:"date-header-actions",children:[!St(u)&&K.count>0&&je(p).length>0&&r.jsx("button",{className:"calendar-info-button-pose",onClick:Z=>Le(Z,p),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&!St(u)&&it(p)&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button-pose",onClick:Z=>{Z.stopPropagation(),kt(p)},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button-pose",onClick:Z=>{Z.stopPropagation(),pt(p)},title:"Supprimer",children:""})]})]}),r.jsx("div",{className:`date-number ${b?"past":""} ${Q?"fully-booked-number":""} ${ht?"":"not-clickable"}`,onClick:ht?(()=>!b&&!Q&&D(p)):void 0,style:{cursor:ht?b||Q?"not-allowed":"pointer":"default"},children:p.getDate()}),h&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Matin"}),r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},W)})}),r.jsx("div",{className:"date-headers",children:_e.slice(7,14).map((p,W)=>{if(p===null)return r.jsx("div",{className:"date-header empty"},`second-${W}`);const K=Te(p),Q=K.isFullyBooked,b=K.isDisabled;return r.jsxs("div",{className:`date-header ${b?"past":""} ${Q?"fully-booked":""}`,children:[r.jsxs("div",{className:"date-header-actions",children:[!St(u)&&K.count>0&&je(p).length>0&&r.jsx("button",{className:"calendar-info-button-pose",onClick:Z=>Le(Z,p),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&!St(u)&&it(p)&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button-pose",onClick:Z=>{Z.stopPropagation(),kt(p)},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button-pose",onClick:Z=>{Z.stopPropagation(),pt(p)},title:"Supprimer",children:""})]})]}),r.jsx("div",{className:`date-number ${b?"past":""} ${Q?"fully-booked-number":""}`,onClick:ht?(()=>!b&&!Q&&D(p)):void 0,style:{cursor:ht?b||Q?"not-allowed":"pointer":"default"},children:p.getDate()}),h&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Matin"}),r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`second-${W}`)})}),r.jsx("div",{className:"date-headers",children:_e.slice(14,21).map((p,W)=>{if(p===null)return r.jsx("div",{className:"date-header empty"},`third-${W}`);const K=Te(p),Q=K.isFullyBooked,b=K.isDisabled;return r.jsxs("div",{className:`date-header ${b?"past":""} ${Q?"fully-booked":""}`,children:[r.jsxs("div",{className:"date-header-actions",children:[!St(u)&&K.count>0&&je(p).length>0&&r.jsx("button",{className:"calendar-info-button-pose",onClick:Z=>Le(Z,p),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&!St(u)&&it(p)&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button-pose",onClick:Z=>{Z.stopPropagation(),kt(p)},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button-pose",onClick:Z=>{Z.stopPropagation(),pt(p)},title:"Supprimer",children:""})]})]}),r.jsx("div",{className:`date-number ${b?"past":""} ${Q?"fully-booked-number":""}`,onClick:ht?(()=>!b&&!Q&&D(p)):void 0,style:{cursor:ht?b||Q?"not-allowed":"pointer":"default"},children:p.getDate()}),h&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Matin"}),r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`third-${W}`)})}),r.jsx("div",{className:"date-headers",children:_e.slice(21,28).map((p,W)=>{if(p===null)return r.jsx("div",{className:"date-header empty"},`fourth-${W}`);const K=Te(p),Q=K.isFullyBooked,b=K.isDisabled;return r.jsxs("div",{className:`date-header ${b?"past":""} ${Q?"fully-booked":""}`,children:[r.jsxs("div",{className:"date-header-actions",children:[!St(u)&&K.count>0&&je(p).length>0&&r.jsx("button",{className:"calendar-info-button-pose",onClick:Z=>Le(Z,p),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&!St(u)&&it(p)&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button-pose",onClick:Z=>{Z.stopPropagation(),kt(p)},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button-pose",onClick:Z=>{Z.stopPropagation(),pt(p)},title:"Supprimer",children:""})]})]}),r.jsx("div",{className:`date-number ${b?"past":""} ${Q?"fully-booked-number":""}`,onClick:ht?(()=>!b&&!Q&&D(p)):void 0,style:{cursor:ht?b||Q?"not-allowed":"pointer":"default"},children:p.getDate()}),h&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Matin"}),r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`fourth-${W}`)})}),_e.length>28&&r.jsx("div",{className:"date-headers",children:_e.slice(28).map((p,W)=>{if(p===null)return r.jsx("div",{className:"date-header empty"},`fifth-${W}`);const K=Te(p),Q=K.isFullyBooked,b=K.isDisabled;return r.jsxs("div",{className:`date-header ${b?"past":""} ${Q?"fully-booked":""}`,children:[r.jsxs("div",{className:`date-number ${b?"past":""} ${Q?"fully-booked-number":""}`,onClick:ht?(()=>!b&&!Q&&D(p)):void 0,style:{cursor:ht?b||Q?"not-allowed":"pointer":"default"},children:[r.jsx("span",{children:p.getDate()}),!St(u)&&K.count>0&&je(p).length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Z=>Le(Z,p),title:"Voir les rservations",children:r.jsx(Be,{})})]}),h&&r.jsx(r.Fragment,{children:x==="basic"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Matin"}),r.jsx("div",{className:`time-slot ${b?"disabled":""}`,onClick:()=>!b&&!Q&&D(p),style:{cursor:b||Q?"not-allowed":"pointer"},children:"Aprs-midi"})]}):x==="pose"?r.jsx(r.Fragment,{children:(()=>{const Z=be(p,"8:00-11:00"),pe=be(p,"11:00-14:00"),se=be(p,"14:00-17:00");return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`time-slot ${b||Z?"disabled":""}`,onClick:()=>!b&&!Z&&D(p,"8:00-11:00"),style:{cursor:b||Z?"not-allowed":"pointer"},children:[r.jsx("span",{children:"8:00-11:00"}),Z&&je(p,"8:00-11:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:ye=>Le(ye,p,"8:00-11:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||pe?"disabled":""}`,onClick:()=>!b&&!pe&&D(p,"11:00-14:00"),style:{cursor:b||pe?"not-allowed":"pointer"},children:[r.jsx("span",{children:"11:00-14:00"}),pe&&je(p,"11:00-14:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:ye=>Le(ye,p,"11:00-14:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||se?"disabled":""}`,onClick:()=>!b&&!se&&D(p,"14:00-17:00"),style:{cursor:b||se?"not-allowed":"pointer"},children:[r.jsx("span",{children:"14:00-17:00"}),se&&je(p,"14:00-17:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:ye=>Le(ye,p,"14:00-17:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]})]})})()}):x==="sav"?r.jsx(r.Fragment,{children:(()=>{const Z=be(p,"8:00"),pe=be(p,"9:30"),se=be(p,"11:00"),ye=be(p,"12:30"),re=be(p,"14:00"),et=be(p,"15:30"),mt=be(p,"17:00"),Dt=be(p,"18:30");return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`time-slot ${b||Z?"disabled":""}`,onClick:()=>!b&&!Z&&D(p,"8:00"),style:{cursor:b||Z?"not-allowed":"pointer"},children:[r.jsx("span",{children:"8:00"}),Z&&je(p,"8:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"8:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||pe?"disabled":""}`,onClick:()=>!b&&!pe&&D(p,"9:30"),style:{cursor:b||pe?"not-allowed":"pointer"},children:[r.jsx("span",{children:"9:30"}),pe&&je(p,"9:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"9:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||se?"disabled":""}`,onClick:()=>!b&&!se&&D(p,"11:00"),style:{cursor:b||se?"not-allowed":"pointer"},children:[r.jsx("span",{children:"11:00"}),se&&je(p,"11:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"11:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||ye?"disabled":""}`,onClick:()=>!b&&!ye&&D(p,"12:30"),style:{cursor:b||ye?"not-allowed":"pointer"},children:[r.jsx("span",{children:"12:30"}),ye&&je(p,"12:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"12:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||re?"disabled":""}`,onClick:()=>!b&&!re&&D(p,"14:00"),style:{cursor:b||re?"not-allowed":"pointer"},children:[r.jsx("span",{children:"14:00"}),re&&je(p,"14:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"14:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||et?"disabled":""}`,onClick:()=>!b&&!et&&D(p,"15:30"),style:{cursor:b||et?"not-allowed":"pointer"},children:[r.jsx("span",{children:"15:30"}),et&&je(p,"15:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"15:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||mt?"disabled":""}`,onClick:()=>!b&&!mt&&D(p,"17:00"),style:{cursor:b||mt?"not-allowed":"pointer"},children:[r.jsx("span",{children:"17:00"}),mt&&je(p,"17:00").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"17:00"),title:"Voir les rservations",children:r.jsx(Be,{})})]}),r.jsxs("div",{className:`time-slot ${b||Dt?"disabled":""}`,onClick:()=>!b&&!Dt&&D(p,"18:30"),style:{cursor:b||Dt?"not-allowed":"pointer"},children:[r.jsx("span",{children:"18:30"}),Dt&&je(p,"18:30").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:Fe=>Le(Fe,p,"18:30"),title:"Voir les rservations",children:r.jsx(Be,{})})]})]})})()}):r.jsx(r.Fragment,{children:(()=>{const Z=be(p,"8-10"),pe=be(p,"10-12"),se=be(p,"14-16"),ye=be(p,"16-18");return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`time-slot ${b||Z?"disabled":""}`,onClick:()=>!b&&!Z&&D(p,"8-10"),style:{cursor:b||Z?"not-allowed":"pointer"},children:[r.jsx("span",{children:"8-10"}),r.jsxs("div",{className:"time-slot-actions",children:[Z&&je(p,"8-10").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"8-10"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"8-10")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"8-10")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"8-10")},title:"Supprimer",children:""})]})]})]}),r.jsxs("div",{className:`time-slot ${b||pe?"disabled":""}`,onClick:()=>!b&&!pe&&D(p,"10-12"),style:{cursor:b||pe?"not-allowed":"pointer"},children:[r.jsx("span",{children:"10-12"}),r.jsxs("div",{className:"time-slot-actions",children:[pe&&je(p,"10-12").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"10-12"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"10-12")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"10-12")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"10-12")},title:"Supprimer",children:""})]})]})]}),r.jsxs("div",{className:`time-slot ${b||se?"disabled":""}`,onClick:()=>!b&&!se&&D(p,"14-16"),style:{cursor:b||se?"not-allowed":"pointer"},children:[r.jsx("span",{children:"14-16"}),r.jsxs("div",{className:"time-slot-actions",children:[se&&je(p,"14-16").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"14-16"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"14-16")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"14-16")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"14-16")},title:"Supprimer",children:""})]})]})]}),r.jsxs("div",{className:`time-slot ${b||ye?"disabled":""}`,onClick:()=>!b&&!ye&&D(p,"16-18"),style:{cursor:b||ye?"not-allowed":"pointer"},children:[r.jsx("span",{children:"16-18"}),r.jsxs("div",{className:"time-slot-actions",children:[ye&&je(p,"16-18").length>0&&r.jsx("button",{className:"calendar-info-button",onClick:re=>Le(re,p,"16-18"),title:"Voir les rservations",children:r.jsx(Be,{})}),X&&it(p,"16-18")&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"calendar-edit-button",onClick:re=>{re.stopPropagation(),kt(p,"16-18")},title:"Modifier",children:""}),r.jsx("button",{className:"calendar-delete-button",onClick:re=>{re.stopPropagation(),pt(p,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},`fifth-${W}`)})})]})]})}),ge&&r.jsx("div",{className:"calendar-info-popup",style:{position:"absolute",left:`${ge.x}px`,top:`${ge.y}px`,zIndex:1e3},onClick:p=>p.stopPropagation(),children:r.jsxs("div",{className:"calendar-info-popup-content",children:[r.jsx("button",{className:"calendar-info-popup-close",onClick:()=>F(null),"aria-label":"Fermer",children:""}),r.jsx("div",{className:"calendar-info-popup-title",children:"Rserv pour:"}),r.jsx("div",{className:"calendar-info-popup-names",children:ge.names.map((p,W)=>r.jsx("div",{children:p},W))}),ue&&ge&&dr(ge.date,ge.timeSlot)&&r.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${c?"#333333":"#e5e7eb"}`,display:"flex",gap:"8px",justifyContent:"flex-end"},children:[r.jsxs("button",{onClick:p=>{p.stopPropagation(),Bo(ge.date,ge.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#fa541c",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(250, 84, 28, 0.3)"},onMouseEnter:p=>{p.currentTarget.style.backgroundColor="#ff6b35",p.currentTarget.style.transform="translateY(-1px)",p.currentTarget.style.boxShadow="0 4px 8px rgba(250, 84, 28, 0.4)"},onMouseLeave:p=>{p.currentTarget.style.backgroundColor="#fa541c",p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="0 2px 4px rgba(250, 84, 28, 0.3)"},children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Modifier"})]}),r.jsxs("button",{onClick:p=>{p.stopPropagation(),Fo(ge.date,ge.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:c?"#dc2626":"#ef4444",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)"},onMouseEnter:p=>{p.currentTarget.style.backgroundColor=c?"#b91c1c":"#dc2626",p.currentTarget.style.transform="translateY(-1px)",p.currentTarget.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.4)"},onMouseLeave:p=>{p.currentTarget.style.backgroundColor=c?"#dc2626":"#ef4444",p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.3)"},children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Supprimer"})]})]})]})}),Ae&&$e&&r.jsx(ll,{selectedDate:new Date($e.date+"T00:00:00"),selectedTimeSlot:$e.time&&$e.time!=="21h00"?$e.time:void 0,onClose:()=>{he(!1),ve(null)},onSubmit:fr,isDarkMode:c,initialData:{name:$e.name,phone:$e.phone,designer:$e.designer,message:$e.message}})]})};function Hd({disableAnimations:l=!1,isAdminView:c=!1}){const a=Ht(),[u,f]=m.useState(null),[h,x]=m.useState(void 0),[j,y]=m.useState(!1),[w,E]=m.useState(0),[A,N]=m.useState(null),[B,T]=m.useState(null),[$,R]=m.useState(()=>{const ne=localStorage.getItem("darkMode");return ne?JSON.parse(ne):!0}),U=fa("calendar3");m.useEffect(()=>{E(ne=>ne+1)},[U]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify($)),document.documentElement.setAttribute("data-theme",$?"dark":"light")},[$]),m.useEffect(()=>{const ne=de=>{const Me=de.detail.isDarkMode;Me!==$&&R(Me)};return window.addEventListener("darkModeChanged",ne),()=>{window.removeEventListener("darkModeChanged",ne)}},[$]),m.useEffect(()=>{if(B){const ne=setTimeout(()=>{T(null)},3e3);return()=>clearTimeout(ne)}},[B]);const H=()=>{R(!$)},X=(ne,de)=>{f(ne),x(de),y(!0)},oe=()=>{y(!1),f(null),x(void 0)},ue=async ne=>{console.log("Booking submitted:",ne);try{T("Traitement de votre rservation..."),await ol(ne,U),await new Promise(de=>setTimeout(de,500)),T(null),N(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{E(de=>de+1)},300)}catch(de){console.error("Booking submission error:",de),T(null),de instanceof Error&&de.message?alert(` ${de.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}oe()};return r.jsxs("div",{className:`App ${$?"dark-mode":"light-mode"}`,children:[!l&&r.jsx(sl,{isDarkMode:$}),!c&&r.jsx("div",{className:"app-logo",children:r.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),r.jsx("header",{className:`app-header ${c?"admin-style":""}`,children:r.jsxs("div",{className:"header-content",children:[c?r.jsxs("div",{children:[r.jsx("h1",{children:"Administration - Metr"}),r.jsx("p",{children:"Gestion des rservations Metr"})]}):r.jsxs("div",{children:[r.jsx("h1",{children:"Rservez Votre Rendez-vous de Metr"}),r.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!c&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"home-button",onClick:()=>a("/"),"aria-label":"Home",title:"Accueil",children:""}),r.jsx("button",{className:"theme-toggle",onClick:H,"aria-label":"Toggle dark mode",title:$?"Switch to light mode":"Switch to dark mode",children:$?"":""})]})]})}),r.jsx("main",{className:"app-main",children:r.jsx(xa,{onDateSelect:X,isDarkMode:$,refreshTrigger:w,binId:U,view:"weekly",timeSlotType:"numerical"})}),j&&u&&r.jsx(ll,{selectedDate:u,selectedTimeSlot:h,onClose:oe,onSubmit:ue,isDarkMode:$}),A&&r.jsxs("div",{className:"notification-toast persistent",children:[r.jsx("div",{children:A}),r.jsx("button",{className:"notification-toast-button",onClick:()=>N(null),children:"j'ai compris"})]}),B&&r.jsx("div",{className:"notification-toast",children:B})]})}function Vd({disableAnimations:l=!1,isAdminView:c=!1}){const a=Ht(),[u,f]=m.useState(null),[h,x]=m.useState(!1),[j,y]=m.useState(0),[w,E]=m.useState(null),[A,N]=m.useState(null),[B,T]=m.useState(()=>{const oe=localStorage.getItem("darkMode");return oe?JSON.parse(oe):!0}),$=fa("calendar1");m.useEffect(()=>{y(oe=>oe+1)},[$]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(B)),document.documentElement.setAttribute("data-theme",B?"dark":"light")},[B]),m.useEffect(()=>{const oe=ue=>{const ne=ue.detail.isDarkMode;ne!==B&&T(ne)};return window.addEventListener("darkModeChanged",oe),()=>{window.removeEventListener("darkModeChanged",oe)}},[B]),m.useEffect(()=>{if(A){const oe=setTimeout(()=>{N(null)},3e3);return()=>clearTimeout(oe)}},[A]);const R=()=>{T(!B)},U=oe=>{f(oe),x(!0)},H=()=>{x(!1),f(null)},X=async oe=>{console.log("Booking submitted:",oe);try{N("Traitement de votre rservation..."),await ol(oe,$),await new Promise(ue=>setTimeout(ue,500)),N(null),E(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{y(ue=>ue+1)},300)}catch(ue){console.error("Booking submission error:",ue),N(null),ue instanceof Error&&ue.message?alert(` ${ue.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}H()};return r.jsxs("div",{className:`App ${B?"dark-mode":"light-mode"}`,children:[!l&&r.jsx(sl,{isDarkMode:B}),!c&&r.jsx("div",{className:"app-logo",children:r.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),r.jsx("header",{className:`app-header ${c?"admin-style":""}`,children:r.jsxs("div",{className:"header-content",children:[c?r.jsxs("div",{children:[r.jsx("h1",{children:"Administration - Pose"}),r.jsx("p",{children:"Gestion des rservations Pose"})]}):r.jsxs("div",{children:[r.jsx("h1",{children:"Rservez Votre Rendez-vous de Pose"}),r.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!c&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"home-button",onClick:()=>a("/"),"aria-label":"Home",title:"Accueil",children:""}),r.jsx("button",{className:"theme-toggle",onClick:R,"aria-label":"Toggle dark mode",title:B?"Switch to light mode":"Switch to dark mode",children:B?"":""})]})]})}),r.jsx("main",{className:"app-main",children:r.jsx(xa,{onDateSelect:U,isDarkMode:B,refreshTrigger:j,binId:$,view:"monthly",showTimeSlots:!1,timeSlotType:"basic"})}),h&&u&&r.jsx(ll,{selectedDate:u,onClose:H,onSubmit:X,isDarkMode:B}),w&&r.jsxs("div",{className:"notification-toast persistent",children:[r.jsx("div",{children:w}),r.jsx("button",{className:"notification-toast-button",onClick:()=>E(null),children:"j'ai compris"})]}),A&&r.jsx("div",{className:"notification-toast",children:A})]})}function Wd({disableAnimations:l=!1,isAdminView:c=!1}){const a=Ht(),[u,f]=m.useState(null),[h,x]=m.useState(void 0),[j,y]=m.useState(!1),[w,E]=m.useState(0),[A,N]=m.useState(null),[B,T]=m.useState(null),[$,R]=m.useState(()=>{const ne=localStorage.getItem("darkMode");return ne?JSON.parse(ne):!0}),U=fa("calendar2");m.useEffect(()=>{E(ne=>ne+1)},[U]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify($)),document.documentElement.setAttribute("data-theme",$?"dark":"light")},[$]),m.useEffect(()=>{const ne=de=>{const Me=de.detail.isDarkMode;Me!==$&&R(Me)};return window.addEventListener("darkModeChanged",ne),()=>{window.removeEventListener("darkModeChanged",ne)}},[$]),m.useEffect(()=>{if(B){const ne=setTimeout(()=>{T(null)},3e3);return()=>clearTimeout(ne)}},[B]);const H=()=>{R(!$)},X=(ne,de)=>{f(ne),x(de),y(!0)},oe=()=>{y(!1),f(null),x(void 0)},ue=async ne=>{console.log("Booking submitted:",ne);try{T("Traitement de votre rservation..."),await ol(ne,U),await new Promise(de=>setTimeout(de,500)),T(null),N(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{E(de=>de+1)},300)}catch(de){console.error("Booking submission error:",de),T(null),de instanceof Error&&de.message?alert(` ${de.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}oe()};return r.jsxs("div",{className:`App ${$?"dark-mode":"light-mode"}`,children:[!l&&r.jsx(sl,{isDarkMode:$}),!c&&r.jsx("div",{className:"app-logo",children:r.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),r.jsx("header",{className:`app-header ${c?"admin-style":""}`,children:r.jsxs("div",{className:"header-content",children:[c?r.jsxs("div",{children:[r.jsx("h1",{children:"Administration - SAV"}),r.jsx("p",{children:"Gestion des rservations SAV"})]}):r.jsxs("div",{children:[r.jsx("h1",{children:"Rservez Votre Rendez-vous de SAV"}),r.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!c&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"home-button",onClick:()=>a("/"),"aria-label":"Home",title:"Accueil",children:""}),r.jsx("button",{className:"theme-toggle",onClick:H,"aria-label":"Toggle dark mode",title:$?"Switch to light mode":"Switch to dark mode",children:$?"":""})]})]})}),r.jsx("main",{className:"app-main",children:r.jsx(xa,{onDateSelect:X,isDarkMode:$,refreshTrigger:w,binId:U,view:"weekly",timeSlotType:"sav"})}),j&&u&&r.jsx(ll,{selectedDate:u,selectedTimeSlot:h,onClose:oe,onSubmit:ue,isDarkMode:$}),A&&r.jsxs("div",{className:"notification-toast persistent",children:[r.jsx("div",{children:A}),r.jsx("button",{className:"notification-toast-button",onClick:()=>N(null),children:"j'ai compris"})]}),B&&r.jsx("div",{className:"notification-toast",children:B})]})}function Ao(){const l=Ht(),c=Pt(),[a,u]=m.useState(()=>{const g=localStorage.getItem("darkMode");return g?JSON.parse(g):!0}),[f,h]=m.useState(!0),[x,j]=m.useState(!1),[y,w]=m.useState(!1),[E,A]=m.useState([]),[N,B]=m.useState(!0),[T,$]=m.useState([]),[R,U]=m.useState(!0),[H,X]=m.useState(!0),[oe,ue]=m.useState(!1),[ne,de]=m.useState(0),[Me,Ne]=m.useState([]);m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),document.documentElement.setAttribute("data-theme",a?"dark":"light");const g=localStorage.getItem("user");if(g){const te=JSON.parse(g);j(te.role==="admin")}},[a]),m.useEffect(()=>{const g=setTimeout(()=>{setTimeout(()=>w(!0),300)},300);return()=>clearTimeout(g)},[]),m.useEffect(()=>{(async()=>{try{B(!0),U(!0);const O=["calendar1","calendar2","calendar3"].map(async le=>{try{return(await Hr(le)).map(Ce=>({...Ce,calendarId:le}))}catch(_e){return console.warn(`Failed to fetch bookings for ${le}:`,_e),[]}}),V=(await Promise.all(O)).flat(),ie=V.sort((le,_e)=>_e.timestamp-le.timestamp).slice(0,5);A(ie);const ke={};V.forEach(le=>{const _e=le.name;_e&&(ke[_e]=(ke[_e]||0)+1)});const z=[{name:"Jean Dupont",count:12},{name:"Marie Martin",count:9},{name:"Pierre Dubois",count:8},{name:"Sophie Bernard",count:7},{name:"Luc Moreau",count:6},{name:"Isabelle Petit",count:5},{name:"Antoine Rousseau",count:4},{name:"Camille Leroy",count:4},{name:"Thomas Simon",count:3},{name:"Julie Girard",count:3}];z.forEach(le=>{ke[le.name]||(ke[le.name]=le.count)});const k=Object.entries(ke).map(([le,_e])=>({name:le,count:_e})).sort((le,_e)=>_e.count-le.count).slice(0,10);if(k.length<10){const le=new Set(k.map(Ce=>Ce.name)),_e=z.filter(Ce=>!le.has(Ce.name)).slice(0,10-k.length);k.push(..._e),k.sort((Ce,Te)=>Te.count-Ce.count)}$(k)}catch(te){console.error("Error loading bookings data:",te),$([{name:"Jean Dupont",count:12},{name:"Marie Martin",count:9},{name:"Pierre Dubois",count:8},{name:"Sophie Bernard",count:7},{name:"Luc Moreau",count:6},{name:"Isabelle Petit",count:5},{name:"Antoine Rousseau",count:4},{name:"Camille Leroy",count:4},{name:"Thomas Simon",count:3},{name:"Julie Girard",count:3}])}finally{B(!1),U(!1)}})()},[]);const Pe=async()=>{try{const g=await ha();Ne(g),de(g.length)}catch(g){console.error("Error loading notifications:",g)}};m.useEffect(()=>{Pe();const g=setInterval(Pe,3e4),te=()=>Pe();return window.addEventListener("notificationRefresh",te),()=>{clearInterval(g),window.removeEventListener("notificationRefresh",te)}},[]),m.useEffect(()=>{const g=te=>{const O=te.target;oe&&!O.closest("[data-notifications-dropdown]")&&ue(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[oe]);const Ie=[{month:"Jan",Metr:18,Pose:12,SAV:24},{month:"Fv",Metr:22,Pose:15,SAV:28},{month:"Mar",Metr:20,Pose:18,SAV:30},{month:"Avr",Metr:25,Pose:20,SAV:32},{month:"Mai",Metr:24,Pose:22,SAV:35},{month:"Juin",Metr:24,Pose:18,SAV:32}],ze=Math.max(...Ie.flatMap(g=>[g.Metr,g.Pose,g.SAV]))+5,$e=g=>{const O=Date.now()-g,D=Math.floor(O/6e4),V=Math.floor(O/36e5),ie=Math.floor(O/864e5);return D<1?" l'instant":D<60?`Il y a ${D} min`:V<24?`Il y a ${V} h`:ie<7?`Il y a ${ie} j`:new Date(g).toLocaleDateString("fr-FR")},ve=()=>{const g=!a;u(g),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{isDarkMode:g}}))},Ae=()=>{localStorage.removeItem("user"),l("/")},he="#fa541c",ge=a?"#000000":"#f5f5f5",F=a?"#1a1a1a":"#ffffff",G=a?"#ffffff":"#111827",M=a?"#9ca3af":"#6b7280",S=a?"#333333":"#e5e7eb";return r.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:ge},children:[r.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
      `}),r.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:f?"256px":"64px",borderRight:`1px solid ${S}`,backgroundColor:a?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[r.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${S}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${he} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:r.jsx(Ye,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),f&&r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:G},children:"Tableau de Bord"}),r.jsx("div",{style:{fontSize:"12px",color:M},children:"Tableau de Bord"})]})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsx(an,{Icon:Io,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:f,onClick:()=>l("/dashboard"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M}),x&&r.jsx(an,{Icon:Do,title:"Rservation",isActive:c.pathname==="/rservation",open:f,onClick:()=>l("/rservation"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M}),x&&r.jsx(an,{Icon:zr,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:f,onClick:()=>l("/jours-feries"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M}),x&&r.jsx(an,{Icon:Ar,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:f,onClick:()=>l("/utilisateurs"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M}),r.jsxs("button",{onClick:()=>X(!H),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:M,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",g.currentTarget.style.color=G},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent",g.currentTarget.style.color=M},children:[r.jsx(Ye,{style:{width:"20px",height:"20px",flexShrink:0}}),f&&r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),H?r.jsx(zo,{style:{width:"16px",height:"16px",flexShrink:0}}):r.jsx(Ro,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),x&&H&&r.jsxs("div",{style:{paddingLeft:"20px"},children:[r.jsx(an,{Icon:Ye,title:"Metr",isActive:c.pathname==="/metre",open:f,onClick:()=>l("/metre"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M}),r.jsx(an,{Icon:Ye,title:"Pose",isActive:c.pathname==="/pose",open:f,onClick:()=>l("/pose"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M}),r.jsx(an,{Icon:Ye,title:"SAV",isActive:c.pathname==="/sav",open:f,onClick:()=>l("/sav"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M})]})]}),f&&r.jsxs("div",{style:{borderTop:`1px solid ${S}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[r.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:M,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),r.jsx(an,{Icon:a?hn:pn,title:a?"Mode clair":"Mode sombre",isActive:!1,open:f,onClick:ve,isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M}),r.jsx(an,{Icon:ur,title:"Paramtres",isActive:c.pathname==="/parametres",open:f,onClick:()=>l("/parametres"),isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M})]}),r.jsx("div",{style:{borderTop:`1px solid ${S}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:r.jsx(an,{Icon:En,title:"Dconnexion",isActive:!1,open:f,onClick:Ae,isDarkMode:a,orangeColor:he,textColor:G,textSecondary:M})}),r.jsxs("button",{onClick:()=>h(!f),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${S}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:M,transition:"background-color 0.2s",height:"48px"},onMouseEnter:g=>g.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",onMouseLeave:g=>g.currentTarget.style.backgroundColor="transparent",children:[r.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Po,{style:{width:"16px",height:"16px",transform:f?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),f&&r.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),r.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:ge,display:"flex",flexDirection:"column"},children:c.pathname==="/calendrier"?r.jsx(Ud,{disableAnimations:!0,isAdminView:!0}):c.pathname==="/metre"?r.jsx(Hd,{disableAnimations:!0,isAdminView:!0}):c.pathname==="/pose"?r.jsx(Vd,{disableAnimations:!0,isAdminView:!0}):c.pathname==="/sav"?r.jsx(Wd,{disableAnimations:!0,isAdminView:!0}):r.jsxs("div",{style:{padding:"24px",flex:1,display:"flex",flexDirection:"column",minHeight:0},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px",animation:"fadeInDown 0.5s ease-out"},children:[r.jsxs("div",{children:[r.jsx("h1",{style:{fontSize:"30px",fontWeight:700,color:G,marginBottom:"4px"},children:"Tableau de Bord"}),r.jsx("p",{style:{fontSize:"16px",color:M,marginTop:"4px"},children:"Bienvenue sur votre tableau de bord"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[r.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>ue(!oe),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:F,border:`1px solid ${S}`,color:M,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:g=>{g.currentTarget.style.color=G,g.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb"},onMouseLeave:g=>{g.currentTarget.style.color=M,g.currentTarget.style.backgroundColor=F},children:[r.jsx(Ir,{style:{width:"20px",height:"20px"}}),ne>0&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:ne>99?"99+":ne})]}),oe&&r.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:F,border:`1px solid ${S}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[r.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${S}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:G},children:"Notifications"}),ne>0&&r.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[ne," nouvelle",ne>1?"s":""]})]}),r.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:Me.length===0?r.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:M},children:"Aucune notification"}):Me.slice(0,10).map(g=>{const te=ma(g.timestamp),D=(()=>{if(g.type==="booking"){const V=g.data,ie=fn(V.calendarId);return{subtitle:`${V.name} - ${ie}`,details:`${V.date} ${V.time&&V.time!=="21h00"?` ${V.time}`:""}`,onClick:()=>{ue(!1),l("/rservation")}}}else if(g.type==="holiday"){const V=g.data;return{subtitle:`${fn(V.calendarId)} - ${(z=>new Date(z+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(V.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{ue(!1),l("/jours-feries")}}}else if(g.type==="user"){const V=g.data,ie=ke=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[ke]||ke;return{subtitle:`${V.name} (${ie(V.role)})`,details:V.email,onClick:()=>{ue(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return r.jsx("div",{onClick:D.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${S}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:V=>{V.currentTarget.style.backgroundColor=a?"#2a2a2a":"#f9fafb"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor="transparent"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:G,marginBottom:"4px"},children:g.title}),r.jsx("div",{style:{fontSize:"13px",color:M,marginBottom:"4px"},children:D.subtitle}),r.jsx("div",{style:{fontSize:"12px",color:M},children:D.details})]}),r.jsx("div",{style:{fontSize:"11px",color:M,whiteSpace:"nowrap"},children:te})]})},g.id)})}),Me.length>0&&r.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${S}`,textAlign:"center"},children:r.jsx("button",{onClick:()=>{ue(!1),Me[0]?.type==="booking"?l("/rservation"):Me[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:he,cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),r.jsx("button",{onClick:ve,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${S}`,backgroundColor:F,color:M,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.color=G,g.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb"},onMouseLeave:g=>{g.currentTarget.style.color=M,g.currentTarget.style.backgroundColor=F},children:a?r.jsx(hn,{style:{width:"16px",height:"16px"}}):r.jsx(pn,{style:{width:"16px",height:"16px"}})}),r.jsx("button",{onClick:Ae,style:{padding:"8px",borderRadius:"8px",backgroundColor:F,border:`1px solid ${S}`,color:M,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:g=>{g.currentTarget.style.color=G,g.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb"},onMouseLeave:g=>{g.currentTarget.style.color=M,g.currentTarget.style.backgroundColor=F},children:r.jsx(En,{style:{width:"20px",height:"20px"}})})]})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"24px",marginBottom:"32px",animation:"fadeInUp 0.6s ease-out"},children:[r.jsx(Gs,{title:"Taux de rservation",value:"76 %",change:"+12% par rapport au mois dernier",Icon:gg,iconBg:a?`${he}30`:`${he}20`,iconColor:he,cardBg:F,textColor:G,textSecondary:M,borderColor:S}),r.jsx(Gs,{title:"Utilisateurs Actifs",value:"1 234",change:"+5% par rapport  la semaine dernire",Icon:Ar,iconBg:a?"#10b98130":"#10b98120",iconColor:"#10b981",cardBg:F,textColor:G,textSecondary:M,borderColor:S}),r.jsx(Gs,{title:"Rservations",value:"456",change:"+8% par rapport  hier",Icon:zr,iconBg:a?"#8b5cf630":"#8b5cf620",iconColor:"#8b5cf6",cardBg:F,textColor:G,textSecondary:M,borderColor:S}),r.jsx(Gs,{title:" Rservations SAV",value:"89",change:"+3 nouveaux cette semaine",Icon:Ye,iconBg:a?`${he}30`:`${he}20`,iconColor:he,cardBg:F,textColor:G,textSecondary:M,borderColor:S})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"auto auto",gap:"32px",animation:"fadeInUp 0.8s ease-out",flex:1,minHeight:0},children:[r.jsxs("div",{style:{backgroundColor:F,borderRadius:"16px",padding:"24px",border:`1px solid ${S}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 1s ease-out",transition:"all 0.3s ease",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px)",g.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",g.currentTarget.style.borderColor=S==="#333333"?"#444444":"#d1d5db"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0)",g.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",g.currentTarget.style.borderColor=S},children:[r.jsx("h3",{style:{fontSize:"20px",fontWeight:600,color:G,marginBottom:"20px"},children:"volution des Rservations"}),r.jsxs("div",{style:{display:"flex",gap:"24px",marginBottom:"20px",flexWrap:"wrap"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#3b82f6",boxShadow:"0 0 8px rgba(59, 130, 246, 0.5)"}}),r.jsx("span",{style:{fontSize:"14px",color:M},children:"Metr"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:he,boxShadow:`0 0 8px ${he}50`}}),r.jsx("span",{style:{fontSize:"14px",color:M},children:"Pose"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#10b981",boxShadow:"0 0 8px rgba(16, 185, 129, 0.5)"}}),r.jsx("span",{style:{fontSize:"14px",color:M},children:"SAV"})]})]}),r.jsx("div",{style:{position:"relative",width:"100%",flex:1,minHeight:"400px"},children:r.jsxs("svg",{width:"100%",height:"100%",style:{overflow:"visible"},viewBox:"0 0 900 400",preserveAspectRatio:"xMidYMid meet",children:[[0,1,2,3,4,5].map(g=>{const te=g/5*380+10;return r.jsx("line",{x1:"60",y1:te,x2:"860",y2:te,stroke:S,strokeWidth:"1",strokeDasharray:"4 4",opacity:"0.3",style:{animation:y?`fadeIn 0.5s ease-out ${g*.1}s both`:"none"}},`grid-${g}`)}),[0,1,2,3,4,5].map(g=>{const te=Math.round(ze/5*(5-g)),O=g/5*380+10;return r.jsx("text",{x:"55",y:O+4,textAnchor:"end",fontSize:"12",fill:M,style:{animation:y?`fadeIn 0.5s ease-out ${g*.1}s both`:"none"},children:te},`y-label-${g}`)}),r.jsxs("g",{transform:"translate(60, 10)",children:[Ie.map((g,te)=>{const D=te/(Ie.length-1)*800;return r.jsx("g",{children:r.jsx("text",{x:D,y:"395",textAnchor:"middle",fontSize:"13",fill:M,style:{animation:y?`fadeInUp 0.5s ease-out ${.6+te*.1}s both`:"none"},children:g.month})},`month-${te}`)}),r.jsx("path",{d:Ie.map((O,D)=>{const V=D/(Ie.length-1)*800,ie=380-O.Metr/ze*380;return`${D===0?"M":"L"} ${V} ${ie}`}).join(" "),fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:y?"1000":"0",strokeDashoffset:y?"0":"1000",transition:"stroke-dashoffset 2s ease-out",filter:"drop-shadow(0 0 4px rgba(59, 130, 246, 0.5))"}}),r.jsx("path",{d:Ie.map((O,D)=>{const V=D/(Ie.length-1)*800,ie=380-O.Pose/ze*380;return`${D===0?"M":"L"} ${V} ${ie}`}).join(" "),fill:"none",stroke:he,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:y?"1000":"0",strokeDashoffset:y?"0":"1000",transition:"stroke-dashoffset 2s ease-out 0.3s",filter:`drop-shadow(0 0 4px ${he}50)`}}),r.jsx("path",{d:Ie.map((O,D)=>{const V=D/(Ie.length-1)*800,ie=380-O.SAV/ze*380;return`${D===0?"M":"L"} ${V} ${ie}`}).join(" "),fill:"none",stroke:"#10b981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:y?"1000":"0",strokeDashoffset:y?"0":"1000",transition:"stroke-dashoffset 2s ease-out 0.6s",filter:"drop-shadow(0 0 4px rgba(16, 185, 129, 0.5))"}}),Ie.map((g,te)=>{const D=te/(Ie.length-1)*800,V=.8+te*.1;return r.jsxs("g",{children:[r.jsx("circle",{cx:D,cy:380-g.Metr/ze*380,r:"6",fill:"#3b82f6",style:{opacity:y?1:0,transform:y?"scale(1)":"scale(0)",transformOrigin:"center",transition:`all 0.3s ease-out ${V}s`,filter:"drop-shadow(0 0 6px rgba(59, 130, 246, 0.8))",cursor:"pointer"},children:r.jsxs("title",{children:["Metr: ",g.Metr]})}),r.jsx("circle",{cx:D,cy:380-g.Pose/ze*380,r:"6",fill:he,style:{opacity:y?1:0,transform:y?"scale(1)":"scale(0)",transformOrigin:"center",transition:`all 0.3s ease-out ${V+.1}s`,filter:`drop-shadow(0 0 6px ${he}80)`,cursor:"pointer"},children:r.jsxs("title",{children:["Pose: ",g.Pose]})}),r.jsx("circle",{cx:D,cy:380-g.SAV/ze*380,r:"6",fill:"#10b981",style:{opacity:y?1:0,transform:y?"scale(1)":"scale(0)",transformOrigin:"center",transition:`all 0.3s ease-out ${V+.2}s`,filter:"drop-shadow(0 0 6px rgba(16, 185, 129, 0.8))",cursor:"pointer"},children:r.jsxs("title",{children:["SAV: ",g.SAV]})})]},`points-${te}`)})]}),r.jsx("line",{x1:"60",y1:"10",x2:"60",y2:"390",stroke:S,strokeWidth:"2",style:{animation:y?"fadeIn 0.5s ease-out":"none"}}),r.jsx("line",{x1:"60",y1:"390",x2:"860",y2:"390",stroke:S,strokeWidth:"2",style:{animation:y?"fadeIn 0.5s ease-out 0.3s both":"none"}})]})})]}),r.jsxs("div",{style:{backgroundColor:F,borderRadius:"16px",padding:"24px",border:`1px solid ${S}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInRight 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column"},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px)",g.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",g.currentTarget.style.borderColor=S==="#333333"?"#444444":"#d1d5db"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0)",g.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",g.currentTarget.style.borderColor=S},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[r.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:G},children:"Top 10 Clients"}),r.jsx("button",{style:{fontSize:"12px",color:he,fontWeight:500,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:g=>g.currentTarget.style.color="#ff6b35",onMouseLeave:g=>g.currentTarget.style.color=he,children:"Voir tout"})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",flex:"1"},children:R?r.jsx("div",{style:{padding:"20px",textAlign:"center",color:M},children:"Chargement..."}):T.length===0?r.jsx("div",{style:{padding:"20px",textAlign:"center",color:M},children:"Aucun client"}):T.map((g,te)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px"},children:[r.jsx("span",{style:{fontSize:"14px",color:M},children:g.name}),r.jsxs("span",{style:{fontSize:"14px",fontWeight:500,color:G},children:[g.count," ",g.count===1?"rservation":"rservations"]})]},te))})]}),r.jsxs("div",{style:{backgroundColor:F,borderRadius:"16px",padding:"24px",border:`1px solid ${S}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInLeft 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px)",g.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",g.currentTarget.style.borderColor=S==="#333333"?"#444444":"#d1d5db"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0)",g.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",g.currentTarget.style.borderColor=S},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:G},children:"Rservation Rcente"}),r.jsx("button",{onClick:()=>l("/rservation"),style:{fontSize:"12px",color:he,fontWeight:500,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:g=>g.currentTarget.style.color="#ff6b35",onMouseLeave:g=>g.currentTarget.style.color=he,children:"Voir tout"})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:N?r.jsx("div",{style:{padding:"20px",textAlign:"center",color:M},children:"Chargement..."}):E.length===0?r.jsx("div",{style:{padding:"20px",textAlign:"center",color:M},children:"Aucune rservation rcente"}):E.map(g=>{const te=g.calendarId||"calendar1",O=Ad[te]||"Pose",D=$e(g.timestamp),V={Pose:{bg:a?`${he}30`:`${he}20`,icon:he},SAV:{bg:a?"#10b98130":"#10b98120",icon:"#10b981"},Metr:{bg:a?"#3b82f630":"#3b82f620",icon:"#3b82f6"}},ie=V[O]||V.Pose;return r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",borderRadius:"8px",backgroundColor:a?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:ke=>ke.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f0f0f0",onMouseLeave:ke=>ke.currentTarget.style.backgroundColor=a?"#0a0a0a":"#f9fafb",onClick:()=>l("/rservation"),children:[r.jsx("div",{style:{padding:"6px",borderRadius:"6px",backgroundColor:ie.bg,display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Ye,{style:{width:"14px",height:"14px",color:ie.icon}})}),r.jsxs("div",{style:{flex:1,minWidth:0},children:[r.jsxs("p",{style:{fontSize:"13px",fontWeight:500,color:G,marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[g.name," - ",O]}),r.jsxs("p",{style:{fontSize:"11px",color:M,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[g.date," ",g.time&&g.time!=="21h00"?` ${g.time}`:""]})]}),r.jsx("div",{style:{fontSize:"11px",color:M,whiteSpace:"nowrap"},children:D})]},g.id)})})]})]})]})})]})}const an=({Icon:l,title:c,isActive:a,open:u,onClick:f,isDarkMode:h,orangeColor:x,textColor:j,textSecondary:y})=>r.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${x}30`:`${x}15`:"transparent",color:a?x:y,borderLeft:a?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:w=>{a||(w.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",w.currentTarget.style.color=j)},onMouseLeave:w=>{a||(w.currentTarget.style.backgroundColor="transparent",w.currentTarget.style.color=y)},children:[r.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&r.jsx("span",{children:c})]}),Gs=({title:l,value:c,change:a,Icon:u,iconBg:f,iconColor:h,cardBg:x,textColor:j,textSecondary:y,borderColor:w})=>r.jsxs("div",{style:{padding:"24px",borderRadius:"16px",border:`1px solid ${w}`,backgroundColor:x,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:E=>{E.currentTarget.style.transform="translateY(-4px) scale(1.02)",E.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",E.currentTarget.style.borderColor=w==="#333333"?"#444444":"#d1d5db"},onMouseLeave:E=>{E.currentTarget.style.transform="translateY(0) scale(1)",E.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",E.currentTarget.style.borderColor=w},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[r.jsx("div",{style:{padding:"8px",backgroundColor:f,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(u,{style:{width:"20px",height:"20px",color:h}})}),r.jsx(bg,{style:{width:"16px",height:"16px",color:"#10b981"}})]}),r.jsx("h3",{style:{fontSize:"14px",fontWeight:500,color:y,marginBottom:"4px"},children:l}),r.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:j,marginBottom:"4px"},children:c}),r.jsx("p",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"},children:a})]});function Lg(){const[l,c]=m.useState(!1),[a,u]=m.useState(!0);return m.useEffect(()=>{const f=localStorage.getItem("user");if(f)try{const h=JSON.parse(f);c(h.role==="admin")}catch{c(!1)}u(!1)},[]),a?r.jsx("div",{children:"Loading..."}):l?r.jsx(Ao,{}):r.jsx(Ud,{})}function Rg(){const[l,c]=m.useState(!1),[a,u]=m.useState(!0);return m.useEffect(()=>{const f=localStorage.getItem("user");if(f)try{const h=JSON.parse(f);c(h.role==="admin")}catch{c(!1)}u(!1)},[]),a?r.jsx("div",{children:"Loading..."}):l?r.jsx(Ao,{}):r.jsx(Hd,{})}function Pg(){const[l,c]=m.useState(!1),[a,u]=m.useState(!0);return m.useEffect(()=>{const f=localStorage.getItem("user");if(f)try{const h=JSON.parse(f);c(h.role==="admin")}catch{c(!1)}u(!1)},[]),a?r.jsx("div",{children:"Loading..."}):l?r.jsx(Ao,{}):r.jsx(Vd,{})}function Dg(){const[l,c]=m.useState(!1),[a,u]=m.useState(!0);return m.useEffect(()=>{const f=localStorage.getItem("user");if(f)try{const h=JSON.parse(f);c(h.role==="admin")}catch{c(!1)}u(!1)},[]),a?r.jsx("div",{children:"Loading..."}):l?r.jsx(Ao,{}):r.jsx(Wd,{})}const Ig={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function zg(){const l=Ht(),[c,a]=m.useState({email:"",password:""}),[u,f]=m.useState({email:"",password:""}),[h,x]=m.useState(!1),[j,y]=m.useState(!1),w=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),E=N=>{const{name:B,value:T}=N.target;a($=>({...$,[B]:T})),u[B]&&f($=>({...$,[B]:""}))},A=async N=>{N.preventDefault();const B={email:"",password:""};let T=!0;if(c.email?w(c.email)||(B.email="Please enter a valid email address",T=!1):(B.email="Email is required",T=!1),c.password||(B.password="Password is required",T=!1),!T){f(B);return}x(!0);try{const $=Ig?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",R=await fetch(`${$}/users/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})}),U=await R.json();R.ok?(localStorage.setItem("user",JSON.stringify({id:U.id,name:U.name,email:U.email,phone:U.phone,role:U.role,isAuthenticated:!0})),l("/")):(f({email:"",password:U.detail||"Email ou mot de passe incorrect. Veuillez ressayer."}),x(!1))}catch($){console.error("Login error:",$),f({email:"",password:"Une erreur s'est produite. Veuillez ressayer."}),x(!1)}};return r.jsxs("div",{className:"login-page",children:[r.jsxs("div",{className:"login-background",children:[r.jsx("div",{className:"gradient-orb orb-1"}),r.jsx("div",{className:"gradient-orb orb-2"}),r.jsx("div",{className:"gradient-orb orb-3"})]}),r.jsx("div",{className:"login-container",children:r.jsxs("div",{className:"login-card",children:[r.jsxs("div",{className:"login-header",children:[r.jsx("div",{className:"logo-wrapper",children:r.jsx("div",{className:"logo-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),r.jsx("h1",{className:"login-title",children:"Welcome Back"}),r.jsx("p",{className:"login-subtitle",children:"Sign in to your account to continue"})]}),r.jsxs("form",{className:"login-form",onSubmit:A,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),r.jsxs("div",{className:"input-wrapper",children:[r.jsx("div",{className:"input-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r.jsx("input",{type:"email",id:"email",name:"email",className:`form-input ${u.email?"input-error":""}`,placeholder:"Enter your email",value:c.email,onChange:E,autoComplete:"email"})]}),u.email&&r.jsx("span",{className:"error-message",children:u.email})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),r.jsxs("div",{className:"input-wrapper",children:[r.jsx("div",{className:"input-icon",children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r.jsx("input",{type:j?"text":"password",id:"password",name:"password",className:`form-input ${u.password?"input-error":""}`,placeholder:"Enter your password",value:c.password,onChange:E,autoComplete:"current-password"}),r.jsx("button",{type:"button",className:"password-toggle",onClick:()=>y(!j),"aria-label":j?"Hide password":"Show password",children:j?r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M1 1L23 23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.jsx("path",{d:"M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.password&&r.jsx("span",{className:"error-message",children:u.password})]}),r.jsxs("div",{className:"form-options",children:[r.jsxs("label",{className:"checkbox-wrapper",children:[r.jsx("input",{type:"checkbox",className:"checkbox-input"}),r.jsx("span",{className:"checkbox-label",children:"Remember me"})]}),r.jsx("a",{href:"#",className:"forgot-password",children:"Forgot password?"})]}),r.jsx("button",{type:"submit",className:`login-button ${h?"loading":""}`,disabled:h,children:h?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"spinner"}),"Signing in..."]}):r.jsxs(r.Fragment,{children:["Sign In",r.jsx("svg",{className:"button-arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),r.jsx("div",{className:"login-footer",children:r.jsxs("p",{children:["Don't have an account?"," ",r.jsx("a",{href:"#",className:"signup-link",children:"Sign up"})]})})]})})]})}const Ag=({isOpen:l,onClose:c,onSubmit:a,user:u,isDarkMode:f=!0})=>{const[h,x]=m.useState({name:"",email:"",phone:"",role:"technicien",password:""}),[j,y]=m.useState(""),[w,E]=m.useState({});m.useEffect(()=>{u?(x({name:u.name||"",email:u.email||"",phone:u.phone||"",role:u.role||"technicien",password:""}),y("")):(x({name:"",email:"",phone:"",role:"technicien",password:""}),y("")),E({})},[u,l]);const A=$=>{const{name:R,value:U}=$.target;if(R==="confirmPassword"){y(U),w.confirmPassword&&E(H=>({...H,confirmPassword:void 0}));return}if(R==="phone"){const H=U.replace(/\D/g,"");x(X=>({...X,[R]:H}))}else x(H=>({...H,[R]:U}));w[R]&&E(H=>({...H,[R]:void 0})),R==="password"&&w.confirmPassword&&E(H=>({...H,confirmPassword:void 0}))},N=()=>{const $={};return h.name.trim()||($.name="Le nom est requis"),h.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)||($.email="L'email n'est pas valide"):$.email="L'email est requis",h.phone.trim()?h.phone.length<8&&($.phone="Le numro de tlphone doit contenir au moins 8 chiffres"):$.phone="Le tlphone est requis",h.role||($.role="Le rle est requis"),!u&&!h.password.trim()?$.password="Le mot de passe est requis":!u&&h.password.length<6&&($.password="Le mot de passe doit contenir au moins 6 caractres"),u?h.password.trim()&&(j.trim()?h.password!==j&&($.confirmPassword="Les mots de passe ne correspondent pas"):$.confirmPassword="Veuillez confirmer le mot de passe"):j.trim()?h.password!==j&&($.confirmPassword="Les mots de passe ne correspondent pas"):$.confirmPassword="Veuillez confirmer le mot de passe",E($),Object.keys($).length===0},B=$=>{$.preventDefault(),N()&&a({...h,confirm_password:j})};if(!l)return null;const T=$=>{$.target===$.currentTarget&&c()};return r.jsx("div",{className:`user-modal-overlay ${f?"dark-mode":"light-mode"}`,onClick:T,children:r.jsxs("div",{className:"user-modal",onClick:$=>$.stopPropagation(),children:[r.jsxs("div",{className:"user-modal-header",children:[r.jsx("h2",{children:u?"Modifier l'utilisateur":"Nouvel utilisateur"}),r.jsx("button",{className:"close-button",onClick:c,children:""})]}),r.jsxs("form",{onSubmit:B,className:"user-modal-form",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:"Nom *"}),r.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:A,className:w.name?"error":"",placeholder:"Ex: Jean Dupont"}),w.name&&r.jsx("span",{className:"error-message",children:w.name})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:"Email *"}),r.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:A,className:w.email?"error":"",placeholder:"Ex: jean.dupont@example.com"}),w.email&&r.jsx("span",{className:"error-message",children:w.email})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"Tlphone *"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:A,className:w.phone?"error":"",placeholder:"Ex: 0612345678"}),w.phone&&r.jsx("span",{className:"error-message",children:w.phone})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"role",children:"Rle *"}),r.jsxs("select",{id:"role",name:"role",value:h.role,onChange:A,className:w.role?"error":"",children:[r.jsx("option",{value:"technicien",children:"Technicien"}),r.jsx("option",{value:"admin",children:"Admin"})]}),w.role&&r.jsx("span",{className:"error-message",children:w.role})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"password",children:["Mot de passe ",!u&&"*",u&&r.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"normal",color:"#999"},children:"(Laisser vide pour ne pas modifier)"})]}),r.jsx("input",{type:"password",id:"password",name:"password",value:h.password,onChange:A,className:w.password?"error":"",placeholder:u?"Nouveau mot de passe (optionnel)":"Mot de passe"}),w.password&&r.jsx("span",{className:"error-message",children:w.password})]}),(!u||h.password.trim())&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe *"}),r.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:j,onChange:A,className:w.confirmPassword?"error":"",placeholder:"Confirmer le mot de passe"}),w.confirmPassword&&r.jsx("span",{className:"error-message",children:w.confirmPassword})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"cancel-button",onClick:c,children:"Annuler"}),r.jsx("button",{type:"submit",className:"submit-button",children:u?"Modifier":"Crer"})]})]})]})})},Bg={},Fg=Bg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",il=async(l,c={})=>{const a=`${Fg}${l}`,f={...c,headers:{...{"Content-Type":"application/json"},...c.headers}},h=await fetch(a,f);if(!h.ok){let x=`Erreur ${h.status}: ${h.statusText}`;try{const j=await h.json();if(j.detail)x=j.detail;else if(j.password)x=j.password[0]||x;else if(j.confirm_password)x=j.confirm_password[0]||x;else if(j.email)x=j.email[0]||x;else if(typeof j=="object"){const y=Object.keys(j)[0];y&&j[y]&&(x=Array.isArray(j[y])?j[y][0]:j[y])}}catch{}throw new Error(x)}if(h.status!==204)return await h.json()},ya=l=>({id:l.id,name:l.name,email:l.email,phone:l.phone||"",role:l.role,created_at:l.created_at,updated_at:l.updated_at}),Og=async l=>{const c=new URLSearchParams;l&&l!=="all"&&c.append("role",l);const a=c.toString()?`/users/?${c.toString()}`:"/users/";try{return(await il(a)).map(ya)}catch(u){throw console.error("Error fetching users:",u),u}},Ug=async l=>{try{const c=await il("/users/",{method:"POST",body:JSON.stringify(l)});return ya(c)}catch(c){throw console.error("Error creating user:",c),c}},Hg=async(l,c)=>{try{const a=await il(`/users/${l}/`,{method:"PUT",body:JSON.stringify(c)});return ya(a)}catch(a){throw console.error(`Error updating user ${l}:`,a),a}},Vg=async l=>{try{await il(`/users/${l}/`,{method:"DELETE"})}catch(c){throw console.error(`Error deleting user ${l}:`,c),c}};function Wg(){const l=Ht(),c=Pt(),[a,u]=m.useState([]),[f,h]=m.useState([]),[x,j]=m.useState(!0),[y,w]=m.useState("all"),[E,A]=m.useState(""),[N,B]=m.useState(()=>{const z=localStorage.getItem("darkMode");return z?JSON.parse(z):!0}),[T,$]=m.useState(!0),[R,U]=m.useState(!0),[H,X]=m.useState(!1),[oe,ue]=m.useState(0),[ne,de]=m.useState([]),[Me,Ne]=m.useState(!1),[Pe,Ie]=m.useState(null);m.useEffect(()=>{const z=localStorage.getItem("user");if(!z){l("/login");return}if(JSON.parse(z).role!=="admin"){l("/");return}$e()},[l]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(N)),document.documentElement.setAttribute("data-theme",N?"dark":"light")},[N]),m.useEffect(()=>{ve()},[a,y,E]);const ze=async()=>{try{const z=await ha(),k=a.map(Ce=>({id:Ce.id,name:Ce.name,email:Ce.email,role:Ce.role,createdAt:Ce.created_at})),le=Mm(k),_e=[...z,...le].sort((Ce,Te)=>Te.timestamp-Ce.timestamp);de(_e),ue(_e.length)}catch(z){console.error("Error loading notifications:",z)}};m.useEffect(()=>{ze();const z=setInterval(ze,3e4),k=()=>ze();return window.addEventListener("notificationRefresh",k),()=>{clearInterval(z),window.removeEventListener("notificationRefresh",k)}},[a]),m.useEffect(()=>{const z=k=>{const le=k.target;H&&!le.closest("[data-notifications-dropdown]")&&X(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[H]);const $e=async()=>{j(!0);try{const z=await Og(y!=="all"?y:void 0);u(z)}catch(z){console.error("Error loading users:",z);const k=z instanceof Error?z.message:"Erreur lors du chargement des utilisateurs";alert(`Erreur: ${k}`)}finally{j(!1)}},ve=()=>{let z=[...a];if(y!=="all"&&(z=z.filter(k=>k.role===y)),E){const k=E.toLowerCase();z=z.filter(le=>le.name.toLowerCase().includes(k)||le.email.toLowerCase().includes(k)||le.phone&&le.phone.includes(k))}h(z)},Ae=z=>new Date(z).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),he=z=>({admin:"Administrateur",technicien:"Technicien"})[z]||z,ge=z=>({admin:"#fa541c",technicien:"#17a2b8"})[z]||"#6c757d",F=()=>{B(!N)},G=()=>{localStorage.removeItem("user"),l("/")},M=()=>{Ie(null),Ne(!0)},S=z=>{Ie(z),Ne(!0)},g=async z=>{if(window.confirm(`tes-vous sr de vouloir supprimer l'utilisateur ${z.name} (${z.email}) ?`))try{await Vg(z.id),alert(" Utilisateur supprim avec succs"),await $e()}catch(k){console.error("Error deleting user:",k);const le=k?.message||"Erreur lors de la suppression de l'utilisateur";alert(` ${le}`)}},te=async z=>{try{if(Pe){const k={name:z.name,email:z.email,phone:z.phone,role:z.role};z.password&&(k.password=z.password,k.confirm_password=z.confirm_password),await Hg(Pe.id,k),alert(" Utilisateur modifi avec succs")}else await Ug(z),alert(" Utilisateur cr avec succs");Ne(!1),Ie(null),await $e()}catch(k){console.error("Error saving user:",k);const le=k?.message||"Erreur lors de l'enregistrement de l'utilisateur";alert(` ${le}`)}},O="#fa541c",D=N?"#000000":"#f5f5f5",V=N?"#ffffff":"#111827",ie=N?"#9ca3af":"#6b7280",ke=N?"#333333":"#e5e7eb";return r.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:D},children:[r.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:T?"256px":"64px",borderRight:`1px solid ${ke}`,backgroundColor:N?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[r.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${ke}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${O} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:r.jsx(Ye,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),T&&r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:V},children:"Tableau de Bord"}),r.jsx("div",{style:{fontSize:"12px",color:ie},children:"Tableau de Bord"})]})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsx(cn,{Icon:Io,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:T,onClick:()=>l("/dashboard"),isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie}),r.jsx(cn,{Icon:Do,title:"Rservation",isActive:c.pathname==="/rservation",open:T,onClick:()=>l("/rservation"),isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie}),r.jsx(cn,{Icon:zr,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:T,onClick:()=>l("/jours-feries"),isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie}),r.jsx(cn,{Icon:Ar,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:T,onClick:()=>l("/utilisateurs"),isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie}),r.jsxs("button",{onClick:()=>U(!R),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:ie,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",z.currentTarget.style.color=V},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="transparent",z.currentTarget.style.color=ie},children:[r.jsx(Ye,{style:{width:"20px",height:"20px",flexShrink:0}}),T&&r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),R?r.jsx(zo,{style:{width:"16px",height:"16px",flexShrink:0}}):r.jsx(Ro,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),R&&r.jsxs("div",{style:{paddingLeft:"20px"},children:[r.jsx(cn,{Icon:Ye,title:"Metr",isActive:c.pathname==="/metre",open:T,onClick:()=>l("/metre"),isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie}),r.jsx(cn,{Icon:Ye,title:"Pose",isActive:c.pathname==="/pose",open:T,onClick:()=>l("/pose"),isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie}),r.jsx(cn,{Icon:Ye,title:"SAV",isActive:c.pathname==="/sav",open:T,onClick:()=>l("/sav"),isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie})]})]}),T&&r.jsxs("div",{style:{borderTop:`1px solid ${ke}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[r.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:ie,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),r.jsx(cn,{Icon:N?hn:pn,title:N?"Mode clair":"Mode sombre",isActive:!1,open:T,onClick:F,isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie}),r.jsx(cn,{Icon:ur,title:"Paramtres",isActive:!1,open:T,onClick:()=>{},isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie})]}),r.jsx("div",{style:{borderTop:`1px solid ${ke}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:r.jsx(cn,{Icon:En,title:"Dconnexion",isActive:!1,open:T,onClick:G,isDarkMode:N,orangeColor:O,textColor:V,textSecondary:ie})}),r.jsxs("button",{onClick:()=>$(!T),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${ke}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:ie,transition:"background-color 0.2s",height:"48px"},onMouseEnter:z=>z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",onMouseLeave:z=>z.currentTarget.style.backgroundColor="transparent",children:[r.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Po,{style:{width:"16px",height:"16px",transform:T?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),T&&r.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),r.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:D},children:r.jsxs("div",{className:`admin-page ${N?"dark-mode":"light-mode"}`,children:[r.jsx("header",{className:"admin-header",children:r.jsxs("div",{className:"header-content",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Administration - Utilisateurs"}),r.jsx("p",{children:"Gestion des utilisateurs"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[r.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>X(!H),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:z=>{z.currentTarget.style.color=N?"#ffffff":"#111827",z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:z=>{z.currentTarget.style.color=N?"#9ca3af":"#6b7280",z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:[r.jsx(Ir,{style:{width:"20px",height:"20px"}}),oe>0&&r.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:oe>99?"99+":oe})]}),H&&r.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[r.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${N?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:N?"#ffffff":"#111827"},children:"Notifications"}),oe>0&&r.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[oe," nouvelle",oe>1?"s":""]})]}),r.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:ne.length===0?r.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:N?"#9ca3af":"#6b7280"},children:"Aucune notification"}):ne.slice(0,10).map(z=>{const k=ma(z.timestamp),_e=(()=>{if(z.type==="booking"){const Ce=z.data,Te=fn(Ce.calendarId),be=We=>new Date(We+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return{subtitle:`${Ce.name} - ${Te}`,details:`${be(Ce.date)} ${Ce.time&&Ce.time!=="21h00"?` ${Ce.time}`:""}`,onClick:()=>{X(!1),l("/rservation")}}}else if(z.type==="holiday"){const Ce=z.data;return{subtitle:`${fn(Ce.calendarId)} - ${(We=>new Date(We+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(Ce.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{X(!1),l("/jours-feries")}}}else if(z.type==="user"){const Ce=z.data;return{subtitle:`${Ce.name} (${he(Ce.role)})`,details:Ce.email,onClick:()=>{X(!1)}}}return{subtitle:"",details:"",onClick:()=>{}}})();return r.jsx("div",{onClick:_e.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${N?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Ce=>{Ce.currentTarget.style.backgroundColor=N?"#2a2a2a":"#f9fafb"},onMouseLeave:Ce=>{Ce.currentTarget.style.backgroundColor="transparent"},children:r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:N?"#ffffff":"#111827",marginBottom:"4px"},children:z.title}),r.jsx("div",{style:{fontSize:"13px",color:N?"#9ca3af":"#6b7280",marginBottom:"4px"},children:_e.subtitle}),r.jsx("div",{style:{fontSize:"12px",color:N?"#6b7280":"#9ca3af"},children:_e.details})]}),r.jsx("div",{style:{fontSize:"11px",color:N?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:k})]})},z.id)})}),ne.length>0&&r.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${N?"#333333":"#e5e7eb"}`,textAlign:"center"},children:r.jsx("button",{onClick:()=>{X(!1),ne[0]?.type==="booking"?l("/rservation"):ne[0]?.type==="holiday"&&l("/jours-feries")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),r.jsx("button",{onClick:F,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${N?"#333333":"#e5e7eb"}`,backgroundColor:N?"#1a1a1a":"#ffffff",color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>{z.currentTarget.style.color=N?"#ffffff":"#111827",z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:z=>{z.currentTarget.style.color=N?"#9ca3af":"#6b7280",z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:N?r.jsx(hn,{style:{width:"16px",height:"16px"}}):r.jsx(pn,{style:{width:"16px",height:"16px"}})}),r.jsx("button",{onClick:G,style:{padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:z=>{z.currentTarget.style.color=N?"#ffffff":"#111827",z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:z=>{z.currentTarget.style.color=N?"#9ca3af":"#6b7280",z.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:r.jsx(En,{style:{width:"20px",height:"20px"}})})]})]})}),r.jsxs("div",{className:"admin-filters",children:[r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"role-filter",children:"Rle:"}),r.jsxs("select",{id:"role-filter",value:y,onChange:z=>w(z.target.value),children:[r.jsx("option",{value:"all",children:"Tous les rles"}),r.jsx("option",{value:"admin",children:"Administrateur"}),r.jsx("option",{value:"technicien",children:"Technicien"})]})]}),r.jsxs("div",{className:"filter-group search-group",children:[r.jsx("label",{htmlFor:"search",children:"Rechercher:"}),r.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:r.jsx("input",{id:"search",type:"text",placeholder:"Nom, email, tlphone...",value:E,onChange:z=>A(z.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),r.jsxs("button",{className:"refresh-button",onClick:$e,children:[r.jsx(ga,{className:"refresh-icon"}),"Actualiser"]}),r.jsxs("button",{className:"create-button",onClick:M,children:[r.jsx(Od,{className:"create-icon"}),"Nouvel utilisateur"]})]}),r.jsx("main",{className:"admin-main",children:x?r.jsx("div",{className:"loading-message",children:"Chargement des utilisateurs..."}):f.length===0?r.jsx("div",{className:"no-bookings",children:"Aucun utilisateur trouv"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bookings-summary",children:r.jsxs("p",{children:["Total: ",f.length," utilisateur(s)"]})}),r.jsx("div",{className:"bookings-table-container",children:r.jsxs("table",{className:"bookings-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Nom"}),r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Tlphone"}),r.jsx("th",{children:"Rle"}),r.jsx("th",{children:"Cr le"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:f.map(z=>r.jsxs("tr",{children:[r.jsx("td",{children:z.name}),r.jsx("td",{children:z.email}),r.jsx("td",{children:z.phone||"-"}),r.jsx("td",{children:r.jsx("span",{className:"calendar-badge",style:{backgroundColor:ge(z.role)},children:he(z.role)})}),r.jsx("td",{children:Ae(z.created_at)}),r.jsxs("td",{className:"actions-cell",children:[r.jsx("button",{className:"edit-button",onClick:()=>S(z),title:"Modifier",children:""}),r.jsx("button",{className:"delete-button",onClick:()=>g(z),title:"Supprimer",children:""})]})]},z.id))})]})})]})}),r.jsx(Ag,{isOpen:Me,onClose:()=>{Ne(!1),Ie(null)},onSubmit:te,user:Pe,isDarkMode:N})]})})]})}const cn=({Icon:l,title:c,isActive:a,open:u,onClick:f,isDarkMode:h,orangeColor:x,textColor:j,textSecondary:y})=>r.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${x}30`:`${x}15`:"transparent",color:a?x:y,borderLeft:a?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:w=>{a||(w.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",w.currentTarget.style.color=j)},onMouseLeave:w=>{a||(w.currentTarget.style.backgroundColor="transparent",w.currentTarget.style.color=y)},children:[r.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&r.jsx("span",{children:c})]}),un=({Icon:l,title:c,isActive:a,open:u,onClick:f,isDarkMode:h,orangeColor:x,textColor:j,textSecondary:y})=>r.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${x}30`:`${x}15`:"transparent",color:a?x:y,borderLeft:a?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:w=>{a||(w.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",w.currentTarget.style.color=j)},onMouseLeave:w=>{a||(w.currentTarget.style.backgroundColor="transparent",w.currentTarget.style.color=y)},children:[r.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&r.jsx("span",{children:c})]});function Yg(){const l=Ht(),c=Pt(),[a,u]=m.useState(()=>{const k=localStorage.getItem("darkMode");return k?JSON.parse(k):!0}),[f,h]=m.useState(!0),[x,j]=m.useState(!0),[y,w]=m.useState("general"),[E,A]=m.useState(!1),[N,B]=m.useState("idle"),[T,$]=m.useState({email:!0,push:!1,sms:!1}),[R,U]=m.useState("fr"),[H,X]=m.useState("Europe/Paris"),[oe,ue]=m.useState(!0),[ne,de]=m.useState(!1),[Me,Ne]=m.useState(""),[Pe,Ie]=m.useState(""),[ze,$e]=m.useState(""),[ve,Ae]=m.useState(()=>localStorage.getItem("accentColor")||"#fa541c");m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),document.documentElement.setAttribute("data-theme",a?"dark":"light")},[a]),m.useEffect(()=>{localStorage.setItem("accentColor",ve),document.documentElement.style.setProperty("--accent-color",ve)},[ve]),m.useEffect(()=>{const k=localStorage.getItem("user");if(!k){l("/login");return}if(JSON.parse(k).role!=="admin"){l("/");return}},[l]);const he=()=>{u(!a)},ge=()=>{localStorage.removeItem("user"),l("/")},F=async()=>{A(!0),B("idle"),await new Promise(k=>setTimeout(k,1e3)),A(!1),B("success"),setTimeout(()=>{B("idle")},3e3)},G=()=>{alert("Fonctionnalit d'export  venir")},M=()=>{alert("Fonctionnalit d'import  venir")},S=()=>{window.confirm("tes-vous sr de vouloir rinitialiser tous les paramtres ?")&&($({email:!0,push:!1,sms:!1}),U("fr"),X("Europe/Paris"),ue(!0),alert("Paramtres rinitialiss"))},g=ve,te=a?"#000000":"#f5f5f5",O=a?"#ffffff":"#111827",D=a?"#9ca3af":"#6b7280",V=a?"#333333":"#e5e7eb",ie=a?"#111111":"#ffffff",ke=[{name:"Orange",value:"#fa541c",hex:"#fa541c"},{name:"Bleu",value:"#1890ff",hex:"#1890ff"},{name:"Vert",value:"#52c41a",hex:"#52c41a"},{name:"Rouge",value:"#f5222d",hex:"#f5222d"},{name:"Violet",value:"#722ed1",hex:"#722ed1"},{name:"Rose",value:"#eb2f96",hex:"#eb2f96"},{name:"Cyan",value:"#13c2c2",hex:"#13c2c2"},{name:"Jaune",value:"#faad14",hex:"#faad14"},{name:"Indigo",value:"#2f54eb",hex:"#2f54eb"},{name:"Turquoise",value:"#36cfc9",hex:"#36cfc9"},{name:"Magenta",value:"#f759ab",hex:"#f759ab"},{name:"Lime",value:"#a0d911",hex:"#a0d911"}],z=[{id:"general",label:"Gnral",icon:ur},{id:"notifications",label:"Notifications",icon:Ir},{id:"security",label:"Scurit",icon:xd},{id:"appearance",label:"Apparence",icon:Zi},{id:"data",label:"Donnes",icon:Xi}];return r.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:te},children:[r.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:f?"256px":"64px",borderRight:`1px solid ${V}`,backgroundColor:a?"#000000":"#ffffff",padding:"8px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[r.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${V}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${ve} 0%, ${ve}dd 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${ve}40`},children:r.jsx(Ye,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),f&&r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:O},children:"Tableau de Bord"}),r.jsx("div",{style:{fontSize:"12px",color:D},children:"Paramtres"})]})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsx(un,{Icon:Io,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:f,onClick:()=>l("/dashboard"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(un,{Icon:Do,title:"Rservation",isActive:c.pathname==="/rservation",open:f,onClick:()=>l("/rservation"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(un,{Icon:zr,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:f,onClick:()=>l("/jours-feries"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(un,{Icon:Ar,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:f,onClick:()=>l("/utilisateurs"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D}),r.jsxs("button",{onClick:()=>j(!x),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:D,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=O},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=D},children:[r.jsx(Ye,{style:{width:"20px",height:"20px",flexShrink:0}}),f&&r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),x?r.jsx(zo,{style:{width:"16px",height:"16px",flexShrink:0}}):r.jsx(Ro,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),x&&r.jsxs("div",{style:{paddingLeft:"20px"},children:[r.jsx(un,{Icon:Ye,title:"Metr",isActive:c.pathname==="/metre",open:f,onClick:()=>l("/metre"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(un,{Icon:Ye,title:"Pose",isActive:c.pathname==="/pose",open:f,onClick:()=>l("/pose"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(un,{Icon:Ye,title:"SAV",isActive:c.pathname==="/sav",open:f,onClick:()=>l("/sav"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D})]})]}),f&&r.jsxs("div",{style:{borderTop:`1px solid ${V}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[r.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:D,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),r.jsx(un,{Icon:a?hn:pn,title:a?"Mode clair":"Mode sombre",isActive:!1,open:f,onClick:he,isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D}),r.jsx(un,{Icon:ur,title:"Paramtres",isActive:c.pathname==="/parametres",open:f,onClick:()=>l("/parametres"),isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D})]}),r.jsx("div",{style:{borderTop:`1px solid ${V}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:r.jsx(un,{Icon:En,title:"Dconnexion",isActive:!1,open:f,onClick:ge,isDarkMode:a,orangeColor:g,textColor:O,textSecondary:D})}),r.jsxs("button",{onClick:()=>h(!f),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${V}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:D,transition:"background-color 0.2s"},onMouseEnter:k=>k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",onMouseLeave:k=>k.currentTarget.style.backgroundColor="transparent",children:[r.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Po,{style:{width:"16px",height:"16px",transform:f?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),f&&r.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),r.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:te},children:r.jsxs("div",{className:`settings-page ${a?"dark-mode":"light-mode"}`,children:[r.jsx("header",{className:"settings-header",children:r.jsxs("div",{className:"header-content",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Paramtres"}),r.jsx("p",{children:"Grez vos prfrences et configurations"})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[N==="success"&&r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",backgroundColor:a?"#065f46":"#d1fae5",color:a?"#6ee7b7":"#065f46",fontSize:"14px",fontWeight:500},children:[r.jsx(Jm,{size:16}),"Enregistr"]}),r.jsx("button",{onClick:F,disabled:E,className:"save-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"none",backgroundColor:ve,color:"#ffffff",fontSize:"14px",fontWeight:600,cursor:E?"not-allowed":"pointer",opacity:E?.7:1,transition:"all 0.2s",boxShadow:`0 2px 8px ${ve}40`},onMouseEnter:k=>{E||(k.currentTarget.style.transform="translateY(-2px)",k.currentTarget.style.boxShadow=`0 4px 12px ${ve}60`)},onMouseLeave:k=>{E||(k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow=`0 2px 8px ${ve}40`)},children:E?r.jsxs(r.Fragment,{children:[r.jsx(ga,{size:16,style:{animation:"spin 1s linear infinite"}}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(kg,{size:16}),"Enregistrer"]})})]})]})}),r.jsxs("div",{className:"settings-container",children:[r.jsx("div",{className:"settings-sidebar",children:z.map(k=>{const le=k.icon;return r.jsxs("button",{onClick:()=>w(k.id),className:`settings-nav-item ${y===k.id?"active":""}`,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"8px",border:"none",backgroundColor:y===k.id?a?`${g}30`:`${g}15`:"transparent",color:y===k.id?g:D,cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:y===k.id?600:500},onMouseEnter:_e=>{y!==k.id&&(_e.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",_e.currentTarget.style.color=O)},onMouseLeave:_e=>{y!==k.id&&(_e.currentTarget.style.backgroundColor="transparent",_e.currentTarget.style.color=D)},children:[r.jsx(le,{size:18}),r.jsx("span",{children:k.label})]},k.id)})}),r.jsxs("div",{className:"settings-content",children:[y==="general"&&r.jsxs("div",{className:"settings-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx(ur,{size:24,style:{color:ve}}),r.jsxs("div",{children:[r.jsx("h2",{children:"Paramtres gnraux"}),r.jsx("p",{children:"Configurez les paramtres de base de votre application"})]})]}),r.jsxs("div",{className:"settings-card",children:[r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(og,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Langue"}),r.jsx("p",{children:"Slectionnez votre langue prfre"})]})]}),r.jsxs("select",{value:R,onChange:k=>U(k.target.value),className:"setting-input",children:[r.jsx("option",{value:"fr",children:"Franais"}),r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Espaol"}),r.jsx("option",{value:"de",children:"Deutsch"})]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(Gm,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Fuseau horaire"}),r.jsx("p",{children:"Dfinissez votre fuseau horaire"})]})]}),r.jsxs("select",{value:H,onChange:k=>X(k.target.value),className:"setting-input",children:[r.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (GMT+1)"}),r.jsx("option",{value:"Europe/London",children:"Europe/London (GMT+0)"}),r.jsx("option",{value:"America/New_York",children:"America/New_York (GMT-5)"}),r.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(Xi,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Sauvegarde automatique"}),r.jsx("p",{children:"Enregistrer automatiquement les modifications"})]})]}),r.jsx("button",{onClick:()=>ue(!oe),className:`toggle-switch ${oe?"active":""}`,children:r.jsx("span",{className:"toggle-slider"})})]})]})]}),y==="notifications"&&r.jsxs("div",{className:"settings-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx(Ir,{size:24,style:{color:ve}}),r.jsxs("div",{children:[r.jsx("h2",{children:"Notifications"}),r.jsx("p",{children:"Grez vos prfrences de notification"})]})]}),r.jsxs("div",{className:"settings-card",children:[r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(dg,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Notifications par email"}),r.jsx("p",{children:"Recevoir des notifications par email"})]})]}),r.jsx("button",{onClick:()=>$({...T,email:!T.email}),className:`toggle-switch ${T.email?"active":""}`,children:r.jsx("span",{className:"toggle-slider"})})]}),r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(Fm,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Notifications push"}),r.jsx("p",{children:"Recevoir des notifications push en temps rel"})]})]}),r.jsx("button",{onClick:()=>$({...T,push:!T.push}),className:`toggle-switch ${T.push?"active":""}`,children:r.jsx("span",{className:"toggle-slider"})})]}),r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(Am,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Notifications SMS"}),r.jsx("p",{children:"Recevoir des notifications par SMS"})]})]}),r.jsx("button",{onClick:()=>$({...T,sms:!T.sms}),className:`toggle-switch ${T.sms?"active":""}`,children:r.jsx("span",{className:"toggle-slider"})})]})]})]}),y==="security"&&r.jsxs("div",{className:"settings-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx(xd,{size:24,style:{color:ve}}),r.jsxs("div",{children:[r.jsx("h2",{children:"Scurit"}),r.jsx("p",{children:"Grez la scurit de votre compte"})]})]}),r.jsxs("div",{className:"settings-card",children:[r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(ag,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Mot de passe actuel"}),r.jsx("p",{children:"Entrez votre mot de passe actuel"})]})]}),r.jsxs("div",{style:{position:"relative",width:"300px"},children:[r.jsx("input",{type:ne?"text":"password",value:Me,onChange:k=>Ne(k.target.value),className:"setting-input",placeholder:""}),r.jsx("button",{onClick:()=>de(!ne),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:D},children:ne?r.jsx(eg,{size:18}):r.jsx(ng,{size:18})})]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(gd,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Nouveau mot de passe"}),r.jsx("p",{children:"Crez un nouveau mot de passe scuris"})]})]}),r.jsx("input",{type:"password",value:Pe,onChange:k=>Ie(k.target.value),className:"setting-input",placeholder:"",style:{width:"300px"}})]}),r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(gd,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Confirmer le mot de passe"}),r.jsx("p",{children:"Confirmez votre nouveau mot de passe"})]})]}),r.jsx("input",{type:"password",value:ze,onChange:k=>$e(k.target.value),className:"setting-input",placeholder:"",style:{width:"300px"}})]})]})]}),y==="appearance"&&r.jsxs("div",{className:"settings-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx(Zi,{size:24,style:{color:ve}}),r.jsxs("div",{children:[r.jsx("h2",{children:"Apparence"}),r.jsx("p",{children:"Personnalisez l'apparence de l'application"})]})]}),r.jsxs("div",{className:"settings-card",children:[r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[a?r.jsx(hn,{size:20}):r.jsx(pn,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Thme"}),r.jsx("p",{children:"Choisissez entre le mode clair et sombre"})]})]}),r.jsx("button",{onClick:he,className:`toggle-switch ${a?"active":""}`,children:r.jsx("span",{className:"toggle-slider"})})]}),r.jsxs("div",{className:"setting-item",style:{flexDirection:"column",alignItems:"flex-start",gap:"20px"},children:[r.jsxs("div",{className:"setting-info",style:{width:"100%"},children:[r.jsx(Zi,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Couleur d'accentuation"}),r.jsx("p",{children:"Choisissez une couleur pour personnaliser l'interface"})]})]}),r.jsxs("div",{style:{width:"100%"},children:[r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"12px",padding:"16px",backgroundColor:a?"#1a1a1a":"#f9fafb",borderRadius:"12px",border:`1px solid ${V}`},children:ke.map(k=>r.jsx("button",{onClick:()=>Ae(k.value),style:{width:"60px",height:"60px",borderRadius:"12px",background:k.value,border:ve===k.value?`3px solid ${a?"#ffffff":"#000000"}`:`2px solid ${V}`,cursor:"pointer",transition:"all 0.2s ease",position:"relative",boxShadow:ve===k.value?`0 4px 12px ${k.value}60`:"0 2px 4px rgba(0, 0, 0, 0.1)",transform:ve===k.value?"scale(1.1)":"scale(1)"},onMouseEnter:le=>{ve!==k.value&&(le.currentTarget.style.transform="scale(1.05)",le.currentTarget.style.boxShadow=`0 4px 8px ${k.value}40`)},onMouseLeave:le=>{ve!==k.value&&(le.currentTarget.style.transform="scale(1)",le.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)")},title:k.name,children:ve===k.value&&r.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#ffffff",fontSize:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:""})},k.value))}),r.jsxs("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:a?"#1a1a1a":"#f9fafb",borderRadius:"8px",border:`1px solid ${V}`},children:[r.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:ve,border:`2px solid ${V}`,boxShadow:`0 2px 8px ${ve}40`,flexShrink:0}}),r.jsxs("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:O,marginBottom:"2px"},children:ke.find(k=>k.value===ve)?.name||"Couleur personnalise"}),r.jsx("div",{style:{fontSize:"12px",color:D},children:ve.toUpperCase()})]})]})]})]})]})]}),y==="data"&&r.jsxs("div",{className:"settings-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx(Xi,{size:24,style:{color:ve}}),r.jsxs("div",{children:[r.jsx("h2",{children:"Donnes"}),r.jsx("p",{children:"Grez vos donnes et sauvegardes"})]})]}),r.jsxs("div",{className:"settings-card",children:[r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(md,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Exporter les donnes"}),r.jsx("p",{children:"Tlchargez une copie de toutes vos donnes"})]})]}),r.jsxs("button",{onClick:G,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${V}`,backgroundColor:ie,color:O,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",k.currentTarget.style.borderColor=g},onMouseLeave:k=>{k.currentTarget.style.backgroundColor=ie,k.currentTarget.style.borderColor=V},children:[r.jsx(md,{size:16}),"Exporter"]})]}),r.jsxs("div",{className:"setting-item",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(vd,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Importer les donnes"}),r.jsx("p",{children:"Restaurer vos donnes  partir d'un fichier"})]})]}),r.jsxs("button",{onClick:M,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${V}`,backgroundColor:ie,color:O,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",k.currentTarget.style.borderColor=g},onMouseLeave:k=>{k.currentTarget.style.backgroundColor=ie,k.currentTarget.style.borderColor=V},children:[r.jsx(vd,{size:16}),"Importer"]})]}),r.jsxs("div",{className:"setting-item",style:{borderBottom:"none"},children:[r.jsxs("div",{className:"setting-info",children:[r.jsx(yd,{size:20}),r.jsxs("div",{children:[r.jsx("label",{children:"Rinitialiser les paramtres"}),r.jsx("p",{children:"Rtablir tous les paramtres par dfaut"})]})]}),r.jsxs("button",{onClick:S,className:"action-button danger",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"1px solid #ef4444",backgroundColor:a?"#7f1d1d":"#fee2e2",color:"#ef4444",cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#991b1b":"#fecaca"},onMouseLeave:k=>{k.currentTarget.style.backgroundColor=a?"#7f1d1d":"#fee2e2"},children:[r.jsx(yd,{size:16}),"Rinitialiser"]})]})]})]})]})]})]})})]})}function Jg(){const l=Ht(),c=Pt(),[a,u]=m.useState(()=>{const M=localStorage.getItem("darkMode");return M?JSON.parse(M):!0}),[f,h]=m.useState(!0),[x,j]=m.useState(!0),[y,w]=m.useState([]),[E,A]=m.useState("all"),[N,B]=m.useState(""),[T,$]=m.useState(De.calendar1),[R,U]=m.useState(null),[H,X]=m.useState(""),[oe,ue]=m.useState("");m.useEffect(()=>{const M=localStorage.getItem("user");if(!M){l("/login");return}if(JSON.parse(M).role!=="admin"){l("/");return}ne()},[l]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),document.documentElement.setAttribute("data-theme",a?"dark":"light")},[a]),m.useEffect(()=>{ne()},[E]);const ne=async()=>{try{if(E==="all"){const S=Object.values(De).map(O=>Mo(O).then(D=>({calendarId:O,holidays:D}))),g=await Promise.all(S),te=[];g.forEach(({calendarId:O,holidays:D})=>{D.forEach(V=>{te.push({...V,calendarId:O})})}),te.sort((O,D)=>D.holiday_date.localeCompare(O.holiday_date)),w(te)}else{const M=await Mo(E);w(M.map(S=>({...S,calendarId:E})))}}catch(M){console.error("Error loading holidays:",M),alert("Erreur lors du chargement des jours fris")}},de=async()=>{if(!N){alert("Veuillez slectionner une date");return}try{await bm(T,N),alert("Jour fri ajout avec succs"),B(""),await ne(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(M){console.error("Error adding holiday:",M);const S=M?.message||"Erreur lors de l'ajout du jour fri";alert(` ${S}`)}},Me=M=>{U(M),X(M.holiday_date),ue(M.calendarId||M.calendar_id)},Ne=()=>{U(null),X(""),ue("")},Pe=async()=>{if(!R||!H){alert("Veuillez slectionner une date");return}try{await Em(R.id,oe,H),alert("Jour fri modifi avec succs"),Ne(),await ne(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(M){console.error("Error updating holiday:",M);const S=M?.message||"Erreur lors de la modification du jour fri";alert(` ${S}`)}},Ie=async M=>{if(window.confirm(`tes-vous sr de vouloir supprimer le jour fri du ${ze(M.holiday_date)} ?`))try{await _m(M.id),alert("Jour fri supprim avec succs"),await ne(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(S){console.error("Error deleting holiday:",S);const g=S?.message||"Erreur lors de la suppression du jour fri";alert(` ${g}`)}},ze=M=>new Date(M+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),$e=()=>{u(!a)},ve=()=>{localStorage.removeItem("user"),l("/")},Ae="#fa541c",he=a?"#000000":"#f5f5f5",ge=a?"#ffffff":"#111827",F=a?"#9ca3af":"#6b7280",G=a?"#333333":"#e5e7eb";return r.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:he},children:[r.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:f?"256px":"64px",borderRight:`1px solid ${G}`,backgroundColor:a?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[r.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${G}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Ae} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:r.jsx(Ye,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),f&&r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:ge},children:"Tableau de Bord"}),r.jsx("div",{style:{fontSize:"12px",color:F},children:"Tableau de Bord"})]})]}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[r.jsx(dn,{Icon:Io,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:f,onClick:()=>l("/dashboard"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F}),r.jsx(dn,{Icon:Do,title:"Rservation",isActive:c.pathname==="/rservation",open:f,onClick:()=>l("/rservation"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F}),r.jsx(dn,{Icon:zr,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:f,onClick:()=>l("/jours-feries"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F}),r.jsx(dn,{Icon:Ar,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:f,onClick:()=>l("/utilisateurs"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F}),r.jsxs("button",{onClick:()=>j(!x),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:F,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:M=>{M.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",M.currentTarget.style.color=ge},onMouseLeave:M=>{M.currentTarget.style.backgroundColor="transparent",M.currentTarget.style.color=F},children:[r.jsx(Ye,{style:{width:"20px",height:"20px",flexShrink:0}}),f&&r.jsxs(r.Fragment,{children:[r.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),x?r.jsx(zo,{style:{width:"16px",height:"16px",flexShrink:0}}):r.jsx(Ro,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),x&&r.jsxs("div",{style:{paddingLeft:"20px"},children:[r.jsx(dn,{Icon:Ye,title:"Metr",isActive:c.pathname==="/metre",open:f,onClick:()=>l("/metre"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F}),r.jsx(dn,{Icon:Ye,title:"Pose",isActive:c.pathname==="/pose",open:f,onClick:()=>l("/pose"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F}),r.jsx(dn,{Icon:Ye,title:"SAV",isActive:c.pathname==="/sav",open:f,onClick:()=>l("/sav"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F})]})]}),f&&r.jsxs("div",{style:{borderTop:`1px solid ${G}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[r.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:F,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),r.jsx(dn,{Icon:a?hn:pn,title:a?"Mode clair":"Mode sombre",isActive:!1,open:f,onClick:$e,isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F}),r.jsx(dn,{Icon:ur,title:"Paramtres",isActive:c.pathname==="/parametres",open:f,onClick:()=>l("/parametres"),isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F})]}),r.jsx("div",{style:{borderTop:`1px solid ${G}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:r.jsx(dn,{Icon:En,title:"Dconnexion",isActive:!1,open:f,onClick:ve,isDarkMode:a,orangeColor:Ae,textColor:ge,textSecondary:F})}),r.jsxs("button",{onClick:()=>h(!f),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${G}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:F,transition:"background-color 0.2s",height:"48px"},onMouseEnter:M=>M.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",onMouseLeave:M=>M.currentTarget.style.backgroundColor="transparent",children:[r.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(Po,{style:{width:"16px",height:"16px",transform:f?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),f&&r.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),r.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:he},children:r.jsxs("div",{className:`admin-page ${a?"dark-mode":"light-mode"}`,children:[r.jsx("header",{className:"admin-header",children:r.jsx("div",{className:"header-content",children:r.jsxs("div",{children:[r.jsx("h1",{children:"Gestion des jours fris"}),r.jsx("p",{children:"Grer les jours fris pour tous les calendriers"})]})})}),r.jsxs("div",{className:"holiday-management-section",children:[r.jsxs("div",{className:"holiday-add-form",children:[r.jsx("h3",{children:"Ajouter un jour fri"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"holiday-calendar",children:"Calendrier:"}),r.jsxs("select",{id:"holiday-calendar",value:T,onChange:M=>$(M.target.value),children:[r.jsx("option",{value:De.calendar1,children:"Pose"}),r.jsx("option",{value:De.calendar2,children:"SAV"}),r.jsx("option",{value:De.calendar3,children:"Metr"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"holiday-date",children:"Date:"}),r.jsx("input",{id:"holiday-date",type:"date",value:N,onChange:M=>B(M.target.value)})]}),r.jsxs("button",{className:"add-holiday-button",onClick:de,children:[r.jsx(Od,{className:"add-holiday-icon"}),"Ajouter"]})]})]}),r.jsxs("div",{className:"holiday-list-section",children:[r.jsx("h3",{children:"Jours fris existants"}),r.jsxs("div",{className:"filter-group",children:[r.jsx("label",{htmlFor:"holiday-filter",children:"Filtrer par calendrier:"}),r.jsxs("select",{id:"holiday-filter",value:E,onChange:M=>A(M.target.value),children:[r.jsx("option",{value:"all",children:"Tous les calendriers"}),r.jsx("option",{value:De.calendar1,children:"Pose"}),r.jsx("option",{value:De.calendar2,children:"SAV"}),r.jsx("option",{value:De.calendar3,children:"Metr"})]})]}),y.length===0?r.jsx("div",{className:"no-holidays",children:"Aucun jour fri enregistr"}):r.jsx("div",{className:"holidays-table-container",children:r.jsxs("table",{className:"holidays-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Calendrier"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:y.map(M=>r.jsx("tr",{children:R?.id===M.id?r.jsxs(r.Fragment,{children:[r.jsx("td",{children:r.jsx("input",{type:"date",value:H,onChange:S=>X(S.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}})}),r.jsx("td",{children:r.jsxs("select",{value:oe,onChange:S=>ue(S.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[r.jsx("option",{value:De.calendar1,children:"Pose"}),r.jsx("option",{value:De.calendar2,children:"SAV"}),r.jsx("option",{value:De.calendar3,children:"Metr"})]})}),r.jsxs("td",{className:"actions-cell",children:[r.jsx("button",{className:"edit-button",onClick:Pe,title:"Enregistrer",children:""}),r.jsx("button",{className:"delete-button",onClick:Ne,title:"Annuler",children:""})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("td",{children:ze(M.holiday_date)}),r.jsx("td",{children:r.jsx("span",{className:"calendar-badge",children:fn(M.calendarId||M.calendar_id)})}),r.jsxs("td",{className:"actions-cell",children:[r.jsx("button",{className:"edit-button",onClick:()=>Me(M),title:"Modifier",children:""}),r.jsx("button",{className:"delete-button",onClick:()=>Ie(M),title:"Supprimer",children:""})]})]})},M.id))})]})})]})]})]})})]})}const dn=({Icon:l,title:c,isActive:a,open:u,onClick:f,isDarkMode:h,orangeColor:x,textColor:j,textSecondary:y})=>r.jsxs("button",{onClick:f,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${x}30`:`${x}15`:"transparent",color:a?x:y,borderLeft:a?`3px solid ${x}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:w=>{a||(w.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",w.currentTarget.style.color=j)},onMouseLeave:w=>{a||(w.currentTarget.style.backgroundColor="transparent",w.currentTarget.style.color=y)},children:[r.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&r.jsx("span",{children:c})]});typeof window<"u"&&(window.resetAllBookings=async()=>{confirm(" Are you sure you want to reset ALL bookings to 0? This cannot be undone!")&&(console.log(" Starting reset..."),await Nm(),alert(" All bookings have been reset! Please refresh the page."),window.location.reload())});qp.createRoot(document.getElementById("root")).render(r.jsx(Vp.StrictMode,{children:r.jsx(um,{children:r.jsxs(Oh,{children:[r.jsx(Ut,{path:"/",element:r.jsx($g,{})}),r.jsx(Ut,{path:"/login",element:r.jsx(zg,{})}),r.jsx(Ut,{path:"/calendrier",element:r.jsx(Kn,{children:r.jsx(Lg,{})})}),r.jsx(Ut,{path:"/dashboard",element:r.jsx(Kn,{requireAdmin:!0,children:r.jsx(Ao,{})})}),r.jsx(Ut,{path:"/rservation",element:r.jsx(Mg,{})}),r.jsx(Ut,{path:"/jours-feries",element:r.jsx(Kn,{requireAdmin:!0,children:r.jsx(Jg,{})})}),r.jsx(Ut,{path:"/utilisateurs",element:r.jsx(Kn,{requireAdmin:!0,children:r.jsx(Wg,{})})}),r.jsx(Ut,{path:"/parametres",element:r.jsx(Kn,{requireAdmin:!0,children:r.jsx(Yg,{})})}),r.jsx(Ut,{path:"/pose",element:r.jsx(Kn,{children:r.jsx(Pg,{})})}),r.jsx(Ut,{path:"/sav",element:r.jsx(Kn,{children:r.jsx(Dg,{})})}),r.jsx(Ut,{path:"/metre",element:r.jsx(Kn,{children:r.jsx(Rg,{})})})]})})}));
