(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))u(p);new MutationObserver(p=>{for(const m of p)if(m.type==="childList")for(const y of m.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function i(p){const m={};return p.integrity&&(m.integrity=p.integrity),p.referrerPolicy&&(m.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?m.credentials="include":p.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(p){if(p.ep)return;p.ep=!0;const m=i(p);fetch(p.href,m)}})();function Pd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ka={exports:{}},as={},wa={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function Jp(){if(gd)return rt;gd=1;var a=Symbol.for("react.element"),d=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),H=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=H&&S[H]||S["@@iterator"],typeof S=="function"?S:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,R={};function A(S,U,Ce){this.props=S,this.context=U,this.refs=R,this.updater=Ce||Q}A.prototype.isReactComponent={},A.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},A.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Z(){}Z.prototype=A.prototype;function G(S,U,Ce){this.props=S,this.context=U,this.refs=R,this.updater=Ce||Q}var pe=G.prototype=new Z;pe.constructor=G,b(pe,A.prototype),pe.isPureReactComponent=!0;var ye=Array.isArray,ze=Object.prototype.hasOwnProperty,ue={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function X(S,U,Ce){var fe,Ee={},J=null,Fe=null;if(U!=null)for(fe in U.ref!==void 0&&(Fe=U.ref),U.key!==void 0&&(J=""+U.key),U)ze.call(U,fe)&&!ce.hasOwnProperty(fe)&&(Ee[fe]=U[fe]);var ke=arguments.length-2;if(ke===1)Ee.children=Ce;else if(1<ke){for(var De=Array(ke),tt=0;tt<ke;tt++)De[tt]=arguments[tt+2];Ee.children=De}if(S&&S.defaultProps)for(fe in ke=S.defaultProps,ke)Ee[fe]===void 0&&(Ee[fe]=ke[fe]);return{$$typeof:a,type:S,key:J,ref:Fe,props:Ee,_owner:ue.current}}function ve(S,U){return{$$typeof:a,type:S.type,key:U,ref:S.ref,props:S.props,_owner:S._owner}}function _(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function ge(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(Ce){return U[Ce]})}var F=/\/+/g;function ie(S,U){return typeof S=="object"&&S!==null&&S.key!=null?ge(""+S.key):U.toString(36)}function je(S,U,Ce,fe,Ee){var J=typeof S;(J==="undefined"||J==="boolean")&&(S=null);var Fe=!1;if(S===null)Fe=!0;else switch(J){case"string":case"number":Fe=!0;break;case"object":switch(S.$$typeof){case a:case d:Fe=!0}}if(Fe)return Fe=S,Ee=Ee(Fe),S=fe===""?"."+ie(Fe,0):fe,ye(Ee)?(Ce="",S!=null&&(Ce=S.replace(F,"$&/")+"/"),je(Ee,U,Ce,"",function(tt){return tt})):Ee!=null&&(_(Ee)&&(Ee=ve(Ee,Ce+(!Ee.key||Fe&&Fe.key===Ee.key?"":(""+Ee.key).replace(F,"$&/")+"/")+S)),U.push(Ee)),1;if(Fe=0,fe=fe===""?".":fe+":",ye(S))for(var ke=0;ke<S.length;ke++){J=S[ke];var De=fe+ie(J,ke);Fe+=je(J,U,Ce,De,Ee)}else if(De=E(S),typeof De=="function")for(S=De.call(S),ke=0;!(J=S.next()).done;)J=J.value,De=fe+ie(J,ke++),Fe+=je(J,U,Ce,De,Ee);else if(J==="object")throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Fe}function He(S,U,Ce){if(S==null)return S;var fe=[],Ee=0;return je(S,fe,"","",function(J){return U.call(Ce,J,Ee++)}),fe}function Ae(S){if(S._status===-1){var U=S._result;U=U(),U.then(function(Ce){(S._status===0||S._status===-1)&&(S._status=1,S._result=Ce)},function(Ce){(S._status===0||S._status===-1)&&(S._status=2,S._result=Ce)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var Ke={current:null},D={transition:null},re={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:D,ReactCurrentOwner:ue};function L(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:He,forEach:function(S,U,Ce){He(S,function(){U.apply(this,arguments)},Ce)},count:function(S){var U=0;return He(S,function(){U++}),U},toArray:function(S){return He(S,function(U){return U})||[]},only:function(S){if(!_(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},rt.Component=A,rt.Fragment=i,rt.Profiler=p,rt.PureComponent=G,rt.StrictMode=u,rt.Suspense=x,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,rt.act=L,rt.cloneElement=function(S,U,Ce){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var fe=b({},S.props),Ee=S.key,J=S.ref,Fe=S._owner;if(U!=null){if(U.ref!==void 0&&(J=U.ref,Fe=ue.current),U.key!==void 0&&(Ee=""+U.key),S.type&&S.type.defaultProps)var ke=S.type.defaultProps;for(De in U)ze.call(U,De)&&!ce.hasOwnProperty(De)&&(fe[De]=U[De]===void 0&&ke!==void 0?ke[De]:U[De])}var De=arguments.length-2;if(De===1)fe.children=Ce;else if(1<De){ke=Array(De);for(var tt=0;tt<De;tt++)ke[tt]=arguments[tt+2];fe.children=ke}return{$$typeof:a,type:S.type,key:Ee,ref:J,props:fe,_owner:Fe}},rt.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:m,_context:S},S.Consumer=S},rt.createElement=X,rt.createFactory=function(S){var U=X.bind(null,S);return U.type=S,U},rt.createRef=function(){return{current:null}},rt.forwardRef=function(S){return{$$typeof:k,render:S}},rt.isValidElement=_,rt.lazy=function(S){return{$$typeof:T,_payload:{_status:-1,_result:S},_init:Ae}},rt.memo=function(S,U){return{$$typeof:j,type:S,compare:U===void 0?null:U}},rt.startTransition=function(S){var U=D.transition;D.transition={};try{S()}finally{D.transition=U}},rt.unstable_act=L,rt.useCallback=function(S,U){return Ke.current.useCallback(S,U)},rt.useContext=function(S){return Ke.current.useContext(S)},rt.useDebugValue=function(){},rt.useDeferredValue=function(S){return Ke.current.useDeferredValue(S)},rt.useEffect=function(S,U){return Ke.current.useEffect(S,U)},rt.useId=function(){return Ke.current.useId()},rt.useImperativeHandle=function(S,U,Ce){return Ke.current.useImperativeHandle(S,U,Ce)},rt.useInsertionEffect=function(S,U){return Ke.current.useInsertionEffect(S,U)},rt.useLayoutEffect=function(S,U){return Ke.current.useLayoutEffect(S,U)},rt.useMemo=function(S,U){return Ke.current.useMemo(S,U)},rt.useReducer=function(S,U,Ce){return Ke.current.useReducer(S,U,Ce)},rt.useRef=function(S){return Ke.current.useRef(S)},rt.useState=function(S){return Ke.current.useState(S)},rt.useSyncExternalStore=function(S,U,Ce){return Ke.current.useSyncExternalStore(S,U,Ce)},rt.useTransition=function(){return Ke.current.useTransition()},rt.version="18.3.1",rt}var xd;function Ra(){return xd||(xd=1,wa.exports=Jp()),wa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function Qp(){if(yd)return as;yd=1;var a=Ra(),d=Symbol.for("react.element"),i=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,p=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function y(k,x,j){var T,H={},E=null,Q=null;j!==void 0&&(E=""+j),x.key!==void 0&&(E=""+x.key),x.ref!==void 0&&(Q=x.ref);for(T in x)u.call(x,T)&&!m.hasOwnProperty(T)&&(H[T]=x[T]);if(k&&k.defaultProps)for(T in x=k.defaultProps,x)H[T]===void 0&&(H[T]=x[T]);return{$$typeof:d,type:k,key:E,ref:Q,props:H,_owner:p.current}}return as.Fragment=i,as.jsx=y,as.jsxs=y,as}var vd;function Kp(){return vd||(vd=1,ka.exports=Qp()),ka.exports}var n=Kp(),f=Ra();const Gp=Pd(f);var Nl={},Ca={exports:{}},an={},Sa={exports:{}},ba={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function qp(){return jd||(jd=1,(function(a){function d(D,re){var L=D.length;D.push(re);e:for(;0<L;){var S=L-1>>>1,U=D[S];if(0<p(U,re))D[S]=re,D[L]=U,L=S;else break e}}function i(D){return D.length===0?null:D[0]}function u(D){if(D.length===0)return null;var re=D[0],L=D.pop();if(L!==re){D[0]=L;e:for(var S=0,U=D.length,Ce=U>>>1;S<Ce;){var fe=2*(S+1)-1,Ee=D[fe],J=fe+1,Fe=D[J];if(0>p(Ee,L))J<U&&0>p(Fe,Ee)?(D[S]=Fe,D[J]=L,S=J):(D[S]=Ee,D[fe]=L,S=fe);else if(J<U&&0>p(Fe,L))D[S]=Fe,D[J]=L,S=J;else break e}}return re}function p(D,re){var L=D.sortIndex-re.sortIndex;return L!==0?L:D.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;a.unstable_now=function(){return m.now()}}else{var y=Date,k=y.now();a.unstable_now=function(){return y.now()-k}}var x=[],j=[],T=1,H=null,E=3,Q=!1,b=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(D){for(var re=i(j);re!==null;){if(re.callback===null)u(j);else if(re.startTime<=D)u(j),re.sortIndex=re.expirationTime,d(x,re);else break;re=i(j)}}function ye(D){if(R=!1,pe(D),!b)if(i(x)!==null)b=!0,Ae(ze);else{var re=i(j);re!==null&&Ke(ye,re.startTime-D)}}function ze(D,re){b=!1,R&&(R=!1,Z(X),X=-1),Q=!0;var L=E;try{for(pe(re),H=i(x);H!==null&&(!(H.expirationTime>re)||D&&!ge());){var S=H.callback;if(typeof S=="function"){H.callback=null,E=H.priorityLevel;var U=S(H.expirationTime<=re);re=a.unstable_now(),typeof U=="function"?H.callback=U:H===i(x)&&u(x),pe(re)}else u(x);H=i(x)}if(H!==null)var Ce=!0;else{var fe=i(j);fe!==null&&Ke(ye,fe.startTime-re),Ce=!1}return Ce}finally{H=null,E=L,Q=!1}}var ue=!1,ce=null,X=-1,ve=5,_=-1;function ge(){return!(a.unstable_now()-_<ve)}function F(){if(ce!==null){var D=a.unstable_now();_=D;var re=!0;try{re=ce(!0,D)}finally{re?ie():(ue=!1,ce=null)}}else ue=!1}var ie;if(typeof G=="function")ie=function(){G(F)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,He=je.port2;je.port1.onmessage=F,ie=function(){He.postMessage(null)}}else ie=function(){A(F,0)};function Ae(D){ce=D,ue||(ue=!0,ie())}function Ke(D,re){X=A(function(){D(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_continueExecution=function(){b||Q||(b=!0,Ae(ze))},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_getFirstCallbackNode=function(){return i(x)},a.unstable_next=function(D){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var L=E;E=re;try{return D()}finally{E=L}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(D,re){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=E;E=D;try{return re()}finally{E=L}},a.unstable_scheduleCallback=function(D,re,L){var S=a.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?S+L:S):L=S,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,D={id:T++,callback:re,priorityLevel:D,startTime:L,expirationTime:U,sortIndex:-1},L>S?(D.sortIndex=L,d(j,D),i(x)===null&&D===i(j)&&(R?(Z(X),X=-1):R=!0,Ke(ye,L-S))):(D.sortIndex=U,d(x,D),b||Q||(b=!0,Ae(ze))),D},a.unstable_shouldYield=ge,a.unstable_wrapCallback=function(D){var re=E;return function(){var L=E;E=re;try{return D.apply(this,arguments)}finally{E=L}}}})(ba)),ba}var kd;function Xp(){return kd||(kd=1,Sa.exports=qp()),Sa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd;function Zp(){if(wd)return an;wd=1;var a=Ra(),d=Xp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,p={};function m(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(p[e]=t,e=0;e<t.length;e++)u.add(t[e])}var k=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},H={};function E(e){return x.call(H,e)?!0:x.call(T,e)?!1:j.test(e)?H[e]=!0:(T[e]=!0,!1)}function Q(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,r,o){if(t===null||typeof t>"u"||Q(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,r,o,l,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];A[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z,G);A[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z,G);A[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z,G);A[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function pe(e,t,r,o){var l=A.hasOwnProperty(t)?A[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,r,l,o)&&(r=null),o||l===null?E(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,o=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var ye=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ze=Symbol.for("react.element"),ue=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),ge=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Ke=Symbol.for("react.offscreen"),D=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,S;function U(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var Ce=!1;function fe(e,t){if(!e||Ce)return"";Ce=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(V){var o=V}Reflect.construct(e,[],t)}else{try{t.call()}catch(V){o=V}e.call(t.prototype)}else{try{throw Error()}catch(V){o=V}e()}}catch(V){if(V&&o&&typeof V.stack=="string"){for(var l=V.stack.split(`
`),c=o.stack.split(`
`),h=l.length-1,v=c.length-1;1<=h&&0<=v&&l[h]!==c[v];)v--;for(;1<=h&&0<=v;h--,v--)if(l[h]!==c[v]){if(h!==1||v!==1)do if(h--,v--,0>v||l[h]!==c[v]){var N=`
`+l[h].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=h&&0<=v);break}}}finally{Ce=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function Ee(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function J(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case ue:return"Portal";case ve:return"Profiler";case X:return"StrictMode";case ie:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ge:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case He:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}function Fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(t);case 8:return t===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function De(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tt(e){var t=De(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){o=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ot(e){e._valueTracker||(e._valueTracker=tt(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=De(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function Ye(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Y(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Be(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=ke(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ze(e,t){t=t.checked,t!=null&&pe(e,"checked",t,!1)}function lt(e,t){Ze(e,t);var r=ke(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?it(e,t.type,r):t.hasOwnProperty("defaultValue")&&it(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function it(e,t,r){(t!=="number"||Ye(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mt=Array.isArray;function xe(e,t,r,o){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function we(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ht(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(Mt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ke(r)}}function gn(e,t){var r=ke(t.value),o=ke(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function Nn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function En(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?En(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var he,ut=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(he=he||document.createElement("div"),he.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ve=["Webkit","ms","Moz","O"];Object.keys(Ue).forEach(function(e){Ve.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ue[t]=Ue[e]})});function et(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ue.hasOwnProperty(e)&&Ue[e]?(""+t).trim():t+"px"}function $t(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,l=et(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,l):e[r]=l}}var xn=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ge(e,t){if(t){if(xn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function qe(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $n=null;function At(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pt=null,st=null,Zt=null;function Lr(e){if(e=Jo(e)){if(typeof pt!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Os(t),pt(e.stateNode,e.type,t))}}function se(e){st?Zt?Zt.push(e):Zt=[e]:st=e}function cr(){if(st){var e=st,t=Zt;if(Zt=st=null,Lr(e),t)for(e=0;e<t.length;e++)Lr(t[e])}}function ht(e,t){return e(t)}function Qe(){}var Xe=!1;function Se(e,t,r){if(Xe)return e(t,r);Xe=!0;try{return ht(e,t,r)}finally{Xe=!1,(st!==null||Zt!==null)&&(Qe(),cr())}}function Ne(e,t){var r=e.stateNode;if(r===null)return null;var o=Os(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var Rr=!1;if(k)try{var s={};Object.defineProperty(s,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch{Rr=!1}function C(e,t,r,o,l,c,h,v,N){var V=Array.prototype.slice.call(arguments,3);try{t.apply(r,V)}catch(oe){this.onError(oe)}}var w=!1,P=null,g=!1,O=null,$={onError:function(e){w=!0,P=e}};function z(e,t,r,o,l,c,h,v,N){w=!1,P=null,C.apply($,arguments)}function K(e,t,r,o,l,c,h,v,N){if(z.apply(this,arguments),w){if(w){var V=P;w=!1,P=null}else throw Error(i(198));g||(g=!0,O=V)}}function ee(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function de(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ie(e){if(ee(e)!==e)throw Error(i(188))}function Re(e){var t=e.alternate;if(!t){if(t=ee(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,o=t;;){var l=r.return;if(l===null)break;var c=l.alternate;if(c===null){if(o=l.return,o!==null){r=o;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===r)return Ie(l),e;if(c===o)return Ie(l),t;c=c.sibling}throw Error(i(188))}if(r.return!==o.return)r=l,o=c;else{for(var h=!1,v=l.child;v;){if(v===r){h=!0,r=l,o=c;break}if(v===o){h=!0,o=l,r=c;break}v=v.sibling}if(!h){for(v=c.child;v;){if(v===r){h=!0,r=c,o=l;break}if(v===o){h=!0,o=c,r=l;break}v=v.sibling}if(!h)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function Me(e){return e=Re(e),e!==null?te(e):null}function te(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=te(e);if(t!==null)return t;e=e.sibling}return null}var me=d.unstable_scheduleCallback,jt=d.unstable_cancelCallback,Wt=d.unstable_shouldYield,Gn=d.unstable_requestPaint,yt=d.unstable_now,ur=d.unstable_getCurrentPriorityLevel,Dr=d.unstable_ImmediatePriority,qr=d.unstable_UserBlockingPriority,en=d.unstable_NormalPriority,dr=d.unstable_LowPriority,Xr=d.unstable_IdlePriority,An=null,tn=null;function _t(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(An,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:df,Ol=Math.log,uf=Math.LN2;function df(e){return e>>>=0,e===0?32:31-(Ol(e)/uf|0)|0}var Cs=64,Ss=4194304;function To(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bs(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,l=e.suspendedLanes,c=e.pingedLanes,h=r&268435455;if(h!==0){var v=h&~l;v!==0?o=To(v):(c&=h,c!==0&&(o=To(c)))}else h=r&~l,h!==0?o=To(h):c!==0&&(o=To(c));if(o===0)return 0;if(t!==0&&t!==o&&(t&l)===0&&(l=o&-o,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((o&4)!==0&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-dt(t),l=1<<r,o|=e[r],t&=~l;return o}function ff(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pf(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-dt(c),v=1<<h,N=l[h];N===-1?((v&r)===0||(v&o)!==0)&&(l[h]=ff(v,t)):N<=t&&(e.expiredLanes|=v),c&=~v}}function Wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ja(){var e=Cs;return Cs<<=1,(Cs&4194240)===0&&(Cs=64),e}function Ul(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=r}function hf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-dt(r),c=1<<l;t[l]=0,o[l]=-1,e[l]=-1,r&=~c}}function Vl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-dt(r),l=1<<o;l&t|e[o]&t&&(e[o]|=t),r&=~l}}var xt=0;function Qa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ka,Hl,Ga,qa,Xa,Yl=!1,Ns=[],fr=null,pr=null,hr=null,_o=new Map,Lo=new Map,mr=[],mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function Ro(e,t,r,o,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Jo(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function gf(e,t,r,o,l){switch(t){case"focusin":return fr=Ro(fr,e,t,r,o,l),!0;case"dragenter":return pr=Ro(pr,e,t,r,o,l),!0;case"mouseover":return hr=Ro(hr,e,t,r,o,l),!0;case"pointerover":var c=l.pointerId;return _o.set(c,Ro(_o.get(c)||null,e,t,r,o,l)),!0;case"gotpointercapture":return c=l.pointerId,Lo.set(c,Ro(Lo.get(c)||null,e,t,r,o,l)),!0}return!1}function ec(e){var t=Pr(e.target);if(t!==null){var r=ee(t);if(r!==null){if(t=r.tag,t===13){if(t=de(r),t!==null){e.blockedOn=t,Xa(e.priority,function(){Ga(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);$n=o,r.target.dispatchEvent(o),$n=null}else return t=Jo(r),t!==null&&Hl(t),e.blockedOn=r,!1;t.shift()}return!0}function tc(e,t,r){Es(e)&&r.delete(t)}function xf(){Yl=!1,fr!==null&&Es(fr)&&(fr=null),pr!==null&&Es(pr)&&(pr=null),hr!==null&&Es(hr)&&(hr=null),_o.forEach(tc),Lo.forEach(tc)}function Do(e,t){e.blockedOn===t&&(e.blockedOn=null,Yl||(Yl=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,xf)))}function Po(e){function t(l){return Do(l,e)}if(0<Ns.length){Do(Ns[0],e);for(var r=1;r<Ns.length;r++){var o=Ns[r];o.blockedOn===e&&(o.blockedOn=null)}}for(fr!==null&&Do(fr,e),pr!==null&&Do(pr,e),hr!==null&&Do(hr,e),_o.forEach(t),Lo.forEach(t),r=0;r<mr.length;r++)o=mr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)ec(r),r.blockedOn===null&&mr.shift()}var Zr=ye.ReactCurrentBatchConfig,$s=!0;function yf(e,t,r,o){var l=xt,c=Zr.transition;Zr.transition=null;try{xt=1,Jl(e,t,r,o)}finally{xt=l,Zr.transition=c}}function vf(e,t,r,o){var l=xt,c=Zr.transition;Zr.transition=null;try{xt=4,Jl(e,t,r,o)}finally{xt=l,Zr.transition=c}}function Jl(e,t,r,o){if($s){var l=Ql(e,t,r,o);if(l===null)di(e,t,o,Ts,r),Za(e,o);else if(gf(l,e,t,r,o))o.stopPropagation();else if(Za(e,o),t&4&&-1<mf.indexOf(e)){for(;l!==null;){var c=Jo(l);if(c!==null&&Ka(c),c=Ql(e,t,r,o),c===null&&di(e,t,o,Ts,r),c===l)break;l=c}l!==null&&o.stopPropagation()}else di(e,t,o,null,r)}}var Ts=null;function Ql(e,t,r,o){if(Ts=null,e=At(o),e=Pr(e),e!==null)if(t=ee(e),t===null)e=null;else if(r=t.tag,r===13){if(e=de(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ts=e,null}function nc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ur()){case Dr:return 1;case qr:return 4;case en:case dr:return 16;case Xr:return 536870912;default:return 16}default:return 16}}var gr=null,Kl=null,Ms=null;function rc(){if(Ms)return Ms;var e,t=Kl,r=t.length,o,l="value"in gr?gr.value:gr.textContent,c=l.length;for(e=0;e<r&&t[e]===l[e];e++);var h=r-e;for(o=1;o<=h&&t[r-o]===l[c-o];o++);return Ms=l.slice(e,1<o?1-o:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ls(){return!0}function oc(){return!1}function cn(e){function t(r,o,l,c,h){this._reactName=r,this._targetInst=l,this.type=o,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ls:oc,this.isPropagationStopped=oc,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),t}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=cn(eo),Io=L({},eo,{view:0,detail:0}),jf=cn(Io),ql,Xl,zo,Rs=L({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ei,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(ql=e.screenX-zo.screenX,Xl=e.screenY-zo.screenY):Xl=ql=0,zo=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),sc=cn(Rs),kf=L({},Rs,{dataTransfer:0}),wf=cn(kf),Cf=L({},Io,{relatedTarget:0}),Zl=cn(Cf),Sf=L({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),bf=cn(Sf),Nf=L({},eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ef=cn(Nf),$f=L({},eo,{data:0}),lc=cn($f),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_f[e])?!!t[e]:!1}function ei(){return Lf}var Rf=L({},Io,{key:function(e){if(e.key){var t=Tf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ei,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Df=cn(Rf),Pf=L({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=cn(Pf),If=L({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ei}),zf=cn(If),Af=L({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bf=cn(Af),Ff=L({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Of=cn(Ff),Wf=[9,13,27,32],ti=k&&"CompositionEvent"in window,Ao=null;k&&"documentMode"in document&&(Ao=document.documentMode);var Uf=k&&"TextEvent"in window&&!Ao,ac=k&&(!ti||Ao&&8<Ao&&11>=Ao),cc=" ",uc=!1;function dc(e,t){switch(e){case"keyup":return Wf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function Vf(e,t){switch(e){case"compositionend":return fc(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function Hf(e,t){if(to)return e==="compositionend"||!ti&&dc(e,t)?(e=rc(),Ms=Kl=gr=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ac&&t.locale!=="ko"?null:t.data;default:return null}}var Yf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yf[e.type]:t==="textarea"}function hc(e,t,r,o){se(o),t=As(t,"onChange"),0<t.length&&(r=new Gl("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Bo=null,Fo=null;function Jf(e){Lc(e,0)}function Ds(e){var t=lo(e);if(q(t))return e}function Qf(e,t){if(e==="change")return t}var mc=!1;if(k){var ni;if(k){var ri="oninput"in document;if(!ri){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),ri=typeof gc.oninput=="function"}ni=ri}else ni=!1;mc=ni&&(!document.documentMode||9<document.documentMode)}function xc(){Bo&&(Bo.detachEvent("onpropertychange",yc),Fo=Bo=null)}function yc(e){if(e.propertyName==="value"&&Ds(Fo)){var t=[];hc(t,Fo,e,At(e)),Se(Jf,t)}}function Kf(e,t,r){e==="focusin"?(xc(),Bo=t,Fo=r,Bo.attachEvent("onpropertychange",yc)):e==="focusout"&&xc()}function Gf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(Fo)}function qf(e,t){if(e==="click")return Ds(t)}function Xf(e,t){if(e==="input"||e==="change")return Ds(t)}function Zf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:Zf;function Oo(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var l=r[o];if(!x.call(t,l)||!Tn(e[l],t[l]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jc(e,t){var r=vc(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vc(r)}}function kc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wc(){for(var e=window,t=Ye();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ye(e.document)}return t}function oi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ep(e){var t=wc(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kc(r.ownerDocument.documentElement,r)){if(o!==null&&oi(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,c=Math.min(o.start,l);o=o.end===void 0?c:Math.min(o.end,l),!e.extend&&c>o&&(l=o,o=c,c=l),l=jc(r,c);var h=jc(r,o);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tp=k&&"documentMode"in document&&11>=document.documentMode,no=null,si=null,Wo=null,li=!1;function Cc(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;li||no==null||no!==Ye(o)||(o=no,"selectionStart"in o&&oi(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Oo(Wo,o)||(Wo=o,o=As(si,"onSelect"),0<o.length&&(t=new Gl("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=no)))}function Ps(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ro={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},ii={},Sc={};k&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Is(e){if(ii[e])return ii[e];if(!ro[e])return e;var t=ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sc)return ii[e]=t[r];return e}var bc=Is("animationend"),Nc=Is("animationiteration"),Ec=Is("animationstart"),$c=Is("transitionend"),Tc=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Tc.set(e,t),m(t,[e])}for(var ai=0;ai<Mc.length;ai++){var ci=Mc[ai],np=ci.toLowerCase(),rp=ci[0].toUpperCase()+ci.slice(1);xr(np,"on"+rp)}xr(bc,"onAnimationEnd"),xr(Nc,"onAnimationIteration"),xr(Ec,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr($c,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function _c(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,K(o,t,void 0,e),e.currentTarget=null}function Lc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],l=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var h=o.length-1;0<=h;h--){var v=o[h],N=v.instance,V=v.currentTarget;if(v=v.listener,N!==c&&l.isPropagationStopped())break e;_c(l,v,V),c=N}else for(h=0;h<o.length;h++){if(v=o[h],N=v.instance,V=v.currentTarget,v=v.listener,N!==c&&l.isPropagationStopped())break e;_c(l,v,V),c=N}}}if(g)throw e=O,g=!1,O=null,e}function wt(e,t){var r=t[xi];r===void 0&&(r=t[xi]=new Set);var o=e+"__bubble";r.has(o)||(Rc(t,e,2,!1),r.add(o))}function ui(e,t,r){var o=0;t&&(o|=4),Rc(r,e,o,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[zs]){e[zs]=!0,u.forEach(function(r){r!=="selectionchange"&&(op.has(r)||ui(r,!1,e),ui(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,ui("selectionchange",!1,t))}}function Rc(e,t,r,o){switch(nc(t)){case 1:var l=yf;break;case 4:l=vf;break;default:l=Jl}r=l.bind(null,t,r,e),l=void 0,!Rr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function di(e,t,r,o,l){var c=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var v=o.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(h===4)for(h=o.return;h!==null;){var N=h.tag;if((N===3||N===4)&&(N=h.stateNode.containerInfo,N===l||N.nodeType===8&&N.parentNode===l))return;h=h.return}for(;v!==null;){if(h=Pr(v),h===null)return;if(N=h.tag,N===5||N===6){o=c=h;continue e}v=v.parentNode}}o=o.return}Se(function(){var V=c,oe=At(r),le=[];e:{var ne=Tc.get(e);if(ne!==void 0){var be=Gl,Te=e;switch(e){case"keypress":if(_s(r)===0)break e;case"keydown":case"keyup":be=Df;break;case"focusin":Te="focus",be=Zl;break;case"focusout":Te="blur",be=Zl;break;case"beforeblur":case"afterblur":be=Zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=zf;break;case bc:case Nc:case Ec:be=bf;break;case $c:be=Bf;break;case"scroll":be=jf;break;case"wheel":be=Of;break;case"copy":case"cut":case"paste":be=Ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=ic}var _e=(t&4)!==0,Lt=!_e&&e==="scroll",B=_e?ne!==null?ne+"Capture":null:ne;_e=[];for(var M=V,W;M!==null;){W=M;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,B!==null&&(ae=Ne(M,B),ae!=null&&_e.push(Ho(M,ae,W)))),Lt)break;M=M.return}0<_e.length&&(ne=new be(ne,Te,null,r,oe),le.push({event:ne,listeners:_e}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",ne&&r!==$n&&(Te=r.relatedTarget||r.fromElement)&&(Pr(Te)||Te[qn]))break e;if((be||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,be?(Te=r.relatedTarget||r.toElement,be=V,Te=Te?Pr(Te):null,Te!==null&&(Lt=ee(Te),Te!==Lt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(be=null,Te=V),be!==Te)){if(_e=sc,ae="onMouseLeave",B="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(_e=ic,ae="onPointerLeave",B="onPointerEnter",M="pointer"),Lt=be==null?ne:lo(be),W=Te==null?ne:lo(Te),ne=new _e(ae,M+"leave",be,r,oe),ne.target=Lt,ne.relatedTarget=W,ae=null,Pr(oe)===V&&(_e=new _e(B,M+"enter",Te,r,oe),_e.target=W,_e.relatedTarget=Lt,ae=_e),Lt=ae,be&&Te)t:{for(_e=be,B=Te,M=0,W=_e;W;W=oo(W))M++;for(W=0,ae=B;ae;ae=oo(ae))W++;for(;0<M-W;)_e=oo(_e),M--;for(;0<W-M;)B=oo(B),W--;for(;M--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=oo(_e),B=oo(B)}_e=null}else _e=null;be!==null&&Dc(le,ne,be,_e,!1),Te!==null&&Lt!==null&&Dc(le,Lt,Te,_e,!0)}}e:{if(ne=V?lo(V):window,be=ne.nodeName&&ne.nodeName.toLowerCase(),be==="select"||be==="input"&&ne.type==="file")var Le=Qf;else if(pc(ne))if(mc)Le=Xf;else{Le=Gf;var Oe=Kf}else(be=ne.nodeName)&&be.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Le=qf);if(Le&&(Le=Le(e,V))){hc(le,Le,r,oe);break e}Oe&&Oe(e,ne,V),e==="focusout"&&(Oe=ne._wrapperState)&&Oe.controlled&&ne.type==="number"&&it(ne,"number",ne.value)}switch(Oe=V?lo(V):window,e){case"focusin":(pc(Oe)||Oe.contentEditable==="true")&&(no=Oe,si=V,Wo=null);break;case"focusout":Wo=si=no=null;break;case"mousedown":li=!0;break;case"contextmenu":case"mouseup":case"dragend":li=!1,Cc(le,r,oe);break;case"selectionchange":if(tp)break;case"keydown":case"keyup":Cc(le,r,oe)}var We;if(ti)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else to?dc(e,r)&&(Je="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Je="onCompositionStart");Je&&(ac&&r.locale!=="ko"&&(to||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&to&&(We=rc()):(gr=oe,Kl="value"in gr?gr.value:gr.textContent,to=!0)),Oe=As(V,Je),0<Oe.length&&(Je=new lc(Je,e,null,r,oe),le.push({event:Je,listeners:Oe}),We?Je.data=We:(We=fc(r),We!==null&&(Je.data=We)))),(We=Uf?Vf(e,r):Hf(e,r))&&(V=As(V,"onBeforeInput"),0<V.length&&(oe=new lc("onBeforeInput","beforeinput",null,r,oe),le.push({event:oe,listeners:V}),oe.data=We))}Lc(le,t)})}function Ho(e,t,r){return{instance:e,listener:t,currentTarget:r}}function As(e,t){for(var r=t+"Capture",o=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Ne(e,r),c!=null&&o.unshift(Ho(e,c,l)),c=Ne(e,t),c!=null&&o.push(Ho(e,c,l))),e=e.return}return o}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dc(e,t,r,o,l){for(var c=t._reactName,h=[];r!==null&&r!==o;){var v=r,N=v.alternate,V=v.stateNode;if(N!==null&&N===o)break;v.tag===5&&V!==null&&(v=V,l?(N=Ne(r,c),N!=null&&h.unshift(Ho(r,N,v))):l||(N=Ne(r,c),N!=null&&h.push(Ho(r,N,v)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var sp=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Pc(e){return(typeof e=="string"?e:""+e).replace(sp,`
`).replace(lp,"")}function Bs(e,t,r){if(t=Pc(t),Pc(e)!==t&&r)throw Error(i(425))}function Fs(){}var fi=null,pi=null;function hi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mi=typeof setTimeout=="function"?setTimeout:void 0,ip=typeof clearTimeout=="function"?clearTimeout:void 0,Ic=typeof Promise=="function"?Promise:void 0,ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Ic<"u"?function(e){return Ic.resolve(null).then(e).catch(cp)}:mi;function cp(e){setTimeout(function(){throw e})}function gi(e,t){var r=t,o=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(o===0){e.removeChild(l),Po(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=l}while(r);Po(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var so=Math.random().toString(36).slice(2),Bn="__reactFiber$"+so,Yo="__reactProps$"+so,qn="__reactContainer$"+so,xi="__reactEvents$"+so,up="__reactListeners$"+so,dp="__reactHandles$"+so;function Pr(e){var t=e[Bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qn]||r[Bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zc(e);e!==null;){if(r=e[Bn])return r;e=zc(e)}return t}e=r,r=e.parentNode}return null}function Jo(e){return e=e[Bn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Os(e){return e[Yo]||null}var yi=[],io=-1;function vr(e){return{current:e}}function Ct(e){0>io||(e.current=yi[io],yi[io]=null,io--)}function kt(e,t){io++,yi[io]=e.current,e.current=t}var jr={},Yt=vr(jr),nn=vr(!1),Ir=jr;function ao(e,t){var r=e.type.contextTypes;if(!r)return jr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in r)l[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function rn(e){return e=e.childContextTypes,e!=null}function Ws(){Ct(nn),Ct(Yt)}function Ac(e,t,r){if(Yt.current!==jr)throw Error(i(168));kt(Yt,t),kt(nn,r)}function Bc(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(i(108,Fe(e)||"Unknown",l));return L({},r,o)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Ir=Yt.current,kt(Yt,e),kt(nn,nn.current),!0}function Fc(e,t,r){var o=e.stateNode;if(!o)throw Error(i(169));r?(e=Bc(e,t,Ir),o.__reactInternalMemoizedMergedChildContext=e,Ct(nn),Ct(Yt),kt(Yt,e)):Ct(nn),kt(nn,r)}var Xn=null,Vs=!1,vi=!1;function Oc(e){Xn===null?Xn=[e]:Xn.push(e)}function fp(e){Vs=!0,Oc(e)}function kr(){if(!vi&&Xn!==null){vi=!0;var e=0,t=xt;try{var r=Xn;for(xt=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Xn=null,Vs=!1}catch(l){throw Xn!==null&&(Xn=Xn.slice(e+1)),me(Dr,kr),l}finally{xt=t,vi=!1}}return null}var co=[],uo=0,Hs=null,Ys=0,yn=[],vn=0,zr=null,Zn=1,er="";function Ar(e,t){co[uo++]=Ys,co[uo++]=Hs,Hs=e,Ys=t}function Wc(e,t,r){yn[vn++]=Zn,yn[vn++]=er,yn[vn++]=zr,zr=e;var o=Zn;e=er;var l=32-dt(o)-1;o&=~(1<<l),r+=1;var c=32-dt(t)+l;if(30<c){var h=l-l%5;c=(o&(1<<h)-1).toString(32),o>>=h,l-=h,Zn=1<<32-dt(t)+l|r<<l|o,er=c+e}else Zn=1<<c|r<<l|o,er=e}function ji(e){e.return!==null&&(Ar(e,1),Wc(e,1,0))}function ki(e){for(;e===Hs;)Hs=co[--uo],co[uo]=null,Ys=co[--uo],co[uo]=null;for(;e===zr;)zr=yn[--vn],yn[vn]=null,er=yn[--vn],yn[vn]=null,Zn=yn[--vn],yn[vn]=null}var un=null,dn=null,St=!1,Mn=null;function Uc(e,t){var r=Cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Vc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,dn=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zr!==null?{id:Zn,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,un=e,dn=null,!0):!1;default:return!1}}function wi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ci(e){if(St){var t=dn;if(t){var r=t;if(!Vc(e,t)){if(wi(e))throw Error(i(418));t=yr(r.nextSibling);var o=un;t&&Vc(e,t)?Uc(o,r):(e.flags=e.flags&-4097|2,St=!1,un=e)}}else{if(wi(e))throw Error(i(418));e.flags=e.flags&-4097|2,St=!1,un=e}}}function Hc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function Js(e){if(e!==un)return!1;if(!St)return Hc(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hi(e.type,e.memoizedProps)),t&&(t=dn)){if(wi(e))throw Yc(),Error(i(418));for(;t;)Uc(e,t),t=yr(t.nextSibling)}if(Hc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dn=yr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dn=null}}else dn=un?yr(e.stateNode.nextSibling):null;return!0}function Yc(){for(var e=dn;e;)e=yr(e.nextSibling)}function fo(){dn=un=null,St=!1}function Si(e){Mn===null?Mn=[e]:Mn.push(e)}var pp=ye.ReactCurrentBatchConfig;function Qo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var o=r.stateNode}if(!o)throw Error(i(147,e));var l=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var v=l.refs;h===null?delete v[c]:v[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jc(e){var t=e._init;return t(e._payload)}function Qc(e){function t(B,M){if(e){var W=B.deletions;W===null?(B.deletions=[M],B.flags|=16):W.push(M)}}function r(B,M){if(!e)return null;for(;M!==null;)t(B,M),M=M.sibling;return null}function o(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function l(B,M){return B=Tr(B,M),B.index=0,B.sibling=null,B}function c(B,M,W){return B.index=W,e?(W=B.alternate,W!==null?(W=W.index,W<M?(B.flags|=2,M):W):(B.flags|=2,M)):(B.flags|=1048576,M)}function h(B){return e&&B.alternate===null&&(B.flags|=2),B}function v(B,M,W,ae){return M===null||M.tag!==6?(M=ma(W,B.mode,ae),M.return=B,M):(M=l(M,W),M.return=B,M)}function N(B,M,W,ae){var Le=W.type;return Le===ce?oe(B,M,W.props.children,ae,W.key):M!==null&&(M.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Ae&&Jc(Le)===M.type)?(ae=l(M,W.props),ae.ref=Qo(B,M,W),ae.return=B,ae):(ae=yl(W.type,W.key,W.props,null,B.mode,ae),ae.ref=Qo(B,M,W),ae.return=B,ae)}function V(B,M,W,ae){return M===null||M.tag!==4||M.stateNode.containerInfo!==W.containerInfo||M.stateNode.implementation!==W.implementation?(M=ga(W,B.mode,ae),M.return=B,M):(M=l(M,W.children||[]),M.return=B,M)}function oe(B,M,W,ae,Le){return M===null||M.tag!==7?(M=Yr(W,B.mode,ae,Le),M.return=B,M):(M=l(M,W),M.return=B,M)}function le(B,M,W){if(typeof M=="string"&&M!==""||typeof M=="number")return M=ma(""+M,B.mode,W),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ze:return W=yl(M.type,M.key,M.props,null,B.mode,W),W.ref=Qo(B,null,M),W.return=B,W;case ue:return M=ga(M,B.mode,W),M.return=B,M;case Ae:var ae=M._init;return le(B,ae(M._payload),W)}if(Mt(M)||re(M))return M=Yr(M,B.mode,W,null),M.return=B,M;Qs(B,M)}return null}function ne(B,M,W,ae){var Le=M!==null?M.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Le!==null?null:v(B,M,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ze:return W.key===Le?N(B,M,W,ae):null;case ue:return W.key===Le?V(B,M,W,ae):null;case Ae:return Le=W._init,ne(B,M,Le(W._payload),ae)}if(Mt(W)||re(W))return Le!==null?null:oe(B,M,W,ae,null);Qs(B,W)}return null}function be(B,M,W,ae,Le){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return B=B.get(W)||null,v(M,B,""+ae,Le);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ze:return B=B.get(ae.key===null?W:ae.key)||null,N(M,B,ae,Le);case ue:return B=B.get(ae.key===null?W:ae.key)||null,V(M,B,ae,Le);case Ae:var Oe=ae._init;return be(B,M,W,Oe(ae._payload),Le)}if(Mt(ae)||re(ae))return B=B.get(W)||null,oe(M,B,ae,Le,null);Qs(M,ae)}return null}function Te(B,M,W,ae){for(var Le=null,Oe=null,We=M,Je=M=0,Ot=null;We!==null&&Je<W.length;Je++){We.index>Je?(Ot=We,We=null):Ot=We.sibling;var mt=ne(B,We,W[Je],ae);if(mt===null){We===null&&(We=Ot);break}e&&We&&mt.alternate===null&&t(B,We),M=c(mt,M,Je),Oe===null?Le=mt:Oe.sibling=mt,Oe=mt,We=Ot}if(Je===W.length)return r(B,We),St&&Ar(B,Je),Le;if(We===null){for(;Je<W.length;Je++)We=le(B,W[Je],ae),We!==null&&(M=c(We,M,Je),Oe===null?Le=We:Oe.sibling=We,Oe=We);return St&&Ar(B,Je),Le}for(We=o(B,We);Je<W.length;Je++)Ot=be(We,B,Je,W[Je],ae),Ot!==null&&(e&&Ot.alternate!==null&&We.delete(Ot.key===null?Je:Ot.key),M=c(Ot,M,Je),Oe===null?Le=Ot:Oe.sibling=Ot,Oe=Ot);return e&&We.forEach(function(Mr){return t(B,Mr)}),St&&Ar(B,Je),Le}function _e(B,M,W,ae){var Le=re(W);if(typeof Le!="function")throw Error(i(150));if(W=Le.call(W),W==null)throw Error(i(151));for(var Oe=Le=null,We=M,Je=M=0,Ot=null,mt=W.next();We!==null&&!mt.done;Je++,mt=W.next()){We.index>Je?(Ot=We,We=null):Ot=We.sibling;var Mr=ne(B,We,mt.value,ae);if(Mr===null){We===null&&(We=Ot);break}e&&We&&Mr.alternate===null&&t(B,We),M=c(Mr,M,Je),Oe===null?Le=Mr:Oe.sibling=Mr,Oe=Mr,We=Ot}if(mt.done)return r(B,We),St&&Ar(B,Je),Le;if(We===null){for(;!mt.done;Je++,mt=W.next())mt=le(B,mt.value,ae),mt!==null&&(M=c(mt,M,Je),Oe===null?Le=mt:Oe.sibling=mt,Oe=mt);return St&&Ar(B,Je),Le}for(We=o(B,We);!mt.done;Je++,mt=W.next())mt=be(We,B,Je,mt.value,ae),mt!==null&&(e&&mt.alternate!==null&&We.delete(mt.key===null?Je:mt.key),M=c(mt,M,Je),Oe===null?Le=mt:Oe.sibling=mt,Oe=mt);return e&&We.forEach(function(Yp){return t(B,Yp)}),St&&Ar(B,Je),Le}function Lt(B,M,W,ae){if(typeof W=="object"&&W!==null&&W.type===ce&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ze:e:{for(var Le=W.key,Oe=M;Oe!==null;){if(Oe.key===Le){if(Le=W.type,Le===ce){if(Oe.tag===7){r(B,Oe.sibling),M=l(Oe,W.props.children),M.return=B,B=M;break e}}else if(Oe.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Ae&&Jc(Le)===Oe.type){r(B,Oe.sibling),M=l(Oe,W.props),M.ref=Qo(B,Oe,W),M.return=B,B=M;break e}r(B,Oe);break}else t(B,Oe);Oe=Oe.sibling}W.type===ce?(M=Yr(W.props.children,B.mode,ae,W.key),M.return=B,B=M):(ae=yl(W.type,W.key,W.props,null,B.mode,ae),ae.ref=Qo(B,M,W),ae.return=B,B=ae)}return h(B);case ue:e:{for(Oe=W.key;M!==null;){if(M.key===Oe)if(M.tag===4&&M.stateNode.containerInfo===W.containerInfo&&M.stateNode.implementation===W.implementation){r(B,M.sibling),M=l(M,W.children||[]),M.return=B,B=M;break e}else{r(B,M);break}else t(B,M);M=M.sibling}M=ga(W,B.mode,ae),M.return=B,B=M}return h(B);case Ae:return Oe=W._init,Lt(B,M,Oe(W._payload),ae)}if(Mt(W))return Te(B,M,W,ae);if(re(W))return _e(B,M,W,ae);Qs(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,M!==null&&M.tag===6?(r(B,M.sibling),M=l(M,W),M.return=B,B=M):(r(B,M),M=ma(W,B.mode,ae),M.return=B,B=M),h(B)):r(B,M)}return Lt}var po=Qc(!0),Kc=Qc(!1),Ks=vr(null),Gs=null,ho=null,bi=null;function Ni(){bi=ho=Gs=null}function Ei(e){var t=Ks.current;Ct(Ks),e._currentValue=t}function $i(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function mo(e,t){Gs=e,bi=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(on=!0),e.firstContext=null)}function jn(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},ho===null){if(Gs===null)throw Error(i(308));ho=e,Gs.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return t}var Br=null;function Ti(e){Br===null?Br=[e]:Br.push(e)}function Gc(e,t,r,o){var l=t.interleaved;return l===null?(r.next=r,Ti(t)):(r.next=l.next,l.next=r),t.interleaved=r,tr(e,o)}function tr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wr=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ft&2)!==0){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,tr(e,r)}return l=o.interleaved,l===null?(t.next=t,Ti(o)):(t.next=l.next,l.next=t),o.interleaved=t,tr(e,r)}function qs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Vl(e,r)}}function Xc(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var l=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?l=c=h:c=c.next=h,r=r.next}while(r!==null);c===null?l=c=t:c=c.next=t}else l=c=t;r={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xs(e,t,r,o){var l=e.updateQueue;wr=!1;var c=l.firstBaseUpdate,h=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var N=v,V=N.next;N.next=null,h===null?c=V:h.next=V,h=N;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,v=oe.lastBaseUpdate,v!==h&&(v===null?oe.firstBaseUpdate=V:v.next=V,oe.lastBaseUpdate=N))}if(c!==null){var le=l.baseState;h=0,oe=V=N=null,v=c;do{var ne=v.lane,be=v.eventTime;if((o&ne)===ne){oe!==null&&(oe=oe.next={eventTime:be,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Te=e,_e=v;switch(ne=t,be=r,_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){le=Te.call(be,le,ne);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,ne=typeof Te=="function"?Te.call(be,le,ne):Te,ne==null)break e;le=L({},le,ne);break e;case 2:wr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,ne=l.effects,ne===null?l.effects=[v]:ne.push(v))}else be={eventTime:be,lane:ne,tag:v.tag,payload:v.payload,callback:v.callback,next:null},oe===null?(V=oe=be,N=le):oe=oe.next=be,h|=ne;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;ne=v,v=ne.next,ne.next=null,l.lastBaseUpdate=ne,l.shared.pending=null}}while(!0);if(oe===null&&(N=le),l.baseState=N,l.firstBaseUpdate=V,l.lastBaseUpdate=oe,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Wr|=h,e.lanes=h,e.memoizedState=le}}function Zc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=r,typeof l!="function")throw Error(i(191,l));l.call(o)}}}var Ko={},Fn=vr(Ko),Go=vr(Ko),qo=vr(Ko);function Fr(e){if(e===Ko)throw Error(i(174));return e}function _i(e,t){switch(kt(qo,t),kt(Go,e),kt(Fn,Ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:I(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=I(t,e)}Ct(Fn),kt(Fn,t)}function go(){Ct(Fn),Ct(Go),Ct(qo)}function eu(e){Fr(qo.current);var t=Fr(Fn.current),r=I(t,e.type);t!==r&&(kt(Go,e),kt(Fn,r))}function Li(e){Go.current===e&&(Ct(Fn),Ct(Go))}var Nt=vr(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ri=[];function Di(){for(var e=0;e<Ri.length;e++)Ri[e]._workInProgressVersionPrimary=null;Ri.length=0}var el=ye.ReactCurrentDispatcher,Pi=ye.ReactCurrentBatchConfig,Or=0,Et=null,Dt=null,Bt=null,tl=!1,Xo=!1,Zo=0,hp=0;function Jt(){throw Error(i(321))}function Ii(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tn(e[r],t[r]))return!1;return!0}function zi(e,t,r,o,l,c){if(Or=c,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,el.current=e===null||e.memoizedState===null?yp:vp,e=r(o,l),Xo){c=0;do{if(Xo=!1,Zo=0,25<=c)throw Error(i(301));c+=1,Bt=Dt=null,t.updateQueue=null,el.current=jp,e=r(o,l)}while(Xo)}if(el.current=ol,t=Dt!==null&&Dt.next!==null,Or=0,Bt=Dt=Et=null,tl=!1,t)throw Error(i(300));return e}function Ai(){var e=Zo!==0;return Zo=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Et.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function kn(){if(Dt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=Bt===null?Et.memoizedState:Bt.next;if(t!==null)Bt=t,Dt=e;else{if(e===null)throw Error(i(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Bt===null?Et.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function es(e,t){return typeof t=="function"?t(e):t}function Bi(e){var t=kn(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=Dt,l=o.baseQueue,c=r.pending;if(c!==null){if(l!==null){var h=l.next;l.next=c.next,c.next=h}o.baseQueue=l=c,r.pending=null}if(l!==null){c=l.next,o=o.baseState;var v=h=null,N=null,V=c;do{var oe=V.lane;if((Or&oe)===oe)N!==null&&(N=N.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),o=V.hasEagerState?V.eagerState:e(o,V.action);else{var le={lane:oe,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};N===null?(v=N=le,h=o):N=N.next=le,Et.lanes|=oe,Wr|=oe}V=V.next}while(V!==null&&V!==c);N===null?h=o:N.next=v,Tn(o,t.memoizedState)||(on=!0),t.memoizedState=o,t.baseState=h,t.baseQueue=N,r.lastRenderedState=o}if(e=r.interleaved,e!==null){l=e;do c=l.lane,Et.lanes|=c,Wr|=c,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fi(e){var t=kn(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,l=r.pending,c=t.memoizedState;if(l!==null){r.pending=null;var h=l=l.next;do c=e(c,h.action),h=h.next;while(h!==l);Tn(c,t.memoizedState)||(on=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,o]}function tu(){}function nu(e,t){var r=Et,o=kn(),l=t(),c=!Tn(o.memoizedState,l);if(c&&(o.memoizedState=l,on=!0),o=o.queue,Oi(su.bind(null,r,o,e),[e]),o.getSnapshot!==t||c||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,ts(9,ou.bind(null,r,o,l,t),void 0,null),Ft===null)throw Error(i(349));(Or&30)!==0||ru(r,t,l)}return l}function ru(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ou(e,t,r,o){t.value=r,t.getSnapshot=o,lu(t)&&iu(e)}function su(e,t,r){return r(function(){lu(t)&&iu(e)})}function lu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tn(e,r)}catch{return!0}}function iu(e){var t=tr(e,1);t!==null&&Dn(t,e,1,-1)}function au(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=xp.bind(null,Et,e),[t.memoizedState,e]}function ts(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function cu(){return kn().memoizedState}function nl(e,t,r,o){var l=On();Et.flags|=e,l.memoizedState=ts(1|t,r,void 0,o===void 0?null:o)}function rl(e,t,r,o){var l=kn();o=o===void 0?null:o;var c=void 0;if(Dt!==null){var h=Dt.memoizedState;if(c=h.destroy,o!==null&&Ii(o,h.deps)){l.memoizedState=ts(t,r,c,o);return}}Et.flags|=e,l.memoizedState=ts(1|t,r,c,o)}function uu(e,t){return nl(8390656,8,e,t)}function Oi(e,t){return rl(2048,8,e,t)}function du(e,t){return rl(4,2,e,t)}function fu(e,t){return rl(4,4,e,t)}function pu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hu(e,t,r){return r=r!=null?r.concat([e]):null,rl(4,4,pu.bind(null,t,e),r)}function Wi(){}function mu(e,t){var r=kn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Ii(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function gu(e,t){var r=kn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&Ii(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function xu(e,t,r){return(Or&21)===0?(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=r):(Tn(r,t)||(r=Ja(),Et.lanes|=r,Wr|=r,e.baseState=!0),t)}function mp(e,t){var r=xt;xt=r!==0&&4>r?r:4,e(!0);var o=Pi.transition;Pi.transition={};try{e(!1),t()}finally{xt=r,Pi.transition=o}}function yu(){return kn().memoizedState}function gp(e,t,r){var o=Er(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},vu(e))ju(t,r);else if(r=Gc(e,t,r,o),r!==null){var l=Xt();Dn(r,e,o,l),ku(r,t,o)}}function xp(e,t,r){var o=Er(e),l={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(vu(e))ju(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,v=c(h,r);if(l.hasEagerState=!0,l.eagerState=v,Tn(v,h)){var N=t.interleaved;N===null?(l.next=l,Ti(t)):(l.next=N.next,N.next=l),t.interleaved=l;return}}catch{}finally{}r=Gc(e,t,l,o),r!==null&&(l=Xt(),Dn(r,e,o,l),ku(r,t,o))}}function vu(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function ju(e,t){Xo=tl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ku(e,t,r){if((r&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Vl(e,r)}}var ol={readContext:jn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},yp={readContext:jn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:uu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nl(4194308,4,pu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var r=On();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=On();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=gp.bind(null,Et,e),[o.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:Wi,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=mp.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=Et,l=On();if(St){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ft===null)throw Error(i(349));(Or&30)!==0||ru(o,t,r)}l.memoizedState=r;var c={value:r,getSnapshot:t};return l.queue=c,uu(su.bind(null,o,c,e),[e]),o.flags|=2048,ts(9,ou.bind(null,o,c,r,t),void 0,null),r},useId:function(){var e=On(),t=Ft.identifierPrefix;if(St){var r=er,o=Zn;r=(o&~(1<<32-dt(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vp={readContext:jn,useCallback:mu,useContext:jn,useEffect:Oi,useImperativeHandle:hu,useInsertionEffect:du,useLayoutEffect:fu,useMemo:gu,useReducer:Bi,useRef:cu,useState:function(){return Bi(es)},useDebugValue:Wi,useDeferredValue:function(e){var t=kn();return xu(t,Dt.memoizedState,e)},useTransition:function(){var e=Bi(es)[0],t=kn().memoizedState;return[e,t]},useMutableSource:tu,useSyncExternalStore:nu,useId:yu,unstable_isNewReconciler:!1},jp={readContext:jn,useCallback:mu,useContext:jn,useEffect:Oi,useImperativeHandle:hu,useInsertionEffect:du,useLayoutEffect:fu,useMemo:gu,useReducer:Fi,useRef:cu,useState:function(){return Fi(es)},useDebugValue:Wi,useDeferredValue:function(e){var t=kn();return Dt===null?t.memoizedState=e:xu(t,Dt.memoizedState,e)},useTransition:function(){var e=Fi(es)[0],t=kn().memoizedState;return[e,t]},useMutableSource:tu,useSyncExternalStore:nu,useId:yu,unstable_isNewReconciler:!1};function _n(e,t){if(e&&e.defaultProps){t=L({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ui(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:L({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sl={isMounted:function(e){return(e=e._reactInternals)?ee(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Xt(),l=Er(e),c=nr(o,l);c.payload=t,r!=null&&(c.callback=r),t=Cr(e,c,l),t!==null&&(Dn(t,e,l,o),qs(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Xt(),l=Er(e),c=nr(o,l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Cr(e,c,l),t!==null&&(Dn(t,e,l,o),qs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xt(),o=Er(e),l=nr(r,o);l.tag=2,t!=null&&(l.callback=t),t=Cr(e,l,o),t!==null&&(Dn(t,e,o,r),qs(t,e,o))}};function wu(e,t,r,o,l,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,h):t.prototype&&t.prototype.isPureReactComponent?!Oo(r,o)||!Oo(l,c):!0}function Cu(e,t,r){var o=!1,l=jr,c=t.contextType;return typeof c=="object"&&c!==null?c=jn(c):(l=rn(t)?Ir:Yt.current,o=t.contextTypes,c=(o=o!=null)?ao(e,l):jr),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function Su(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function Vi(e,t,r,o){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Mi(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=jn(c):(c=rn(t)?Ir:Yt.current,l.context=ao(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Ui(e,t,c,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&sl.enqueueReplaceState(l,l.state,null),Xs(e,r,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function xo(e,t){try{var r="",o=t;do r+=Ee(o),o=o.return;while(o);var l=r}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function Hi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yi(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kp=typeof WeakMap=="function"?WeakMap:Map;function bu(e,t,r){r=nr(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){fl||(fl=!0,ia=o),Yi(e,t)},r}function Nu(e,t,r){r=nr(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;r.payload=function(){return o(l)},r.callback=function(){Yi(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){Yi(e,t),typeof o!="function"&&(br===null?br=new Set([this]):br.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function Eu(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new kp;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(r)||(l.add(r),e=Pp.bind(null,e,t,r),t.then(e,e))}function $u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tu(e,t,r,o,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nr(-1,1),t.tag=2,Cr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var wp=ye.ReactCurrentOwner,on=!1;function qt(e,t,r,o){t.child=e===null?Kc(t,null,r,o):po(t,e.child,r,o)}function Mu(e,t,r,o,l){r=r.render;var c=t.ref;return mo(t,l),o=zi(e,t,r,o,c,l),r=Ai(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,rr(e,t,l)):(St&&r&&ji(t),t.flags|=1,qt(e,t,o,l),t.child)}function _u(e,t,r,o,l){if(e===null){var c=r.type;return typeof c=="function"&&!ha(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,Lu(e,t,c,o,l)):(e=yl(r.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var h=c.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(h,o)&&e.ref===t.ref)return rr(e,t,l)}return t.flags|=1,e=Tr(c,o),e.ref=t.ref,e.return=t,t.child=e}function Lu(e,t,r,o,l){if(e!==null){var c=e.memoizedProps;if(Oo(c,o)&&e.ref===t.ref)if(on=!1,t.pendingProps=o=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(on=!0);else return t.lanes=e.lanes,rr(e,t,l)}return Ji(e,t,r,o,l)}function Ru(e,t,r){var o=t.pendingProps,l=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(vo,fn),fn|=r;else{if((r&1073741824)===0)return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kt(vo,fn),fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:r,kt(vo,fn),fn|=o}else c!==null?(o=c.baseLanes|r,t.memoizedState=null):o=r,kt(vo,fn),fn|=o;return qt(e,t,l,r),t.child}function Du(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ji(e,t,r,o,l){var c=rn(r)?Ir:Yt.current;return c=ao(t,c),mo(t,l),r=zi(e,t,r,o,c,l),o=Ai(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,rr(e,t,l)):(St&&o&&ji(t),t.flags|=1,qt(e,t,r,l),t.child)}function Pu(e,t,r,o,l){if(rn(r)){var c=!0;Us(t)}else c=!1;if(mo(t,l),t.stateNode===null)il(e,t),Cu(t,r,o),Vi(t,r,o,l),o=!0;else if(e===null){var h=t.stateNode,v=t.memoizedProps;h.props=v;var N=h.context,V=r.contextType;typeof V=="object"&&V!==null?V=jn(V):(V=rn(r)?Ir:Yt.current,V=ao(t,V));var oe=r.getDerivedStateFromProps,le=typeof oe=="function"||typeof h.getSnapshotBeforeUpdate=="function";le||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==o||N!==V)&&Su(t,h,o,V),wr=!1;var ne=t.memoizedState;h.state=ne,Xs(t,o,h,l),N=t.memoizedState,v!==o||ne!==N||nn.current||wr?(typeof oe=="function"&&(Ui(t,r,oe,o),N=t.memoizedState),(v=wr||wu(t,r,v,o,ne,N,V))?(le||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=N),h.props=o,h.state=N,h.context=V,o=v):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{h=t.stateNode,qc(e,t),v=t.memoizedProps,V=t.type===t.elementType?v:_n(t.type,v),h.props=V,le=t.pendingProps,ne=h.context,N=r.contextType,typeof N=="object"&&N!==null?N=jn(N):(N=rn(r)?Ir:Yt.current,N=ao(t,N));var be=r.getDerivedStateFromProps;(oe=typeof be=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==le||ne!==N)&&Su(t,h,o,N),wr=!1,ne=t.memoizedState,h.state=ne,Xs(t,o,h,l);var Te=t.memoizedState;v!==le||ne!==Te||nn.current||wr?(typeof be=="function"&&(Ui(t,r,be,o),Te=t.memoizedState),(V=wr||wu(t,r,V,o,ne,Te,N)||!1)?(oe||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,Te,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,Te,N)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Te),h.props=o,h.state=Te,h.context=N,o=V):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),o=!1)}return Qi(e,t,r,o,c,l)}function Qi(e,t,r,o,l,c){Du(e,t);var h=(t.flags&128)!==0;if(!o&&!h)return l&&Fc(t,r,!1),rr(e,t,c);o=t.stateNode,wp.current=t;var v=h&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&h?(t.child=po(t,e.child,null,c),t.child=po(t,null,v,c)):qt(e,t,v,c),t.memoizedState=o.state,l&&Fc(t,r,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ac(e,t.context,!1),_i(e,t.containerInfo)}function zu(e,t,r,o,l){return fo(),Si(l),t.flags|=256,qt(e,t,r,o),t.child}var Ki={dehydrated:null,treeContext:null,retryLane:0};function Gi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Au(e,t,r){var o=t.pendingProps,l=Nt.current,c=!1,h=(t.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),kt(Nt,l&1),e===null)return Ci(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=o.children,e=o.fallback,c?(o=t.mode,c=t.child,h={mode:"hidden",children:h},(o&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=h):c=vl(h,o,0,null),e=Yr(e,o,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Gi(r),t.memoizedState=Ki,e):qi(t,h));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Cp(e,t,h,o,v,l,r);if(c){c=o.fallback,h=t.mode,l=e.child,v=l.sibling;var N={mode:"hidden",children:o.children};return(h&1)===0&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=N,t.deletions=null):(o=Tr(l,N),o.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=Tr(v,c):(c=Yr(c,h,r,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,h=e.child.memoizedState,h=h===null?Gi(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~r,t.memoizedState=Ki,o}return c=e.child,e=c.sibling,o=Tr(c,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function qi(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,r,o){return o!==null&&Si(o),po(t,e.child,null,r),e=qi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cp(e,t,r,o,l,c,h){if(r)return t.flags&256?(t.flags&=-257,o=Hi(Error(i(422))),ll(e,t,h,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,l=t.mode,o=vl({mode:"visible",children:o.children},l,0,null),c=Yr(c,l,h,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,(t.mode&1)!==0&&po(t,e.child,null,h),t.child.memoizedState=Gi(h),t.memoizedState=Ki,c);if((t.mode&1)===0)return ll(e,t,h,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var v=o.dgst;return o=v,c=Error(i(419)),o=Hi(c,o,void 0),ll(e,t,h,o)}if(v=(h&e.childLanes)!==0,on||v){if(o=Ft,o!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(o.suspendedLanes|h))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,tr(e,l),Dn(o,e,l,-1))}return pa(),o=Hi(Error(i(421))),ll(e,t,h,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ip.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,dn=yr(l.nextSibling),un=t,St=!0,Mn=null,e!==null&&(yn[vn++]=Zn,yn[vn++]=er,yn[vn++]=zr,Zn=e.id,er=e.overflow,zr=t),t=qi(t,o.children),t.flags|=4096,t)}function Bu(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),$i(e.return,t,r)}function Xi(e,t,r,o,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=r,c.tailMode=l)}function Fu(e,t,r){var o=t.pendingProps,l=o.revealOrder,c=o.tail;if(qt(e,t,o.children,r),o=Nt.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bu(e,r,t);else if(e.tag===19)Bu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(kt(Nt,o),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Zs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Xi(t,!1,l,r,c);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Zs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Xi(t,!0,r,null,c);break;case"together":Xi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sp(e,t,r){switch(t.tag){case 3:Iu(t),fo();break;case 5:eu(t);break;case 1:rn(t.type)&&Us(t);break;case 4:_i(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;kt(Ks,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(kt(Nt,Nt.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Au(e,t,r):(kt(Nt,Nt.current&1),e=rr(e,t,r),e!==null?e.sibling:null);kt(Nt,Nt.current&1);break;case 19:if(o=(r&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Fu(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),kt(Nt,Nt.current),o)break;return null;case 22:case 23:return t.lanes=0,Ru(e,t,r)}return rr(e,t,r)}var Ou,Zi,Wu,Uu;Ou=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Zi=function(){},Wu=function(e,t,r,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,Fr(Fn.current);var c=null;switch(r){case"input":l=Y(e,l),o=Y(e,o),c=[];break;case"select":l=L({},l,{value:void 0}),o=L({},o,{value:void 0}),c=[];break;case"textarea":l=we(e,l),o=we(e,o),c=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Fs)}Ge(r,o);var h;r=null;for(V in l)if(!o.hasOwnProperty(V)&&l.hasOwnProperty(V)&&l[V]!=null)if(V==="style"){var v=l[V];for(h in v)v.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(p.hasOwnProperty(V)?c||(c=[]):(c=c||[]).push(V,null));for(V in o){var N=o[V];if(v=l?.[V],o.hasOwnProperty(V)&&N!==v&&(N!=null||v!=null))if(V==="style")if(v){for(h in v)!v.hasOwnProperty(h)||N&&N.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in N)N.hasOwnProperty(h)&&v[h]!==N[h]&&(r||(r={}),r[h]=N[h])}else r||(c||(c=[]),c.push(V,r)),r=N;else V==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,v=v?v.__html:void 0,N!=null&&v!==N&&(c=c||[]).push(V,N)):V==="children"?typeof N!="string"&&typeof N!="number"||(c=c||[]).push(V,""+N):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(p.hasOwnProperty(V)?(N!=null&&V==="onScroll"&&wt("scroll",e),c||v===N||(c=[])):(c=c||[]).push(V,N))}r&&(c=c||[]).push("style",r);var V=c;(t.updateQueue=V)&&(t.flags|=4)}},Uu=function(e,t,r,o){r!==o&&(t.flags|=4)};function ns(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function bp(e,t,r){var o=t.pendingProps;switch(ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return rn(t.type)&&Ws(),Qt(t),null;case 3:return o=t.stateNode,go(),Ct(nn),Ct(Yt),Di(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mn!==null&&(ua(Mn),Mn=null))),Zi(e,t),Qt(t),null;case 5:Li(t);var l=Fr(qo.current);if(r=t.type,e!==null&&t.stateNode!=null)Wu(e,t,r,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return Qt(t),null}if(e=Fr(Fn.current),Js(t)){o=t.stateNode,r=t.type;var c=t.memoizedProps;switch(o[Bn]=t,o[Yo]=c,e=(t.mode&1)!==0,r){case"dialog":wt("cancel",o),wt("close",o);break;case"iframe":case"object":case"embed":wt("load",o);break;case"video":case"audio":for(l=0;l<Uo.length;l++)wt(Uo[l],o);break;case"source":wt("error",o);break;case"img":case"image":case"link":wt("error",o),wt("load",o);break;case"details":wt("toggle",o);break;case"input":Be(o,c),wt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},wt("invalid",o);break;case"textarea":Ht(o,c),wt("invalid",o)}Ge(r,c),l=null;for(var h in c)if(c.hasOwnProperty(h)){var v=c[h];h==="children"?typeof v=="string"?o.textContent!==v&&(c.suppressHydrationWarning!==!0&&Bs(o.textContent,v,e),l=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&Bs(o.textContent,v,e),l=["children",""+v]):p.hasOwnProperty(h)&&v!=null&&h==="onScroll"&&wt("scroll",o)}switch(r){case"input":ot(o),Pe(o,c,!0);break;case"textarea":ot(o),Nn(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Fs)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=En(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=h.createElement(r,{is:o.is}):(e=h.createElement(r),r==="select"&&(h=e,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):e=h.createElementNS(e,r),e[Bn]=t,e[Yo]=o,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(h=qe(r,o),r){case"dialog":wt("cancel",e),wt("close",e),l=o;break;case"iframe":case"object":case"embed":wt("load",e),l=o;break;case"video":case"audio":for(l=0;l<Uo.length;l++)wt(Uo[l],e);l=o;break;case"source":wt("error",e),l=o;break;case"img":case"image":case"link":wt("error",e),wt("load",e),l=o;break;case"details":wt("toggle",e),l=o;break;case"input":Be(e,o),l=Y(e,o),wt("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=L({},o,{value:void 0}),wt("invalid",e);break;case"textarea":Ht(e,o),l=we(e,o),wt("invalid",e);break;default:l=o}Ge(r,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var N=v[c];c==="style"?$t(e,N):c==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&ut(e,N)):c==="children"?typeof N=="string"?(r!=="textarea"||N!=="")&&vt(e,N):typeof N=="number"&&vt(e,""+N):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(p.hasOwnProperty(c)?N!=null&&c==="onScroll"&&wt("scroll",e):N!=null&&pe(e,c,N,h))}switch(r){case"input":ot(e),Pe(e,o,!1);break;case"textarea":ot(e),Nn(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ke(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?xe(e,!!o.multiple,c,!1):o.defaultValue!=null&&xe(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Fs)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)Uu(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(r=Fr(qo.current),Fr(Fn.current),Js(t)){if(o=t.stateNode,r=t.memoizedProps,o[Bn]=t,(c=o.nodeValue!==r)&&(e=un,e!==null))switch(e.tag){case 3:Bs(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(o.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Bn]=t,t.stateNode=o}return Qt(t),null;case 13:if(Ct(Nt),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&dn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Yc(),fo(),t.flags|=98560,c=!1;else if(c=Js(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[Bn]=t}else fo(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qt(t),c=!1}else Mn!==null&&(ua(Mn),Mn=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Nt.current&1)!==0?Pt===0&&(Pt=3):pa())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return go(),Zi(e,t),e===null&&Vo(t.stateNode.containerInfo),Qt(t),null;case 10:return Ei(t.type._context),Qt(t),null;case 17:return rn(t.type)&&Ws(),Qt(t),null;case 19:if(Ct(Nt),c=t.memoizedState,c===null)return Qt(t),null;if(o=(t.flags&128)!==0,h=c.rendering,h===null)if(o)ns(c,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Zs(e),h!==null){for(t.flags|=128,ns(c,!1),o=h.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)c=r,e=o,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kt(Nt,Nt.current&1|2),t.child}e=e.sibling}c.tail!==null&&yt()>jo&&(t.flags|=128,o=!0,ns(c,!1),t.lanes=4194304)}else{if(!o)if(e=Zs(h),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ns(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!St)return Qt(t),null}else 2*yt()-c.renderingStartTime>jo&&r!==1073741824&&(t.flags|=128,o=!0,ns(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(r=c.last,r!==null?r.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=yt(),t.sibling=null,r=Nt.current,kt(Nt,o?r&1|2:r&1),t):(Qt(t),null);case 22:case 23:return fa(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(fn&1073741824)!==0&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Np(e,t){switch(ki(t),t.tag){case 1:return rn(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),Ct(nn),Ct(Yt),Di(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Li(t),null;case 13:if(Ct(Nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));fo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Nt),null;case 4:return go(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return fa(),null;case 24:return null;default:return null}}var al=!1,Kt=!1,Ep=typeof WeakSet=="function"?WeakSet:Set,$e=null;function yo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Tt(e,t,o)}else r.current=null}function ea(e,t,r){try{r()}catch(o){Tt(e,t,o)}}var Vu=!1;function $p(e,t){if(fi=$s,e=wc(),oi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var h=0,v=-1,N=-1,V=0,oe=0,le=e,ne=null;t:for(;;){for(var be;le!==r||l!==0&&le.nodeType!==3||(v=h+l),le!==c||o!==0&&le.nodeType!==3||(N=h+o),le.nodeType===3&&(h+=le.nodeValue.length),(be=le.firstChild)!==null;)ne=le,le=be;for(;;){if(le===e)break t;if(ne===r&&++V===l&&(v=h),ne===c&&++oe===o&&(N=h),(be=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=be}r=v===-1||N===-1?null:{start:v,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(pi={focusedElem:e,selectionRange:r},$s=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var Te=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var _e=Te.memoizedProps,Lt=Te.memoizedState,B=t.stateNode,M=B.getSnapshotBeforeUpdate(t.elementType===t.type?_e:_n(t.type,_e),Lt);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var W=t.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ae){Tt(t,t.return,ae)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return Te=Vu,Vu=!1,Te}function rs(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&ea(t,r,c)}l=l.next}while(l!==o)}}function cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function ta(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hu(e){var t=e.alternate;t!==null&&(e.alternate=null,Hu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[Yo],delete t[xi],delete t[up],delete t[dp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yu(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function na(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fs));else if(o!==4&&(e=e.child,e!==null))for(na(e,t,r),e=e.sibling;e!==null;)na(e,t,r),e=e.sibling}function ra(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ra(e,t,r),e=e.sibling;e!==null;)ra(e,t,r),e=e.sibling}var Ut=null,Ln=!1;function Sr(e,t,r){for(r=r.child;r!==null;)Qu(e,t,r),r=r.sibling}function Qu(e,t,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(An,r)}catch{}switch(r.tag){case 5:Kt||yo(r,t);case 6:var o=Ut,l=Ln;Ut=null,Sr(e,t,r),Ut=o,Ln=l,Ut!==null&&(Ln?(e=Ut,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(Ln?(e=Ut,r=r.stateNode,e.nodeType===8?gi(e.parentNode,r):e.nodeType===1&&gi(e,r),Po(e)):gi(Ut,r.stateNode));break;case 4:o=Ut,l=Ln,Ut=r.stateNode.containerInfo,Ln=!0,Sr(e,t,r),Ut=o,Ln=l;break;case 0:case 11:case 14:case 15:if(!Kt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var c=l,h=c.destroy;c=c.tag,h!==void 0&&((c&2)!==0||(c&4)!==0)&&ea(r,t,h),l=l.next}while(l!==o)}Sr(e,t,r);break;case 1:if(!Kt&&(yo(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(v){Tt(r,t,v)}Sr(e,t,r);break;case 21:Sr(e,t,r);break;case 22:r.mode&1?(Kt=(o=Kt)||r.memoizedState!==null,Sr(e,t,r),Kt=o):Sr(e,t,r);break;default:Sr(e,t,r)}}function Ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ep),t.forEach(function(o){var l=zp.bind(null,e,o);r.has(o)||(r.add(o),o.then(l,l))})}}function Rn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];try{var c=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 5:Ut=v.stateNode,Ln=!1;break e;case 3:Ut=v.stateNode.containerInfo,Ln=!0;break e;case 4:Ut=v.stateNode.containerInfo,Ln=!0;break e}v=v.return}if(Ut===null)throw Error(i(160));Qu(c,h,l),Ut=null,Ln=!1;var N=l.alternate;N!==null&&(N.return=null),l.return=null}catch(V){Tt(l,t,V)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gu(t,e),t=t.sibling}function Gu(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(t,e),Wn(e),o&4){try{rs(3,e,e.return),cl(3,e)}catch(_e){Tt(e,e.return,_e)}try{rs(5,e,e.return)}catch(_e){Tt(e,e.return,_e)}}break;case 1:Rn(t,e),Wn(e),o&512&&r!==null&&yo(r,r.return);break;case 5:if(Rn(t,e),Wn(e),o&512&&r!==null&&yo(r,r.return),e.flags&32){var l=e.stateNode;try{vt(l,"")}catch(_e){Tt(e,e.return,_e)}}if(o&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,h=r!==null?r.memoizedProps:c,v=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&Ze(l,c),qe(v,h);var V=qe(v,c);for(h=0;h<N.length;h+=2){var oe=N[h],le=N[h+1];oe==="style"?$t(l,le):oe==="dangerouslySetInnerHTML"?ut(l,le):oe==="children"?vt(l,le):pe(l,oe,le,V)}switch(v){case"input":lt(l,c);break;case"textarea":gn(l,c);break;case"select":var ne=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var be=c.value;be!=null?xe(l,!!c.multiple,be,!1):ne!==!!c.multiple&&(c.defaultValue!=null?xe(l,!!c.multiple,c.defaultValue,!0):xe(l,!!c.multiple,c.multiple?[]:"",!1))}l[Yo]=c}catch(_e){Tt(e,e.return,_e)}}break;case 6:if(Rn(t,e),Wn(e),o&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(_e){Tt(e,e.return,_e)}}break;case 3:if(Rn(t,e),Wn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(_e){Tt(e,e.return,_e)}break;case 4:Rn(t,e),Wn(e);break;case 13:Rn(t,e),Wn(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(la=yt())),o&4&&Ku(e);break;case 22:if(oe=r!==null&&r.memoizedState!==null,e.mode&1?(Kt=(V=Kt)||oe,Rn(t,e),Kt=V):Rn(t,e),Wn(e),o&8192){if(V=e.memoizedState!==null,(e.stateNode.isHidden=V)&&!oe&&(e.mode&1)!==0)for($e=e,oe=e.child;oe!==null;){for(le=$e=oe;$e!==null;){switch(ne=$e,be=ne.child,ne.tag){case 0:case 11:case 14:case 15:rs(4,ne,ne.return);break;case 1:yo(ne,ne.return);var Te=ne.stateNode;if(typeof Te.componentWillUnmount=="function"){o=ne,r=ne.return;try{t=o,Te.props=t.memoizedProps,Te.state=t.memoizedState,Te.componentWillUnmount()}catch(_e){Tt(o,r,_e)}}break;case 5:yo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Zu(le);continue}}be!==null?(be.return=ne,$e=be):Zu(le)}oe=oe.sibling}e:for(oe=null,le=e;;){if(le.tag===5){if(oe===null){oe=le;try{l=le.stateNode,V?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=le.stateNode,N=le.memoizedProps.style,h=N!=null&&N.hasOwnProperty("display")?N.display:null,v.style.display=et("display",h))}catch(_e){Tt(e,e.return,_e)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=V?"":le.memoizedProps}catch(_e){Tt(e,e.return,_e)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===e)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===e)break e;for(;le.sibling===null;){if(le.return===null||le.return===e)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Rn(t,e),Wn(e),o&4&&Ku(e);break;case 21:break;default:Rn(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Yu(r)){var o=r;break e}r=r.return}throw Error(i(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(vt(l,""),o.flags&=-33);var c=Ju(e);ra(e,c,l);break;case 3:case 4:var h=o.stateNode.containerInfo,v=Ju(e);na(e,v,h);break;default:throw Error(i(161))}}catch(N){Tt(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,r){$e=e,qu(e)}function qu(e,t,r){for(var o=(e.mode&1)!==0;$e!==null;){var l=$e,c=l.child;if(l.tag===22&&o){var h=l.memoizedState!==null||al;if(!h){var v=l.alternate,N=v!==null&&v.memoizedState!==null||Kt;v=al;var V=Kt;if(al=h,(Kt=N)&&!V)for($e=l;$e!==null;)h=$e,N=h.child,h.tag===22&&h.memoizedState!==null?ed(l):N!==null?(N.return=h,$e=N):ed(l);for(;c!==null;)$e=c,qu(c),c=c.sibling;$e=l,al=v,Kt=V}Xu(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,$e=c):Xu(e)}}function Xu(e){for(;$e!==null;){var t=$e;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Kt||cl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Kt)if(r===null)o.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:_n(t.type,r.memoizedProps);o.componentDidUpdate(l,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Zc(t,c,o);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zc(t,h,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&r.focus();break;case"img":N.src&&(r.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var V=t.alternate;if(V!==null){var oe=V.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&Po(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Kt||t.flags&512&&ta(t)}catch(ne){Tt(t,t.return,ne)}}if(t===e){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function Zu(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function ed(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cl(4,t)}catch(N){Tt(t,r,N)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(N){Tt(t,l,N)}}var c=t.return;try{ta(t)}catch(N){Tt(t,c,N)}break;case 5:var h=t.return;try{ta(t)}catch(N){Tt(t,h,N)}}}catch(N){Tt(t,t.return,N)}if(t===e){$e=null;break}var v=t.sibling;if(v!==null){v.return=t.return,$e=v;break}$e=t.return}}var Mp=Math.ceil,ul=ye.ReactCurrentDispatcher,oa=ye.ReactCurrentOwner,wn=ye.ReactCurrentBatchConfig,ft=0,Ft=null,Rt=null,Vt=0,fn=0,vo=vr(0),Pt=0,os=null,Wr=0,dl=0,sa=0,ss=null,sn=null,la=0,jo=1/0,or=null,fl=!1,ia=null,br=null,pl=!1,Nr=null,hl=0,ls=0,aa=null,ml=-1,gl=0;function Xt(){return(ft&6)!==0?yt():ml!==-1?ml:ml=yt()}function Er(e){return(e.mode&1)===0?1:(ft&2)!==0&&Vt!==0?Vt&-Vt:pp.transition!==null?(gl===0&&(gl=Ja()),gl):(e=xt,e!==0||(e=window.event,e=e===void 0?16:nc(e.type)),e)}function Dn(e,t,r,o){if(50<ls)throw ls=0,aa=null,Error(i(185));Mo(e,r,o),((ft&2)===0||e!==Ft)&&(e===Ft&&((ft&2)===0&&(dl|=r),Pt===4&&$r(e,Vt)),ln(e,o),r===1&&ft===0&&(t.mode&1)===0&&(jo=yt()+500,Vs&&kr()))}function ln(e,t){var r=e.callbackNode;pf(e,t);var o=bs(e,e===Ft?Vt:0);if(o===0)r!==null&&jt(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&jt(r),t===1)e.tag===0?fp(nd.bind(null,e)):Oc(nd.bind(null,e)),ap(function(){(ft&6)===0&&kr()}),r=null;else{switch(Qa(o)){case 1:r=Dr;break;case 4:r=qr;break;case 16:r=en;break;case 536870912:r=Xr;break;default:r=en}r=ud(r,td.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function td(e,t){if(ml=-1,gl=0,(ft&6)!==0)throw Error(i(327));var r=e.callbackNode;if(ko()&&e.callbackNode!==r)return null;var o=bs(e,e===Ft?Vt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=xl(e,o);else{t=o;var l=ft;ft|=2;var c=od();(Ft!==e||Vt!==t)&&(or=null,jo=yt()+500,Vr(e,t));do try{Rp();break}catch(v){rd(e,v)}while(!0);Ni(),ul.current=c,ft=l,Rt!==null?t=0:(Ft=null,Vt=0,t=Pt)}if(t!==0){if(t===2&&(l=Wl(e),l!==0&&(o=l,t=ca(e,l))),t===1)throw r=os,Vr(e,0),$r(e,o),ln(e,yt()),r;if(t===6)$r(e,o);else{if(l=e.current.alternate,(o&30)===0&&!_p(l)&&(t=xl(e,o),t===2&&(c=Wl(e),c!==0&&(o=c,t=ca(e,c))),t===1))throw r=os,Vr(e,0),$r(e,o),ln(e,yt()),r;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:Hr(e,sn,or);break;case 3:if($r(e,o),(o&130023424)===o&&(t=la+500-yt(),10<t)){if(bs(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){Xt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=mi(Hr.bind(null,e,sn,or),t);break}Hr(e,sn,or);break;case 4:if($r(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var h=31-dt(o);c=1<<h,h=t[h],h>l&&(l=h),o&=~c}if(o=l,o=yt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Mp(o/1960))-o,10<o){e.timeoutHandle=mi(Hr.bind(null,e,sn,or),o);break}Hr(e,sn,or);break;case 5:Hr(e,sn,or);break;default:throw Error(i(329))}}}return ln(e,yt()),e.callbackNode===r?td.bind(null,e):null}function ca(e,t){var r=ss;return e.current.memoizedState.isDehydrated&&(Vr(e,t).flags|=256),e=xl(e,t),e!==2&&(t=sn,sn=r,t!==null&&ua(t)),e}function ua(e){sn===null?sn=e:sn.push.apply(sn,e)}function _p(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var l=r[o],c=l.getSnapshot;l=l.value;try{if(!Tn(c(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~sa,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-dt(t),o=1<<r;e[r]=-1,t&=~o}}function nd(e){if((ft&6)!==0)throw Error(i(327));ko();var t=bs(e,0);if((t&1)===0)return ln(e,yt()),null;var r=xl(e,t);if(e.tag!==0&&r===2){var o=Wl(e);o!==0&&(t=o,r=ca(e,o))}if(r===1)throw r=os,Vr(e,0),$r(e,t),ln(e,yt()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hr(e,sn,or),ln(e,yt()),null}function da(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(jo=yt()+500,Vs&&kr())}}function Ur(e){Nr!==null&&Nr.tag===0&&(ft&6)===0&&ko();var t=ft;ft|=1;var r=wn.transition,o=xt;try{if(wn.transition=null,xt=1,e)return e()}finally{xt=o,wn.transition=r,ft=t,(ft&6)===0&&kr()}}function fa(){fn=vo.current,Ct(vo)}function Vr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ip(r)),Rt!==null)for(r=Rt.return;r!==null;){var o=r;switch(ki(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ws();break;case 3:go(),Ct(nn),Ct(Yt),Di();break;case 5:Li(o);break;case 4:go();break;case 13:Ct(Nt);break;case 19:Ct(Nt);break;case 10:Ei(o.type._context);break;case 22:case 23:fa()}r=r.return}if(Ft=e,Rt=e=Tr(e.current,null),Vt=fn=t,Pt=0,os=null,sa=dl=Wr=0,sn=ss=null,Br!==null){for(t=0;t<Br.length;t++)if(r=Br[t],o=r.interleaved,o!==null){r.interleaved=null;var l=o.next,c=r.pending;if(c!==null){var h=c.next;c.next=l,o.next=h}r.pending=o}Br=null}return e}function rd(e,t){do{var r=Rt;try{if(Ni(),el.current=ol,tl){for(var o=Et.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}tl=!1}if(Or=0,Bt=Dt=Et=null,Xo=!1,Zo=0,oa.current=null,r===null||r.return===null){Pt=1,os=t,Rt=null;break}e:{var c=e,h=r.return,v=r,N=t;if(t=Vt,v.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var V=N,oe=v,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var ne=oe.alternate;ne?(oe.updateQueue=ne.updateQueue,oe.memoizedState=ne.memoizedState,oe.lanes=ne.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var be=$u(h);if(be!==null){be.flags&=-257,Tu(be,h,v,c,t),be.mode&1&&Eu(c,V,t),t=be,N=V;var Te=t.updateQueue;if(Te===null){var _e=new Set;_e.add(N),t.updateQueue=_e}else Te.add(N);break e}else{if((t&1)===0){Eu(c,V,t),pa();break e}N=Error(i(426))}}else if(St&&v.mode&1){var Lt=$u(h);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),Tu(Lt,h,v,c,t),Si(xo(N,v));break e}}c=N=xo(N,v),Pt!==4&&(Pt=2),ss===null?ss=[c]:ss.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var B=bu(c,N,t);Xc(c,B);break e;case 1:v=N;var M=c.type,W=c.stateNode;if((c.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(br===null||!br.has(W)))){c.flags|=65536,t&=-t,c.lanes|=t;var ae=Nu(c,v,t);Xc(c,ae);break e}}c=c.return}while(c!==null)}ld(r)}catch(Le){t=Le,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function od(){var e=ul.current;return ul.current=ol,e===null?ol:e}function pa(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ft===null||(Wr&268435455)===0&&(dl&268435455)===0||$r(Ft,Vt)}function xl(e,t){var r=ft;ft|=2;var o=od();(Ft!==e||Vt!==t)&&(or=null,Vr(e,t));do try{Lp();break}catch(l){rd(e,l)}while(!0);if(Ni(),ft=r,ul.current=o,Rt!==null)throw Error(i(261));return Ft=null,Vt=0,Pt}function Lp(){for(;Rt!==null;)sd(Rt)}function Rp(){for(;Rt!==null&&!Wt();)sd(Rt)}function sd(e){var t=cd(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?ld(e):Rt=t,oa.current=null}function ld(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=bp(r,t,fn),r!==null){Rt=r;return}}else{if(r=Np(r,t),r!==null){r.flags&=32767,Rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,Rt=null;return}}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);Pt===0&&(Pt=5)}function Hr(e,t,r){var o=xt,l=wn.transition;try{wn.transition=null,xt=1,Dp(e,t,r,o)}finally{wn.transition=l,xt=o}return null}function Dp(e,t,r,o){do ko();while(Nr!==null);if((ft&6)!==0)throw Error(i(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(hf(e,c),e===Ft&&(Rt=Ft=null,Vt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||pl||(pl=!0,ud(en,function(){return ko(),null})),c=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||c){c=wn.transition,wn.transition=null;var h=xt;xt=1;var v=ft;ft|=4,oa.current=null,$p(e,r),Gu(r,e),ep(pi),$s=!!fi,pi=fi=null,e.current=r,Tp(r),Gn(),ft=v,xt=h,wn.transition=c}else e.current=r;if(pl&&(pl=!1,Nr=e,hl=l),c=e.pendingLanes,c===0&&(br=null),_t(r.stateNode),ln(e,yt()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],o(l.value,{componentStack:l.stack,digest:l.digest});if(fl)throw fl=!1,e=ia,ia=null,e;return(hl&1)!==0&&e.tag!==0&&ko(),c=e.pendingLanes,(c&1)!==0?e===aa?ls++:(ls=0,aa=e):ls=0,kr(),null}function ko(){if(Nr!==null){var e=Qa(hl),t=wn.transition,r=xt;try{if(wn.transition=null,xt=16>e?16:e,Nr===null)var o=!1;else{if(e=Nr,Nr=null,hl=0,(ft&6)!==0)throw Error(i(331));var l=ft;for(ft|=4,$e=e.current;$e!==null;){var c=$e,h=c.child;if(($e.flags&16)!==0){var v=c.deletions;if(v!==null){for(var N=0;N<v.length;N++){var V=v[N];for($e=V;$e!==null;){var oe=$e;switch(oe.tag){case 0:case 11:case 15:rs(8,oe,c)}var le=oe.child;if(le!==null)le.return=oe,$e=le;else for(;$e!==null;){oe=$e;var ne=oe.sibling,be=oe.return;if(Hu(oe),oe===V){$e=null;break}if(ne!==null){ne.return=be,$e=ne;break}$e=be}}}var Te=c.alternate;if(Te!==null){var _e=Te.child;if(_e!==null){Te.child=null;do{var Lt=_e.sibling;_e.sibling=null,_e=Lt}while(_e!==null)}}$e=c}}if((c.subtreeFlags&2064)!==0&&h!==null)h.return=c,$e=h;else e:for(;$e!==null;){if(c=$e,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:rs(9,c,c.return)}var B=c.sibling;if(B!==null){B.return=c.return,$e=B;break e}$e=c.return}}var M=e.current;for($e=M;$e!==null;){h=$e;var W=h.child;if((h.subtreeFlags&2064)!==0&&W!==null)W.return=h,$e=W;else e:for(h=M;$e!==null;){if(v=$e,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:cl(9,v)}}catch(Le){Tt(v,v.return,Le)}if(v===h){$e=null;break e}var ae=v.sibling;if(ae!==null){ae.return=v.return,$e=ae;break e}$e=v.return}}if(ft=l,kr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(An,e)}catch{}o=!0}return o}finally{xt=r,wn.transition=t}}return!1}function id(e,t,r){t=xo(r,t),t=bu(e,t,1),e=Cr(e,t,1),t=Xt(),e!==null&&(Mo(e,1,t),ln(e,t))}function Tt(e,t,r){if(e.tag===3)id(e,e,r);else for(;t!==null;){if(t.tag===3){id(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=xo(r,e),e=Nu(t,e,1),t=Cr(t,e,1),e=Xt(),t!==null&&(Mo(t,1,e),ln(t,e));break}}t=t.return}}function Pp(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&r,Ft===e&&(Vt&r)===r&&(Pt===4||Pt===3&&(Vt&130023424)===Vt&&500>yt()-la?Vr(e,0):sa|=r),ln(e,t)}function ad(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ss,Ss<<=1,(Ss&130023424)===0&&(Ss=4194304)));var r=Xt();e=tr(e,t),e!==null&&(Mo(e,t,r),ln(e,r))}function Ip(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ad(e,r)}function zp(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),ad(e,r)}var cd;cd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nn.current)on=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return on=!1,Sp(e,t,r);on=(e.flags&131072)!==0}else on=!1,St&&(t.flags&1048576)!==0&&Wc(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;il(e,t),e=t.pendingProps;var l=ao(t,Yt.current);mo(t,r),l=zi(null,t,o,e,l,r);var c=Ai();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(o)?(c=!0,Us(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Mi(t),l.updater=sl,t.stateNode=l,l._reactInternals=t,Vi(t,o,e,r),t=Qi(null,t,o,!0,c,r)):(t.tag=0,St&&c&&ji(t),qt(null,t,l,r),t=t.child),t;case 16:o=t.elementType;e:{switch(il(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=Bp(o),e=_n(o,e),l){case 0:t=Ji(null,t,o,e,r);break e;case 1:t=Pu(null,t,o,e,r);break e;case 11:t=Mu(null,t,o,e,r);break e;case 14:t=_u(null,t,o,_n(o.type,e),r);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:_n(o,l),Ji(e,t,o,l,r);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:_n(o,l),Pu(e,t,o,l,r);case 3:e:{if(Iu(t),e===null)throw Error(i(387));o=t.pendingProps,c=t.memoizedState,l=c.element,qc(e,t),Xs(t,o,null,r);var h=t.memoizedState;if(o=h.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=xo(Error(i(423)),t),t=zu(e,t,o,r,l);break e}else if(o!==l){l=xo(Error(i(424)),t),t=zu(e,t,o,r,l);break e}else for(dn=yr(t.stateNode.containerInfo.firstChild),un=t,St=!0,Mn=null,r=Kc(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fo(),o===l){t=rr(e,t,r);break e}qt(e,t,o,r)}t=t.child}return t;case 5:return eu(t),e===null&&Ci(t),o=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,h=l.children,hi(o,l)?h=null:c!==null&&hi(o,c)&&(t.flags|=32),Du(e,t),qt(e,t,h,r),t.child;case 6:return e===null&&Ci(t),null;case 13:return Au(e,t,r);case 4:return _i(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=po(t,null,o,r):qt(e,t,o,r),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:_n(o,l),Mu(e,t,o,l,r);case 7:return qt(e,t,t.pendingProps,r),t.child;case 8:return qt(e,t,t.pendingProps.children,r),t.child;case 12:return qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,c=t.memoizedProps,h=l.value,kt(Ks,o._currentValue),o._currentValue=h,c!==null)if(Tn(c.value,h)){if(c.children===l.children&&!nn.current){t=rr(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var v=c.dependencies;if(v!==null){h=c.child;for(var N=v.firstContext;N!==null;){if(N.context===o){if(c.tag===1){N=nr(-1,r&-r),N.tag=2;var V=c.updateQueue;if(V!==null){V=V.shared;var oe=V.pending;oe===null?N.next=N:(N.next=oe.next,oe.next=N),V.pending=N}}c.lanes|=r,N=c.alternate,N!==null&&(N.lanes|=r),$i(c.return,r,t),v.lanes|=r;break}N=N.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(i(341));h.lanes|=r,v=h.alternate,v!==null&&(v.lanes|=r),$i(h,r,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}qt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,mo(t,r),l=jn(l),o=o(l),t.flags|=1,qt(e,t,o,r),t.child;case 14:return o=t.type,l=_n(o,t.pendingProps),l=_n(o.type,l),_u(e,t,o,l,r);case 15:return Lu(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:_n(o,l),il(e,t),t.tag=1,rn(o)?(e=!0,Us(t)):e=!1,mo(t,r),Cu(t,o,l),Vi(t,o,l,r),Qi(null,t,o,!0,e,r);case 19:return Fu(e,t,r);case 22:return Ru(e,t,r)}throw Error(i(156,t.tag))};function ud(e,t){return me(e,t)}function Ap(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,r,o){return new Ap(e,t,r,o)}function ha(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bp(e){if(typeof e=="function")return ha(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F)return 11;if(e===He)return 14}return 2}function Tr(e,t){var r=e.alternate;return r===null?(r=Cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yl(e,t,r,o,l,c){var h=2;if(o=e,typeof e=="function")ha(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ce:return Yr(r.children,l,c,t);case X:h=8,l|=8;break;case ve:return e=Cn(12,r,t,l|2),e.elementType=ve,e.lanes=c,e;case ie:return e=Cn(13,r,t,l),e.elementType=ie,e.lanes=c,e;case je:return e=Cn(19,r,t,l),e.elementType=je,e.lanes=c,e;case Ke:return vl(r,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:h=10;break e;case ge:h=9;break e;case F:h=11;break e;case He:h=14;break e;case Ae:h=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Cn(h,r,t,l),t.elementType=e,t.type=o,t.lanes=c,t}function Yr(e,t,r,o){return e=Cn(7,e,o,t),e.lanes=r,e}function vl(e,t,r,o){return e=Cn(22,e,o,t),e.elementType=Ke,e.lanes=r,e.stateNode={isHidden:!1},e}function ma(e,t,r){return e=Cn(6,e,null,t),e.lanes=r,e}function ga(e,t,r){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fp(e,t,r,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function xa(e,t,r,o,l,c,h,v,N){return e=new Fp(e,t,r,v,N),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Cn(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(c),e}function Op(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function dd(e){if(!e)return jr;e=e._reactInternals;e:{if(ee(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(rn(r))return Bc(e,r,t)}return t}function fd(e,t,r,o,l,c,h,v,N){return e=xa(r,o,!0,e,l,c,h,v,N),e.context=dd(null),r=e.current,o=Xt(),l=Er(r),c=nr(o,l),c.callback=t??null,Cr(r,c,l),e.current.lanes=l,Mo(e,l,o),ln(e,o),e}function jl(e,t,r,o){var l=t.current,c=Xt(),h=Er(l);return r=dd(r),t.context===null?t.context=r:t.pendingContext=r,t=nr(c,h),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Cr(l,t,h),e!==null&&(Dn(e,l,h,c),qs(e,l,h)),h}function kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ya(e,t){pd(e,t),(e=e.alternate)&&pd(e,t)}function Wp(){return null}var hd=typeof reportError=="function"?reportError:function(e){console.error(e)};function va(e){this._internalRoot=e}wl.prototype.render=va.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));jl(e,t,null,null)},wl.prototype.unmount=va.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){jl(null,e,null,null)}),t[qn]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qa();e={blockedOn:null,target:e,priority:t};for(var r=0;r<mr.length&&t!==0&&t<mr[r].priority;r++);mr.splice(r,0,e),r===0&&ec(e)}};function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function md(){}function Up(e,t,r,o,l){if(l){if(typeof o=="function"){var c=o;o=function(){var V=kl(h);c.call(V)}}var h=fd(t,o,e,0,null,!1,!1,"",md);return e._reactRootContainer=h,e[qn]=h.current,Vo(e.nodeType===8?e.parentNode:e),Ur(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var v=o;o=function(){var V=kl(N);v.call(V)}}var N=xa(e,0,!1,null,null,!1,!1,"",md);return e._reactRootContainer=N,e[qn]=N.current,Vo(e.nodeType===8?e.parentNode:e),Ur(function(){jl(t,N,r,o)}),N}function Sl(e,t,r,o,l){var c=r._reactRootContainer;if(c){var h=c;if(typeof l=="function"){var v=l;l=function(){var N=kl(h);v.call(N)}}jl(t,h,e,l)}else h=Up(r,t,e,l,o);return kl(h)}Ka=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=To(t.pendingLanes);r!==0&&(Vl(t,r|1),ln(t,yt()),(ft&6)===0&&(jo=yt()+500,kr()))}break;case 13:Ur(function(){var o=tr(e,1);if(o!==null){var l=Xt();Dn(o,e,1,l)}}),ya(e,1)}},Hl=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var r=Xt();Dn(t,e,134217728,r)}ya(e,134217728)}},Ga=function(e){if(e.tag===13){var t=Er(e),r=tr(e,t);if(r!==null){var o=Xt();Dn(r,e,t,o)}ya(e,t)}},qa=function(){return xt},Xa=function(e,t){var r=xt;try{return xt=e,t()}finally{xt=r}},pt=function(e,t,r){switch(t){case"input":if(lt(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var l=Os(o);if(!l)throw Error(i(90));q(o),lt(o,l)}}}break;case"textarea":gn(e,r);break;case"select":t=r.value,t!=null&&xe(e,!!r.multiple,t,!1)}},ht=da,Qe=Ur;var Vp={usingClientEntryPoint:!1,Events:[Jo,lo,Os,se,cr,da]},is={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hp={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Me(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||Wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{An=bl.inject(Hp),tn=bl}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp,an.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ja(t))throw Error(i(200));return Op(e,t,null,r)},an.createRoot=function(e,t){if(!ja(e))throw Error(i(299));var r=!1,o="",l=hd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=xa(e,1,!1,null,null,r,!1,o,l),e[qn]=t.current,Vo(e.nodeType===8?e.parentNode:e),new va(t)},an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Me(t),e=e===null?null:e.stateNode,e},an.flushSync=function(e){return Ur(e)},an.hydrate=function(e,t,r){if(!Cl(t))throw Error(i(200));return Sl(null,e,t,!0,r)},an.hydrateRoot=function(e,t,r){if(!ja(e))throw Error(i(405));var o=r!=null&&r.hydratedSources||null,l=!1,c="",h=hd;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=fd(t,null,e,1,r??null,l,!1,c,h),e[qn]=t.current,Vo(e),o)for(e=0;e<o.length;e++)r=o[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new wl(t)},an.render=function(e,t,r){if(!Cl(t))throw Error(i(200));return Sl(null,e,t,!1,r)},an.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(i(40));return e._reactRootContainer?(Ur(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1},an.unstable_batchedUpdates=da,an.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!Cl(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Sl(e,t,r,!1,o)},an.version="18.3.1-next-f1338f8080-20240426",an}var Cd;function Id(){if(Cd)return Ca.exports;Cd=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(d){console.error(d)}}return a(),Ca.exports=Zp(),Ca.exports}var Sd;function eh(){if(Sd)return Nl;Sd=1;var a=Id();return Nl.createRoot=a.createRoot,Nl.hydrateRoot=a.hydrateRoot,Nl}var th=eh();const nh=Pd(th);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bd="popstate";function rh(a={}){function d(u,p){let{pathname:m,search:y,hash:k}=u.location;return Ma("",{pathname:m,search:y,hash:k},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function i(u,p){return typeof p=="string"?p:ds(p)}return sh(d,i,null,a)}function bt(a,d){if(a===!1||a===null||typeof a>"u")throw new Error(d)}function Pn(a,d){if(!a){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function oh(){return Math.random().toString(36).substring(2,10)}function Nd(a,d){return{usr:a.state,key:a.key,idx:d}}function Ma(a,d,i=null,u){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof d=="string"?bo(d):d,state:i,key:d&&d.key||u||oh()}}function ds({pathname:a="/",search:d="",hash:i=""}){return d&&d!=="?"&&(a+=d.charAt(0)==="?"?d:"?"+d),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function bo(a){let d={};if(a){let i=a.indexOf("#");i>=0&&(d.hash=a.substring(i),a=a.substring(0,i));let u=a.indexOf("?");u>=0&&(d.search=a.substring(u),a=a.substring(0,u)),a&&(d.pathname=a)}return d}function sh(a,d,i,u={}){let{window:p=document.defaultView,v5Compat:m=!1}=u,y=p.history,k="POP",x=null,j=T();j==null&&(j=0,y.replaceState({...y.state,idx:j},""));function T(){return(y.state||{idx:null}).idx}function H(){k="POP";let A=T(),Z=A==null?null:A-j;j=A,x&&x({action:k,location:R.location,delta:Z})}function E(A,Z){k="PUSH";let G=Ma(R.location,A,Z);j=T()+1;let pe=Nd(G,j),ye=R.createHref(G);try{y.pushState(pe,"",ye)}catch(ze){if(ze instanceof DOMException&&ze.name==="DataCloneError")throw ze;p.location.assign(ye)}m&&x&&x({action:k,location:R.location,delta:1})}function Q(A,Z){k="REPLACE";let G=Ma(R.location,A,Z);j=T();let pe=Nd(G,j),ye=R.createHref(G);y.replaceState(pe,"",ye),m&&x&&x({action:k,location:R.location,delta:0})}function b(A){return lh(A)}let R={get action(){return k},get location(){return a(p,y)},listen(A){if(x)throw new Error("A history only accepts one active listener");return p.addEventListener(bd,H),x=A,()=>{p.removeEventListener(bd,H),x=null}},createHref(A){return d(p,A)},createURL:b,encodeLocation(A){let Z=b(A);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:E,replace:Q,go(A){return y.go(A)}};return R}function lh(a,d=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),bt(i,"No window.location.(origin|href) available to create URL");let u=typeof a=="string"?a:ds(a);return u=u.replace(/ $/,"%20"),!d&&u.startsWith("//")&&(u=i+u),new URL(u,i)}function zd(a,d,i="/"){return ih(a,d,i,!1)}function ih(a,d,i,u){let p=typeof d=="string"?bo(d):d,m=ar(p.pathname||"/",i);if(m==null)return null;let y=Ad(a);ah(y);let k=null;for(let x=0;k==null&&x<y.length;++x){let j=vh(m);k=xh(y[x],j,u)}return k}function Ad(a,d=[],i=[],u="",p=!1){let m=(y,k,x=p,j)=>{let T={relativePath:j===void 0?y.path||"":j,caseSensitive:y.caseSensitive===!0,childrenIndex:k,route:y};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(u)&&x)return;bt(T.relativePath.startsWith(u),`Absolute route path "${T.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(u.length)}let H=ir([u,T.relativePath]),E=i.concat(T);y.children&&y.children.length>0&&(bt(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${H}".`),Ad(y.children,d,E,H,x)),!(y.path==null&&!y.index)&&d.push({path:H,score:mh(H,y.index),routesMeta:E})};return a.forEach((y,k)=>{if(y.path===""||!y.path?.includes("?"))m(y,k);else for(let x of Bd(y.path))m(y,k,!0,x)}),d}function Bd(a){let d=a.split("/");if(d.length===0)return[];let[i,...u]=d,p=i.endsWith("?"),m=i.replace(/\?$/,"");if(u.length===0)return p?[m,""]:[m];let y=Bd(u.join("/")),k=[];return k.push(...y.map(x=>x===""?m:[m,x].join("/"))),p&&k.push(...y),k.map(x=>a.startsWith("/")&&x===""?"/":x)}function ah(a){a.sort((d,i)=>d.score!==i.score?i.score-d.score:gh(d.routesMeta.map(u=>u.childrenIndex),i.routesMeta.map(u=>u.childrenIndex)))}var ch=/^:[\w-]+$/,uh=3,dh=2,fh=1,ph=10,hh=-2,Ed=a=>a==="*";function mh(a,d){let i=a.split("/"),u=i.length;return i.some(Ed)&&(u+=hh),d&&(u+=dh),i.filter(p=>!Ed(p)).reduce((p,m)=>p+(ch.test(m)?uh:m===""?fh:ph),u)}function gh(a,d){return a.length===d.length&&a.slice(0,-1).every((u,p)=>u===d[p])?a[a.length-1]-d[d.length-1]:0}function xh(a,d,i=!1){let{routesMeta:u}=a,p={},m="/",y=[];for(let k=0;k<u.length;++k){let x=u[k],j=k===u.length-1,T=m==="/"?d:d.slice(m.length)||"/",H=_l({path:x.relativePath,caseSensitive:x.caseSensitive,end:j},T),E=x.route;if(!H&&j&&i&&!u[u.length-1].route.index&&(H=_l({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},T)),!H)return null;Object.assign(p,H.params),y.push({params:p,pathname:ir([m,H.pathname]),pathnameBase:Ch(ir([m,H.pathnameBase])),route:E}),H.pathnameBase!=="/"&&(m=ir([m,H.pathnameBase]))}return y}function _l(a,d){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,u]=yh(a.path,a.caseSensitive,a.end),p=d.match(i);if(!p)return null;let m=p[0],y=m.replace(/(.)\/+$/,"$1"),k=p.slice(1);return{params:u.reduce((j,{paramName:T,isOptional:H},E)=>{if(T==="*"){let b=k[E]||"";y=m.slice(0,m.length-b.length).replace(/(.)\/+$/,"$1")}const Q=k[E];return H&&!Q?j[T]=void 0:j[T]=(Q||"").replace(/%2F/g,"/"),j},{}),pathname:m,pathnameBase:y,pattern:a}}function yh(a,d=!1,i=!0){Pn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let u=[],p="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,k,x)=>(u.push({paramName:k,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(u.push({paramName:"*"}),p+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?p+="\\/*$":a!==""&&a!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,d?void 0:"i"),u]}function vh(a){try{return a.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return Pn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),a}}function ar(a,d){if(d==="/")return a;if(!a.toLowerCase().startsWith(d.toLowerCase()))return null;let i=d.endsWith("/")?d.length-1:d.length,u=a.charAt(i);return u&&u!=="/"?null:a.slice(i)||"/"}function jh(a,d="/"){let{pathname:i,search:u="",hash:p=""}=typeof a=="string"?bo(a):a;return{pathname:i?i.startsWith("/")?i:kh(i,d):d,search:Sh(u),hash:bh(p)}}function kh(a,d){let i=d.replace(/\/+$/,"").split("/");return a.split("/").forEach(p=>{p===".."?i.length>1&&i.pop():p!=="."&&i.push(p)}),i.length>1?i.join("/"):"/"}function Na(a,d,i,u){return`Cannot include a '${a}' character in a manually specified \`to.${d}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wh(a){return a.filter((d,i)=>i===0||d.route.path&&d.route.path.length>0)}function Da(a){let d=wh(a);return d.map((i,u)=>u===d.length-1?i.pathname:i.pathnameBase)}function Pa(a,d,i,u=!1){let p;typeof a=="string"?p=bo(a):(p={...a},bt(!p.pathname||!p.pathname.includes("?"),Na("?","pathname","search",p)),bt(!p.pathname||!p.pathname.includes("#"),Na("#","pathname","hash",p)),bt(!p.search||!p.search.includes("#"),Na("#","search","hash",p)));let m=a===""||p.pathname==="",y=m?"/":p.pathname,k;if(y==null)k=i;else{let H=d.length-1;if(!u&&y.startsWith("..")){let E=y.split("/");for(;E[0]==="..";)E.shift(),H-=1;p.pathname=E.join("/")}k=H>=0?d[H]:"/"}let x=jh(p,k),j=y&&y!=="/"&&y.endsWith("/"),T=(m||y===".")&&i.endsWith("/");return!x.pathname.endsWith("/")&&(j||T)&&(x.pathname+="/"),x}var ir=a=>a.join("/").replace(/\/\/+/g,"/"),Ch=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Sh=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,bh=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Nh(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fd=["POST","PUT","PATCH","DELETE"];new Set(Fd);var Eh=["GET",...Fd];new Set(Eh);var No=f.createContext(null);No.displayName="DataRouter";var Dl=f.createContext(null);Dl.displayName="DataRouterState";f.createContext(!1);var Od=f.createContext({isTransitioning:!1});Od.displayName="ViewTransition";var $h=f.createContext(new Map);$h.displayName="Fetchers";var Th=f.createContext(null);Th.displayName="Await";var zn=f.createContext(null);zn.displayName="Navigation";var ps=f.createContext(null);ps.displayName="Location";var Kn=f.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var Ia=f.createContext(null);Ia.displayName="RouteError";function Mh(a,{relative:d}={}){bt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:u}=f.useContext(zn),{hash:p,pathname:m,search:y}=hs(a,{relative:d}),k=m;return i!=="/"&&(k=m==="/"?i:ir([i,m])),u.createHref({pathname:k,search:y,hash:p})}function Eo(){return f.useContext(ps)!=null}function mn(){return bt(Eo(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(ps).location}var Wd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ud(a){f.useContext(zn).static||f.useLayoutEffect(a)}function bn(){let{isDataRoute:a}=f.useContext(Kn);return a?Uh():_h()}function _h(){bt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let a=f.useContext(No),{basename:d,navigator:i}=f.useContext(zn),{matches:u}=f.useContext(Kn),{pathname:p}=mn(),m=JSON.stringify(Da(u)),y=f.useRef(!1);return Ud(()=>{y.current=!0}),f.useCallback((x,j={})=>{if(Pn(y.current,Wd),!y.current)return;if(typeof x=="number"){i.go(x);return}let T=Pa(x,JSON.parse(m),p,j.relative==="path");a==null&&d!=="/"&&(T.pathname=T.pathname==="/"?d:ir([d,T.pathname])),(j.replace?i.replace:i.push)(T,j.state,j)},[d,i,m,p,a])}f.createContext(null);function hs(a,{relative:d}={}){let{matches:i}=f.useContext(Kn),{pathname:u}=mn(),p=JSON.stringify(Da(i));return f.useMemo(()=>Pa(a,JSON.parse(p),u,d==="path"),[a,p,u,d])}function Lh(a,d){return Vd(a,d)}function Vd(a,d,i,u,p){bt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=f.useContext(zn),{matches:y}=f.useContext(Kn),k=y[y.length-1],x=k?k.params:{},j=k?k.pathname:"/",T=k?k.pathnameBase:"/",H=k&&k.route;{let G=H&&H.path||"";Hd(j,!H||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${j}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let E=mn(),Q;if(d){let G=typeof d=="string"?bo(d):d;bt(T==="/"||G.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${G.pathname}" was given in the \`location\` prop.`),Q=G}else Q=E;let b=Q.pathname||"/",R=b;if(T!=="/"){let G=T.replace(/^\//,"").split("/");R="/"+b.replace(/^\//,"").split("/").slice(G.length).join("/")}let A=zd(a,{pathname:R});Pn(H||A!=null,`No routes matched location "${Q.pathname}${Q.search}${Q.hash}" `),Pn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${Q.pathname}${Q.search}${Q.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=zh(A&&A.map(G=>Object.assign({},G,{params:Object.assign({},x,G.params),pathname:ir([T,m.encodeLocation?m.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?T:ir([T,m.encodeLocation?m.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),y,i,u,p);return d&&Z?f.createElement(ps.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Q},navigationType:"POP"}},Z):Z}function Rh(){let a=Wh(),d=Nh(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,u="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:u},m={padding:"2px 4px",backgroundColor:u},y=null;return console.error("Error handled by React Router default ErrorBoundary:",a),y=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:m},"ErrorBoundary")," or"," ",f.createElement("code",{style:m},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},d),i?f.createElement("pre",{style:p},i):null,y)}var Dh=f.createElement(Rh,null),Ph=class extends f.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,d){return d.location!==a.location||d.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:d.error,location:d.location,revalidation:a.revalidation||d.revalidation}}componentDidCatch(a,d){this.props.unstable_onError?this.props.unstable_onError(a,d):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?f.createElement(Kn.Provider,{value:this.props.routeContext},f.createElement(Ia.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ih({routeContext:a,match:d,children:i}){let u=f.useContext(No);return u&&u.static&&u.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=d.route.id),f.createElement(Kn.Provider,{value:a},i)}function zh(a,d=[],i=null,u=null,p=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(d.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let m=a,y=i?.errors;if(y!=null){let j=m.findIndex(T=>T.route.id&&y?.[T.route.id]!==void 0);bt(j>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),m=m.slice(0,Math.min(m.length,j+1))}let k=!1,x=-1;if(i)for(let j=0;j<m.length;j++){let T=m[j];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(x=j),T.route.id){let{loaderData:H,errors:E}=i,Q=T.route.loader&&!H.hasOwnProperty(T.route.id)&&(!E||E[T.route.id]===void 0);if(T.route.lazy||Q){k=!0,x>=0?m=m.slice(0,x+1):m=[m[0]];break}}}return m.reduceRight((j,T,H)=>{let E,Q=!1,b=null,R=null;i&&(E=y&&T.route.id?y[T.route.id]:void 0,b=T.route.errorElement||Dh,k&&(x<0&&H===0?(Hd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,R=null):x===H&&(Q=!0,R=T.route.hydrateFallbackElement||null)));let A=d.concat(m.slice(0,H+1)),Z=()=>{let G;return E?G=b:Q?G=R:T.route.Component?G=f.createElement(T.route.Component,null):T.route.element?G=T.route.element:G=j,f.createElement(Ih,{match:T,routeContext:{outlet:j,matches:A,isDataRoute:i!=null},children:G})};return i&&(T.route.ErrorBoundary||T.route.errorElement||H===0)?f.createElement(Ph,{location:i.location,revalidation:i.revalidation,component:b,error:E,children:Z(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:u}):Z()},null)}function za(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ah(a){let d=f.useContext(No);return bt(d,za(a)),d}function Bh(a){let d=f.useContext(Dl);return bt(d,za(a)),d}function Fh(a){let d=f.useContext(Kn);return bt(d,za(a)),d}function Aa(a){let d=Fh(a),i=d.matches[d.matches.length-1];return bt(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function Oh(){return Aa("useRouteId")}function Wh(){let a=f.useContext(Ia),d=Bh("useRouteError"),i=Aa("useRouteError");return a!==void 0?a:d.errors?.[i]}function Uh(){let{router:a}=Ah("useNavigate"),d=Aa("useNavigate"),i=f.useRef(!1);return Ud(()=>{i.current=!0}),f.useCallback(async(p,m={})=>{Pn(i.current,Wd),i.current&&(typeof p=="number"?a.navigate(p):await a.navigate(p,{fromRouteId:d,...m}))},[a,d])}var $d={};function Hd(a,d,i){!d&&!$d[a]&&($d[a]=!0,Pn(!1,i))}f.memo(Vh);function Vh({routes:a,future:d,state:i,unstable_onError:u}){return Vd(a,void 0,i,u,d)}function Jr({to:a,replace:d,state:i,relative:u}){bt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:p}=f.useContext(zn);Pn(!p,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=f.useContext(Kn),{pathname:y}=mn(),k=bn(),x=Pa(a,Da(m),y,u==="path"),j=JSON.stringify(x);return f.useEffect(()=>{k(JSON.parse(j),{replace:d,state:i,relative:u})},[k,j,u,d,i]),null}function Sn(a){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hh({basename:a="/",children:d=null,location:i,navigationType:u="POP",navigator:p,static:m=!1}){bt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=a.replace(/^\/*/,"/"),k=f.useMemo(()=>({basename:y,navigator:p,static:m,future:{}}),[y,p,m]);typeof i=="string"&&(i=bo(i));let{pathname:x="/",search:j="",hash:T="",state:H=null,key:E="default"}=i,Q=f.useMemo(()=>{let b=ar(x,y);return b==null?null:{location:{pathname:b,search:j,hash:T,state:H,key:E},navigationType:u}},[y,x,j,T,H,E,u]);return Pn(Q!=null,`<Router basename="${y}"> is not able to match the URL "${x}${j}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:f.createElement(zn.Provider,{value:k},f.createElement(ps.Provider,{children:d,value:Q}))}function Yh({children:a,location:d}){return Lh(_a(a),d)}function _a(a,d=[]){let i=[];return f.Children.forEach(a,(u,p)=>{if(!f.isValidElement(u))return;let m=[...d,p];if(u.type===f.Fragment){i.push.apply(i,_a(u.props.children,m));return}bt(u.type===Sn,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!u.props.index||!u.props.children,"An index route cannot have child routes.");let y={id:u.props.id||m.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(y.children=_a(u.props.children,m)),i.push(y)}),i}var Tl="get",Ml="application/x-www-form-urlencoded";function Pl(a){return a!=null&&typeof a.tagName=="string"}function Jh(a){return Pl(a)&&a.tagName.toLowerCase()==="button"}function Qh(a){return Pl(a)&&a.tagName.toLowerCase()==="form"}function Kh(a){return Pl(a)&&a.tagName.toLowerCase()==="input"}function Gh(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function qh(a,d){return a.button===0&&(!d||d==="_self")&&!Gh(a)}var El=null;function Xh(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var Zh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ea(a){return a!=null&&!Zh.has(a)?(Pn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ml}"`),null):a}function em(a,d){let i,u,p,m,y;if(Qh(a)){let k=a.getAttribute("action");u=k?ar(k,d):null,i=a.getAttribute("method")||Tl,p=Ea(a.getAttribute("enctype"))||Ml,m=new FormData(a)}else if(Jh(a)||Kh(a)&&(a.type==="submit"||a.type==="image")){let k=a.form;if(k==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=a.getAttribute("formaction")||k.getAttribute("action");if(u=x?ar(x,d):null,i=a.getAttribute("formmethod")||k.getAttribute("method")||Tl,p=Ea(a.getAttribute("formenctype"))||Ea(k.getAttribute("enctype"))||Ml,m=new FormData(k,a),!Xh()){let{name:j,type:T,value:H}=a;if(T==="image"){let E=j?`${j}.`:"";m.append(`${E}x`,"0"),m.append(`${E}y`,"0")}else j&&m.append(j,H)}}else{if(Pl(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Tl,u=null,p=Ml,y=a}return m&&p==="text/plain"&&(y=m,m=void 0),{action:u,method:i.toLowerCase(),encType:p,formData:m,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ba(a,d){if(a===!1||a===null||typeof a>"u")throw new Error(d)}function tm(a,d,i){let u=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return u.pathname==="/"?u.pathname=`_root.${i}`:d&&ar(u.pathname,d)==="/"?u.pathname=`${d.replace(/\/$/,"")}/_root.${i}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${i}`,u}async function nm(a,d){if(a.id in d)return d[a.id];try{let i=await import(a.module);return d[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rm(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function om(a,d,i){let u=await Promise.all(a.map(async p=>{let m=d.routes[p.route.id];if(m){let y=await nm(m,i);return y.links?y.links():[]}return[]}));return am(u.flat(1).filter(rm).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function Td(a,d,i,u,p,m){let y=(x,j)=>i[j]?x.route.id!==i[j].route.id:!0,k=(x,j)=>i[j].pathname!==x.pathname||i[j].route.path?.endsWith("*")&&i[j].params["*"]!==x.params["*"];return m==="assets"?d.filter((x,j)=>y(x,j)||k(x,j)):m==="data"?d.filter((x,j)=>{let T=u.routes[x.route.id];if(!T||!T.hasLoader)return!1;if(y(x,j)||k(x,j))return!0;if(x.route.shouldRevalidate){let H=x.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof H=="boolean")return H}return!0}):[]}function sm(a,d,{includeHydrateFallback:i}={}){return lm(a.map(u=>{let p=d.routes[u.route.id];if(!p)return[];let m=[p.module];return p.clientActionModule&&(m=m.concat(p.clientActionModule)),p.clientLoaderModule&&(m=m.concat(p.clientLoaderModule)),i&&p.hydrateFallbackModule&&(m=m.concat(p.hydrateFallbackModule)),p.imports&&(m=m.concat(p.imports)),m}).flat(1))}function lm(a){return[...new Set(a)]}function im(a){let d={},i=Object.keys(a).sort();for(let u of i)d[u]=a[u];return d}function am(a,d){let i=new Set;return new Set(d),a.reduce((u,p)=>{let m=JSON.stringify(im(p));return i.has(m)||(i.add(m),u.push({key:m,link:p})),u},[])}function Yd(){let a=f.useContext(No);return Ba(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function cm(){let a=f.useContext(Dl);return Ba(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Fa=f.createContext(void 0);Fa.displayName="FrameworkContext";function Jd(){let a=f.useContext(Fa);return Ba(a,"You must render this element inside a <HydratedRouter> element"),a}function um(a,d){let i=f.useContext(Fa),[u,p]=f.useState(!1),[m,y]=f.useState(!1),{onFocus:k,onBlur:x,onMouseEnter:j,onMouseLeave:T,onTouchStart:H}=d,E=f.useRef(null);f.useEffect(()=>{if(a==="render"&&y(!0),a==="viewport"){let R=Z=>{Z.forEach(G=>{y(G.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return E.current&&A.observe(E.current),()=>{A.disconnect()}}},[a]),f.useEffect(()=>{if(u){let R=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(R)}}},[u]);let Q=()=>{p(!0)},b=()=>{p(!1),y(!1)};return i?a!=="intent"?[m,E,{}]:[m,E,{onFocus:cs(k,Q),onBlur:cs(x,b),onMouseEnter:cs(j,Q),onMouseLeave:cs(T,b),onTouchStart:cs(H,Q)}]:[!1,E,{}]}function cs(a,d){return i=>{a&&a(i),i.defaultPrevented||d(i)}}function dm({page:a,...d}){let{router:i}=Yd(),u=f.useMemo(()=>zd(i.routes,a,i.basename),[i.routes,a,i.basename]);return u?f.createElement(pm,{page:a,matches:u,...d}):null}function fm(a){let{manifest:d,routeModules:i}=Jd(),[u,p]=f.useState([]);return f.useEffect(()=>{let m=!1;return om(a,d,i).then(y=>{m||p(y)}),()=>{m=!0}},[a,d,i]),u}function pm({page:a,matches:d,...i}){let u=mn(),{manifest:p,routeModules:m}=Jd(),{basename:y}=Yd(),{loaderData:k,matches:x}=cm(),j=f.useMemo(()=>Td(a,d,x,p,u,"data"),[a,d,x,p,u]),T=f.useMemo(()=>Td(a,d,x,p,u,"assets"),[a,d,x,p,u]),H=f.useMemo(()=>{if(a===u.pathname+u.search+u.hash)return[];let b=new Set,R=!1;if(d.forEach(Z=>{let G=p.routes[Z.route.id];!G||!G.hasLoader||(!j.some(pe=>pe.route.id===Z.route.id)&&Z.route.id in k&&m[Z.route.id]?.shouldRevalidate||G.hasClientLoader?R=!0:b.add(Z.route.id))}),b.size===0)return[];let A=tm(a,y,"data");return R&&b.size>0&&A.searchParams.set("_routes",d.filter(Z=>b.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[A.pathname+A.search]},[y,k,u,p,j,d,a,m]),E=f.useMemo(()=>sm(T,p),[T,p]),Q=fm(T);return f.createElement(f.Fragment,null,H.map(b=>f.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...i})),E.map(b=>f.createElement("link",{key:b,rel:"modulepreload",href:b,...i})),Q.map(({key:b,link:R})=>f.createElement("link",{key:b,nonce:i.nonce,...R})))}function hm(...a){return d=>{a.forEach(i=>{typeof i=="function"?i(d):i!=null&&(i.current=d)})}}var Qd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qd&&(window.__reactRouterVersion="7.9.5")}catch{}function mm({basename:a,children:d,window:i}){let u=f.useRef();u.current==null&&(u.current=rh({window:i,v5Compat:!0}));let p=u.current,[m,y]=f.useState({action:p.action,location:p.location}),k=f.useCallback(x=>{f.startTransition(()=>y(x))},[y]);return f.useLayoutEffect(()=>p.listen(k),[p,k]),f.createElement(Hh,{basename:a,children:d,location:m.location,navigationType:m.action,navigator:p})}var Kd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gd=f.forwardRef(function({onClick:d,discover:i="render",prefetch:u="none",relative:p,reloadDocument:m,replace:y,state:k,target:x,to:j,preventScrollReset:T,viewTransition:H,...E},Q){let{basename:b}=f.useContext(zn),R=typeof j=="string"&&Kd.test(j),A,Z=!1;if(typeof j=="string"&&R&&(A=j,Qd))try{let ve=new URL(window.location.href),_=j.startsWith("//")?new URL(ve.protocol+j):new URL(j),ge=ar(_.pathname,b);_.origin===ve.origin&&ge!=null?j=ge+_.search+_.hash:Z=!0}catch{Pn(!1,`<Link to="${j}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Mh(j,{relative:p}),[pe,ye,ze]=um(u,E),ue=vm(j,{replace:y,state:k,target:x,preventScrollReset:T,relative:p,viewTransition:H});function ce(ve){d&&d(ve),ve.defaultPrevented||ue(ve)}let X=f.createElement("a",{...E,...ze,href:A||G,onClick:Z||m?d:ce,ref:hm(Q,ye),target:x,"data-discover":!R&&i==="render"?"true":void 0});return pe&&!R?f.createElement(f.Fragment,null,X,f.createElement(dm,{page:G})):X});Gd.displayName="Link";var gm=f.forwardRef(function({"aria-current":d="page",caseSensitive:i=!1,className:u="",end:p=!1,style:m,to:y,viewTransition:k,children:x,...j},T){let H=hs(y,{relative:j.relative}),E=mn(),Q=f.useContext(Dl),{navigator:b,basename:R}=f.useContext(zn),A=Q!=null&&Sm(H)&&k===!0,Z=b.encodeLocation?b.encodeLocation(H).pathname:H.pathname,G=E.pathname,pe=Q&&Q.navigation&&Q.navigation.location?Q.navigation.location.pathname:null;i||(G=G.toLowerCase(),pe=pe?pe.toLowerCase():null,Z=Z.toLowerCase()),pe&&R&&(pe=ar(pe,R)||pe);const ye=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ze=G===Z||!p&&G.startsWith(Z)&&G.charAt(ye)==="/",ue=pe!=null&&(pe===Z||!p&&pe.startsWith(Z)&&pe.charAt(Z.length)==="/"),ce={isActive:ze,isPending:ue,isTransitioning:A},X=ze?d:void 0,ve;typeof u=="function"?ve=u(ce):ve=[u,ze?"active":null,ue?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let _=typeof m=="function"?m(ce):m;return f.createElement(Gd,{...j,"aria-current":X,className:ve,ref:T,style:_,to:y,viewTransition:k},typeof x=="function"?x(ce):x)});gm.displayName="NavLink";var xm=f.forwardRef(({discover:a="render",fetcherKey:d,navigate:i,reloadDocument:u,replace:p,state:m,method:y=Tl,action:k,onSubmit:x,relative:j,preventScrollReset:T,viewTransition:H,...E},Q)=>{let b=wm(),R=Cm(k,{relative:j}),A=y.toLowerCase()==="get"?"get":"post",Z=typeof k=="string"&&Kd.test(k),G=pe=>{if(x&&x(pe),pe.defaultPrevented)return;pe.preventDefault();let ye=pe.nativeEvent.submitter,ze=ye?.getAttribute("formmethod")||y;b(ye||pe.currentTarget,{fetcherKey:d,method:ze,navigate:i,replace:p,state:m,relative:j,preventScrollReset:T,viewTransition:H})};return f.createElement("form",{ref:Q,method:A,action:R,onSubmit:u?x:G,...E,"data-discover":!Z&&a==="render"?"true":void 0})});xm.displayName="Form";function ym(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qd(a){let d=f.useContext(No);return bt(d,ym(a)),d}function vm(a,{target:d,replace:i,state:u,preventScrollReset:p,relative:m,viewTransition:y}={}){let k=bn(),x=mn(),j=hs(a,{relative:m});return f.useCallback(T=>{if(qh(T,d)){T.preventDefault();let H=i!==void 0?i:ds(x)===ds(j);k(a,{replace:H,state:u,preventScrollReset:p,relative:m,viewTransition:y})}},[x,k,j,i,u,d,a,p,m,y])}var jm=0,km=()=>`__${String(++jm)}__`;function wm(){let{router:a}=qd("useSubmit"),{basename:d}=f.useContext(zn),i=Oh();return f.useCallback(async(u,p={})=>{let{action:m,method:y,encType:k,formData:x,body:j}=em(u,d);if(p.navigate===!1){let T=p.fetcherKey||km();await a.fetch(T,i,p.action||m,{preventScrollReset:p.preventScrollReset,formData:x,body:j,formMethod:p.method||y,formEncType:p.encType||k,flushSync:p.flushSync})}else await a.navigate(p.action||m,{preventScrollReset:p.preventScrollReset,formData:x,body:j,formMethod:p.method||y,formEncType:p.encType||k,replace:p.replace,state:p.state,fromRouteId:i,flushSync:p.flushSync,viewTransition:p.viewTransition})},[a,d,i])}function Cm(a,{relative:d}={}){let{basename:i}=f.useContext(zn),u=f.useContext(Kn);bt(u,"useFormAction must be used inside a RouteContext");let[p]=u.matches.slice(-1),m={...hs(a||".",{relative:d})},y=mn();if(a==null){m.search=y.search;let k=new URLSearchParams(m.search),x=k.getAll("index");if(x.some(T=>T==="")){k.delete("index"),x.filter(H=>H).forEach(H=>k.append("index",H));let T=k.toString();m.search=T?`?${T}`:""}}return(!a||a===".")&&p.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(m.pathname=m.pathname==="/"?i:ir([i,m.pathname])),ds(m)}function Sm(a,{relative:d}={}){let i=f.useContext(Od);bt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=qd("useViewTransitionState"),p=hs(a,{relative:d});if(!i.isTransitioning)return!1;let m=ar(i.currentLocation.pathname,u)||i.currentLocation.pathname,y=ar(i.nextLocation.pathname,u)||i.nextLocation.pathname;return _l(p.pathname,y)!=null||_l(p.pathname,m)!=null}var bm=Id();function sr({children:a,requireAdmin:d=!1,requireUser:i=!1}){const[u,p]=f.useState(!0),[m,y]=f.useState(!1);return f.useEffect(()=>{const k=sessionStorage.getItem("user");if(!k){y(!1),p(!1);return}try{const x=JSON.parse(k),j=x.isAuthenticated,T=x.role==="admin";if(!j){y(!1),p(!1);return}if(d&&!T){y(!1),p(!1);return}if(i&&T){y(!1),p(!1);return}y(!0),p(!1)}catch{y(!1),p(!1)}},[d,i]),u?n.jsx("div",{children:"Loading..."}):m?n.jsx(n.Fragment,{children:a}):d?n.jsx(Jr,{to:"/calendrier",replace:!0}):n.jsx(Jr,{to:"/login",replace:!0})}function Nm(){const[a,d]=f.useState(!0),[i,u]=f.useState(null);return f.useEffect(()=>{const p=sessionStorage.getItem("user");if(!p){u(n.jsx(Jr,{to:"/login",replace:!0})),d(!1);return}try{const m=JSON.parse(p),y=m.isAuthenticated,k=m.role==="admin";if(!y){u(n.jsx(Jr,{to:"/login",replace:!0})),d(!1);return}u(k?n.jsx(Jr,{to:"/dashboard",replace:!0}):n.jsx(Jr,{to:"/calendrier",replace:!0})),d(!1)}catch{u(n.jsx(Jr,{to:"/login",replace:!0})),d(!1)}},[]),a?n.jsx("div",{children:"Loading..."}):n.jsx(n.Fragment,{children:i})}function Il({isDarkMode:a}){const[d]=f.useState(()=>Array.from({length:30},(u,p)=>({id:p,left:Math.random()*100,delay:Math.random()*5,duration:3+Math.random()*4,size:5+Math.random()*10}))),[i]=f.useState(()=>Array.from({length:15},(u,p)=>({id:p,left:Math.random()*100,top:Math.random()*100,delay:Math.random()*2,size:10+Math.random()*15})));return n.jsxs("div",{className:"noel-decorations",children:[d.map(u=>n.jsx("div",{className:"snowflake",style:{left:`${u.left}%`,animationDelay:`${u.delay}s`,animationDuration:`${u.duration}s`,width:`${u.size}px`,height:`${u.size}px`},children:""},`snowflake-${u.id}`)),i.map(u=>n.jsx("div",{className:`star ${a?"star-dark":"star-light"}`,style:{left:`${u.left}%`,top:`${u.top}%`,animationDelay:`${u.delay}s`,width:`${u.size}px`,height:`${u.size}px`},children:""},`star-${u.id}`)),n.jsx("div",{className:"ornament ornament-1",children:""}),n.jsx("div",{className:"ornament ornament-2",children:""}),n.jsx("div",{className:"ornament ornament-3",children:""}),n.jsx("div",{className:"ornament ornament-4",children:""}),n.jsx("div",{className:"ornament ornament-5",children:""}),n.jsx("div",{className:"corner-decoration corner-top-left",children:""}),n.jsx("div",{className:"corner-decoration corner-top-right",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-left",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-right",children:""})]})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$m=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(d,i,u)=>u?u.toUpperCase():i.toLowerCase()),Md=a=>{const d=$m(a);return d.charAt(0).toUpperCase()+d.slice(1)},Xd=(...a)=>a.filter((d,i,u)=>!!d&&d.trim()!==""&&u.indexOf(d)===i).join(" ").trim(),Tm=a=>{for(const d in a)if(d.startsWith("aria-")||d==="role"||d==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=f.forwardRef(({color:a="currentColor",size:d=24,strokeWidth:i=2,absoluteStrokeWidth:u,className:p="",children:m,iconNode:y,...k},x)=>f.createElement("svg",{ref:x,...Mm,width:d,height:d,stroke:a,strokeWidth:u?Number(i)*24/Number(d):i,className:Xd("lucide",p),...!m&&!Tm(k)&&{"aria-hidden":"true"},...k},[...y.map(([j,T])=>f.createElement(j,T)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(a,d)=>{const i=f.forwardRef(({className:u,...p},m)=>f.createElement(_m,{ref:m,iconNode:d,className:Xd(`lucide-${Em(Md(a))}`,`lucide-${a}`,u),...p}));return i.displayName=Md(a),i};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Rm=gt("bell-off",Lm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Pm=gt("bell-ring",Dm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_r=gt("bell",Im);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],wo=gt("calendar-check",zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ct=gt("calendar",Am);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ms=gt("chevron-down",Bm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],gs=gt("chevrons-right",Fm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wm=gt("circle-check",Om);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xs=gt("clipboard-list",Um);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hm=gt("clock",Vm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$a=gt("database",Ym);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_d=gt("download",Jm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Km=gt("globe",Qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ys=gt("house",Gm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hn=gt("log-out",qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zm=gt("mail",Xm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vs=gt("menu",eg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M5 12h14",key:"1ays0h"}]],js=gt("minus",tg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],It=gt("moon",ng);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ta=gt("palette",rg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],sg=gt("percent",og);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zd=gt("plus",lg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Oa=gt("refresh-cw",ig);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cg=gt("save",ag);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qr=gt("settings",ug);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zt=gt("sun",dg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ld=gt("trash-2",fg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hg=gt("trending-up",pg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rd=gt("upload",mg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Co=gt("users",gg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ks=gt("x",xg);function ef({disableAnimations:a=!1,isAdminView:d=!1}){const i=bn(),[u,p]=f.useState(()=>{const E=localStorage.getItem("darkMode");return E?JSON.parse(E):!0}),[m,y]=f.useState(""),[k,x]=f.useState("");f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(u)),document.documentElement.setAttribute("data-theme",u?"dark":"light")},[u]),f.useEffect(()=>{const E=sessionStorage.getItem("user");if(E)try{const Q=JSON.parse(E);y(Q.name||""),x(Q.role||"")}catch(Q){console.error("Error parsing user data:",Q)}},[]);const j=()=>{p(!u)},T=()=>{sessionStorage.removeItem("user"),i("/login")},H=E=>{i(`/${E}`)};return n.jsxs("div",{className:`home-page ${u?"dark-mode":"light-mode"}`,children:[!a&&n.jsx(Il,{isDarkMode:u}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`home-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Calendrier"}),n.jsx("p",{children:"Gestion des calendriers"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous"}),n.jsx("p",{children:"Slectionnez un type de rendez-vous"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[k==="concepteur"&&m&&!d&&n.jsxs("div",{style:{fontSize:"16px",fontWeight:500,color:u?"#ffffff":"#111827",marginBottom:"4px"},children:["Bienvenue ",m]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[!d&&n.jsx("button",{className:"home-button",onClick:()=>i("/calendrier"),"aria-label":"Home",title:"Accueil",children:""}),k!=="concepteur"&&k!=="technicien"&&n.jsxs("button",{style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:u?"#1a1a1a":"#ffffff",border:`1px solid ${u?"#333333":"#e5e7eb"}`,color:u?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:E=>{E.currentTarget.style.color=u?"#ffffff":"#111827",E.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f9fafb"},onMouseLeave:E=>{E.currentTarget.style.color=u?"#9ca3af":"#6b7280",E.currentTarget.style.backgroundColor=u?"#1a1a1a":"#ffffff"},children:[n.jsx(_r,{style:{width:"20px",height:"20px"}}),n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%"}})]}),n.jsx("button",{onClick:j,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${u?"#333333":"#e5e7eb"}`,backgroundColor:u?"#1a1a1a":"#ffffff",color:u?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:E=>{E.currentTarget.style.color=u?"#ffffff":"#111827",E.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f9fafb"},onMouseLeave:E=>{E.currentTarget.style.color=u?"#9ca3af":"#6b7280",E.currentTarget.style.backgroundColor=u?"#1a1a1a":"#ffffff"},children:u?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:T,style:{padding:"8px",borderRadius:"8px",backgroundColor:u?"#1a1a1a":"#ffffff",border:`1px solid ${u?"#333333":"#e5e7eb"}`,color:u?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:E=>{E.currentTarget.style.color=u?"#ffffff":"#111827",E.currentTarget.style.backgroundColor=u?"#1a1a1a":"#f9fafb"},onMouseLeave:E=>{E.currentTarget.style.color=u?"#9ca3af":"#6b7280",E.currentTarget.style.backgroundColor=u?"#1a1a1a":"#ffffff"},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]})]})}),n.jsx("main",{className:"home-main",children:n.jsxs("div",{className:"calendar-buttons-container",children:[n.jsx("button",{className:"calendar-button metric-button",onClick:()=>H("metre"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Metr"}),n.jsx("p",{children:"Rservation Metr"})]})}),n.jsx("button",{className:"calendar-button pose-button",onClick:()=>H("pose"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Pose"}),n.jsx("p",{children:"Rservation Pose"})]})}),n.jsx("button",{className:"calendar-button sav-button",onClick:()=>H("sav"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"SAV"}),n.jsx("p",{children:"Rservation SAV"})]})})]})})]})}const yg={},tf="calendar1",nt={calendar1:"calendar1",calendar2:"calendar2",calendar3:"calendar3"},nf=nt[tf],vg=yg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",$o=a=>a||nf,La=a=>({id:String(a.id),date:a.booking_date,name:a.client_name,phone:a.client_phone,designer:a.designer_name,message:a.message,time:a.booking_time||"21h00",timestamp:new Date(a.created_at).getTime()}),In=async(a,d)=>{const i=await fetch(`${vg}${a}`,{headers:{"Content-Type":"application/json",...d?.headers||{}},...d});if(!i.ok){let u=`API request failed with status ${i.status}`;const p=i.clone();try{const m=await i.json();if(m.detail)u=m.detail;else if(m.non_field_errors&&m.non_field_errors.length>0)u=m.non_field_errors[0];else if(typeof m=="object"){const y=Object.keys(m)[0];y&&Array.isArray(m[y])&&m[y].length>0?u=m[y][0]:y&&typeof m[y]=="string"&&(u=m[y])}}catch{try{const m=await p.text();m&&(u=m)}catch{}}throw new Error(u)}if(i.status!==204)return await i.json()},rf={calendar1:"Pose",calendar2:"Metr",calendar3:"SAV"},Wa=(a="calendar1")=>nt[a]||nt[tf],pn=a=>{if(!a)return"Pose";for(const[d,i]of Object.entries(nt))if(i===a)return rf[d]||"Pose";return"Pose"},Qn=new Map,Ll=3e4,Ua=a=>{const d=[];Qn.forEach((i,u)=>{u.startsWith("bookings_")&&(!a||u.includes(a))&&d.push(u)}),d.forEach(i=>Qn.delete(i)),console.log(`[Cache] Cleared ${d.length} bookings cache entries`)},of=a=>{const d=[];Qn.forEach((i,u)=>{u.startsWith("holidays_")&&(!a||u.includes(a))&&d.push(u)}),d.forEach(i=>Qn.delete(i)),console.log(`[Cache] Cleared ${d.length} holidays cache entries`)},Kr=async(a,d)=>{const i=$o(a),u=new URLSearchParams({calendar_id:i}),p=`bookings_${i}_${u.toString()}`,m=Qn.get(p);if(m&&Date.now()-m.timestamp<Ll)return console.log(`[getAllBookings] Using cached request for calendar_id: ${i}`),m.promise;console.log(`[getAllBookings] Querying bookings for calendar_id: ${i}`);const y=(async()=>{try{const k=await In(`/bookings/?${u.toString()}`);return console.log(`[getAllBookings] Received ${k.length} bookings from API for calendar_id: ${i}`),k.map(La)}catch(k){if(console.warn(`[getAllBookings] Failed to fetch bookings for calendar_id: ${i}`,k),i==="calendar1"||i==="calendar2"||i==="calendar3"){const x=i==="calendar1"?"1":i==="calendar2"?"2":"3";console.log(`[getAllBookings] Trying legacy format: ${x}`);try{const j=new URLSearchParams({calendar_id:x});d?.startDate,d?.endDate;const T=await In(`/bookings/?${j.toString()}`);return console.log(`[getAllBookings] Received ${T.length} bookings from API using legacy format`),T.map(La)}catch(j){console.warn("[getAllBookings] Legacy format also failed:",j)}}return[]}finally{setTimeout(()=>{Qn.delete(p)},Ll)}})();return Qn.set(p,{promise:y,timestamp:Date.now()}),y},jg={[nt.calendar1]:2,[nt.calendar2]:8,[nt.calendar3]:3},Va=a=>a?jg[a]??3:3,Gt=a=>a?a===nt.calendar2||a===nt.calendar3:!1,kg=async(a,d,i)=>{try{const u=new Date;u.setHours(0,0,0,0);const p=new Date(a+"T00:00:00");if(p.setHours(0,0,0,0),p<u)return!1;const y=(await Kr(d)).filter(x=>{const j=new Date(x.date+"T00:00:00");return j.setHours(0,0,0,0),x.date===a&&j>=u}),k=i??Va(d);return y.length>=k}catch(u){return console.error("Error checking booking limit:",u),!1}},fs=async(a,d,i)=>{const u=$o(d);try{if(await Eg(a.date,u))throw new Error("Cette date est un jour fri ou un jour non disponible. Les rservations ne sont pas autorises pour cette date.");const m=await Kr(u);if(Gt(u)&&a.timeSlot){const x=new Date;x.setHours(0,0,0,0);const j=new Date(a.date+"T00:00:00");if(j.setHours(0,0,0,0),j>=x){const T=Q=>Q.trim().toLowerCase(),H=T(a.timeSlot);if(m.some(Q=>{const b=new Date(Q.date+"T00:00:00");if(b.setHours(0,0,0,0),b<x)return!1;const R=T(Q.time||"");return Q.date===a.date&&R===H}))throw new Error(`Ce crneau (${a.timeSlot}) est dj rserv pour cette date. Veuillez choisir un autre crneau.`)}}if(!Gt(u)){const x=i??Va(u);if(await kg(a.date,u,x))throw new Error(`This date is fully booked. Maximum ${x} bookings per day.`)}let y=a.timeSlot||"21h00";Gt(u)&&!a.timeSlot&&(console.warn("[addBooking] Time slot calendar but no timeSlot provided!"),y="");const k={calendar_id:u,booking_date:a.date,booking_time:y,client_name:a.name,client_phone:a.phone,designer_name:a.designer,message:a.message};return console.log("[addBooking] Sending booking to API:",k),console.log("[addBooking] Time slot from bookingData:",a.timeSlot),console.log("[addBooking] Calendar uses time slots:",Gt(u)),await In("/bookings/",{method:"POST",body:JSON.stringify(k)}),Ua(u),!0}catch(p){throw console.error("Error adding booking:",p),p}},wg=async a=>{const d=$o(a);try{return await In(`/bookings/reset/?calendar_id=${d}`,{method:"DELETE"}),console.log(`Cleared backend bookings for calendar: ${d}`),!0}catch(i){return console.error("Error resetting bookings:",i),!1}},Cg=async()=>{console.log(" Resetting all calendars...");const a=Object.values(nt),d=[...new Set(a)];for(const i of d)await wg(i);console.log(" All calendars have been reset to 0 bookings")},sf=async(a,d)=>{try{console.log("[updateBooking] Updating booking:",a,d);const i=await In(`/bookings/${a}/`,{method:"PUT",body:JSON.stringify(d)});return Ua(d.calendar_id),La(i)}catch(i){throw console.error("Error updating booking:",i),i}},us=async(a,d)=>{try{return console.log("[deleteBooking] Deleting booking:",a),await In(`/bookings/${a}/`,{method:"DELETE"}),Ua(d),!0}catch(i){throw console.error("Error deleting booking:",i),i}},Rl=a=>({id:a.id,calendar_id:a.calendar_id,holiday_date:a.holiday_date,description:a.description,created_at:a.created_at}),So=async(a,d)=>{const i=$o(a),u=new URLSearchParams({calendar_id:i}),p=`holidays_${i}_${u.toString()}`,m=Qn.get(p);if(m&&Date.now()-m.timestamp<Ll)return console.log(`[getAllHolidays] Using cached request for calendar_id: ${i}`),m.promise;const y=(async()=>{try{return(await In(`/holidays/?${u.toString()}`)).map(Rl)}catch(k){if(console.warn(`[getAllHolidays] Failed to fetch holidays for calendar_id: ${i}`,k),i==="calendar1"||i==="calendar2"||i==="calendar3"){const x=i==="calendar1"?"1":i==="calendar2"?"2":"3";try{const j=new URLSearchParams({calendar_id:x});return d?.startDate,d?.endDate,(await In(`/holidays/?${j.toString()}`)).map(Rl)}catch(j){console.warn("[getAllHolidays] Legacy format also failed:",j)}}return[]}finally{setTimeout(()=>{Qn.delete(p)},Ll)}})();return Qn.set(p,{promise:y,timestamp:Date.now()}),y},Sg=async(a,d,i)=>{const u=$o(a);try{const m=await In("/holidays/",{method:"POST",body:JSON.stringify({calendar_id:u,holiday_date:d,description:i||""})});return of(u),Rl(m)}catch(p){throw console.error("Error adding holiday:",p),p}},bg=async(a,d,i,u)=>{const p=$o(d);try{const m={calendar_id:p,holiday_date:i,description:u||""},y=await In(`/holidays/${a}/`,{method:"PUT",body:JSON.stringify(m)});return Rl(y)}catch(m){throw console.error("Error updating holiday:",m),m}},Ng=async(a,d)=>{try{return await In(`/holidays/${a}/`,{method:"DELETE"}),of(d),!0}catch(i){throw console.error("Error deleting holiday:",i),i}},Eg=async(a,d)=>{try{return(await So(d)).some(u=>u.holiday_date===a)}catch(i){return console.error("Error checking holiday:",i),!1}},$g={},Tg=$g?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",zl=async(a,d={})=>{const i=`${Tg}${a}`,p={...d,headers:{...{"Content-Type":"application/json"},...d.headers}},m=await fetch(i,p);if(!m.ok){let y=`Erreur ${m.status}: ${m.statusText}`;try{const k=await m.json();if(k.detail)y=k.detail;else if(k.password)y=k.password[0]||y;else if(k.confirm_password)y=k.confirm_password[0]||y;else if(k.email)y=k.email[0]||y;else if(typeof k=="object"){const x=Object.keys(k)[0];x&&k[x]&&(y=Array.isArray(k[x])?k[x][0]:k[x])}}catch{}throw new Error(y)}if(m.status!==204)return await m.json()},Ha=a=>({id:a.id,name:a.name,email:a.email,phone:a.phone||"",role:a.role,created_at:a.created_at,updated_at:a.updated_at}),Gr=async a=>{const d=new URLSearchParams;a&&a!=="all"&&d.append("role",a);const i=d.toString()?`/users/?${d.toString()}`:"/users/";try{return(await zl(i)).map(Ha)}catch(u){throw console.error("Error fetching users:",u),u}},Mg=async a=>{try{const d=await zl("/users/",{method:"POST",body:JSON.stringify(a)});return Ha(d)}catch(d){throw console.error("Error creating user:",d),d}},_g=async(a,d)=>{try{const i=await zl(`/users/${a}/`,{method:"PUT",body:JSON.stringify(d)});return Ha(i)}catch(i){throw console.error(`Error updating user ${a}:`,i),i}},Lg=async a=>{try{await zl(`/users/${a}/`,{method:"DELETE"})}catch(d){throw console.error(`Error deleting user ${a}:`,d),d}},Al=({selectedDate:a,selectedTimeSlot:d,onClose:i,onSubmit:u,isDarkMode:p=!1,initialData:m,users:y=[],existingBookings:k=[],holidays:x=[],maxBookingsPerDay:j=2,showDurationField:T=!1})=>{const[H,E]=f.useState(""),[Q,b]=f.useState(!1);f.useEffect(()=>{const ge=sessionStorage.getItem("user");if(ge)try{const F=JSON.parse(ge);F.role==="concepteur"&&F.name&&E(F.name),F.role==="admin"&&b(!0)}catch(F){console.error("Error parsing user data:",F)}},[]);const[R,A]=f.useState({name:m?.name||"",phone:m?.phone||"",designer:m?.designer||"",duree:"1",message:m?.message||""}),[Z,G]=f.useState({}),pe=ge=>{const F=ge.getFullYear(),ie=String(ge.getMonth()+1).padStart(2,"0"),je=String(ge.getDate()).padStart(2,"0");return`${F}-${ie}-${je}`},ye=(ge,F)=>{const ie=new Date(ge);return ie.setDate(ie.getDate()+F),ie},{canFitDuration2:ze,canFitDuration3:ue}=f.useMemo(()=>{if(!T)return{canFitDuration2:!0,canFitDuration3:!0};const ge=D=>{const re=pe(D);return k.filter(L=>L.date===re).length},F=D=>{const re=pe(D);return x.some(L=>L.holiday_date===re)},ie=D=>D.getDay()===0,je=D=>F(D)||ie(D),He=(D,re=1)=>{let L=ye(D,re),S=0;const U=14;for(;je(L)&&S<U;)L=ye(L,1),S++;return L},Ae=()=>{if(ge(a)>=j||je(a))return!1;const re=He(a,1);return!(je(re)||ge(re)>=j)},Ke=()=>{if(ge(a)>=j||je(a))return!1;const re=He(a,1);if(je(re)||ge(re)>=j)return!1;const S=He(re,1);return!(je(S)||ge(S)>=j)};return{canFitDuration2:Ae(),canFitDuration3:Ke()}},[a,k,x,j,T]);f.useEffect(()=>{H&&!m?.designer&&A(ge=>ge.designer.trim()?ge:{...ge,designer:H})},[H,m?.designer]),f.useEffect(()=>{m&&A({name:m.name||"",phone:m.phone||"",designer:m.designer||"",duree:"1",message:m.message||""})},[m]);const ce=ge=>{const{name:F,value:ie}=ge.target;if(F==="phone"){const je=ie.replace(/\D/g,"");A(He=>({...He,[F]:je}))}else A(je=>({...je,[F]:ie}));Z[F]&&G(je=>({...je,[F]:""}))},X=()=>{const ge={};return R.name.trim()||(ge.name="Le nom est requis"),R.phone.trim()?/^\d+$/.test(R.phone)||(ge.phone="Le numro de tlphone ne doit contenir que des chiffres"):ge.phone="Le numro de tlphone est requis",R.designer.trim()||(ge.designer="Le nom du concepteur est requis"),G(ge),Object.keys(ge).length===0},ve=ge=>{if(ge.preventDefault(),X()){const F=a.getFullYear(),ie=String(a.getMonth()+1).padStart(2,"0"),je=String(a.getDate()).padStart(2,"0"),He=`${F}-${ie}-${je}`,Ae={...R,date:He,selectedDate:a,timeSlot:d};console.log("[BookingModal] Submitting booking:",Ae),u(Ae)}},_=ge=>ge.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return n.jsx("div",{className:"modal-overlay",onClick:i,children:n.jsxs("div",{className:`modal-content ${p?"dark-mode":"light-mode"}`,onClick:ge=>ge.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Rservez Votre Rendez-vous"}),n.jsx("button",{className:"close-button",onClick:i,"aria-label":"Fermer",children:""})]}),n.jsxs("div",{className:"selected-date",children:[n.jsx("strong",{children:"Date slectionne :"})," ",_(a)]}),n.jsxs("form",{onSubmit:ve,className:"booking-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:R.name,onChange:ce,className:Z.name?"error":"",placeholder:"Entrez le nom du client"}),Z.name&&n.jsx("span",{className:"error-message",children:Z.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Numro de tlphone *"}),n.jsx("input",{type:"text",id:"phone",name:"phone",value:R.phone,onChange:ce,className:Z.phone?"error":"",placeholder:"Entrez le numro de tlphone",required:!0,inputMode:"numeric"}),Z.phone&&n.jsx("span",{className:"error-message",children:Z.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer",children:"Nom du concepteur *"}),Q&&y.length>0?n.jsxs("select",{id:"designer",name:"designer",value:R.designer,onChange:ce,className:Z.designer?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),y.filter(ge=>ge.role==="concepteur").map(ge=>n.jsx("option",{value:ge.name,children:ge.name},ge.id))]}):n.jsx("input",{type:"text",id:"designer",name:"designer",value:R.designer,onChange:ce,className:Z.designer?"error":"",placeholder:"Entrez le nom du concepteur",readOnly:!!H,style:H?{backgroundColor:p?"#555":"#f5f5f5",cursor:"not-allowed",opacity:.8}:{}}),Z.designer&&n.jsx("span",{className:"error-message",children:Z.designer}),H&&!Q&&n.jsx("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:" Automatiquement rempli avec votre nom (non modifiable)"})]}),T&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"duree",children:"Dure par jour *"}),n.jsxs("select",{id:"duree",name:"duree",value:R.duree,onChange:ce,children:[n.jsx("option",{value:"1",children:"1"}),n.jsxs("option",{value:"2",disabled:!ze,children:["2 ",!ze&&"(indisponible)"]}),n.jsxs("option",{value:"3",disabled:!ue,children:["3 ",!ue&&"(indisponible)"]})]}),(R.duree==="2"||R.duree==="3")&&n.jsxs("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:[" Dure ",R.duree," crera ",R.duree," rservation(s) sur plusieurs jours"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message ou commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:R.message,onChange:ce,placeholder:"Toute information supplmentaire ou demande spciale",rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:i,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:"Rserver"})]})]})]})})},Rg=({isOpen:a,onClose:d,booking:i,isDarkMode:u=!0})=>{if(!a||!i)return null;const p=m=>{try{return new Date(m+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return m}};return n.jsx("div",{className:`technicien-modal-overlay ${u?"dark-mode":"light-mode"}`,onClick:d,children:n.jsxs("div",{className:"technicien-modal",onClick:m=>m.stopPropagation(),children:[n.jsxs("div",{className:"technicien-modal-header",children:[n.jsx("h2",{children:"Dtails de la rservation"}),n.jsx("button",{className:"close-button",onClick:d,"aria-label":"Fermer",children:""})]}),n.jsxs("div",{className:"technicien-modal-content",children:[n.jsxs("div",{className:"info-badge",children:[n.jsx("span",{className:"info-icon",children:""}),n.jsx("span",{children:"Mode lecture seule"})]}),n.jsxs("div",{className:"info-group",children:[n.jsx("div",{className:"info-label",children:"Nom du client"}),n.jsx("div",{className:"info-value",children:i.name})]}),n.jsxs("div",{className:"info-group",children:[n.jsx("div",{className:"info-label",children:"Numro de tlphone"}),n.jsx("div",{className:"info-value",children:i.phone||"Non renseign"})]}),n.jsxs("div",{className:"info-group",children:[n.jsx("div",{className:"info-label",children:"Concepteur"}),n.jsx("div",{className:"info-value",children:i.designer||"Non renseign"})]}),n.jsxs("div",{className:"info-group",children:[n.jsx("div",{className:"info-label",children:"Date"}),n.jsx("div",{className:"info-value",children:p(i.date)})]}),i.time&&i.time!=="21h00"&&n.jsxs("div",{className:"info-group",children:[n.jsx("div",{className:"info-label",children:"Crneau horaire"}),n.jsx("div",{className:"info-value",children:i.time})]}),i.message&&n.jsxs("div",{className:"info-group",children:[n.jsx("div",{className:"info-label",children:"Message / Commentaire"}),n.jsx("div",{className:"info-value message",children:i.message})]})]}),n.jsx("div",{className:"technicien-modal-footer",children:n.jsx("button",{className:"close-action-button",onClick:d,children:"Fermer"})})]})})},at=()=>n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%",display:"block"},children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#fa541c",strokeWidth:"2",fill:"none"}),n.jsx("path",{d:"M12 16V12",stroke:"#fa541c",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("circle",{cx:"12",cy:"8",r:"1",fill:"#fa541c"})]}),Ya=({onDateSelect:a,isDarkMode:d=!0,refreshTrigger:i,binId:u,view:p="monthly",showTimeSlots:m=!0,timeSlotType:y="numerical"})=>{const k=()=>{const s=localStorage.getItem(`calendar_currentDate_${u||"default"}`);if(s)try{const C=new Date(s);if(!isNaN(C.getTime()))return C}catch{}return new Date},[x,j]=f.useState(k()),[T,H]=f.useState(0);f.useEffect(()=>{x&&localStorage.setItem(`calendar_currentDate_${u||"default"}`,x.toISOString())},[x,u]);const[E,Q]=f.useState({}),[b,R]=f.useState(!1),[A,Z]=f.useState({}),[G,pe]=f.useState({}),[ye,ze]=f.useState([]),[ue,ce]=f.useState(!1),[X,ve]=f.useState(!1),[_,ge]=f.useState(!1),[F,ie]=f.useState(!1),[je,He]=f.useState(""),[Ae,Ke]=f.useState(""),[D,re]=f.useState({}),[L,S]=f.useState(null),[U,Ce]=f.useState(!1),[fe,Ee]=f.useState(null),[J,Fe]=f.useState([]),[ke,De]=f.useState(null),[tt,ot]=f.useState(null),[q,Ye]=f.useState(!1),Y=f.useRef(null),Be=f.useRef(null),Ze=async()=>{try{const s=await Gr();Fe(s)}catch(s){console.error("Error loading users:",s)}};f.useEffect(()=>{const s=sessionStorage.getItem("user");if(s){const C=JSON.parse(s);ce(C.role==="admin"),ve(C.role==="concepteur"),ge(C.role==="technicien"),ie(C.role!=="admin"&&C.role!=="concepteur"&&C.role!=="technicien"),He(C.email||""),Ke(C.name||C.email||""),C.role==="admin"&&Ze(),console.log("=== CALENDAR USER INFO ===",{role:C.role,email:C.email,name:C.name,isAdmin:C.role==="admin",isConcepteur:C.role==="concepteur",isTechnicien:C.role==="technicien"})}else console.log("=== CALENDAR USER INFO === No user found in localStorage")},[]);const lt=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],Pe=s=>s===0?6:s-1,it=s=>{const C=s.getFullYear(),w=s.getMonth(),P=new Date(C,w+1,0).getDate(),g=new Date(C,w,1),O=Pe(g.getDay()),$=[];for(let z=0;z<O;z++)$.push(null);for(let z=1;z<=P;z++)$.push(new Date(C,w,z));return $},Mt=s=>{const C=s.getDay(),w=C===0?-6:1-C,P=new Date(s);P.setDate(s.getDate()+w),P.setHours(0,0,0,0);const g=[];for(let O=0;O<7;O++){const $=new Date(P);$.setDate(P.getDate()+O),g.push($)}return g},xe=(s,C)=>{_||a(s,C)},we=(s,C)=>{if(!_)return;const w=C?et(s,C):xn(s)[0];w&&(ot(w),Ye(!0))},Ht=s=>{j(C=>{const w=new Date(C);return w.setMonth(C.getMonth()+s),w})},gn=s=>{j(C=>{const w=new Date(C);return w.setDate(C.getDate()+s*7),w})},Nn=s=>{const C=new Date;return C.setHours(0,0,0,0),s<C},En=s=>s.getDay()===0,I=s=>{const C=s.getFullYear(),w=String(s.getMonth()+1).padStart(2,"0"),P=String(s.getDate()).padStart(2,"0"),g=`${C}-${w}-${P}`;return D[g]||!1},he=s=>{const C=Nn(s)||En(s)||I(s);if((u?["calendar1","1","calendar2","2","calendar3","3"].includes(u):!1)&&!ue){const P=new Date;P.setHours(0,0,0,0);const g=new Date(P);g.setDate(g.getDate()+1);const O=new Date(s);if(O.setHours(0,0,0,0),O.getTime()===P.getTime()||O.getTime()===g.getTime())return!0}return C},ut=p==="monthly"?it(x):[],vt=p==="weekly"?Mt(x):[];f.useEffect(()=>{const s=`holidays_${u}_${i}`;return Y.current===s?void 0:(Y.current=s,(async()=>{try{const w=await So(u),P={};w.forEach(g=>{P[g.holiday_date]=!0}),re(P)}catch(w){console.error("Error loading holidays:",w),re({})}finally{Y.current===s&&(Y.current=null)}})(),()=>{Y.current===s&&(Y.current=null)})},[i,u]),f.useEffect(()=>{const s=`bookings_${u}_${i}_${T}`;return Be.current===s?void 0:(Be.current=s,(async()=>{try{const w=await Kr(u),P=new Date;P.setHours(0,0,0,0);const g={},O={},$={};w.forEach(z=>{const K=new Date(z.date+"T00:00:00");if(K.setHours(0,0,0,0),K>=P)if(Gt(u)){if(z.time&&z.time.trim()&&z.time!=="21h00"){const ee=z.time.trim().toLowerCase(),de=`${z.date}|${ee}`;O[de]=!0,$[de]=z}}else g[z.date]=(g[z.date]||0)+1}),console.log(`[Calendar] Loaded ${w.length} bookings for calendar: ${u}`),console.log("[Calendar] All bookings:",w),console.log(`[Calendar] Booking counts for ${Object.keys(g).length} future dates:`,g),console.log("[Calendar] Booked time slots:",O),console.log("[Calendar] Today's date:",P.toISOString().split("T")[0]),g["2025-11-18"]?console.log(`[Calendar] DEBUG: Found ${g["2025-11-18"]} bookings for 2025-11-18`):console.log("[Calendar] DEBUG: No bookings found for 2025-11-18 in counts"),Q(g),Z(O),pe($),ze(w),R(!0)}catch(w){if(console.error("Error loading booking counts:",w),u){const P=`booking_calendar_data_${u}`;localStorage.getItem(P)||(Q({}),Z({}))}else Q({}),Z({});R(!0)}finally{Be.current===s&&(Be.current=null)}})(),()=>{Be.current===s&&(Be.current=null)})},[i,u,T]);const Ue=s=>{const C=s.getFullYear(),w=String(s.getMonth()+1).padStart(2,"0"),P=String(s.getDate()).padStart(2,"0"),g=`${C}-${w}-${P}`,O=he(s),$=Va(u);if(!b&&!O)return{count:0,isFullyBooked:!1,isDisabled:!0,statusText:""};const z=D[g]||!1,K=E[g]||0,ee=!O&&!z&&K>=$;return(g==="2025-11-18"||K>0||ee||z)&&console.log(`[getBookingStatus] Date: ${g}, Count: ${K}, Max: ${$}, isFullyBooked: ${ee}, isDisabled: ${O}, isHoliday: ${z}, binId: ${u}, bookingCounts keys:`,Object.keys(E)),{count:O||z?0:K,isFullyBooked:ee,isDisabled:O||ee||z,statusText:z?"Jour fri":O?"":ee?`${$} sur ${$} rservs`:`${K} sur ${$} rservs`}},Ve=(s,C)=>{const w=new Date;w.setHours(0,0,0,0);const P=new Date(s);if(P.setHours(0,0,0,0),P<w)return!1;const g=s.getFullYear(),O=String(s.getMonth()+1).padStart(2,"0"),$=String(s.getDate()).padStart(2,"0"),z=`${g}-${O}-${$}`,K=C.trim().toLowerCase(),ee=`${z}|${K}`,de=A[ee]||!1;return z==="2025-11-18"&&C&&console.log(`[isSlotBooked] Date: ${z}, TimeSlot: ${C}, Normalized: ${K}, Key: ${ee}, IsBooked: ${de}`),de},et=(s,C)=>{const w=s.getFullYear(),P=String(s.getMonth()+1).padStart(2,"0"),g=String(s.getDate()).padStart(2,"0"),O=`${w}-${P}-${g}`,$=C.trim().toLowerCase(),z=`${O}|${$}`;return G[z]||null},$t=(s,C)=>xn(s,C).map(P=>P.name),xn=(s,C)=>{const w=s.getFullYear(),P=String(s.getMonth()+1).padStart(2,"0"),g=String(s.getDate()).padStart(2,"0"),O=`${w}-${P}-${g}`,$=new Date;$.setHours(0,0,0,0);const z=new Date(s);if(z.setHours(0,0,0,0),z<$)return[];if(C){const K=et(s,C);if(K){if(ue)return[K];if(At(K))return[K]}return[]}else{const K=[];return ye.forEach(ee=>{ee.date===O&&K.push(ee)}),K}},Ge=(s,C)=>{if(u==="calendar2"||u==="calendar3")return!1;if(ue)return C?Ve(s,C):Ue(s).count>0;if(X)if(C){const w=et(s,C);return w?At(w):!1}else{const w=s.getFullYear(),P=String(s.getMonth()+1).padStart(2,"0"),g=String(s.getDate()).padStart(2,"0"),O=`${w}-${P}-${g}`;return ye.filter(K=>K.date===O).filter(K=>At(K)).length>0}else return C?Ve(s,C)&&$t(s,C).length>0:Ue(s).count>0&&$t(s).length>0},qe=(s,C,w)=>{s.stopPropagation();const P=xn(C,w);if(P.length>0){const g=s.currentTarget,O=g.closest(".calendar");if(O){const $=O.getBoundingClientRect(),z=g.getBoundingClientRect();Ee({x:z.right-$.left+8,y:z.top-$.top,names:P.map(K=>K.name),bookings:P,date:C,timeSlot:w})}}};f.useEffect(()=>{const s=()=>{Ee(null)};if(fe){document.addEventListener("click",s);const C=setTimeout(()=>{Ee(null)},2e3);return()=>{document.removeEventListener("click",s),clearTimeout(C)}}},[fe]),f.useEffect(()=>{const s=C=>{C.target.closest(".booking-select-popup")||De(null)};if(ke)return document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}},[ke]);const $n=s=>{if(!X||!Ae)return console.log("[isBookingByConcepteur] Not a concepteur or no name:",{isConcepteur:X,userName:Ae,userEmail:je}),!1;const C=s.designer.toLowerCase().trim()===Ae.toLowerCase().trim(),w=s.designer.toLowerCase().includes(Ae.toLowerCase()),P=C||w;return console.log("[isBookingByConcepteur]",{bookingId:s.id,bookingDesigner:s.designer,bookingName:s.name,userName:Ae,userEmail:je,designerMatch:C,designerContains:w,matches:P}),P},At=s=>X?!$n(s):!1,pt=s=>{if(!F||!je&&!Ae)return!1;const C=je&&(s.name.toLowerCase().includes(je.toLowerCase())||s.designer.toLowerCase().includes(je.toLowerCase())||s.phone===je),w=Ae&&(s.name.toLowerCase()===Ae.toLowerCase()||s.name.toLowerCase().includes(Ae.toLowerCase()));return C||w||!1},st=(s,C)=>{if(C){const w=et(s,C);return w&&(ue||X&&$n(w)||F&&pt(w))?w:null}else{const w=s.getFullYear(),P=String(s.getMonth()+1).padStart(2,"0"),g=String(s.getDate()).padStart(2,"0"),O=`${w}-${P}-${g}`;return ue?ye.find($=>$.date===O)||null:X?ye.find($=>{const z=$.date===O,K=$n($);return z&&K})||null:F&&ye.find($=>{const z=$.date===O,K=pt($);return z&&K})||null}},Zt=(s,C)=>{if(C){const w=et(s,C);return w&&pt(w)?w:null}else{const w=s.getFullYear(),P=String(s.getMonth()+1).padStart(2,"0"),g=String(s.getDate()).padStart(2,"0"),O=`${w}-${P}-${g}`;return ye.find(z=>z.date===O&&pt(z))||null}},Lr=(s,C)=>{const w=Zt(s,C);w&&(S(w),Ce(!0),Ee(null))},se=async(s,C)=>{const w=Zt(s,C);if(!w)return;const P=C?`tes-vous sr de vouloir supprimer votre rservation du ${new Date(w.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${C} ?`:`tes-vous sr de vouloir supprimer votre rservation du ${new Date(w.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(P))try{await us(w.id),alert(" Rservation supprime avec succs"),Ee(null),H(g=>g+1)}catch(g){console.error("Error deleting booking:",g),alert(" Erreur lors de la suppression de la rservation")}},cr=s=>{const C=s.getFullYear(),w=String(s.getMonth()+1).padStart(2,"0"),P=String(s.getDate()).padStart(2,"0"),g=`${C}-${w}-${P}`;return ye.filter(O=>O.date!==g?!1:ue?!0:X?$n(O):F?pt(O):!1)},ht=(s,C,w)=>{if(_)return;if(C){const g=st(s,C);g&&(S(g),Ce(!0));return}const P=cr(s);if(P.length!==0)if(P.length===1)S(P[0]),Ce(!0);else{const g=w?.currentTarget?.getBoundingClientRect();De({x:g?g.left+g.width/2:200,y:g?g.bottom+5:200,bookings:P,date:s,action:"edit"})}},Qe=async(s,C,w)=>{if(_)return;if(C){const g=st(s,C);if(!g)return;const O=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(g.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${C} ?`;if(!window.confirm(O))return;try{await us(g.id),alert("Rservation supprime avec succs"),H($=>$+1)}catch($){console.error("Error deleting booking:",$),alert("Erreur lors de la suppression de la rservation")}return}const P=cr(s);if(P.length!==0)if(P.length===1){const g=P[0],O=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(g.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(!window.confirm(O))return;try{await us(g.id),alert("Rservation supprime avec succs"),H($=>$+1)}catch($){console.error("Error deleting booking:",$),alert("Erreur lors de la suppression de la rservation")}}else{const g=w?.currentTarget?.getBoundingClientRect();De({x:g?g.left+g.width/2:200,y:g?g.bottom+5:200,bookings:P,date:s,action:"delete"})}},Xe=async s=>{if(ke){if(ke.action==="edit")S(s),Ce(!0);else if(ke.action==="delete"){const C=`tes-vous sr de vouloir supprimer la rservation de ${s.name} du ${new Date(s.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(C))try{await us(s.id),alert("Rservation supprime avec succs"),H(w=>w+1)}catch(w){console.error("Error deleting booking:",w),alert("Erreur lors de la suppression de la rservation")}}De(null)}},Se=async s=>{if(L){if(_){alert(" Les techniciens ne peuvent pas modifier les rservations");return}if(!ue){if(F&&!pt(L)){alert(" Vous ne pouvez modifier que vos propres rservations");return}if(X&&!$n(L)){alert(" Vous ne pouvez modifier que vos propres rservations");return}}try{const C={calendar_id:u,booking_date:s.date,booking_time:s.timeSlot||"21h00",client_name:s.name,client_phone:s.phone,designer_name:s.designer,message:s.message};await sf(L.id,C),alert(" Rservation modifie avec succs"),Ce(!1),S(null),H(w=>w+1)}catch(C){console.error("Error updating booking:",C);const w=C?.message||"Erreur lors de la modification de la rservation";alert(` ${w}`)}}},Ne=y!=="pose"&&y!=="sav"&&y!=="numerical",Rr=()=>{const s=Mt(x)[0],C=Mt(x)[6];return s.getMonth()===C.getMonth()?`${s.getDate()} - ${C.getDate()} ${lt[s.getMonth()]} ${s.getFullYear()}`:`${s.getDate()} ${lt[s.getMonth()].slice(0,3)} - ${C.getDate()} ${lt[C.getMonth()].slice(0,3)} ${C.getFullYear()}`};return n.jsxs("div",{className:`calendar ${d?"dark-mode":"light-mode"}`,style:{position:"relative"},children:[n.jsxs("div",{className:"calendar-header",children:[n.jsx("button",{className:"nav-button",onClick:()=>p==="weekly"?gn(-1):Ht(-1),"aria-label":p==="weekly"?"Previous week":"Previous month",children:""}),n.jsx("h2",{className:"month-year",children:p==="weekly"?Rr():`${lt[x.getMonth()].charAt(0).toUpperCase()+lt[x.getMonth()].slice(1)} ${x.getFullYear()}`}),n.jsx("button",{className:"nav-button",onClick:()=>p==="weekly"?gn(1):Ht(1),"aria-label":p==="weekly"?"Next week":"Next month",children:""})]}),n.jsx("div",{className:"calendar-container",children:n.jsxs("div",{className:"calendar-grid",children:[n.jsx("div",{className:"day-headers-row",children:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"].map((s,C)=>n.jsx("div",{className:"day-header-cell",children:s},C))}),p==="weekly"?n.jsx("div",{className:"date-headers",children:vt.map((s,C)=>{const w=Ue(s),P=w.isFullyBooked,g=w.isDisabled;return n.jsxs("div",{className:`date-header ${g?"past":""} ${P?"fully-booked":""} ${!Gt(u)&&Ge(s)?"has-info-icon":""}`,children:[!Gt(u)&&Ge(s)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:O=>qe(O,s),title:"Voir les rservations",children:n.jsx(at,{})})}),n.jsx("div",{className:`date-number ${g?"past":""} ${P?"fully-booked-number":""}`,onClick:Ne?(()=>!g&&!P&&xe(s)):void 0,style:{cursor:Ne?g||P?"not-allowed":"pointer":"default"},children:n.jsx("span",{children:s.getDate()})}),m&&n.jsx(n.Fragment,{children:y==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Aprs-midi"})]}):y==="pose"?n.jsx(n.Fragment,{children:(()=>{const O=Ve(s,"8:00-11:00"),$=Ve(s,"11:00-14:00"),z=Ve(s,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${g||O?"disabled":""} ${_&&O?"technicien-clickable":""}`,onClick:()=>{_&&O?we(s,"8:00-11:00"):!g&&!O&&xe(s,"8:00-11:00")},style:{cursor:_&&O?"pointer":g||O?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),Ge(s,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:K=>qe(K,s,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(at,{})})]}),n.jsxs("div",{className:`time-slot ${g||$?"disabled":""} ${_&&$?"technicien-clickable":""}`,onClick:()=>{_&&$?we(s,"11:00-14:00"):!g&&!$&&xe(s,"11:00-14:00")},style:{cursor:_&&$?"pointer":g||$?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),Ge(s,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:K=>qe(K,s,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(at,{})})]}),n.jsxs("div",{className:`time-slot ${g||z?"disabled":""} ${_&&z?"technicien-clickable":""}`,onClick:()=>{_&&z?we(s,"14:00-17:00"):!g&&!z&&xe(s,"14:00-17:00")},style:{cursor:_&&z?"pointer":g||z?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),Ge(s,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:K=>qe(K,s,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(at,{})})]})]})})()}):y==="sav"?n.jsx(n.Fragment,{children:(()=>{const O=Ve(s,"8:00"),$=Ve(s,"9:30"),z=Ve(s,"11:00"),K=Ve(s,"12:30"),ee=Ve(s,"14:00"),de=Ve(s,"15:30"),Ie=Ve(s,"17:00"),Re=Ve(s,"18:30"),Me=(te,me)=>{if(me&&(u==="calendar2"||u==="calendar3")){const jt=et(s,te);if(jt&&jt.name)return`client: ${jt.name}`}return te};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${g||O?"disabled":""} ${_&&O?"technicien-clickable":""}`,onClick:()=>{_&&O?we(s,"8:00"):!g&&!O&&xe(s,"8:00")},style:{cursor:_&&O?"pointer":g||O?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:O&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:O&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("8:00",O)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"8:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||$?"disabled":""} ${_&&$?"technicien-clickable":""}`,onClick:()=>{_&&$?we(s,"9:30"):!g&&!$&&xe(s,"9:30")},style:{cursor:_&&$?"pointer":g||$?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:$&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:$&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("9:30",$)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"9:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||z?"disabled":""} ${_&&z?"technicien-clickable":""}`,onClick:()=>{_&&z?we(s,"11:00"):!g&&!z&&xe(s,"11:00")},style:{cursor:_&&z?"pointer":g||z?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:z&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:z&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("11:00",z)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"11:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||K?"disabled":""} ${_&&K?"technicien-clickable":""}`,onClick:()=>{_&&K?we(s,"12:30"):!g&&!K&&xe(s,"12:30")},style:{cursor:_&&K?"pointer":g||K?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:K&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:K&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("12:30",K)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"12:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||ee?"disabled":""} ${_&&ee?"technicien-clickable":""}`,onClick:()=>{_&&ee?we(s,"14:00"):!g&&!ee&&xe(s,"14:00")},style:{cursor:_&&ee?"pointer":g||ee?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ee&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:ee&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("14:00",ee)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"14:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||de?"disabled":""} ${_&&de?"technicien-clickable":""}`,onClick:()=>{_&&de?we(s,"15:30"):!g&&!de&&xe(s,"15:30")},style:{cursor:_&&de?"pointer":g||de?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:de&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:de&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("15:30",de)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"15:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||Ie?"disabled":""} ${_&&Ie?"technicien-clickable":""}`,onClick:()=>{_&&Ie?we(s,"17:00"):!g&&!Ie&&xe(s,"17:00")},style:{cursor:_&&Ie?"pointer":g||Ie?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:Ie&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:Ie&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("17:00",Ie)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"17:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||Re?"disabled":""} ${_&&Re?"technicien-clickable":""}`,onClick:()=>{_&&Re?we(s,"18:30"):!g&&!Re&&xe(s,"18:30")},style:{cursor:_&&Re?"pointer":g||Re?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:Re&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:Re&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:Me("18:30",Re)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:te=>qe(te,s,"18:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:te=>{te.stopPropagation(),ht(s,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:te=>{te.stopPropagation(),Qe(s,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const O=Ve(s,"8:00-11:00"),$=Ve(s,"11:00-14:00"),z=Ve(s,"14:00-17:00"),K=(ee,de)=>{if(de&&(u==="calendar2"||u==="calendar3")){const Ie=et(s,ee);if(Ie&&Ie.name)return`client: ${Ie.name}`}return ee};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${g||O?"disabled":""} ${_&&O?"technicien-clickable":""}`,onClick:()=>{_&&O?we(s,"8:00-11:00"):!g&&!O&&xe(s,"8:00-11:00")},style:{cursor:_&&O?"pointer":g||O?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:O&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:O&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:K("8:00-11:00",O)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ee=>qe(ee,s,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"8:00-11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ee=>{ee.stopPropagation(),ht(s,"8:00-11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ee=>{ee.stopPropagation(),Qe(s,"8:00-11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||$?"disabled":""} ${_&&$?"technicien-clickable":""}`,onClick:()=>{_&&$?we(s,"11:00-14:00"):!g&&!$&&xe(s,"11:00-14:00")},style:{cursor:_&&$?"pointer":g||$?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:$&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:$&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:K("11:00-14:00",$)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ee=>qe(ee,s,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"11:00-14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ee=>{ee.stopPropagation(),ht(s,"11:00-14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ee=>{ee.stopPropagation(),Qe(s,"11:00-14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||z?"disabled":""} ${_&&z?"technicien-clickable":""}`,onClick:()=>{_&&z?we(s,"14:00-17:00"):!g&&!z&&xe(s,"14:00-17:00")},style:{cursor:_&&z?"pointer":g||z?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:z&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:z&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:K("14:00-17:00",z)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ee=>qe(ee,s,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"14:00-17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:ee=>{ee.stopPropagation(),ht(s,"14:00-17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:ee=>{ee.stopPropagation(),Qe(s,"14:00-17:00")},title:"Supprimer",children:""})]})]})]})]})})()})})]},C)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"date-headers",children:ut.slice(0,7).map((s,C)=>{if(s===null)return n.jsx("div",{className:"date-header empty"},C);const w=Ue(s),P=w.isFullyBooked,g=w.isDisabled,O=!Gt(u)&&Ge(s);return n.jsxs("div",{className:`date-header ${g?"past":""} ${P?"fully-booked":""} ${O?"has-info-icon":""}`,children:[O&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:$=>qe($,s),title:"Voir les rservations",children:n.jsx(at,{})})}),(ue||X||F)&&!Gt(u)&&st(s)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:$=>{$.stopPropagation(),ht(s,void 0,$)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:$=>{$.stopPropagation(),Qe(s,void 0,$)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${g?"past":""} ${P?"fully-booked-number":""} ${Ne?"":"not-clickable"}`,onClick:Ne?(()=>!g&&!P&&xe(s)):void 0,style:{cursor:Ne?g||P?"not-allowed":"pointer":"default"},children:s.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},C)})}),n.jsx("div",{className:"date-headers",children:ut.slice(7,14).map((s,C)=>{if(s===null)return n.jsx("div",{className:"date-header empty"},`second-${C}`);const w=Ue(s),P=w.isFullyBooked,g=w.isDisabled,O=!Gt(u)&&Ge(s);return n.jsxs("div",{className:`date-header ${g?"past":""} ${P?"fully-booked":""} ${O?"has-info-icon":""}`,children:[O&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:$=>qe($,s),title:"Voir les rservations",children:n.jsx(at,{})})}),(ue||X||F)&&!Gt(u)&&st(s)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:$=>{$.stopPropagation(),ht(s)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:$=>{$.stopPropagation(),Qe(s)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${g?"past":""} ${P?"fully-booked-number":""}`,onClick:Ne?(()=>!g&&!P&&xe(s)):void 0,style:{cursor:Ne?g||P?"not-allowed":"pointer":"default"},children:s.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`second-${C}`)})}),n.jsx("div",{className:"date-headers",children:ut.slice(14,21).map((s,C)=>{if(s===null)return n.jsx("div",{className:"date-header empty"},`third-${C}`);const w=Ue(s),P=w.isFullyBooked,g=w.isDisabled,O=!Gt(u)&&Ge(s);return n.jsxs("div",{className:`date-header ${g?"past":""} ${P?"fully-booked":""} ${O?"has-info-icon":""}`,children:[O&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:$=>qe($,s),title:"Voir les rservations",children:n.jsx(at,{})})}),(ue||X||F)&&!Gt(u)&&st(s)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:$=>{$.stopPropagation(),ht(s)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:$=>{$.stopPropagation(),Qe(s)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${g?"past":""} ${P?"fully-booked-number":""}`,onClick:Ne?(()=>!g&&!P&&xe(s)):void 0,style:{cursor:Ne?g||P?"not-allowed":"pointer":"default"},children:s.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`third-${C}`)})}),n.jsx("div",{className:"date-headers",children:ut.slice(21,28).map((s,C)=>{if(s===null)return n.jsx("div",{className:"date-header empty"},`fourth-${C}`);const w=Ue(s),P=w.isFullyBooked,g=w.isDisabled,O=!Gt(u)&&Ge(s);return n.jsxs("div",{className:`date-header ${g?"past":""} ${P?"fully-booked":""} ${O?"has-info-icon":""}`,children:[O&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:$=>qe($,s),title:"Voir les rservations",children:n.jsx(at,{})})}),(ue||X||F)&&!Gt(u)&&st(s)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:$=>{$.stopPropagation(),ht(s)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:$=>{$.stopPropagation(),Qe(s)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${g?"past":""} ${P?"fully-booked-number":""}`,onClick:Ne?(()=>!g&&!P&&xe(s)):void 0,style:{cursor:Ne?g||P?"not-allowed":"pointer":"default"},children:s.getDate()}),m&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`fourth-${C}`)})}),ut.length>28&&n.jsx("div",{className:"date-headers",children:ut.slice(28).map((s,C)=>{if(s===null)return n.jsx("div",{className:"date-header empty"},`fifth-${C}`);const w=Ue(s),P=w.isFullyBooked,g=w.isDisabled,O=!Gt(u)&&Ge(s);return n.jsxs("div",{className:`date-header ${g?"past":""} ${P?"fully-booked":""} ${O?"has-info-icon":""}`,children:[O&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:$=>qe($,s),title:"Voir les rservations",children:n.jsx(at,{})})}),n.jsx("div",{className:`date-number ${g?"past":""} ${P?"fully-booked-number":""}`,onClick:Ne?(()=>!g&&!P&&xe(s)):void 0,style:{cursor:Ne?g||P?"not-allowed":"pointer":"default"},children:n.jsx("span",{children:s.getDate()})}),m&&n.jsx(n.Fragment,{children:y==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${g?"disabled":""}`,onClick:()=>!g&&!P&&xe(s),style:{cursor:g||P?"not-allowed":"pointer"},children:"Aprs-midi"})]}):y==="pose"?n.jsx(n.Fragment,{children:(()=>{const $=Ve(s,"8:00-11:00"),z=Ve(s,"11:00-14:00"),K=Ve(s,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${g||$?"disabled":""} ${_&&$?"technicien-clickable":""}`,onClick:()=>{_&&$?we(s,"8:00-11:00"):!g&&!$&&xe(s,"8:00-11:00")},style:{cursor:_&&$?"pointer":g||$?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),Ge(s,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ee=>qe(ee,s,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(at,{})})]}),n.jsxs("div",{className:`time-slot ${g||z?"disabled":""} ${_&&z?"technicien-clickable":""}`,onClick:()=>{_&&z?we(s,"11:00-14:00"):!g&&!z&&xe(s,"11:00-14:00")},style:{cursor:_&&z?"pointer":g||z?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),Ge(s,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ee=>qe(ee,s,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(at,{})})]}),n.jsxs("div",{className:`time-slot ${g||K?"disabled":""} ${_&&K?"technicien-clickable":""}`,onClick:()=>{_&&K?we(s,"14:00-17:00"):!g&&!K&&xe(s,"14:00-17:00")},style:{cursor:_&&K?"pointer":g||K?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),Ge(s,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:ee=>qe(ee,s,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(at,{})})]})]})})()}):y==="sav"?n.jsx(n.Fragment,{children:(()=>{const $=Ve(s,"8:00"),z=Ve(s,"9:30"),K=Ve(s,"11:00"),ee=Ve(s,"12:30"),de=Ve(s,"14:00"),Ie=Ve(s,"15:30"),Re=Ve(s,"17:00"),Me=Ve(s,"18:30"),te=(me,jt)=>{if(jt&&(u==="calendar2"||u==="calendar3")){const Wt=et(s,me);if(Wt&&Wt.name)return`client: ${Wt.name}`}return me};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${g||$?"disabled":""} ${_&&$?"technicien-clickable":""}`,onClick:()=>{_&&$?we(s,"8:00"):!g&&!$&&xe(s,"8:00")},style:{cursor:_&&$?"pointer":g||$?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:$&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:$&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("8:00",$)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"8:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||z?"disabled":""} ${_&&z?"technicien-clickable":""}`,onClick:()=>{_&&z?we(s,"9:30"):!g&&!z&&xe(s,"9:30")},style:{cursor:_&&z?"pointer":g||z?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:z&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:z&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("9:30",z)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"9:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||K?"disabled":""} ${_&&K?"technicien-clickable":""}`,onClick:()=>{_&&K?we(s,"11:00"):!g&&!K&&xe(s,"11:00")},style:{cursor:_&&K?"pointer":g||K?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:K&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:K&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("11:00",K)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"11:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||ee?"disabled":""} ${_&&ee?"technicien-clickable":""}`,onClick:()=>{_&&ee?we(s,"12:30"):!g&&!ee&&xe(s,"12:30")},style:{cursor:_&&ee?"pointer":g||ee?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:ee&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:ee&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("12:30",ee)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"12:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||de?"disabled":""} ${_&&de?"technicien-clickable":""}`,onClick:()=>{_&&de?we(s,"14:00"):!g&&!de&&xe(s,"14:00")},style:{cursor:_&&de?"pointer":g||de?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:de&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:de&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("14:00",de)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"14:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||Ie?"disabled":""} ${_&&Ie?"technicien-clickable":""}`,onClick:()=>{_&&Ie?we(s,"15:30"):!g&&!Ie&&xe(s,"15:30")},style:{cursor:_&&Ie?"pointer":g||Ie?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:Ie&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:Ie&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("15:30",Ie)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"15:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||Re?"disabled":""} ${_&&Re?"technicien-clickable":""}`,onClick:()=>{_&&Re?we(s,"17:00"):!g&&!Re&&xe(s,"17:00")},style:{cursor:_&&Re?"pointer":g||Re?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:Re&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:Re&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("17:00",Re)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"17:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||Me?"disabled":""} ${_&&Me?"technicien-clickable":""}`,onClick:()=>{_&&Me?we(s,"18:30"):!g&&!Me&&xe(s,"18:30")},style:{cursor:_&&Me?"pointer":g||Me?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:Me&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:Me&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:te("18:30",Me)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:me=>qe(me,s,"18:30"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:me=>{me.stopPropagation(),ht(s,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:me=>{me.stopPropagation(),Qe(s,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const $=Ve(s,"8:00-11:00"),z=Ve(s,"11:00-14:00"),K=Ve(s,"14:00-17:00"),ee=(de,Ie)=>{if(Ie&&(u==="calendar2"||u==="calendar3")){const Re=et(s,de);if(Re&&Re.name)return`client: ${Re.name}`}return de};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${g||$?"disabled":""} ${_&&$?"technicien-clickable":""}`,onClick:()=>{_&&$?we(s,"8:00-11:00"):!g&&!$&&xe(s,"8:00-11:00")},style:{cursor:_&&$?"pointer":g||$?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:$&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:$&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:ee("8:00-11:00",$)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>qe(de,s,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"8:00-11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:de=>{de.stopPropagation(),ht(s,"8:00-11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:de=>{de.stopPropagation(),Qe(s,"8:00-11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||z?"disabled":""} ${_&&z?"technicien-clickable":""}`,onClick:()=>{_&&z?we(s,"11:00-14:00"):!g&&!z&&xe(s,"11:00-14:00")},style:{cursor:_&&z?"pointer":g||z?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:z&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:z&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:ee("11:00-14:00",z)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>qe(de,s,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"11:00-14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:de=>{de.stopPropagation(),ht(s,"11:00-14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:de=>{de.stopPropagation(),Qe(s,"11:00-14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${g||K?"disabled":""} ${_&&K?"technicien-clickable":""}`,onClick:()=>{_&&K?we(s,"14:00-17:00"):!g&&!K&&xe(s,"14:00-17:00")},style:{cursor:_&&K?"pointer":g||K?"not-allowed":"pointer"},children:[n.jsx("span",{style:{fontWeight:K&&(u==="calendar2"||u==="calendar3")?500:"normal",fontSize:K&&(u==="calendar2"||u==="calendar3")?"0.85rem":"inherit"},children:ee("14:00-17:00",K)}),n.jsxs("div",{className:"time-slot-actions",children:[Ge(s,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:de=>qe(de,s,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(at,{})}),(ue||X||F)&&st(s,"14:00-17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:de=>{de.stopPropagation(),ht(s,"14:00-17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:de=>{de.stopPropagation(),Qe(s,"14:00-17:00")},title:"Supprimer",children:""})]})]})]})]})})()})})]},`fifth-${C}`)})})]})]})}),fe&&n.jsx("div",{className:"calendar-info-popup",style:{position:"absolute",left:`${fe.x}px`,top:`${fe.y}px`,zIndex:1e3},onClick:s=>s.stopPropagation(),children:n.jsxs("div",{className:"calendar-info-popup-content",children:[n.jsx("button",{className:"calendar-info-popup-close",onClick:()=>Ee(null),"aria-label":"Fermer",children:""}),n.jsx("div",{className:"calendar-info-popup-title",children:"Rserve pour:"}),_&&n.jsxs("div",{style:{fontSize:"11px",color:"#fa541c",marginBottom:"8px",display:"flex",alignItems:"center",gap:"4px"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Cliquez sur un nom pour voir les dtails"})]}),n.jsx("div",{className:"calendar-info-popup-names",children:fe.bookings&&fe.bookings.length>0?fe.bookings.map((s,C)=>_?n.jsx("button",{onClick:w=>{w.stopPropagation(),ot(s),Ye(!0),Ee(null)},style:{display:"block",width:"100%",textAlign:"left",padding:"8px 12px",marginBottom:"4px",borderRadius:"6px",border:`1px solid ${d?"#333333":"#e5e7eb"}`,backgroundColor:d?"#0a0a0a":"#f9fafb",color:d?"#ffffff":"#111827",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.2s"},onMouseEnter:w=>{w.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f3f4f6",w.currentTarget.style.borderColor="#fa541c"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=d?"#0a0a0a":"#f9fafb",w.currentTarget.style.borderColor=d?"#333333":"#e5e7eb"},children:s.name},C):n.jsx("div",{children:s.name},C)):fe.names.map((s,C)=>n.jsx("div",{children:s},C))}),F&&fe&&Zt(fe.date,fe.timeSlot)&&n.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${d?"#333333":"#e5e7eb"}`,display:"flex",gap:"8px",justifyContent:"flex-end"},children:[n.jsxs("button",{onClick:s=>{s.stopPropagation(),Lr(fe.date,fe.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#fa541c",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(250, 84, 28, 0.3)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="#ff6b35",s.currentTarget.style.transform="translateY(-1px)",s.currentTarget.style.boxShadow="0 4px 8px rgba(250, 84, 28, 0.4)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="#fa541c",s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 2px 4px rgba(250, 84, 28, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Modifier"})]}),n.jsxs("button",{onClick:s=>{s.stopPropagation(),se(fe.date,fe.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:d?"#dc2626":"#ef4444",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=d?"#b91c1c":"#dc2626",s.currentTarget.style.transform="translateY(-1px)",s.currentTarget.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.4)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=d?"#dc2626":"#ef4444",s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Supprimer"})]})]})]})}),ke&&n.jsxs("div",{className:"booking-select-popup",style:{position:"fixed",left:Math.min(ke.x,window.innerWidth-280),top:ke.y,zIndex:1e4,backgroundColor:d?"#1a1a1a":"#ffffff",border:`1px solid ${d?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",padding:"12px",minWidth:"250px",maxWidth:"350px"},onClick:s=>s.stopPropagation(),children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:d?"#ffffff":"#111827",marginBottom:"12px",paddingBottom:"8px",borderBottom:`1px solid ${d?"#333333":"#e5e7eb"}`},children:ke.action==="edit"?" Slectionner une rservation  modifier":" Slectionner une rservation  supprimer"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"300px",overflowY:"auto"},children:ke.bookings.sort((s,C)=>s.name.localeCompare(C.name)).map((s,C)=>n.jsxs("button",{onClick:()=>Xe(s),style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",padding:"10px 12px",borderRadius:"8px",border:`1px solid ${d?"#333333":"#e5e7eb"}`,backgroundColor:d?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left"},onMouseEnter:w=>{w.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f0f0f0",w.currentTarget.style.borderColor="#fa541c"},onMouseLeave:w=>{w.currentTarget.style.backgroundColor=d?"#0a0a0a":"#f9fafb",w.currentTarget.style.borderColor=d?"#333333":"#e5e7eb"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:600,color:d?"#ffffff":"#111827"},children:[" ",s.name]}),n.jsxs("div",{style:{fontSize:"12px",color:d?"#9ca3af":"#6b7280"},children:[" ",s.phone]}),n.jsxs("div",{style:{fontSize:"11px",color:d?"#6b7280":"#9ca3af"},children:[" Concepteur: ",s.designer]})]},s.id||C))}),n.jsx("button",{onClick:()=>De(null),style:{marginTop:"12px",padding:"8px 16px",borderRadius:"6px",border:`1px solid ${d?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:d?"#9ca3af":"#6b7280",cursor:"pointer",fontSize:"13px",width:"100%",transition:"all 0.2s"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f0f0f0"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="transparent"},children:"Annuler"})]}),U&&L&&n.jsx(Al,{selectedDate:new Date(L.date+"T00:00:00"),selectedTimeSlot:L.time&&L.time!=="21h00"?L.time:void 0,onClose:()=>{Ce(!1),S(null)},onSubmit:Se,isDarkMode:d,initialData:{name:L.name,phone:L.phone,designer:L.designer,message:L.message},users:ue?J:[]}),n.jsx(Rg,{isOpen:q,onClose:()=>{Ye(!1),ot(null)},booking:tt,isDarkMode:d})]})};function lf({disableAnimations:a=!1,isAdminView:d=!1}){const i=bn(),[u,p]=f.useState(null),[m,y]=f.useState(void 0),[k,x]=f.useState(!1),[j,T]=f.useState(0),[H,E]=f.useState(null),[Q,b]=f.useState(null),[R,A]=f.useState(()=>{const F=localStorage.getItem("darkMode");return F?JSON.parse(F):!0}),[Z,G]=f.useState(!1),[pe,ye]=f.useState([]),ze=Wa("calendar3");f.useEffect(()=>{const F=sessionStorage.getItem("user");F&&JSON.parse(F).role==="admin"&&(G(!0),ue())},[]);const ue=async()=>{try{const F=await Gr();ye(F)}catch(F){console.error("Error loading users:",F)}};f.useEffect(()=>{T(F=>F+1)},[ze]),f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(R)),document.documentElement.setAttribute("data-theme",R?"dark":"light")},[R]),f.useEffect(()=>{const F=ie=>{const je=ie.detail.isDarkMode;je!==R&&A(je)};return window.addEventListener("darkModeChanged",F),()=>{window.removeEventListener("darkModeChanged",F)}},[R]),f.useEffect(()=>{if(Q){const F=setTimeout(()=>{b(null)},3e3);return()=>clearTimeout(F)}},[Q]);const ce=()=>{A(!R)},X=()=>{sessionStorage.removeItem("user"),i("/")},ve=(F,ie)=>{p(F),y(ie),x(!0)},_=()=>{x(!1),p(null),y(void 0)},ge=async F=>{console.log("Booking submitted:",F);try{b("Traitement de votre rservation..."),await fs(F,ze),await new Promise(ie=>setTimeout(ie,500)),b(null),E(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{T(ie=>ie+1)},300)}catch(ie){console.error("Booking submission error:",ie),b(null),ie instanceof Error&&ie.message?alert(` ${ie.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}_()};return n.jsxs("div",{className:`App ${R?"dark-mode":"light-mode"}`,children:[!a&&n.jsx(Il,{isDarkMode:R}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",style:{display:"grid",gridTemplateColumns:"auto 1fr auto",alignItems:"center",gap:"16px"},children:[n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",minWidth:"50px"},children:!d&&n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""})}),n.jsx("div",{style:{textAlign:"center"},children:d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - SAV"}),n.jsx("p",{children:"Gestion des rservations SAV"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de SAV"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"flex-end",minWidth:"100px"},children:[n.jsx("button",{onClick:ce,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${R?"#333333":"#e5e7eb"}`,backgroundColor:R?"#1a1a1a":"#ffffff",color:R?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.color=R?"#ffffff":"#111827",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.color=R?"#9ca3af":"#6b7280",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#ffffff"},children:R?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:X,style:{padding:"8px",borderRadius:"8px",backgroundColor:R?"#1a1a1a":"#ffffff",border:`1px solid ${R?"#333333":"#e5e7eb"}`,color:R?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:F=>{F.currentTarget.style.color=R?"#ffffff":"#111827",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.color=R?"#9ca3af":"#6b7280",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#ffffff"},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Ya,{onDateSelect:ve,isDarkMode:R,refreshTrigger:j,binId:ze,view:"weekly",timeSlotType:"numerical"})}),k&&u&&n.jsx(Al,{selectedDate:u,selectedTimeSlot:m,onClose:_,onSubmit:ge,isDarkMode:R,users:Z?pe:[]}),H&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:H}),n.jsx("button",{className:"notification-toast-button",onClick:()=>E(null),children:"j'ai compris"})]}),Q&&n.jsx("div",{className:"notification-toast",children:Q})]})}function af({disableAnimations:a=!1,isAdminView:d=!1}){const i=bn(),[u,p]=f.useState(null),[m,y]=f.useState(!1),[k,x]=f.useState(0),[j,T]=f.useState(null),[H,E]=f.useState(null),[Q,b]=f.useState(()=>{const D=localStorage.getItem("darkMode");return D?JSON.parse(D):!0}),[R,A]=f.useState(!1),[Z,G]=f.useState([]),[pe,ye]=f.useState([]),[ze,ue]=f.useState([]),ce=Wa("calendar1");f.useEffect(()=>{const D=sessionStorage.getItem("user");D&&JSON.parse(D).role==="admin"&&(A(!0),X())},[]);const X=async()=>{try{const D=await Gr();G(D)}catch(D){console.error("Error loading users:",D)}};f.useEffect(()=>{x(D=>D+1)},[ce]);const ve=async()=>{try{const[D,re]=await Promise.all([Kr(ce),So(ce)]);ye(D),ue(re)}catch(D){console.error("Error loading bookings/holidays:",D)}};f.useEffect(()=>{ve()},[ce,k]),f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(Q)),document.documentElement.setAttribute("data-theme",Q?"dark":"light")},[Q]),f.useEffect(()=>{const D=re=>{const L=re.detail.isDarkMode;L!==Q&&b(L)};return window.addEventListener("darkModeChanged",D),()=>{window.removeEventListener("darkModeChanged",D)}},[Q]),f.useEffect(()=>{if(H){const D=setTimeout(()=>{E(null)},3e3);return()=>clearTimeout(D)}},[H]);const _=()=>{b(!Q)},ge=()=>{sessionStorage.removeItem("user"),i("/")},F=D=>{p(D),y(!0)},ie=()=>{y(!1),p(null)},je=(D,re)=>{const L=new Date(D);return L.setDate(L.getDate()+re),L},He=D=>{const re=D.getFullYear(),L=String(D.getMonth()+1).padStart(2,"0"),S=String(D.getDate()).padStart(2,"0");return`${re}-${L}-${S}`},Ae=(D,re)=>{const L=[],S=Ee=>{const J=He(Ee);return ze.some(Fe=>Fe.holiday_date===J)},U=Ee=>Ee.getDay()===0,Ce=Ee=>S(Ee)||U(Ee),fe=(Ee,J=1)=>{let Fe=je(Ee,J),ke=0;const De=14;for(;Ce(Fe)&&ke<De;)Fe=je(Fe,1),ke++;return Fe};if(re===1)L.push(He(D));else if(re===2){L.push(He(D));const Ee=fe(D,1);L.push(He(Ee))}else if(re===3){L.push(He(D));const Ee=fe(D,1);L.push(He(Ee));const J=fe(Ee,1);L.push(He(J))}return L},Ke=async D=>{console.log("Booking submitted:",D);try{E("Traitement de votre rservation...");const re=parseInt(D.duree||"1")||1;if(re===1)await fs(D,ce);else{const S=Ae(D.selectedDate,re);console.log(`[Calendar1Page] Creating ${S.length} bookings for duration ${re}:`,S);for(const U of S){const Ce={...D,date:U};await fs(Ce,ce),await new Promise(fe=>setTimeout(fe,100))}}await new Promise(S=>setTimeout(S,500)),E(null);const L=re>1?` (${re} rservations cres)`:"";T(` Rservation confirme${L}.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart`),setTimeout(()=>{x(S=>S+1)},300)}catch(re){console.error("Booking submission error:",re),E(null),re instanceof Error&&re.message?alert(` ${re.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}ie()};return n.jsxs("div",{className:`App ${Q?"dark-mode":"light-mode"}`,children:[!a&&n.jsx(Il,{isDarkMode:Q}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",style:{display:"grid",gridTemplateColumns:"auto 1fr auto",alignItems:"center",gap:"16px"},children:[n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",minWidth:"80px"},children:!d&&n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""})}),n.jsx("div",{style:{textAlign:"center"},children:d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Pose"}),n.jsx("p",{children:"Gestion des rservations Pose"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Pose"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"flex-end",minWidth:"120px"},children:[n.jsx("button",{onClick:_,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${Q?"#333333":"#e5e7eb"}`,backgroundColor:Q?"#1a1a1a":"#ffffff",color:Q?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:D=>{D.currentTarget.style.color=Q?"#ffffff":"#111827",D.currentTarget.style.backgroundColor=Q?"#1a1a1a":"#f9fafb"},onMouseLeave:D=>{D.currentTarget.style.color=Q?"#9ca3af":"#6b7280",D.currentTarget.style.backgroundColor=Q?"#1a1a1a":"#ffffff"},children:Q?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:ge,style:{padding:"8px",borderRadius:"8px",backgroundColor:Q?"#1a1a1a":"#ffffff",border:`1px solid ${Q?"#333333":"#e5e7eb"}`,color:Q?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:D=>{D.currentTarget.style.color=Q?"#ffffff":"#111827",D.currentTarget.style.backgroundColor=Q?"#1a1a1a":"#f9fafb"},onMouseLeave:D=>{D.currentTarget.style.color=Q?"#9ca3af":"#6b7280",D.currentTarget.style.backgroundColor=Q?"#1a1a1a":"#ffffff"},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Ya,{onDateSelect:F,isDarkMode:Q,refreshTrigger:k,binId:ce,view:"monthly",showTimeSlots:!1,timeSlotType:"basic"})}),m&&u&&n.jsx(Al,{selectedDate:u,onClose:ie,onSubmit:Ke,isDarkMode:Q,users:R?Z:[],existingBookings:pe.map(D=>({date:D.date})),holidays:ze.map(D=>({holiday_date:D.holiday_date})),maxBookingsPerDay:2,showDurationField:!0}),j&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:j}),n.jsx("button",{className:"notification-toast-button",onClick:()=>T(null),children:"j'ai compris"})]}),H&&n.jsx("div",{className:"notification-toast",children:H})]})}function cf({disableAnimations:a=!1,isAdminView:d=!1}){const i=bn(),[u,p]=f.useState(null),[m,y]=f.useState(void 0),[k,x]=f.useState(!1),[j,T]=f.useState(0),[H,E]=f.useState(null),[Q,b]=f.useState(null),[R,A]=f.useState(()=>{const F=localStorage.getItem("darkMode");return F?JSON.parse(F):!0}),[Z,G]=f.useState(!1),[pe,ye]=f.useState([]),ze=Wa("calendar2");f.useEffect(()=>{const F=sessionStorage.getItem("user");F&&JSON.parse(F).role==="admin"&&(G(!0),ue())},[]);const ue=async()=>{try{const F=await Gr();ye(F)}catch(F){console.error("Error loading users:",F)}};f.useEffect(()=>{T(F=>F+1)},[ze]),f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(R)),document.documentElement.setAttribute("data-theme",R?"dark":"light")},[R]),f.useEffect(()=>{const F=ie=>{const je=ie.detail.isDarkMode;je!==R&&A(je)};return window.addEventListener("darkModeChanged",F),()=>{window.removeEventListener("darkModeChanged",F)}},[R]),f.useEffect(()=>{if(Q){const F=setTimeout(()=>{b(null)},3e3);return()=>clearTimeout(F)}},[Q]);const ce=()=>{A(!R)},X=()=>{sessionStorage.removeItem("user"),i("/")},ve=(F,ie)=>{p(F),y(ie),x(!0)},_=()=>{x(!1),p(null),y(void 0)},ge=async F=>{console.log("Booking submitted:",F);try{b("Traitement de votre rservation..."),await fs(F,ze),await new Promise(ie=>setTimeout(ie,500)),b(null),E(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{T(ie=>ie+1)},300)}catch(ie){console.error("Booking submission error:",ie),b(null),ie instanceof Error&&ie.message?alert(` ${ie.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}_()};return n.jsxs("div",{className:`App ${R?"dark-mode":"light-mode"}`,children:[!a&&n.jsx(Il,{isDarkMode:R}),!d&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${d?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",style:{display:"grid",gridTemplateColumns:"auto 1fr auto",alignItems:"center",gap:"16px"},children:[n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",minWidth:"50px"},children:!d&&n.jsx("button",{className:"home-button",onClick:()=>i("/"),"aria-label":"Home",title:"Accueil",children:""})}),n.jsx("div",{style:{textAlign:"center"},children:d?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Metr"}),n.jsx("p",{children:"Gestion des rservations Metr"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Metr"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"flex-end",minWidth:"100px"},children:[n.jsx("button",{onClick:ce,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${R?"#333333":"#e5e7eb"}`,backgroundColor:R?"#1a1a1a":"#ffffff",color:R?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.color=R?"#ffffff":"#111827",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.color=R?"#9ca3af":"#6b7280",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#ffffff"},children:R?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:X,style:{padding:"8px",borderRadius:"8px",backgroundColor:R?"#1a1a1a":"#ffffff",border:`1px solid ${R?"#333333":"#e5e7eb"}`,color:R?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:F=>{F.currentTarget.style.color=R?"#ffffff":"#111827",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.color=R?"#9ca3af":"#6b7280",F.currentTarget.style.backgroundColor=R?"#1a1a1a":"#ffffff"},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Ya,{onDateSelect:ve,isDarkMode:R,refreshTrigger:j,binId:ze,view:"weekly",timeSlotType:"sav"})}),k&&u&&n.jsx(Al,{selectedDate:u,selectedTimeSlot:m,onClose:_,onSubmit:ge,isDarkMode:R,users:Z?pe:[]}),H&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:H}),n.jsx("button",{className:"notification-toast-button",onClick:()=>E(null),children:"j'ai compris"})]}),Q&&n.jsx("div",{className:"notification-toast",children:Q})]})}const Bl=async()=>{const a=[],d=Date.now(),i=d-1440*60*1e3,u=d-10080*60*1e3;try{const m=Object.values(nt).map(k=>Kr(k).then(x=>({calendarId:k,bookings:x})));(await Promise.all(m)).forEach(({calendarId:k,bookings:x})=>{x.forEach(j=>{if(j.timestamp>i){const T=pn(k);a.push({id:`booking-${j.id}`,type:"booking",title:"Nouvelle rservation",message:`${j.name} - ${T}`,timestamp:j.timestamp,data:{...j,calendarId:k}})}})})}catch(p){console.error("Error loading booking notifications:",p)}try{const m=Object.values(nt).map(k=>So(k).then(x=>({calendarId:k,holidays:x})));(await Promise.all(m)).forEach(({calendarId:k,holidays:x})=>{x.forEach(j=>{const T=new Date(j.created_at).getTime();if(T>u){const H=pn(k);a.push({id:`holiday-${j.id}`,type:"holiday",title:"Nouveau jour fri",message:`${H} - ${j.holiday_date}`,timestamp:T,data:{...j,calendarId:k}})}})})}catch(p){console.error("Error loading holiday notifications:",p)}return a.sort((p,m)=>m.timestamp-p.timestamp),a},Dg=a=>{const i=Date.now()-10080*60*1e3,u=[];return a.forEach(p=>{const m=new Date(p.createdAt).getTime();m>i&&u.push({id:`user-${p.id}`,type:"user",title:"Nouvel utilisateur",message:`${p.name} (${p.role})`,timestamp:m,data:p})}),u.sort((p,m)=>m.timestamp-p.timestamp)},Fl=a=>{const i=Date.now()-a,u=Math.floor(i/6e4),p=Math.floor(i/36e5),m=Math.floor(i/864e5);return u<1?" l'instant":u<60?`Il y a ${u} min`:p<24?`Il y a ${p} h`:m<7?`Il y a ${m} j`:new Date(a).toLocaleDateString("fr-FR")};function ws(){const a=bn(),d=mn(),[i,u]=f.useState(()=>{const s=localStorage.getItem("darkMode");return s?JSON.parse(s):!0}),[p,m]=f.useState(!0),[y,k]=f.useState(!1),[x,j]=f.useState(!1),[T,H]=f.useState(!1),[E,Q]=f.useState(!1),[b,R]=f.useState(!1),[A,Z]=f.useState([]),[G,pe]=f.useState(!0),[ye,ze]=f.useState([]),[ue,ce]=f.useState(!0),[X,ve]=f.useState(!0),[_,ge]=f.useState(0),[F,ie]=f.useState(0),[je,He]=f.useState(0),[Ae,Ke]=f.useState(0),[D,re]=f.useState(0),[L,S]=f.useState([]),[U,Ce]=f.useState([]),[fe,Ee]=f.useState([]),[J,Fe]=f.useState(0),[ke,De]=f.useState(0),[tt,ot]=f.useState(0),[q,Ye]=f.useState(0),[Y,Be]=f.useState(null),[Ze,lt]=f.useState(!1),[Pe,it]=f.useState(0),[Mt,xe]=f.useState([]),[we,Ht]=f.useState("month"),[gn,Nn]=f.useState(0),[En,I]=f.useState(0),[he,ut]=f.useState("month"),[vt,Ue]=f.useState(0),[Ve,et]=f.useState(0),[$t,xn]=f.useState(0),Ge=(s,C)=>{if(!s||s.length===0)return[];const w=new Date,P=w.getFullYear(),g=w.getMonth(),O=P+$t,$=new Date(w),z=$.getDay(),K=(z===0?-6:1)-z;$.setDate($.getDate()+K),$.setHours(0,0,0,0);const ee=new Date($);ee.setDate($.getDate()+6),ee.setHours(23,59,59,999);const de=s.filter(Re=>{const Me=new Date(Re.date+"T00:00:00");if(Number.isNaN(Me.getTime()))return!1;if(C==="total")return!0;if(C==="year")return Me.getFullYear()===O;if(C==="month"){const jt=new Date(P,g+vt,1);return Me.getFullYear()===jt.getFullYear()&&Me.getMonth()===jt.getMonth()}const te=new Date($);te.setDate($.getDate()+Ve*7),te.setHours(0,0,0,0);const me=new Date(te);return me.setDate(te.getDate()+6),me.setHours(23,59,59,999),Me>=te&&Me<=me}),Ie={};return de.forEach(Re=>{const Me=Re.designer||Re.name||"Inconnu",te=Ie[Me]||{pose:0,sav:0,metre:0,total:0},me=Re.calendarId;me==="calendar1"?te.pose+=1:me==="calendar2"?te.metre+=1:me==="calendar3"&&(te.sav+=1),te.total=te.pose+te.sav+te.metre,Ie[Me]=te}),Object.entries(Ie).map(([Re,Me])=>({name:Re,...Me})).sort((Re,Me)=>Me.total-Re.total).slice(0,10)};f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light");const s=sessionStorage.getItem("user");if(s){const C=JSON.parse(s);H(C.role==="admin"),Q(C.role==="technicien")}},[i]),f.useEffect(()=>{const s=setTimeout(()=>{setTimeout(()=>R(!0),300)},300);return()=>clearTimeout(s)},[]),f.useEffect(()=>{const s=()=>{j(window.innerWidth<=768),window.innerWidth>768&&k(!1)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),f.useEffect(()=>{k(!1)},[d.pathname]),f.useEffect(()=>(y?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[y]),f.useEffect(()=>{(async()=>{try{pe(!0),ce(!0);const w=["calendar1","calendar2","calendar3"].map(async _t=>{try{return(await Kr(_t)).map(Ol=>({...Ol,calendarId:_t}))}catch(dt){return console.warn(`Failed to fetch bookings for ${_t}:`,dt),[]}}),P=await Promise.all(w),g=P.flat(),O=P[0]?.length||0,$=P[1]?.length||0,z=P[2]?.length||0;ge(g.length),Ke(O),He(z),re($);const K=new Date,ee=K.getMonth(),de=K.getFullYear(),Ie=new Date(de,ee+1,0).getDate(),Re=P[0]?.filter(_t=>{const dt=new Date(_t.date);return dt.getMonth()===ee&&dt.getFullYear()===de})||[],Me=P[1]?.filter(_t=>{const dt=new Date(_t.date);return dt.getMonth()===ee&&dt.getFullYear()===de})||[],te=P[2]?.filter(_t=>{const dt=new Date(_t.date);return dt.getMonth()===ee&&dt.getFullYear()===de})||[],me=Ie*2,jt=Ie*8,Wt=Ie*3,Gn=me+jt+Wt,yt=me>0?Math.round(Re.length/me*100):0,ur=jt>0?Math.round(Me.length/jt*100):0,Dr=Wt>0?Math.round(te.length/Wt*100):0,qr=Re.length+Me.length+te.length,en=Gn>0?Math.round(qr/Gn*100):0;De(yt),ot(ur),Ye(Dr),Fe(en),Ee(g);const dr=g.sort((_t,dt)=>dt.timestamp-_t.timestamp).slice(0,10);Z(dr);const Xr=g.filter(_t=>_t.calendarId==="calendar3"),An={};Xr.forEach(_t=>{const dt=_t.name;dt&&(An[dt]=(An[dt]||0)+1)});const tn=Object.entries(An).map(([_t,dt])=>({name:_t,count:dt})).sort((_t,dt)=>dt.count-_t.count).slice(0,10);ze(tn),Ce(Ge(g,he))}catch(C){console.error("Error loading bookings data:",C),ze([]),Ce([])}finally{pe(!1),ce(!1)}})()},[]),f.useEffect(()=>{if(fe.length===0){S([]);return}const s=["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Aot","Sep","Oct","Nov","Dc"],C=[],w=new Date,P=new Date(w.getFullYear(),w.getMonth()+gn,1),g=P.getMonth(),O=P.getFullYear(),$=new Date(O,g+1,0).getDate();if(we==="month"){let z=0,K=0,ee=0;for(let de=1;de<=$;de++){const Ie=fe.filter(jt=>{const Wt=jt.date.split("-");if(Wt.length===3){const Gn=parseInt(Wt[0],10),yt=parseInt(Wt[1],10)-1,ur=parseInt(Wt[2],10);return yt===g&&Gn===O&&ur===de}return!1}),Re=Ie.filter(jt=>jt.calendarId==="calendar2").length,Me=Ie.filter(jt=>jt.calendarId==="calendar1").length,te=Ie.filter(jt=>jt.calendarId==="calendar3").length;z+=Re,K+=Me,ee+=te;const me=de===1||de===$?`${de} ${s[g]}`:"";C.push({month:me,Metr:Re,Pose:Me,SAV:te,day:de,cumulMetr:z,cumulPose:K,cumulSAV:ee})}}else{const z=new Date,K=new Date(z),ee=z.getDay(),de=ee===0?-6:1-ee;K.setDate(z.getDate()+de+En*7),K.setHours(0,0,0,0);let Ie=0,Re=0,Me=0;for(let te=0;te<7;te++){const me=new Date(K);me.setDate(K.getDate()+te);const jt=fe.filter(en=>{const dr=en.date.split("-");if(dr.length===3){const Xr=parseInt(dr[0],10),An=parseInt(dr[1],10)-1,tn=parseInt(dr[2],10);return An===me.getMonth()&&Xr===me.getFullYear()&&tn===me.getDate()}return!1}),Wt=jt.filter(en=>en.calendarId==="calendar2").length,Gn=jt.filter(en=>en.calendarId==="calendar1").length,yt=jt.filter(en=>en.calendarId==="calendar3").length;Ie+=Wt,Re+=Gn,Me+=yt;const ur=me.getDate(),Dr=s[me.getMonth()],qr=`${ur} ${Dr}`;C.push({month:qr,Metr:Wt,Pose:Gn,SAV:yt,day:ur,cumulMetr:Ie,cumulPose:Re,cumulSAV:Me})}}S(C)},[fe,we,gn,En]),f.useEffect(()=>{Ce(Ge(fe,he))},[fe,he,vt,Ve,$t]),f.useEffect(()=>{(async()=>{try{const C=await Gr();ie(C.length)}catch(C){console.error("Error loading users count:",C),ie(0)}})()},[]);const qe=async()=>{try{const s=await Bl();xe(s),it(s.length)}catch(s){console.error("Error loading notifications:",s)}};f.useEffect(()=>{qe();const s=setInterval(qe,6e4),C=()=>qe();return window.addEventListener("notificationRefresh",C),()=>{clearInterval(s),window.removeEventListener("notificationRefresh",C)}},[]),f.useEffect(()=>{const s=C=>{const w=C.target;Ze&&!w.closest("[data-notifications-dropdown]")&&lt(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[Ze]);const $n=L.length>0?Math.max(...L.flatMap(s=>[s.Metr,s.Pose,s.SAV]),1):5,At=Math.max(5,Math.ceil($n/5)*5),pt=s=>Math.min(380,Math.max(0,s)),st=s=>{const w=Date.now()-s,P=Math.floor(w/6e4),g=Math.floor(w/36e5),O=Math.floor(w/864e5);return P<1?" l'instant":P<60?`Il y a ${P} min`:g<24?`Il y a ${g} h`:O<7?`Il y a ${O} j`:new Date(s).toLocaleDateString("fr-FR")},Zt=()=>{const s=!i;u(s),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{isDarkMode:s}}))},Lr=()=>{sessionStorage.removeItem("user"),a("/")},[se,cr]=f.useState(()=>localStorage.getItem("accentColor")||"#fa541c");f.useEffect(()=>{const s=()=>{const w=localStorage.getItem("accentColor");w&&(cr(w),document.documentElement.style.setProperty("--accent-color",w))};window.addEventListener("settingsUpdated",s),window.addEventListener("storage",s);const C=localStorage.getItem("accentColor");return C&&(cr(C),document.documentElement.style.setProperty("--accent-color",C)),()=>{window.removeEventListener("settingsUpdated",s),window.removeEventListener("storage",s)}},[]);const ht=i?"#000000":"#f5f5f5",Qe=i?"#1a1a1a":"#ffffff",Xe=i?"#ffffff":"#111827",Se=i?"#9ca3af":"#6b7280",Ne=i?"#333333":"#e5e7eb",Rr=Ze?bm.createPortal(n.jsxs("div",{"data-notifications-dropdown":!0,className:"notifications-dropdown",style:{position:"fixed",top:x?"60px":"72px",right:x?"12px":"24px",width:x?"min(420px, calc(100vw - 24px))":"380px",maxHeight:"70vh",backgroundColor:Qe,border:`1px solid ${Ne}`,borderRadius:"12px",boxShadow:"0 24px 60px rgba(0, 0, 0, 0.45)",zIndex:999999,overflow:"hidden",display:"flex",flexDirection:"column",isolation:"isolate",pointerEvents:"auto"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${Ne}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:Xe},children:"Notifications"}),Pe>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[Pe," nouvelle",Pe>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:Mt.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:Se},children:"Aucune notification"}):Mt.slice(0,10).map(s=>{const C=Fl(s.timestamp),w=()=>{if(s.type==="booking"){const $=s.data,z=pn($.calendarId);return{subtitle:`${$.name} - ${z}`,details:`${$.date} ${$.time&&$.time!=="21h00"?` ${$.time}`:""}`,onClick:()=>{lt(!1),a("/rservation",{state:{highlightBookingId:$.id,calendarId:$.calendarId}})}}}else if(s.type==="holiday"){const $=s.data,z=pn($.calendarId),K=de=>new Date(de+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ee=$.date_range?`Du ${K($.date_range[0])} au ${K($.date_range[1])}`:K($.date);return{subtitle:`${$.title} - ${z}`,details:ee,onClick:()=>{lt(!1),a("/jours-feries")}}}return{subtitle:"",details:"",onClick:void 0}},{subtitle:P,details:g,onClick:O}=w();return n.jsxs("div",{onClick:O,style:{padding:"14px 16px",borderBottom:`1px solid ${Ne}`,display:"flex",flexDirection:"column",gap:"6px",backgroundColor:i?"#0f172a":"#f8fafc",cursor:O?"pointer":"default",transition:"background-color 0.2s ease"},onMouseEnter:$=>{$.currentTarget.style.backgroundColor=i?"#111827":"#eef2ff"},onMouseLeave:$=>{$.currentTarget.style.backgroundColor=i?"#0f172a":"#f8fafc"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{fontWeight:700,color:Xe},children:s.title}),n.jsx("span",{style:{fontSize:"12px",color:Se},children:C})]}),P&&n.jsx("span",{style:{color:Se,fontSize:"13px"},children:P}),g&&n.jsx("span",{style:{color:Se,fontSize:"12px"},children:g}),n.jsx("span",{style:{color:"#10b981",fontSize:"12px",fontWeight:600},children:"Voir le dtail"})]},s.id)})}),n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${Ne}`,display:"flex",justifyContent:"flex-end"},children:n.jsx("button",{onClick:()=>{lt(!1),a("/notifications")},style:{padding:"10px 14px",backgroundColor:i?"#111827":"#f3f4f6",border:`1px solid ${Ne}`,borderRadius:"8px",color:Xe,cursor:"pointer",fontWeight:600,fontSize:"13px"},children:"Voir toutes les notifications"})})]}),document.body):null;return n.jsxs("div",{className:"dashboard-container",style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:ht},children:[y&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>k(!1),style:{display:x?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),x&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${Ne}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>k(!y),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:Xe,zIndex:1001,position:"relative"},"aria-label":y?"Fermer le menu":"Ouvrir le menu",children:y?n.jsx(ks,{size:24}):n.jsx(vs,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${se} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ct,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:Xe},children:"Tableau de Bord"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[!E&&n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>lt(!Ze),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:"transparent",border:"none",color:Se,cursor:"pointer"},children:[n.jsx(_r,{style:{width:"20px",height:"20px"}}),Pe>0&&n.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",minWidth:"16px",height:"16px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:600,color:"#ffffff"},children:Pe>99?"99+":Pe})]}),n.jsx("button",{onClick:Zt,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:Se,cursor:"pointer"},children:i?n.jsx(zt,{style:{width:"18px",height:"18px"}}):n.jsx(It,{style:{width:"18px",height:"18px"}})})]})]}),n.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
      `}),n.jsxs("nav",{className:`dashboard-sidebar ${y?"mobile-open":""}`,style:{position:x?"fixed":"sticky",top:x?"60px":0,left:0,height:x?"calc(100vh - 60px)":"100vh",width:x?"280px":p?"256px":"64px",borderRight:`1px solid ${Ne}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:x?y?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${Ne}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${se} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:Xe},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:Se},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Un,{Icon:ys,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:p,onClick:()=>a("/dashboard"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se}),T&&n.jsx(Un,{Icon:xs,title:"Rservation",isActive:d.pathname==="/rservation",open:p,onClick:()=>a("/rservation"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se}),T&&n.jsx(Un,{Icon:wo,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:p,onClick:()=>a("/jours-feries"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se}),T&&n.jsx(Un,{Icon:Co,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:p,onClick:()=>a("/utilisateurs"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se}),n.jsxs("button",{onClick:()=>ve(!X),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:Se,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",s.currentTarget.style.color=Xe},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color=Se},children:[n.jsx(ct,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),X?n.jsx(js,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ms,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),(T||E)&&X&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Un,{Icon:ct,title:"Metr",isActive:d.pathname==="/metre",open:p,onClick:()=>a("/metre"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se}),n.jsx(Un,{Icon:ct,title:"Pose",isActive:d.pathname==="/pose",open:p,onClick:()=>a("/pose"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se}),n.jsx(Un,{Icon:ct,title:"SAV",isActive:d.pathname==="/sav",open:p,onClick:()=>a("/sav"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${Ne}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:Se,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Un,{Icon:i?zt:It,title:i?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:Zt,isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se}),n.jsx(Un,{Icon:Qr,title:"Paramtres",isActive:d.pathname==="/parametres",open:p,onClick:()=>a("/parametres"),isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se})]}),n.jsx("div",{style:{borderTop:`1px solid ${Ne}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Un,{Icon:hn,title:"Dconnexion",isActive:!1,open:p,onClick:Lr,isDarkMode:i,orangeColor:se,textColor:Xe,textSecondary:Se})}),n.jsxs("button",{onClick:()=>m(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${Ne}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:Se,transition:"background-color 0.2s",height:"48px"},onMouseEnter:s=>s.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:s=>s.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(gs,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{className:"dashboard-main",style:{flex:1,overflow:"visible",backgroundColor:ht,display:"flex",flexDirection:"column",paddingTop:x?"60px":0},children:d.pathname==="/calendrier"?n.jsx(ef,{disableAnimations:!0,isAdminView:!0}):d.pathname==="/metre"?n.jsx(cf,{disableAnimations:!0,isAdminView:!0}):d.pathname==="/pose"?n.jsx(af,{disableAnimations:!0,isAdminView:!0}):d.pathname==="/sav"?n.jsx(lf,{disableAnimations:!0,isAdminView:!0}):n.jsxs("div",{className:"dashboard-content",style:{padding:x?"16px":"24px",flex:1,display:"flex",flexDirection:"column",minHeight:0},children:[n.jsxs("div",{className:"dashboard-header",style:{display:"flex",alignItems:x?"flex-start":"center",justifyContent:"space-between",marginBottom:x?"20px":"32px",animation:"fadeInDown 0.5s ease-out",flexDirection:x?"column":"row",gap:x?"16px":"0"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{fontSize:"30px",fontWeight:700,color:Xe,marginBottom:"4px"},children:"Tableau de Bord"}),n.jsx("p",{style:{fontSize:"16px",color:Se,marginTop:"4px"},children:"Bienvenue sur votre tableau de bord"})]}),n.jsxs("div",{className:"header-actions",style:{display:x?"none":"flex",alignItems:"center",gap:"16px",position:"relative"},children:[!E&&n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>lt(!Ze),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:Qe,border:`1px solid ${Ne}`,color:Se,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:s=>{s.currentTarget.style.color=Xe,s.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:s=>{s.currentTarget.style.color=Se,s.currentTarget.style.backgroundColor=Qe},children:[n.jsx(_r,{style:{width:"20px",height:"20px"}}),Pe>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:Pe>99?"99+":Pe})]}),Rr,!1,n.jsx("button",{onClick:Zt,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${Ne}`,backgroundColor:Qe,color:Se,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:s=>{s.currentTarget.style.color=Xe,s.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:s=>{s.currentTarget.style.color=Se,s.currentTarget.style.backgroundColor=Qe},children:i?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:Lr,style:{padding:"8px",borderRadius:"8px",backgroundColor:Qe,border:`1px solid ${Ne}`,color:Se,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:s=>{s.currentTarget.style.color=Xe,s.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:s=>{s.currentTarget.style.color=Se,s.currentTarget.style.backgroundColor=Qe},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]}),n.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:x?"1fr":"repeat(auto-fit, minmax(220px, 1fr))",gap:x?"12px":"24px",marginBottom:x?"20px":"32px",animation:"fadeInUp 0.6s ease-out"},children:[n.jsx($l,{title:"Taux d'engorgement",value:`${J} %`,change:`Pose: ${ke}% | SAV: ${q}% | Metr: ${tt}%`,Icon:sg,iconBg:i?`${se}30`:`${se}20`,iconColor:se,cardBg:Qe,textColor:Xe,textSecondary:Se,borderColor:Ne}),n.jsx($l,{title:"Utilisateurs",value:F.toLocaleString("fr-FR"),change:"Comptes enregistrs",Icon:Co,iconBg:i?"#10b98130":"#10b98120",iconColor:"#10b981",cardBg:Qe,textColor:Xe,textSecondary:Se,borderColor:Ne}),n.jsx($l,{title:"Total Rservations",value:_.toLocaleString("fr-FR"),change:`Pose: ${Ae} | SAV: ${je} | Metr: ${D}`,Icon:wo,iconBg:i?"#8b5cf630":"#8b5cf620",iconColor:"#8b5cf6",cardBg:Qe,textColor:Xe,textSecondary:Se,borderColor:Ne}),n.jsx($l,{title:"Rservations SAV",value:je.toLocaleString("fr-FR"),change:"Interventions SAV",Icon:ct,iconBg:i?`${se}30`:`${se}20`,iconColor:se,cardBg:Qe,textColor:Xe,textSecondary:Se,borderColor:Ne})]}),n.jsxs("div",{className:"content-grid",style:{display:"grid",gridTemplateColumns:x?"1fr":"2fr 1fr",gridTemplateRows:"auto auto",gap:x?"16px":"32px",animation:"fadeInUp 0.8s ease-out",flex:1,minHeight:0},children:[n.jsxs("div",{style:{backgroundColor:Qe,borderRadius:"16px",padding:"24px",border:`1px solid ${Ne}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 1s ease-out",transition:"all 0.3s ease",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",s.currentTarget.style.borderColor=Ne==="#333333"?"#444444":"#d1d5db"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",s.currentTarget.style.borderColor=Ne},children:[n.jsxs("div",{className:"chart-header",style:{display:"flex",justifyContent:"space-between",alignItems:x?"flex-start":"center",marginBottom:"20px",flexDirection:x?"column":"row",gap:x?"12px":"0"},children:[n.jsx("h3",{style:{fontSize:x?"16px":"20px",fontWeight:600,color:Xe,margin:0},children:"volution des Rservations"}),n.jsxs("div",{className:"chart-controls",style:{display:"flex",gap:"8px",backgroundColor:i?"#1a1a1a":"#f5f5f5",borderRadius:"8px",padding:"4px",border:`1px solid ${Ne}`,width:x?"100%":"auto",justifyContent:x?"center":"flex-start"},children:[n.jsx("button",{onClick:()=>Ht("month"),style:{padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:we==="month"?se:"transparent",color:we==="month"?"#ffffff":Se,cursor:"pointer",fontSize:"13px",fontWeight:we==="month"?600:500,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:s=>{we!=="month"&&(s.currentTarget.style.backgroundColor=i?"#2a2a2a":"#e5e7eb")},onMouseLeave:s=>{we!=="month"&&(s.currentTarget.style.backgroundColor="transparent")},children:"Par mois"}),n.jsx("button",{onClick:()=>{Ht("week"),Nn(0),I(0)},style:{padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:we==="week"?se:"transparent",color:we==="week"?"#ffffff":Se,cursor:"pointer",fontSize:"13px",fontWeight:we==="week"?600:500,transition:"all 0.2s",whiteSpace:"nowrap"},onMouseEnter:s=>{we!=="week"&&(s.currentTarget.style.backgroundColor=i?"#2a2a2a":"#e5e7eb")},onMouseLeave:s=>{we!=="week"&&(s.currentTarget.style.backgroundColor="transparent")},children:"Par semaine"})]})]}),we==="month"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>Nn(s=>s-1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ne}`,backgroundColor:i?"#262626":"#ffffff",color:Se,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=se,s.currentTarget.style.color="#ffffff",s.currentTarget.style.borderColor=se},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",s.currentTarget.style.color=Se,s.currentTarget.style.borderColor=Ne},children:""}),n.jsx("div",{style:{minWidth:"180px",textAlign:"center",fontSize:"15px",fontWeight:600,color:Xe,padding:"8px 20px",borderRadius:"20px",backgroundColor:i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",border:`1px solid ${Ne}`},children:(()=>{const s=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],C=new Date,w=new Date(C.getFullYear(),C.getMonth()+gn,1);return`${s[w.getMonth()]} ${w.getFullYear()}`})()}),n.jsx("button",{onClick:()=>Nn(s=>s+1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ne}`,backgroundColor:i?"#262626":"#ffffff",color:Se,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=se,s.currentTarget.style.color="#ffffff",s.currentTarget.style.borderColor=se},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",s.currentTarget.style.color=Se,s.currentTarget.style.borderColor=Ne},children:""}),gn!==0&&n.jsx("button",{onClick:()=>Nn(0),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:se,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s",marginLeft:"4px",boxShadow:`0 2px 8px ${se}40`},onMouseEnter:s=>{s.currentTarget.style.transform="scale(1.05)",s.currentTarget.style.boxShadow=`0 4px 12px ${se}60`},onMouseLeave:s=>{s.currentTarget.style.transform="scale(1)",s.currentTarget.style.boxShadow=`0 2px 8px ${se}40`},children:"Ce mois"})]}),we==="week"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:[n.jsx("button",{onClick:()=>I(s=>s-1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ne}`,backgroundColor:i?"#262626":"#ffffff",color:Se,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=se,s.currentTarget.style.color="#ffffff",s.currentTarget.style.borderColor=se},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",s.currentTarget.style.color=Se,s.currentTarget.style.borderColor=Ne},children:""}),n.jsx("div",{style:{minWidth:"180px",textAlign:"center",fontSize:"15px",fontWeight:600,color:Xe,padding:"8px 20px",borderRadius:"20px",backgroundColor:i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",border:`1px solid ${Ne}`},children:(()=>{const s=new Date,C=new Date(s),w=s.getDay(),P=w===0?-6:1-w;C.setDate(s.getDate()+P+En*7);const g=new Date(C);g.setDate(C.getDate()+6);const O=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],$=C.getDate(),z=g.getDate(),K=O[C.getMonth()],ee=O[g.getMonth()];return K===ee?`${$}-${z} ${K}`:`${$} ${K} - ${z} ${ee}`})()}),n.jsx("button",{onClick:()=>I(s=>s+1),style:{width:"36px",height:"36px",borderRadius:"50%",border:`1px solid ${Ne}`,backgroundColor:i?"#262626":"#ffffff",color:Se,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"18px",fontWeight:500},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=se,s.currentTarget.style.color="#ffffff",s.currentTarget.style.borderColor=se},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=i?"#262626":"#ffffff",s.currentTarget.style.color=Se,s.currentTarget.style.borderColor=Ne},children:""}),En!==0&&n.jsx("button",{onClick:()=>I(0),style:{padding:"8px 16px",borderRadius:"20px",border:"none",backgroundColor:se,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:600,transition:"all 0.2s",marginLeft:"4px",boxShadow:`0 2px 8px ${se}40`},onMouseEnter:s=>{s.currentTarget.style.transform="scale(1.05)",s.currentTarget.style.boxShadow=`0 4px 12px ${se}60`},onMouseLeave:s=>{s.currentTarget.style.transform="scale(1)",s.currentTarget.style.boxShadow=`0 2px 8px ${se}40`},children:"Cette semaine"})]}),n.jsxs("div",{className:"chart-legend",style:{display:"flex",gap:x?"8px":"16px",marginBottom:x?"16px":"24px",flexWrap:"wrap",justifyContent:x?"center":"flex-start"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6",boxShadow:"0 0 6px rgba(59, 130, 246, 0.6)"}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:"#3b82f6"},children:"Metr"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?`${se}15`:`${se}10`,border:`1px solid ${se}30`},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:se,boxShadow:`0 0 6px ${se}80`}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:se},children:"Pose"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",borderRadius:"20px",backgroundColor:i?"rgba(16, 185, 129, 0.1)":"rgba(16, 185, 129, 0.08)",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#10b981",boxShadow:"0 0 6px rgba(16, 185, 129, 0.6)"}}),n.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:"#10b981"},children:"SAV"})]})]}),n.jsx("div",{className:"chart-container",style:{position:"relative",width:"100%",flex:1,minHeight:x?"300px":"420px",overflow:"visible"},children:L.length===0?n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"420px",color:Se,fontSize:"16px",flexDirection:"column",gap:"12px"},children:[n.jsx(ct,{style:{width:"48px",height:"48px",opacity:.5}}),n.jsx("span",{children:"Aucune rservation pour afficher le graphique"})]}):n.jsxs("svg",{width:"100%",height:"100%",style:{overflow:"visible"},viewBox:"0 0 900 430",preserveAspectRatio:"xMidYMid meet",children:[[0,1,2,3,4,5].map(s=>{const C=s/5*380+10;return n.jsx("line",{x1:"60",y1:C,x2:"860",y2:C,stroke:i?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)",strokeWidth:"1",style:{animation:b?`fadeIn 0.5s ease-out ${s*.05}s both`:"none"}},`grid-${s}`)}),[0,1,2,3,4,5].map(s=>{const C=Math.round(At/5*(5-s)),w=s/5*380+10;return n.jsx("g",{children:n.jsx("text",{x:"50",y:w+4,textAnchor:"end",fontSize:"11",fontWeight:"500",fill:Se,style:{animation:b?`fadeIn 0.5s ease-out ${s*.05}s both`:"none"},children:C})},`y-label-${s}`)}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"metreGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.02"})]}),n.jsxs("linearGradient",{id:"poseGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:se,stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:se,stopOpacity:"0.02"})]}),n.jsxs("linearGradient",{id:"savGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.3"}),n.jsx("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0.02"})]})]}),n.jsxs("g",{transform:"translate(60, 10)",children:[L.length>0&&L.map((s,C)=>{const P=L.length>1?L.length-1:1,g=C/P*800;return s.month?n.jsx("text",{x:g,y:"395",textAnchor:"middle",fontSize:"12",fontWeight:"500",fill:Se,style:{animation:b?"fadeInUp 0.5s ease-out 0.6s both":"none"},children:s.month},`x-label-${C}`):null}),L.length>0&&n.jsx("path",{d:(()=>{const C=L.length>1?L.length-1:1,w=L.map((g,O)=>({x:O/C*800,y:pt(380-g.Metr/At*380)}));let P=`M ${w[0].x} 380 L ${w[0].x} ${w[0].y}`;for(let g=0;g<w.length-1;g++){const O=w[Math.max(0,g-1)],$=w[g],z=w[g+1],K=w[Math.min(w.length-1,g+2)],ee=$.x+(z.x-O.x)/6,de=pt($.y+(z.y-O.y)/6),Ie=z.x-(K.x-$.x)/6,Re=pt(z.y-(K.y-$.y)/6);P+=` C ${ee} ${de}, ${Ie} ${Re}, ${z.x} ${z.y}`}return P+=` L ${w[w.length-1].x} 380 Z`,P})(),fill:"url(#metreGradient)",style:{opacity:b?1:0,transition:"opacity 1s ease-out 0.5s"}}),L.length>0&&n.jsx("path",{d:(()=>{const C=L.length>1?L.length-1:1,w=L.map((g,O)=>({x:O/C*800,y:pt(380-g.Pose/At*380)}));let P=`M ${w[0].x} 380 L ${w[0].x} ${w[0].y}`;for(let g=0;g<w.length-1;g++){const O=w[Math.max(0,g-1)],$=w[g],z=w[g+1],K=w[Math.min(w.length-1,g+2)],ee=$.x+(z.x-O.x)/6,de=pt($.y+(z.y-O.y)/6),Ie=z.x-(K.x-$.x)/6,Re=pt(z.y-(K.y-$.y)/6);P+=` C ${ee} ${de}, ${Ie} ${Re}, ${z.x} ${z.y}`}return P+=` L ${w[w.length-1].x} 380 Z`,P})(),fill:"url(#poseGradient)",style:{opacity:b?1:0,transition:"opacity 1s ease-out 0.7s"}}),L.length>0&&n.jsx("path",{d:(()=>{const C=L.length>1?L.length-1:1,w=L.map((g,O)=>({x:O/C*800,y:pt(380-g.SAV/At*380)}));let P=`M ${w[0].x} 380 L ${w[0].x} ${w[0].y}`;for(let g=0;g<w.length-1;g++){const O=w[Math.max(0,g-1)],$=w[g],z=w[g+1],K=w[Math.min(w.length-1,g+2)],ee=$.x+(z.x-O.x)/6,de=pt($.y+(z.y-O.y)/6),Ie=z.x-(K.x-$.x)/6,Re=pt(z.y-(K.y-$.y)/6);P+=` C ${ee} ${de}, ${Ie} ${Re}, ${z.x} ${z.y}`}return P+=` L ${w[w.length-1].x} 380 Z`,P})(),fill:"url(#savGradient)",style:{opacity:b?1:0,transition:"opacity 1s ease-out 0.9s"}}),L.length>0&&n.jsx("path",{d:(()=>{const C=L.length>1?L.length-1:1,w=L.map((g,O)=>({x:O/C*800,y:pt(380-g.Metr/At*380)}));let P=`M ${w[0].x} ${w[0].y}`;for(let g=0;g<w.length-1;g++){const O=w[Math.max(0,g-1)],$=w[g],z=w[g+1],K=w[Math.min(w.length-1,g+2)],ee=$.x+(z.x-O.x)/6,de=pt($.y+(z.y-O.y)/6),Ie=z.x-(K.x-$.x)/6,Re=pt(z.y-(K.y-$.y)/6);P+=` C ${ee} ${de}, ${Ie} ${Re}, ${z.x} ${z.y}`}return P})(),fill:"none",stroke:"#3b82f6",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:b?"2000":"0",strokeDashoffset:b?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out",filter:"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3))"}}),L.length>0&&n.jsx("path",{d:(()=>{const C=L.length>1?L.length-1:1,w=L.map((g,O)=>({x:O/C*800,y:pt(380-g.Pose/At*380)}));let P=`M ${w[0].x} ${w[0].y}`;for(let g=0;g<w.length-1;g++){const O=w[Math.max(0,g-1)],$=w[g],z=w[g+1],K=w[Math.min(w.length-1,g+2)],ee=$.x+(z.x-O.x)/6,de=pt($.y+(z.y-O.y)/6),Ie=z.x-(K.x-$.x)/6,Re=pt(z.y-(K.y-$.y)/6);P+=` C ${ee} ${de}, ${Ie} ${Re}, ${z.x} ${z.y}`}return P})(),fill:"none",stroke:se,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:b?"2000":"0",strokeDashoffset:b?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out 0.2s",filter:`drop-shadow(0 2px 4px ${se}40)`}}),L.length>0&&n.jsx("path",{d:(()=>{const C=L.length>1?L.length-1:1,w=L.map((g,O)=>({x:O/C*800,y:pt(380-g.SAV/At*380)}));let P=`M ${w[0].x} ${w[0].y}`;for(let g=0;g<w.length-1;g++){const O=w[Math.max(0,g-1)],$=w[g],z=w[g+1],K=w[Math.min(w.length-1,g+2)],ee=$.x+(z.x-O.x)/6,de=pt($.y+(z.y-O.y)/6),Ie=z.x-(K.x-$.x)/6,Re=pt(z.y-(K.y-$.y)/6);P+=` C ${ee} ${de}, ${Ie} ${Re}, ${z.x} ${z.y}`}return P})(),fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:b?"2000":"0",strokeDashoffset:b?"0":"2000",transition:"stroke-dashoffset 1.5s ease-out 0.4s",filter:"drop-shadow(0 2px 4px rgba(16, 185, 129, 0.3))"}}),L.length>0&&L.map((s,C)=>{const P=L.length>1?L.length-1:1,g=C/P*800,O=Y===C,$=s.Metr>0||s.Pose>0||s.SAV>0,z=pt(380-s.Metr/At*380),K=pt(380-s.Pose/At*380),ee=pt(380-s.SAV/At*380);return n.jsxs("g",{onMouseEnter:()=>Be(C),onMouseLeave:()=>Be(null),style:{cursor:$?"pointer":"default"},children:[n.jsx("rect",{x:g-15,y:0,width:30,height:380,fill:"transparent"}),s.Metr>0&&n.jsxs("g",{children:[O&&n.jsx("circle",{cx:g,cy:z,r:"12",fill:"none",stroke:"#3b82f6",strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:g,cy:z,r:O?6:4,fill:"#3b82f6",stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:O?"drop-shadow(0 0 8px rgba(59, 130, 246, 0.8))":"drop-shadow(0 0 4px rgba(59, 130, 246, 0.5))"}})]}),s.Pose>0&&n.jsxs("g",{children:[O&&n.jsx("circle",{cx:g,cy:K,r:"12",fill:"none",stroke:se,strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:g,cy:K,r:O?6:4,fill:se,stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:O?`drop-shadow(0 0 8px ${se}cc)`:`drop-shadow(0 0 4px ${se}80)`}})]}),s.SAV>0&&n.jsxs("g",{children:[O&&n.jsx("circle",{cx:g,cy:ee,r:"12",fill:"none",stroke:"#10b981",strokeWidth:"2",opacity:"0.3"}),n.jsx("circle",{cx:g,cy:ee,r:O?6:4,fill:"#10b981",stroke:i?"#1a1a1a":"#ffffff",strokeWidth:"2",style:{transition:"r 0.2s ease-out",filter:O?"drop-shadow(0 0 8px rgba(16, 185, 129, 0.8))":"drop-shadow(0 0 4px rgba(16, 185, 129, 0.5))"}})]}),O&&$&&n.jsx("line",{x1:g,y1:Math.min(z,K,ee)-5,x2:g,y2:380,stroke:i?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",strokeWidth:"1",strokeDasharray:"4 2"}),O&&$&&s.day&&n.jsxs("g",{children:[n.jsx("rect",{x:we==="week"?g-28:g-16,y:385,width:we==="week"?56:32,height:20,rx:"10",fill:se}),n.jsx("text",{x:g,y:"399",textAnchor:"middle",fontSize:"11",fontWeight:"600",fill:"#ffffff",children:we==="week"?s.month:s.day})]}),O&&$&&n.jsx("g",{style:{pointerEvents:"none"},children:(()=>{const Re=Math.min(s.Metr>0?z:380,s.Pose>0?K:380,s.SAV>0?ee:380);let Me=g-130/2,te=Re-95-15;return Me<5&&(Me=5),Me+130>795&&(Me=665),te<5&&(te=Re+20),n.jsxs("g",{children:[n.jsx("path",{d:`M ${g-6} ${te+95} L ${g} ${te+95+8} L ${g+6} ${te+95} Z`,fill:i?"#262626":"#ffffff"}),n.jsx("rect",{x:Me,y:te,width:130,height:95,rx:"10",fill:i?"#262626":"#ffffff",stroke:i?"#404040":"#e5e7eb",strokeWidth:"1",style:{filter:"drop-shadow(0 4px 16px rgba(0, 0, 0, 0.2))"}}),n.jsx("rect",{x:Me,y:te,width:130,height:28,rx:"10",fill:se,style:{clipPath:"inset(0 0 50% 0 round 10px)"}}),n.jsx("rect",{x:Me,y:te+14,width:130,height:14,fill:se}),n.jsx("text",{x:Me+130/2,y:te+18,textAnchor:"middle",fontSize:"12",fontWeight:"600",fill:"#ffffff",children:we==="week"?s.month||`Jour ${s.day}`:s.day?`Jour ${s.day}`:s.month}),n.jsx("circle",{cx:Me+15,cy:te+42,r:"4",fill:"#3b82f6"}),n.jsx("text",{x:Me+25,y:te+46,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"Metr"}),n.jsx("text",{x:Me+130-10,y:te+46,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:"#3b82f6",children:s.Metr}),n.jsx("circle",{cx:Me+15,cy:te+60,r:"4",fill:se}),n.jsx("text",{x:Me+25,y:te+64,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"Pose"}),n.jsx("text",{x:Me+130-10,y:te+64,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:se,children:s.Pose}),n.jsx("circle",{cx:Me+15,cy:te+78,r:"4",fill:"#10b981"}),n.jsx("text",{x:Me+25,y:te+82,fontSize:"11",fill:i?"#e5e7eb":"#374151",children:"SAV"}),n.jsx("text",{x:Me+130-10,y:te+82,textAnchor:"end",fontSize:"11",fontWeight:"600",fill:"#10b981",children:s.SAV})]})})()})]},`points-${C}`)})]}),n.jsx("line",{x1:"60",y1:"390",x2:"860",y2:"390",stroke:i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",strokeWidth:"1",style:{animation:b?"fadeIn 0.5s ease-out 0.3s both":"none"}})]})})]}),n.jsxs("div",{style:{background:i?"linear-gradient(145deg, rgba(255,108,55,0.14), rgba(16,185,129,0.10))":"linear-gradient(145deg, rgba(255,108,55,0.10), rgba(16,185,129,0.08))",borderRadius:"18px",padding:"22px",border:`1px solid ${Ne}`,boxShadow:"0 12px 30px rgba(0,0,0,0.14)",animation:"fadeInLeft 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",gap:"14px",flex:1,minHeight:0},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 14px 34px rgba(0,0,0,0.18)"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 12px 30px rgba(0,0,0,0.14)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",backgroundColor:i?`${se}25`:`${se}18`,display:"flex",alignItems:"center",justifyContent:"center",color:se},children:n.jsx(ct,{style:{width:"18px",height:"18px"}})}),n.jsxs("div",{children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:Xe,margin:0},children:"Top 10 Clients SAV"}),n.jsx("p",{style:{margin:0,color:Se,fontSize:"12px"},children:"Les clients les plus actifs sur le SAV"})]})]}),n.jsx("div",{style:{padding:"6px 10px",borderRadius:"999px",backgroundColor:i?"#0f172a":"#eef2ff",color:Se,fontSize:"12px",border:`1px solid ${Ne}`},children:"Mise  jour auto"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",flex:1},children:ue?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Se},children:"Chargement..."}):ye.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Se},children:"Aucun client"}):ye.map((s,C)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",borderRadius:"12px",backgroundColor:i?"rgba(0,0,0,0.28)":"rgba(255,255,255,0.7)",border:`1px solid ${i?"#1f2937":"#e5e7eb"}`,boxShadow:"0 4px 12px rgba(0,0,0,0.06)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",minWidth:0},children:[n.jsx("div",{style:{width:"34px",height:"34px",borderRadius:"10px",backgroundColor:C<3?se:i?"#111827":"#e5e7eb",color:C<3?"#ffffff":Se,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"13px"},children:C+1}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",minWidth:0},children:[n.jsx("span",{style:{fontSize:"14px",color:Xe,fontWeight:700,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s.name}),n.jsx("span",{style:{fontSize:"12px",color:Se},children:"SAV"})]})]}),n.jsxs("div",{style:{padding:"8px 12px",borderRadius:"12px",backgroundColor:i?"rgba(16,185,129,0.18)":"rgba(16,185,129,0.14)",color:i?"#10b981":"#0f9f72",fontWeight:700,fontSize:"12px",border:`1px solid ${i?"rgba(16,185,129,0.35)":"rgba(16,185,129,0.25)"}`},children:[s.count," ",s.count===1?"rservation":"rservations"]})]},C))})]}),n.jsxs("div",{style:{backgroundColor:Qe,borderRadius:"16px",padding:"24px",border:`1px solid ${Ne}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInRight 0.7s ease-out",transition:"all 0.3s ease",display:"flex",flexDirection:"column",flex:1,minHeight:0},children:[n.jsxs("div",{style:{marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",flexWrap:"wrap"},children:[n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:n.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:Xe},children:"Top 10 Concepteurs"})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>{ut("total"),Ue(0),et(0),xn(0)},style:{padding:"8px 14px",borderRadius:"10px",border:`1px solid ${he==="total"?se:Ne}`,backgroundColor:he==="total"?se:"transparent",color:he==="total"?"#ffffff":Se,fontSize:"12px",fontWeight:700,cursor:"pointer",transition:"all 0.2s ease"},children:"Total"}),n.jsx("button",{onClick:()=>{ut("year"),Ue(0),et(0)},style:{padding:"8px 14px",borderRadius:"10px",border:`1px solid ${he==="year"?se:Ne}`,backgroundColor:he==="year"?se:"transparent",color:he==="year"?"#ffffff":Se,fontSize:"12px",fontWeight:700,cursor:"pointer",transition:"all 0.2s ease"},children:"Par anne"}),n.jsx("button",{onClick:()=>{ut("month"),et(0),xn(0)},style:{padding:"8px 14px",borderRadius:"10px",border:`1px solid ${he==="month"?se:Ne}`,backgroundColor:he==="month"?se:"transparent",color:he==="month"?"#ffffff":Se,fontSize:"12px",fontWeight:700,cursor:"pointer",transition:"all 0.2s ease"},children:"Par mois"}),n.jsx("button",{onClick:()=>{ut("week"),Ue(0),xn(0)},style:{padding:"8px 14px",borderRadius:"10px",border:`1px solid ${he==="week"?se:Ne}`,backgroundColor:he==="week"?se:"transparent",color:he==="week"?"#ffffff":Se,fontSize:"12px",fontWeight:700,cursor:"pointer",transition:"all 0.2s ease"},children:"Par semaine"})]})]}),he!=="total"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"8px",marginBottom:"16px"},children:[n.jsx("button",{onClick:()=>{he==="month"&&Ue(s=>s-1),he==="week"&&et(s=>s-1),he==="year"&&xn(s=>s-1)},style:{width:"34px",height:"34px",borderRadius:"17px",border:`1px solid ${Ne}`,backgroundColor:i?"#1f1f1f":"#ffffff",color:Se,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"16px",fontWeight:600},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=se,s.currentTarget.style.color="#ffffff",s.currentTarget.style.borderColor=se},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=i?"#1f1f1f":"#ffffff",s.currentTarget.style.color=Se,s.currentTarget.style.borderColor=Ne},children:""}),n.jsx("div",{style:{minWidth:"170px",textAlign:"center",fontSize:"13px",fontWeight:600,color:Xe,padding:"8px 16px",borderRadius:"18px",backgroundColor:i?"#1f1f1f":"#f5f5f5",border:`1px solid ${Ne}`},children:(()=>{if(he==="month"){const s=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],C=new Date,w=new Date(C.getFullYear(),C.getMonth()+vt,1);return`${s[w.getMonth()]} ${w.getFullYear()}`}if(he==="week"){const s=new Date,C=new Date(s),w=C.getDay(),P=w===0?-6:1-w;C.setDate(C.getDate()+P+Ve*7);const g=new Date(C);g.setDate(C.getDate()+6);const O=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],$=C.getDate(),z=g.getDate(),K=O[C.getMonth()],ee=O[g.getMonth()];return K===ee?`${$}-${z} ${K.charAt(0).toUpperCase()}${K.slice(1)}`:`${$} ${K.charAt(0).toUpperCase()}${K.slice(1)} - ${z} ${ee.charAt(0).toUpperCase()}${ee.slice(1)}`}return`${new Date().getFullYear()+$t}`})()}),n.jsx("button",{onClick:()=>{he==="month"&&Ue(s=>s+1),he==="week"&&et(s=>s+1),he==="year"&&xn(s=>s+1)},style:{width:"34px",height:"34px",borderRadius:"17px",border:`1px solid ${Ne}`,backgroundColor:i?"#1f1f1f":"#ffffff",color:Se,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",fontSize:"16px",fontWeight:600},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=se,s.currentTarget.style.color="#ffffff",s.currentTarget.style.borderColor=se},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=i?"#1f1f1f":"#ffffff",s.currentTarget.style.color=Se,s.currentTarget.style.borderColor=Ne},children:""}),he==="week"&&Ve!==0&&n.jsx("button",{onClick:()=>et(0),style:{padding:"6px 12px",borderRadius:"10px",border:"none",backgroundColor:se,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:700,transition:"all 0.2s",boxShadow:`0 2px 8px ${se}40`},onMouseEnter:s=>{s.currentTarget.style.transform="scale(1.05)",s.currentTarget.style.boxShadow=`0 4px 12px ${se}60`},onMouseLeave:s=>{s.currentTarget.style.transform="scale(1)",s.currentTarget.style.boxShadow=`0 2px 8px ${se}40`},children:"Cette semaine"}),he==="month"&&vt!==0&&n.jsx("button",{onClick:()=>Ue(0),style:{padding:"6px 12px",borderRadius:"10px",border:"none",backgroundColor:se,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:700,transition:"all 0.2s",boxShadow:`0 2px 8px ${se}40`},onMouseEnter:s=>{s.currentTarget.style.transform="scale(1.05)",s.currentTarget.style.boxShadow=`0 4px 12px ${se}60`},onMouseLeave:s=>{s.currentTarget.style.transform="scale(1)",s.currentTarget.style.boxShadow=`0 2px 8px ${se}40`},children:"Ce mois"}),he==="year"&&$t!==0&&n.jsx("button",{onClick:()=>xn(0),style:{padding:"6px 12px",borderRadius:"10px",border:"none",backgroundColor:se,color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:700,transition:"all 0.2s",boxShadow:`0 2px 8px ${se}40`},onMouseEnter:s=>{s.currentTarget.style.transform="scale(1.05)",s.currentTarget.style.boxShadow=`0 4px 12px ${se}60`},onMouseLeave:s=>{s.currentTarget.style.transform="scale(1)",s.currentTarget.style.boxShadow=`0 2px 8px ${se}40`},children:"Cette anne"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",flex:"1"},children:ue?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Se},children:"Chargement..."}):U.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Se},children:"Aucun client"}):U.map((s,C)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderRadius:"12px",backgroundColor:i?"#0f1115":"#f5f6fb",border:`1px solid ${i?"#1f2933":"#e5e7eb"}`},children:[n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",minWidth:0},children:n.jsx("span",{style:{fontSize:"14px",color:Xe,fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.name})}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[n.jsxs("span",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:i?`${se}25`:`${se}20`,color:se,fontSize:"13px",fontWeight:800,letterSpacing:"0.1px"},children:["Pose: ",s.pose]}),n.jsxs("span",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:i?"rgba(16, 185, 129, 0.15)":"rgba(16, 185, 129, 0.12)",color:"#10b981",fontSize:"13px",fontWeight:800,letterSpacing:"0.1px"},children:["SAV: ",s.sav]}),n.jsxs("span",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:i?"rgba(59, 130, 246, 0.15)":"rgba(59, 130, 246, 0.12)",color:"#3b82f6",fontSize:"13px",fontWeight:800,letterSpacing:"0.1px"},children:["Metr: ",s.metre]}),n.jsxs("span",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:i?"#111827":"#e5e7eb",color:Xe,fontSize:"13px",fontWeight:800,letterSpacing:"0.1px",border:`1px solid ${Ne}`},children:["Total: ",s.total]})]})]},C))})]}),n.jsxs("div",{style:{backgroundColor:Qe,borderRadius:"16px",padding:"24px",border:`1px solid ${Ne}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInLeft 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",s.currentTarget.style.borderColor=Ne==="#333333"?"#444444":"#d1d5db"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",s.currentTarget.style.borderColor=Ne},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:Xe},children:"Rservation Rcente"}),n.jsx("button",{onClick:()=>a("/rservation"),style:{fontSize:"12px",color:se,fontWeight:500,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:s=>s.currentTarget.style.color="#ff6b35",onMouseLeave:s=>s.currentTarget.style.color=se,children:"Voir tout"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:G?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Se},children:"Chargement..."}):A.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:Se},children:"Aucune rservation rcente"}):A.map(s=>{const C=s.calendarId||"calendar1",w=rf[C]||"Pose",P=st(s.timestamp),g={Pose:{bg:i?`${se}30`:`${se}20`,icon:se},SAV:{bg:i?"#10b98130":"#10b98120",icon:"#10b981"},Metr:{bg:i?"#3b82f630":"#3b82f620",icon:"#3b82f6"}},O=g[w]||g.Pose;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",borderRadius:"8px",backgroundColor:i?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:$=>$.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f0f0f0",onMouseLeave:$=>$.currentTarget.style.backgroundColor=i?"#0a0a0a":"#f9fafb",onClick:()=>a("/rservation",{state:{highlightBookingId:s.id,calendarId:C}}),children:[n.jsx("div",{style:{padding:"6px",borderRadius:"6px",backgroundColor:O.bg,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ct,{style:{width:"14px",height:"14px",color:O.icon}})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("p",{style:{fontSize:"13px",fontWeight:500,color:Xe,marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[s.name," - ",w]}),n.jsxs("p",{style:{fontSize:"11px",color:Se,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[s.date," ",s.time&&s.time!=="21h00"?` ${s.time}`:""]})]}),n.jsx("div",{style:{fontSize:"11px",color:Se,whiteSpace:"nowrap"},children:P})]},s.id)})})]})]})]})})]})}const Un=({Icon:a,title:d,isActive:i,open:u,onClick:p,isDarkMode:m,orangeColor:y,textColor:k,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${y}30`:`${y}15`:"transparent",color:i?y:x,borderLeft:i?`3px solid ${y}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:j=>{i||(j.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=k)},onMouseLeave:j=>{i||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(a,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&n.jsx("span",{children:d})]}),$l=({title:a,value:d,change:i,Icon:u,iconBg:p,iconColor:m,cardBg:y,textColor:k,textSecondary:x,borderColor:j})=>n.jsxs("div",{style:{padding:"24px",borderRadius:"16px",border:`1px solid ${j}`,backgroundColor:y,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-4px) scale(1.02)",T.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",T.currentTarget.style.borderColor=j==="#333333"?"#444444":"#d1d5db"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0) scale(1)",T.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",T.currentTarget.style.borderColor=j},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[n.jsx("div",{style:{padding:"8px",backgroundColor:p,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(u,{style:{width:"20px",height:"20px",color:m}})}),n.jsx(hg,{style:{width:"16px",height:"16px",color:"#10b981"}})]}),n.jsx("h3",{style:{fontSize:"14px",fontWeight:500,color:x,marginBottom:"4px"},children:a}),n.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:k,marginBottom:"4px"},children:d}),n.jsx("p",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"},children:i})]});function Pg(){const[a,d]=f.useState(!1),[i,u]=f.useState(!0);return f.useEffect(()=>{const p=sessionStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}u(!1)},[]),i?n.jsx("div",{children:"Loading..."}):a?n.jsx(ws,{}):n.jsx(ef,{})}function Ig(){const[a,d]=f.useState(!1),[i,u]=f.useState(!0);return f.useEffect(()=>{const p=sessionStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}u(!1)},[]),i?n.jsx("div",{children:"Loading..."}):a?n.jsx(ws,{}):n.jsx(lf,{})}function zg(){const[a,d]=f.useState(!1),[i,u]=f.useState(!0);return f.useEffect(()=>{const p=sessionStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}u(!1)},[]),i?n.jsx("div",{children:"Loading..."}):a?n.jsx(ws,{}):n.jsx(af,{})}function Ag(){const[a,d]=f.useState(!1),[i,u]=f.useState(!0);return f.useEffect(()=>{const p=sessionStorage.getItem("user");if(p)try{const m=JSON.parse(p);d(m.role==="admin")}catch{d(!1)}u(!1)},[]),i?n.jsx("div",{children:"Loading..."}):a?n.jsx(ws,{}):n.jsx(cf,{})}const Bg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},lr=5,Dd=1800*1e3;function Fg(){const a=bn(),[d,i]=f.useState({email:"",password:""}),[u,p]=f.useState({email:"",password:""}),[m,y]=f.useState(!1),[k,x]=f.useState(!1),[j,T]=f.useState(null),[H,E]=f.useState(!1),[Q,b]=f.useState(null),R=ce=>{const X=`loginAttempts_${ce.toLowerCase()}`,ve=localStorage.getItem(X);if(ve){const _=JSON.parse(ve);return _.lockoutUntil&&Date.now()<_.lockoutUntil?_:_.lockoutUntil&&Date.now()>=_.lockoutUntil?(localStorage.removeItem(X),{attempts:0}):_}return{attempts:0}},A=(ce,X)=>{const ve=`loginAttempts_${ce.toLowerCase()}`;X.attempts===0&&!X.lockoutUntil?localStorage.removeItem(ve):localStorage.setItem(ve,JSON.stringify(X))},Z=ce=>{const ve=R(ce).attempts+1;if(ve>=lr){const _=Date.now()+Dd;return A(ce,{attempts:ve,lockoutUntil:_}),E(!0),b(_),ve}else return A(ce,{attempts:ve}),T(lr-ve),ve},G=ce=>{A(ce,{attempts:0}),T(null),E(!1),b(null)},pe=ce=>{if(!ce)return{canLogin:!0};const X=R(ce);if(X.lockoutUntil&&Date.now()<X.lockoutUntil){const ve=Math.ceil((X.lockoutUntil-Date.now())/6e4);return{canLogin:!1,message:`Trop de tentatives choues. Veuillez ressayer dans ${ve} minute${ve>1?"s":""}.`}}return X.attempts>=lr?{canLogin:!1,message:"Trop de tentatives choues. Veuillez ressayer plus tard."}:{canLogin:!0}};f.useEffect(()=>{if(d.email&&ye(d.email)){const ce=pe(d.email);E(!ce.canLogin),ce.message&&p(ve=>({...ve,password:ce.message||""}));const X=R(d.email);X.lockoutUntil&&Date.now()<X.lockoutUntil?(b(X.lockoutUntil),T(0)):X.attempts>0?T(lr-X.attempts):T(null)}else E(!1),T(null),b(null)},[d.email]),f.useEffect(()=>{if(!H||!Q)return;const ce=setInterval(()=>{const X=Date.now();if(X>=Q)E(!1),b(null),T(null),d.email&&G(d.email);else{const ve=Math.ceil((Q-X)/6e4);p(_=>({..._,password:`Trop de tentatives choues. Veuillez ressayer dans ${ve} minute${ve>1?"s":""}.`}))}},1e3);return()=>clearInterval(ce)},[H,Q,d.email]);const ye=ce=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ce),ze=ce=>{const{name:X,value:ve}=ce.target;i(_=>({..._,[X]:ve})),u[X]&&p(_=>({..._,[X]:""}))},ue=async ce=>{ce.preventDefault();const X={email:"",password:""};let ve=!0;if(d.email?ye(d.email)||(X.email="Please enter a valid email address",ve=!1):(X.email="Email is required",ve=!1),d.password||(X.password="Password is required",ve=!1),!ve){p(X);return}const _=pe(d.email);if(!_.canLogin){p({email:"",password:_.message||"Trop de tentatives choues. Veuillez ressayer plus tard."}),y(!1);return}y(!0);try{const ge=Bg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",F=await fetch(`${ge}/users/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.email,password:d.password})}),ie=await F.json();if(F.ok)G(d.email),sessionStorage.setItem("user",JSON.stringify({id:ie.id,name:ie.name,email:ie.email,phone:ie.phone,role:ie.role,isAuthenticated:!0})),a("/");else{const je=Z(d.email),He=lr-je;let Ae=ie.detail||"Email ou mot de passe incorrect. Veuillez ressayer.";if(je>=lr){Ae="Trop de tentatives choues. Votre compte est verrouill pendant 30 minutes.",E(!0);const Ke=Date.now()+Dd;b(Ke)}else He>0&&(Ae+=` (${He} tentative${He>1?"s":""} restante${He>1?"s":""})`);p({email:"",password:Ae}),T(He>0?He:0),y(!1)}}catch(ge){console.error("Login error:",ge);const F=Z(d.email),ie=lr-F;let je="Une erreur s'est produite. Veuillez ressayer.";ie>0&&ie<lr&&(je+=` (${ie} tentative${ie>1?"s":""} restante${ie>1?"s":""})`),p({email:"",password:je}),T(ie>0?ie:0),y(!1)}};return n.jsxs("div",{className:"login-page",children:[n.jsxs("div",{className:"login-background",children:[n.jsx("div",{className:"gradient-orb orb-1"}),n.jsx("div",{className:"gradient-orb orb-2"}),n.jsx("div",{className:"gradient-orb orb-3"})]}),n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("div",{className:"logo-wrapper",children:n.jsx("div",{className:"logo-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),n.jsx("h1",{className:"login-title",children:"Welcome Back"}),n.jsx("p",{className:"login-subtitle",children:"Sign in to your account to continue"})]}),n.jsxs("form",{className:"login-form",onSubmit:ue,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:"email",id:"email",name:"email",className:`form-input ${u.email?"input-error":""}`,placeholder:"Enter your email",value:d.email,onChange:ze,autoComplete:"email"})]}),u.email&&n.jsx("span",{className:"error-message",children:u.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:k?"text":"password",id:"password",name:"password",className:`form-input ${u.password?"input-error":""}`,placeholder:"Enter your password",value:d.password,onChange:ze,autoComplete:"current-password"}),n.jsx("button",{type:"button",className:"password-toggle",onClick:()=>x(!k),"aria-label":k?"Hide password":"Show password",children:k?n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M1 1L23 23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),u.password&&n.jsx("span",{className:"error-message",children:u.password})]}),j!==null&&j<lr&&!H&&n.jsx("div",{className:"attempts-warning",children:n.jsx("span",{className:"attempts-text",children:j>0?`${j} tentative${j>1?"s":""} restante${j>1?"s":""}`:"Aucune tentative restante"})}),n.jsx("button",{type:"submit",className:`login-button ${m?"loading":""} ${H?"disabled":""}`,disabled:m||H,children:m?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx("svg",{className:"button-arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})]})})]})}const Og=({isOpen:a,onClose:d,onSubmit:i,booking:u,isDarkMode:p=!0,users:m=[]})=>{const[y,k]=f.useState({calendar_id:nt.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),[x,j]=f.useState({});f.useEffect(()=>{k(u?{calendar_id:u.calendarId||nt.calendar1,booking_date:u.date||"",booking_time:u.time&&u.time!=="21h00"?u.time:"",client_name:u.name||"",client_phone:u.phone||"",designer_name:u.designer||"",message:u.message||""}:{calendar_id:nt.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),j({})},[u,a]);const T=A=>{const{name:Z,value:G}=A.target;if(Z==="client_phone"){const pe=G.replace(/\D/g,"");k(ye=>({...ye,[Z]:pe}))}else k(pe=>({...pe,[Z]:G}));x[Z]&&j(pe=>({...pe,[Z]:void 0}))},H=()=>{const A={};!u&&!y.calendar_id.trim()&&(A.calendar_id="Le calendrier est requis"),y.booking_date.trim()||(A.booking_date="La date est requise");const Z=u&&u.calendarId||y.calendar_id;return[nt.calendar2,nt.calendar3].includes(Z)&&!y.booking_time.trim()&&(A.booking_time="Le crneau horaire est requis pour ce calendrier"),y.client_name.trim()||(A.client_name="Le nom du client est requis"),y.client_phone.trim()?y.client_phone.length<8&&(A.client_phone="Le numro de tlphone doit contenir au moins 8 chiffres"):A.client_phone="Le tlphone est requis",y.designer_name.trim()||(A.designer_name="Le nom du concepteur est requis"),j(A),Object.keys(A).length===0},E=A=>{if(A.preventDefault(),H()){const Z=u&&u.calendarId||y.calendar_id,G=Z===nt.calendar1,pe={...y,calendar_id:Z,booking_time:G&&!y.booking_time?"21h00":y.booking_time||""};i(pe)}},Q=()=>{const A=u&&u.calendarId||y.calendar_id;return A===nt.calendar2?["9h00","10h30","14h00"]:A===nt.calendar3?["8:00-11:00","11:00-14:00","14:00-17:00"]:[]};if(!a)return null;const b=Q(),R=b.length>0;return n.jsx("div",{className:`admin-booking-modal-overlay ${p?"dark-mode":"light-mode"}`,onClick:d,children:n.jsxs("div",{className:"admin-booking-modal",onClick:A=>A.stopPropagation(),children:[n.jsxs("div",{className:"admin-booking-modal-header",children:[n.jsx("h2",{children:u?"Modifier la rservation":"Nouvelle rservation"}),n.jsx("button",{className:"close-button",onClick:d,children:""})]}),n.jsxs("form",{onSubmit:E,className:"admin-booking-modal-form",children:[!u&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"calendar_id",children:"Calendrier *"}),n.jsxs("select",{id:"calendar_id",name:"calendar_id",value:y.calendar_id,onChange:T,className:x.calendar_id?"error":"",children:[n.jsx("option",{value:nt.calendar1,children:"Pose"}),n.jsx("option",{value:nt.calendar2,children:"Metr"}),n.jsx("option",{value:nt.calendar3,children:"SAV"})]}),x.calendar_id&&n.jsx("span",{className:"error-message",children:x.calendar_id})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_date",children:"Date *"}),n.jsx("input",{type:"date",id:"booking_date",name:"booking_date",value:y.booking_date,onChange:T,className:x.booking_date?"error":""}),x.booking_date&&n.jsx("span",{className:"error-message",children:x.booking_date})]}),R&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_time",children:"Crneau horaire *"}),n.jsxs("select",{id:"booking_time",name:"booking_time",value:y.booking_time,onChange:T,className:x.booking_time?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un crneau"}),b.map(A=>n.jsx("option",{value:A,children:A},A))]}),x.booking_time&&n.jsx("span",{className:"error-message",children:x.booking_time})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"client_name",name:"client_name",value:y.client_name,onChange:T,className:x.client_name?"error":""}),x.client_name&&n.jsx("span",{className:"error-message",children:x.client_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"client_phone",name:"client_phone",value:y.client_phone,onChange:T,className:x.client_phone?"error":"",placeholder:"Ex: 0612345678"}),x.client_phone&&n.jsx("span",{className:"error-message",children:x.client_phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer_name",children:"Nom du concepteur *"}),m.length>0?n.jsxs("select",{id:"designer_name",name:"designer_name",value:y.designer_name,onChange:T,className:x.designer_name?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),m.filter(A=>A.role==="concepteur").map(A=>n.jsx("option",{value:A.name,children:A.name},A.id))]}):n.jsx("input",{type:"text",id:"designer_name",name:"designer_name",value:y.designer_name,onChange:T,className:x.designer_name?"error":""}),x.designer_name&&n.jsx("span",{className:"error-message",children:x.designer_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message / Commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:y.message,onChange:T,rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:d,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:u?"Modifier":"Crer"})]})]})]})})};function Wg(){const a=bn(),d=mn(),[i,u]=f.useState([]),[p,m]=f.useState([]),[y,k]=f.useState(!0),[x,j]=f.useState("all"),[T,H]=f.useState(""),[E,Q]=f.useState("all"),[b,R]=f.useState(()=>{const I=localStorage.getItem("darkMode");return I?JSON.parse(I):!0}),[A,Z]=f.useState(!0),[G,pe]=f.useState(!1),[ye,ze]=f.useState(!1),[ue,ce]=f.useState(!1),[X,ve]=f.useState(null),[_,ge]=f.useState(!0),[F,ie]=f.useState(!1),[je,He]=f.useState(0),[Ae,Ke]=f.useState([]),[D,re]=f.useState(null),[L,S]=f.useState(!1),[U,Ce]=f.useState(null),[fe,Ee]=f.useState(null),[J,Fe]=f.useState([]);f.useEffect(()=>{const I=sessionStorage.getItem("user");if(!I){a("/login");return}const he=JSON.parse(I);re(he),S(he.role==="admin"),De(),he.role==="admin"&&tt()},[a]),f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(b)),document.documentElement.setAttribute("data-theme",b?"dark":"light")},[b]),f.useEffect(()=>{const I=()=>{ze(window.innerWidth<=768),window.innerWidth>768&&pe(!1)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),f.useEffect(()=>{pe(!1)},[d.pathname]),f.useEffect(()=>(G?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[G]),f.useEffect(()=>{q()},[i,x,T,E,D,L]),f.useEffect(()=>{const I=d.state||{};I.calendarId&&j(I.calendarId),I.highlightBookingId&&(Ee(I.highlightBookingId),H(""),Q("all")),(I.calendarId||I.highlightBookingId)&&a(d.pathname,{replace:!0,state:{}})},[d.state,d.pathname,a]),f.useEffect(()=>{if(!fe)return;const I=document.getElementById(`booking-row-${fe}`);if(!I)return;I.scrollIntoView({behavior:"smooth",block:"center"});const he=setTimeout(()=>Ee(null),3e3);return()=>clearTimeout(he)},[fe,p]);const ke=async()=>{try{const I=await Bl();Ke(I),He(I.length)}catch(I){console.error("Error loading notifications:",I)}};f.useEffect(()=>{ke();const I=setInterval(ke,6e4),he=()=>ke();return window.addEventListener("notificationRefresh",he),()=>{clearInterval(I),window.removeEventListener("notificationRefresh",he)}},[i]),f.useEffect(()=>{const I=he=>{const ut=he.target;F&&!ut.closest("[data-notifications-dropdown]")&&ie(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[F]);const De=async()=>{k(!0);try{const he=Object.values(nt).map(Ue=>Kr(Ue).then(Ve=>({calendarId:Ue,bookings:Ve}))),ut=await Promise.all(he),vt=[];ut.forEach(({calendarId:Ue,bookings:Ve})=>{Ve.forEach(et=>{vt.push({...et,calendarId:Ue})})}),vt.sort((Ue,Ve)=>{const et=Ve.date.localeCompare(Ue.date);return et!==0?et:(Ve.time||"").localeCompare(Ue.time||"")}),u(vt)}catch(I){console.error("Error loading bookings:",I),alert("Erreur lors du chargement des rservations")}finally{k(!1)}},tt=async()=>{try{const I=await Gr();Fe(I)}catch(I){console.error("Error loading users:",I)}},ot=I=>{if(!D)return!1;if(L)return!0;const he=D.name?.toLowerCase().trim()||"",ut=D.email?.toLowerCase().trim()||"",vt=D.phone?.trim()||"",Ue=he&&I.name?.toLowerCase().trim()===he,Ve=vt&&I.phone?.trim()===vt,et=he&&I.designer?.toLowerCase().trim()===he,$t=ut&&(I.name?.toLowerCase().includes(ut)||I.designer?.toLowerCase().includes(ut));return Ue||Ve||et||$t||!1},q=()=>{let I=[...i];if(!L&&D&&(I=I.filter(et=>ot(et))),x!=="all"&&(I=I.filter(et=>et.calendarId===x)),T){const et=T.toLowerCase();I=I.filter($t=>$t.name.toLowerCase().includes(et)||$t.phone.includes(et)||$t.designer.toLowerCase().includes(et))}const he=new Date;he.setHours(0,0,0,0);const ut=he.getFullYear(),vt=String(he.getMonth()+1).padStart(2,"0"),Ue=String(he.getDate()).padStart(2,"0"),Ve=`${ut}-${vt}-${Ue}`;E==="today"?I=I.filter(et=>et.date===Ve):E==="future"?I=I.filter(et=>{const $t=new Date(et.date+"T00:00:00");return $t.setHours(0,0,0,0),$t>=he}):E==="past"&&(I=I.filter(et=>{const $t=new Date(et.date+"T00:00:00");return $t.setHours(0,0,0,0),$t<he})),m(I)},Ye=I=>new Date(I+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Y=I=>new Date(I).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Be=I=>({admin:"Administrateur",concepteur:"Concepteur",user:"Utilisateur"})[I]||I,Ze=()=>{R(!b)},lt=()=>{sessionStorage.removeItem("user"),a("/")},[Pe,it]=f.useState(()=>localStorage.getItem("accentColor")||"#fa541c");f.useEffect(()=>{const I=()=>{const ut=localStorage.getItem("accentColor");ut&&(it(ut),document.documentElement.style.setProperty("--accent-color",ut))};window.addEventListener("settingsUpdated",I),window.addEventListener("storage",I);const he=localStorage.getItem("accentColor");return he&&(it(he),document.documentElement.style.setProperty("--accent-color",he)),()=>{window.removeEventListener("settingsUpdated",I),window.removeEventListener("storage",I)}},[]);const Mt=b?"#000000":"#f5f5f5",xe=b?"#ffffff":"#111827",we=b?"#9ca3af":"#6b7280",Ht=b?"#333333":"#e5e7eb",gn=I=>{if(!L&&!ot(I)){alert("Vous ne pouvez modifier que vos propres rservations.");return}ve(I),ce(!0)},Nn=async I=>{if(!L&&!ot(I)){alert("Vous ne pouvez supprimer que vos propres rservations.");return}if(window.confirm(`tes-vous sr de vouloir supprimer la rservation de ${I.name} pour le ${Ye(I.date)} ?`))try{await us(I.id),alert("Rservation supprime avec succs"),await De(),ke()}catch(he){console.error("Error deleting booking:",he),alert("Erreur lors de la suppression de la rservation")}},En=async I=>{try{if(X){const he=X.calendarId||I.calendar_id,ut=he===nt.calendar1,vt={calendar_id:he,booking_date:I.booking_date,booking_time:ut&&!I.booking_time?"21h00":I.booking_time||"",client_name:I.client_name,client_phone:I.client_phone,designer_name:I.designer_name,message:I.message||""};await sf(X.id,vt),alert("Rservation modifie avec succs")}else{const he={name:I.client_name,phone:I.client_phone,designer:I.designer_name,message:I.message,date:I.booking_date,selectedDate:new Date(I.booking_date),timeSlot:I.booking_time||void 0};await fs(he,I.calendar_id),alert("Rservation cre avec succs")}ce(!1),ve(null),await De(),ke()}catch(he){console.error("Error saving booking:",he);const ut=he?.message||"Erreur lors de l'enregistrement de la rservation";alert(` ${ut}`)}};return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:Mt},children:[G&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>pe(!1),style:{display:ye?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),ye&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:b?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${Ht}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>pe(!G),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:xe,zIndex:1001,position:"relative"},"aria-label":G?"Fermer le menu":"Ouvrir le menu",children:G?n.jsx(ks,{size:24}):n.jsx(vs,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${Pe} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ct,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:xe},children:"Rservations"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:Ze,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:we,cursor:"pointer"},children:b?n.jsx(zt,{style:{width:"18px",height:"18px"}}):n.jsx(It,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${G?"mobile-open":""}`,style:{position:ye?"fixed":"sticky",top:ye?"60px":0,left:0,height:ye?"calc(100vh - 60px)":"100vh",width:ye?"280px":A?"256px":"64px",borderRight:`1px solid ${Ht}`,backgroundColor:b?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:ye?G?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${Ht}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Pe} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),A&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:xe},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:we},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Vn,{Icon:ys,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:A,onClick:()=>a("/dashboard"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we}),n.jsx(Vn,{Icon:xs,title:"Rservation",isActive:d.pathname==="/rservation",open:A,onClick:()=>a("/rservation"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we}),n.jsx(Vn,{Icon:wo,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:A,onClick:()=>a("/jours-feries"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we}),n.jsx(Vn,{Icon:Co,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:A,onClick:()=>a("/utilisateurs"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we}),n.jsxs("button",{onClick:()=>ge(!_),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:we,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:I=>{I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb",I.currentTarget.style.color=xe},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="transparent",I.currentTarget.style.color=we},children:[n.jsx(ct,{style:{width:"20px",height:"20px",flexShrink:0}}),A&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),_?n.jsx(js,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ms,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),_&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Vn,{Icon:ct,title:"Metr",isActive:d.pathname==="/metre",open:A,onClick:()=>a("/metre"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we}),n.jsx(Vn,{Icon:ct,title:"Pose",isActive:d.pathname==="/pose",open:A,onClick:()=>a("/pose"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we}),n.jsx(Vn,{Icon:ct,title:"SAV",isActive:d.pathname==="/sav",open:A,onClick:()=>a("/sav"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we})]})]}),A&&n.jsxs("div",{style:{borderTop:`1px solid ${Ht}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:we,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Vn,{Icon:b?zt:It,title:b?"Mode clair":"Mode sombre",isActive:!1,open:A,onClick:Ze,isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we}),n.jsx(Vn,{Icon:Qr,title:"Paramtres",isActive:d.pathname==="/parametres",open:A,onClick:()=>a("/parametres"),isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we})]}),n.jsx("div",{style:{borderTop:`1px solid ${Ht}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Vn,{Icon:hn,title:"Dconnexion",isActive:!1,open:A,onClick:lt,isDarkMode:b,orangeColor:Pe,textColor:xe,textSecondary:we})}),n.jsxs("button",{onClick:()=>Z(!A),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${Ht}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:we,transition:"background-color 0.2s",height:"48px"},onMouseEnter:I=>I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb",onMouseLeave:I=>I.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(gs,{style:{width:"16px",height:"16px",transform:A?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),A&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:Mt,paddingTop:ye?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${b?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:L?"Administration - Rservations":"Mes Rservations"}),n.jsx("p",{children:L?"Gestion des rservations":"Vos rservations personnelles"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>ie(!F),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:b?"#1a1a1a":"#ffffff",border:`1px solid ${b?"#333333":"#e5e7eb"}`,color:b?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:I=>{I.currentTarget.style.color=b?"#ffffff":"#111827",I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb"},onMouseLeave:I=>{I.currentTarget.style.color=b?"#9ca3af":"#6b7280",I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#ffffff"},children:[n.jsx(_r,{style:{width:"20px",height:"20px"}}),je>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:je>99?"99+":je})]}),F&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:b?"#1a1a1a":"#ffffff",border:`1px solid ${b?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${b?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:b?"#ffffff":"#111827"},children:"Notifications"}),je>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[je," nouvelle",je>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:Ae.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:b?"#9ca3af":"#6b7280"},children:"Aucune notification"}):Ae.slice(0,10).map(I=>{const he=Fl(I.timestamp),vt=(()=>{if(I.type==="booking"){const Ue=I.data,Ve=pn(Ue.calendarId);return{subtitle:`${Ue.name} - ${Ve}`,details:`${Ye(Ue.date)} ${Ue.time&&Ue.time!=="21h00"?` ${Ue.time}`:""}`,onClick:()=>{ie(!1),a("/rservation")}}}else if(I.type==="holiday"){const Ue=I.data;return{subtitle:`${pn(Ue.calendarId)} - ${Ye(Ue.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{ie(!1),a("/jours-feries")}}}else if(I.type==="user"){const Ue=I.data;return{subtitle:`${Ue.name} (${Be(Ue.role)})`,details:Ue.email,onClick:()=>{ie(!1),a("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:vt.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${b?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Ue=>{Ue.currentTarget.style.backgroundColor=b?"#2a2a2a":"#f9fafb"},onMouseLeave:Ue=>{Ue.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:b?"#ffffff":"#111827",marginBottom:"4px"},children:I.title}),n.jsx("div",{style:{fontSize:"13px",color:b?"#9ca3af":"#6b7280",marginBottom:"4px"},children:vt.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:b?"#6b7280":"#9ca3af"},children:vt.details})]}),n.jsx("div",{style:{fontSize:"11px",color:b?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:he})]})},I.id)})}),Ae.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${b?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{ie(!1),Ae[0]?.type==="booking"?a("/rservation"):Ae[0]?.type==="holiday"?a("/jours-feries"):a("/utilisateurs")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:Ze,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${b?"#333333":"#e5e7eb"}`,backgroundColor:b?"#1a1a1a":"#ffffff",color:b?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>{I.currentTarget.style.color=b?"#ffffff":"#111827",I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb"},onMouseLeave:I=>{I.currentTarget.style.color=b?"#9ca3af":"#6b7280",I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#ffffff"},children:b?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:lt,style:{padding:"8px",borderRadius:"8px",backgroundColor:b?"#1a1a1a":"#ffffff",border:`1px solid ${b?"#333333":"#e5e7eb"}`,color:b?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:I=>{I.currentTarget.style.color=b?"#ffffff":"#111827",I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb"},onMouseLeave:I=>{I.currentTarget.style.color=b?"#9ca3af":"#6b7280",I.currentTarget.style.backgroundColor=b?"#1a1a1a":"#ffffff"},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"calendar-filter",children:"Calendrier:"}),n.jsxs("select",{id:"calendar-filter",value:x,onChange:I=>j(I.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:nt.calendar1,children:"Pose"}),n.jsx("option",{value:nt.calendar2,children:"Metr"}),n.jsx("option",{value:nt.calendar3,children:"SAV"})]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"date-filter",children:"Date:"}),n.jsxs("select",{id:"date-filter",value:E,onChange:I=>Q(I.target.value),children:[n.jsx("option",{value:"all",children:"Toutes les dates"}),n.jsx("option",{value:"today",children:"Aujourd'hui"}),n.jsx("option",{value:"future",children:"Futures"}),n.jsx("option",{value:"past",children:"Passes"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, tlphone, concepteur...",value:T,onChange:I=>H(I.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:De,children:[n.jsx(Oa,{className:"refresh-icon"}),"Actualiser"]})]}),n.jsx("main",{className:"admin-main",children:y?n.jsx("div",{className:"loading-message",children:"Chargement des rservations..."}):p.length===0?n.jsx("div",{className:"no-bookings",children:"Aucune rservation trouve"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",p.length," rservation(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Heure"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Concepteur"}),n.jsx("th",{children:"Message"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:p.map(I=>n.jsxs("tr",{id:`booking-row-${I.id}`,className:fe===I.id?"highlighted-booking-row":"",children:[n.jsx("td",{children:Ye(I.date)}),n.jsx("td",{className:"time-slot-cell",children:I.time&&I.time!=="21h00"?I.time:"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:pn(I.calendarId)})}),n.jsx("td",{children:I.name}),n.jsx("td",{children:I.phone}),n.jsx("td",{children:I.designer}),n.jsx("td",{className:"message-cell",children:I.message||n.jsx("span",{className:"no-message",children:"-"})}),n.jsx("td",{children:Y(I.timestamp)}),n.jsx("td",{className:"actions-cell",children:L||ot(I)?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"edit-button",onClick:()=>gn(I),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>Nn(I),title:"Supprimer",children:""})]}):n.jsx("span",{style:{color:b?"#6b7280":"#9ca3af",fontSize:"12px"},children:"Non autoris"})})]},I.id))})]})})]})}),n.jsx(Og,{isOpen:ue,onClose:()=>{ce(!1),ve(null)},onSubmit:En,booking:X,isDarkMode:b,users:L?J:[]}),U&&n.jsx("div",{className:`admin-booking-modal-overlay ${b?"dark-mode":"light-mode"}`,onClick:()=>Ce(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{className:"admin-booking-modal",onClick:I=>I.stopPropagation(),style:{backgroundColor:b?"#1a1a1a":"#ffffff",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:b?"#ffffff":"#111827"},children:"Dtails de la rservation"}),n.jsx("button",{onClick:()=>Ce(null),style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:b?"#9ca3af":"#6b7280",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Date:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:Ye(U.date)})]}),U.time&&U.time!=="21h00"&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Heure:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:U.time})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Calendrier:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:pn(U.calendarId)})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Client:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:U.name})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Tlphone:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:U.phone})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Concepteur:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:U.designer})]}),U.message&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Message:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827",whiteSpace:"pre-wrap"},children:U.message})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Cr le:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:Y(U.timestamp)})]})]}),n.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:n.jsx("button",{onClick:()=>Ce(null),style:{padding:"8px 16px",borderRadius:"8px",border:`1px solid ${b?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:b?"#ffffff":"#111827",cursor:"pointer",fontSize:"14px"},children:"Fermer"})})]})})]})})]})}const Vn=({Icon:a,title:d,isActive:i,open:u,onClick:p,isDarkMode:m,orangeColor:y,textColor:k,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${y}30`:`${y}15`:"transparent",color:i?y:x,borderLeft:i?`3px solid ${y}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:j=>{i||(j.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=k)},onMouseLeave:j=>{i||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(a,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&n.jsx("span",{children:d})]}),Ug=({isOpen:a,onClose:d,onSubmit:i,user:u,isDarkMode:p=!0})=>{const[m,y]=f.useState({name:"",email:"",phone:"",role:"concepteur",password:""}),[k,x]=f.useState(""),[j,T]=f.useState({});f.useEffect(()=>{u?(y({name:u.name||"",email:u.email||"",phone:u.phone||"",role:u.role||"concepteur",password:""}),x("")):(y({name:"",email:"",phone:"",role:"concepteur",password:""}),x("")),T({})},[u,a]);const H=R=>{const{name:A,value:Z}=R.target;if(A==="confirmPassword"){x(Z),j.confirmPassword&&T(G=>({...G,confirmPassword:void 0}));return}if(A==="phone"){const G=Z.replace(/\D/g,"");y(pe=>({...pe,[A]:G}))}else y(G=>({...G,[A]:Z}));j[A]&&T(G=>({...G,[A]:void 0})),A==="password"&&j.confirmPassword&&T(G=>({...G,confirmPassword:void 0}))},E=()=>{const R={};return m.name.trim()||(R.name="Le nom est requis"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(R.email="L'email n'est pas valide"):R.email="L'email est requis",m.phone.trim()?m.phone.length<8&&(R.phone="Le numro de tlphone doit contenir au moins 8 chiffres"):R.phone="Le tlphone est requis",m.role||(R.role="Le rle est requis"),!u&&!m.password.trim()?R.password="Le mot de passe est requis":!u&&m.password.length<6&&(R.password="Le mot de passe doit contenir au moins 6 caractres"),u?m.password.trim()&&(k.trim()?m.password!==k&&(R.confirmPassword="Les mots de passe ne correspondent pas"):R.confirmPassword="Veuillez confirmer le mot de passe"):k.trim()?m.password!==k&&(R.confirmPassword="Les mots de passe ne correspondent pas"):R.confirmPassword="Veuillez confirmer le mot de passe",T(R),Object.keys(R).length===0},Q=R=>{R.preventDefault(),E()&&i({...m,confirm_password:k})};if(!a)return null;const b=R=>{R.target===R.currentTarget&&d()};return n.jsx("div",{className:`user-modal-overlay ${p?"dark-mode":"light-mode"}`,onClick:b,children:n.jsxs("div",{className:"user-modal",onClick:R=>R.stopPropagation(),children:[n.jsxs("div",{className:"user-modal-header",children:[n.jsx("h2",{children:u?"Modifier l'utilisateur":"Nouvel utilisateur"}),n.jsx("button",{className:"close-button",onClick:d,children:""})]}),n.jsxs("form",{onSubmit:Q,className:"user-modal-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:H,className:j.name?"error":"",placeholder:"Ex: Jean Dupont"}),j.name&&n.jsx("span",{className:"error-message",children:j.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:m.email,onChange:H,className:j.email?"error":"",placeholder:"Ex: jean.dupont@example.com"}),j.email&&n.jsx("span",{className:"error-message",children:j.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:H,className:j.phone?"error":"",placeholder:"Ex: 0612345678"}),j.phone&&n.jsx("span",{className:"error-message",children:j.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"role",children:"Rle *"}),n.jsxs("select",{id:"role",name:"role",value:m.role,onChange:H,className:j.role?"error":"",children:[n.jsx("option",{value:"concepteur",children:"Concepteur"}),n.jsx("option",{value:"technicien",children:"Technicien"}),n.jsx("option",{value:"admin",children:"Admin"})]}),j.role&&n.jsx("span",{className:"error-message",children:j.role})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"password",children:["Mot de passe ",!u&&"*",u&&n.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"normal",color:"#999"},children:"(Laisser vide pour ne pas modifier)"})]}),n.jsx("input",{type:"password",id:"password",name:"password",value:m.password,onChange:H,className:j.password?"error":"",placeholder:u?"Nouveau mot de passe (optionnel)":"Mot de passe"}),j.password&&n.jsx("span",{className:"error-message",children:j.password})]}),(!u||m.password.trim())&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe *"}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:k,onChange:H,className:j.confirmPassword?"error":"",placeholder:"Confirmer le mot de passe"}),j.confirmPassword&&n.jsx("span",{className:"error-message",children:j.confirmPassword})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:d,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:u?"Modifier":"Crer"})]})]})]})})};function Vg(){const a=bn(),d=mn(),[i,u]=f.useState([]),[p,m]=f.useState([]),[y,k]=f.useState(!0),[x,j]=f.useState("all"),[T,H]=f.useState(""),[E,Q]=f.useState(()=>{const Y=localStorage.getItem("darkMode");return Y?JSON.parse(Y):!0}),[b,R]=f.useState(!0),[A,Z]=f.useState(!1),[G,pe]=f.useState(!1),[ye,ze]=f.useState(!0),[ue,ce]=f.useState(!1),[X,ve]=f.useState(0),[_,ge]=f.useState([]),[F,ie]=f.useState(!1),[je,He]=f.useState(null);f.useEffect(()=>{const Y=sessionStorage.getItem("user");if(!Y){a("/login");return}if(JSON.parse(Y).role!=="admin"){a("/");return}Ke()},[a]),f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(E)),document.documentElement.setAttribute("data-theme",E?"dark":"light")},[E]),f.useEffect(()=>{const Y=()=>{pe(window.innerWidth<=768),window.innerWidth>768&&Z(!1)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),f.useEffect(()=>{Z(!1)},[d.pathname]),f.useEffect(()=>(A?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[A]),f.useEffect(()=>{D()},[i,x,T]);const Ae=async()=>{try{const Y=await Bl(),Be=i.map(Pe=>({id:Pe.id,name:Pe.name,email:Pe.email,role:Pe.role,createdAt:Pe.created_at})),Ze=Dg(Be),lt=[...Y,...Ze].sort((Pe,it)=>it.timestamp-Pe.timestamp);ge(lt),ve(lt.length)}catch(Y){console.error("Error loading notifications:",Y)}};f.useEffect(()=>{Ae();const Y=setInterval(Ae,6e4),Be=()=>Ae();return window.addEventListener("notificationRefresh",Be),()=>{clearInterval(Y),window.removeEventListener("notificationRefresh",Be)}},[i]),f.useEffect(()=>{const Y=Be=>{const Ze=Be.target;ue&&!Ze.closest("[data-notifications-dropdown]")&&ce(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[ue]);const Ke=async()=>{k(!0);try{const Y=await Gr(x!=="all"?x:void 0);u(Y)}catch(Y){console.error("Error loading users:",Y);const Be=Y instanceof Error?Y.message:"Erreur lors du chargement des utilisateurs";alert(`Erreur: ${Be}`)}finally{k(!1)}},D=()=>{let Y=[...i];if(x!=="all"&&(Y=Y.filter(Be=>Be.role===x)),T){const Be=T.toLowerCase();Y=Y.filter(Ze=>Ze.name.toLowerCase().includes(Be)||Ze.email.toLowerCase().includes(Be)||Ze.phone&&Ze.phone.includes(Be))}m(Y)},re=Y=>new Date(Y).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),L=Y=>({admin:"Administrateur",concepteur:"Concepteur",technicien:"Technicien"})[Y]||Y,S=Y=>({admin:"#fa541c",concepteur:"#17a2b8",technicien:"#28a745"})[Y]||"#6c757d",U=()=>{Q(!E)},Ce=()=>{sessionStorage.removeItem("user"),a("/")},fe=()=>{He(null),ie(!0)},Ee=Y=>{He(Y),ie(!0)},J=async Y=>{if(window.confirm(`tes-vous sr de vouloir supprimer l'utilisateur ${Y.name} (${Y.email}) ?`))try{await Lg(Y.id),alert(" Utilisateur supprim avec succs"),await Ke()}catch(Be){console.error("Error deleting user:",Be);const Ze=Be?.message||"Erreur lors de la suppression de l'utilisateur";alert(` ${Ze}`)}},Fe=async Y=>{try{if(je){const Be={name:Y.name,email:Y.email,phone:Y.phone,role:Y.role};Y.password&&(Be.password=Y.password,Be.confirm_password=Y.confirm_password),await _g(je.id,Be),alert(" Utilisateur modifi avec succs")}else await Mg(Y),alert(" Utilisateur cr avec succs");ie(!1),He(null),await Ke()}catch(Be){console.error("Error saving user:",Be);const Ze=Be?.message||"Erreur lors de l'enregistrement de l'utilisateur";alert(` ${Ze}`)}},[ke,De]=f.useState(()=>localStorage.getItem("accentColor")||"#fa541c");f.useEffect(()=>{const Y=()=>{const Ze=localStorage.getItem("accentColor");Ze&&(De(Ze),document.documentElement.style.setProperty("--accent-color",Ze))};window.addEventListener("settingsUpdated",Y),window.addEventListener("storage",Y);const Be=localStorage.getItem("accentColor");return Be&&(De(Be),document.documentElement.style.setProperty("--accent-color",Be)),()=>{window.removeEventListener("settingsUpdated",Y),window.removeEventListener("storage",Y)}},[]);const tt=E?"#000000":"#f5f5f5",ot=E?"#ffffff":"#111827",q=E?"#9ca3af":"#6b7280",Ye=E?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:tt},children:[A&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>Z(!1),style:{display:G?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),G&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:E?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${Ye}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>Z(!A),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:ot,zIndex:1001,position:"relative"},"aria-label":A?"Fermer le menu":"Ouvrir le menu",children:A?n.jsx(ks,{size:24}):n.jsx(vs,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${ke} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ct,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:ot},children:"Utilisateurs"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:U,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:q,cursor:"pointer"},children:E?n.jsx(zt,{style:{width:"18px",height:"18px"}}):n.jsx(It,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${A?"mobile-open":""}`,style:{position:G?"fixed":"sticky",top:G?"60px":0,left:0,height:G?"calc(100vh - 60px)":"100vh",width:G?"280px":b?"256px":"64px",borderRight:`1px solid ${Ye}`,backgroundColor:E?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:G?A?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${Ye}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${ke} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),b&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:ot},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:q},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Hn,{Icon:ys,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:b,onClick:()=>a("/dashboard"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q}),n.jsx(Hn,{Icon:xs,title:"Rservation",isActive:d.pathname==="/rservation",open:b,onClick:()=>a("/rservation"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q}),n.jsx(Hn,{Icon:wo,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:b,onClick:()=>a("/jours-feries"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q}),n.jsx(Hn,{Icon:Co,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:b,onClick:()=>a("/utilisateurs"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q}),n.jsxs("button",{onClick:()=>ze(!ye),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:q,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:Y=>{Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#f9fafb",Y.currentTarget.style.color=ot},onMouseLeave:Y=>{Y.currentTarget.style.backgroundColor="transparent",Y.currentTarget.style.color=q},children:[n.jsx(ct,{style:{width:"20px",height:"20px",flexShrink:0}}),b&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),ye?n.jsx(js,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ms,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),ye&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Hn,{Icon:ct,title:"Metr",isActive:d.pathname==="/metre",open:b,onClick:()=>a("/metre"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q}),n.jsx(Hn,{Icon:ct,title:"Pose",isActive:d.pathname==="/pose",open:b,onClick:()=>a("/pose"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q}),n.jsx(Hn,{Icon:ct,title:"SAV",isActive:d.pathname==="/sav",open:b,onClick:()=>a("/sav"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q})]})]}),b&&n.jsxs("div",{style:{borderTop:`1px solid ${Ye}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:q,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Hn,{Icon:E?zt:It,title:E?"Mode clair":"Mode sombre",isActive:!1,open:b,onClick:U,isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q}),n.jsx(Hn,{Icon:Qr,title:"Paramtres",isActive:d.pathname==="/parametres",open:b,onClick:()=>a("/parametres"),isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q})]}),n.jsx("div",{style:{borderTop:`1px solid ${Ye}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Hn,{Icon:hn,title:"Dconnexion",isActive:!1,open:b,onClick:Ce,isDarkMode:E,orangeColor:ke,textColor:ot,textSecondary:q})}),n.jsxs("button",{onClick:()=>R(!b),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${Ye}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:q,transition:"background-color 0.2s",height:"48px"},onMouseEnter:Y=>Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#f9fafb",onMouseLeave:Y=>Y.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(gs,{style:{width:"16px",height:"16px",transform:b?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),b&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:tt,paddingTop:G?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${E?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Utilisateurs"}),n.jsx("p",{children:"Gestion des utilisateurs"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>ce(!ue),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:E?"#1a1a1a":"#ffffff",border:`1px solid ${E?"#333333":"#e5e7eb"}`,color:E?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:Y=>{Y.currentTarget.style.color=E?"#ffffff":"#111827",Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#f9fafb"},onMouseLeave:Y=>{Y.currentTarget.style.color=E?"#9ca3af":"#6b7280",Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#ffffff"},children:[n.jsx(_r,{style:{width:"20px",height:"20px"}}),X>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:X>99?"99+":X})]}),ue&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:E?"#1a1a1a":"#ffffff",border:`1px solid ${E?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${E?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:E?"#ffffff":"#111827"},children:"Notifications"}),X>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[X," nouvelle",X>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:_.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:E?"#9ca3af":"#6b7280"},children:"Aucune notification"}):_.slice(0,10).map(Y=>{const Be=Fl(Y.timestamp),lt=(()=>{if(Y.type==="booking"){const Pe=Y.data,it=pn(Pe.calendarId),Mt=xe=>new Date(xe+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return{subtitle:`${Pe.name} - ${it}`,details:`${Mt(Pe.date)} ${Pe.time&&Pe.time!=="21h00"?` ${Pe.time}`:""}`,onClick:()=>{ce(!1),a("/rservation")}}}else if(Y.type==="holiday"){const Pe=Y.data;return{subtitle:`${pn(Pe.calendarId)} - ${(xe=>new Date(xe+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(Pe.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{ce(!1),a("/jours-feries")}}}else if(Y.type==="user"){const Pe=Y.data;return{subtitle:`${Pe.name} (${L(Pe.role)})`,details:Pe.email,onClick:()=>{ce(!1)}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:lt.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${E?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:Pe=>{Pe.currentTarget.style.backgroundColor=E?"#2a2a2a":"#f9fafb"},onMouseLeave:Pe=>{Pe.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:E?"#ffffff":"#111827",marginBottom:"4px"},children:Y.title}),n.jsx("div",{style:{fontSize:"13px",color:E?"#9ca3af":"#6b7280",marginBottom:"4px"},children:lt.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:E?"#6b7280":"#9ca3af"},children:lt.details})]}),n.jsx("div",{style:{fontSize:"11px",color:E?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:Be})]})},Y.id)})}),_.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${E?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{ce(!1),_[0]?.type==="booking"?a("/rservation"):_[0]?.type==="holiday"&&a("/jours-feries")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:U,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${E?"#333333":"#e5e7eb"}`,backgroundColor:E?"#1a1a1a":"#ffffff",color:E?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Y=>{Y.currentTarget.style.color=E?"#ffffff":"#111827",Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#f9fafb"},onMouseLeave:Y=>{Y.currentTarget.style.color=E?"#9ca3af":"#6b7280",Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#ffffff"},children:E?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:Ce,style:{padding:"8px",borderRadius:"8px",backgroundColor:E?"#1a1a1a":"#ffffff",border:`1px solid ${E?"#333333":"#e5e7eb"}`,color:E?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:Y=>{Y.currentTarget.style.color=E?"#ffffff":"#111827",Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#f9fafb"},onMouseLeave:Y=>{Y.currentTarget.style.color=E?"#9ca3af":"#6b7280",Y.currentTarget.style.backgroundColor=E?"#1a1a1a":"#ffffff"},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"role-filter",children:"Rle:"}),n.jsxs("select",{id:"role-filter",value:x,onChange:Y=>j(Y.target.value),children:[n.jsx("option",{value:"all",children:"Tous les rles"}),n.jsx("option",{value:"admin",children:"Administrateur"}),n.jsx("option",{value:"concepteur",children:"Concepteur"}),n.jsx("option",{value:"technicien",children:"Technicien"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, email, tlphone...",value:T,onChange:Y=>H(Y.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:Ke,children:[n.jsx(Oa,{className:"refresh-icon"}),"Actualiser"]}),n.jsxs("button",{className:"create-button",onClick:fe,children:[n.jsx(Zd,{className:"create-icon"}),"Nouvel utilisateur"]})]}),n.jsx("main",{className:"admin-main",children:y?n.jsx("div",{className:"loading-message",children:"Chargement des utilisateurs..."}):p.length===0?n.jsx("div",{className:"no-bookings",children:"Aucun utilisateur trouv"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",p.length," utilisateur(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Rle"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:p.map(Y=>n.jsxs("tr",{children:[n.jsx("td",{children:Y.name}),n.jsx("td",{children:Y.email}),n.jsx("td",{children:Y.phone||"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",style:{backgroundColor:S(Y.role)},children:L(Y.role)})}),n.jsx("td",{children:re(Y.created_at)}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>Ee(Y),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>J(Y),title:"Supprimer",children:""})]})]},Y.id))})]})})]})}),n.jsx(Ug,{isOpen:F,onClose:()=>{ie(!1),He(null)},onSubmit:Fe,user:je,isDarkMode:E})]})})]})}const Hn=({Icon:a,title:d,isActive:i,open:u,onClick:p,isDarkMode:m,orangeColor:y,textColor:k,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${y}30`:`${y}15`:"transparent",color:i?y:x,borderLeft:i?`3px solid ${y}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:j=>{i||(j.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=k)},onMouseLeave:j=>{i||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(a,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&n.jsx("span",{children:d})]}),Yn=({Icon:a,title:d,isActive:i,open:u,onClick:p,isDarkMode:m,orangeColor:y,textColor:k,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${y}30`:`${y}15`:"transparent",color:i?y:x,borderLeft:i?`3px solid ${y}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:j=>{i||(j.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=k)},onMouseLeave:j=>{i||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(a,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&n.jsx("span",{children:d})]});function Hg(){const a=bn(),d=mn(),[i,u]=f.useState(()=>{const J=localStorage.getItem("darkMode");return J?JSON.parse(J):!0}),[p,m]=f.useState(!0),[y,k]=f.useState(!1),[x,j]=f.useState(!1),[T,H]=f.useState(!0),[E,Q]=f.useState("general"),[b,R]=f.useState(!1),[A,Z]=f.useState("idle"),[G,pe]=f.useState({email:!0,push:!1,sms:!1}),[ye,ze]=f.useState("fr"),[ue,ce]=f.useState("Europe/Paris"),[X,ve]=f.useState(!0),[_,ge]=f.useState(()=>localStorage.getItem("accentColor")||"#fa541c");f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light")},[i]),f.useEffect(()=>{localStorage.setItem("accentColor",_),document.documentElement.style.setProperty("--accent-color",_)},[_]),f.useEffect(()=>{const J=sessionStorage.getItem("user");if(!J){a("/login");return}if(JSON.parse(J).role!=="admin"){a("/");return}},[a]),f.useEffect(()=>{const J=()=>{j(window.innerWidth<=768),window.innerWidth>768&&k(!1)};return J(),window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),f.useEffect(()=>{k(!1)},[d.pathname]),f.useEffect(()=>(y?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[y]);const F=()=>{u(!i)},ie=()=>{sessionStorage.removeItem("user"),a("/")},je=async()=>{R(!0),Z("idle");try{localStorage.setItem("accentColor",_),localStorage.setItem("darkMode",JSON.stringify(i)),localStorage.setItem("notifications",JSON.stringify(G)),localStorage.setItem("language",ye),localStorage.setItem("timezone",ue),localStorage.setItem("autoSave",JSON.stringify(X)),document.documentElement.style.setProperty("--accent-color",_),window.dispatchEvent(new Event("settingsUpdated")),await new Promise(J=>setTimeout(J,500)),R(!1),Z("success"),setTimeout(()=>{Z("idle")},3e3)}catch(J){console.error("Error saving settings:",J),R(!1),Z("error"),setTimeout(()=>{Z("idle")},3e3)}},He=()=>{alert("Fonctionnalit d'export  venir")},Ae=()=>{alert("Fonctionnalit d'import  venir")},Ke=()=>{window.confirm("tes-vous sr de vouloir rinitialiser tous les paramtres ?")&&(pe({email:!0,push:!1,sms:!1}),ze("fr"),ce("Europe/Paris"),ve(!0),alert("Paramtres rinitialiss"))},D=_,re=i?"#000000":"#f5f5f5",L=i?"#ffffff":"#111827",S=i?"#9ca3af":"#6b7280",U=i?"#333333":"#e5e7eb",Ce=i?"#111111":"#ffffff",fe=[{name:"Orange",value:"#fa541c",hex:"#fa541c"},{name:"Bleu",value:"#1890ff",hex:"#1890ff"},{name:"Vert",value:"#52c41a",hex:"#52c41a"},{name:"Rouge",value:"#f5222d",hex:"#f5222d"},{name:"Violet",value:"#722ed1",hex:"#722ed1"},{name:"Rose",value:"#eb2f96",hex:"#eb2f96"},{name:"Cyan",value:"#13c2c2",hex:"#13c2c2"},{name:"Jaune",value:"#faad14",hex:"#faad14"},{name:"Indigo",value:"#2f54eb",hex:"#2f54eb"},{name:"Turquoise",value:"#36cfc9",hex:"#36cfc9"},{name:"Magenta",value:"#f759ab",hex:"#f759ab"},{name:"Lime",value:"#a0d911",hex:"#a0d911"}],Ee=[{id:"general",label:"Gnral",icon:Qr},{id:"notifications",label:"Notifications",icon:_r},{id:"appearance",label:"Apparence",icon:Ta},{id:"data",label:"Donnes",icon:$a}];return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:re},children:[y&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>k(!1),style:{display:x?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),x&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${U}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>k(!y),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:L,zIndex:1001,position:"relative"},"aria-label":y?"Fermer le menu":"Ouvrir le menu",children:y?n.jsx(ks,{size:24}):n.jsx(vs,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${_} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ct,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:L},children:"Paramtres"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:F,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:S,cursor:"pointer"},children:i?n.jsx(zt,{style:{width:"18px",height:"18px"}}):n.jsx(It,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${y?"mobile-open":""}`,style:{position:x?"fixed":"sticky",top:x?"60px":0,left:0,height:x?"calc(100vh - 60px)":"100vh",width:x?"280px":p?"256px":"64px",borderRight:`1px solid ${U}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:x?y?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${U}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${_} 0%, ${_}dd 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${_}40`},children:n.jsx(ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:L},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:S},children:"Paramtres"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Yn,{Icon:ys,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:p,onClick:()=>a("/dashboard"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S}),n.jsx(Yn,{Icon:xs,title:"Rservation",isActive:d.pathname==="/rservation",open:p,onClick:()=>a("/rservation"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S}),n.jsx(Yn,{Icon:wo,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:p,onClick:()=>a("/jours-feries"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S}),n.jsx(Yn,{Icon:Co,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:p,onClick:()=>a("/utilisateurs"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S}),n.jsxs("button",{onClick:()=>H(!T),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:S,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:J=>{J.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",J.currentTarget.style.color=L},onMouseLeave:J=>{J.currentTarget.style.backgroundColor="transparent",J.currentTarget.style.color=S},children:[n.jsx(ct,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),T?n.jsx(js,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ms,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),T&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Yn,{Icon:ct,title:"Metr",isActive:d.pathname==="/metre",open:p,onClick:()=>a("/metre"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S}),n.jsx(Yn,{Icon:ct,title:"Pose",isActive:d.pathname==="/pose",open:p,onClick:()=>a("/pose"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S}),n.jsx(Yn,{Icon:ct,title:"SAV",isActive:d.pathname==="/sav",open:p,onClick:()=>a("/sav"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${U}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:S,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Yn,{Icon:i?zt:It,title:i?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:F,isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S}),n.jsx(Yn,{Icon:Qr,title:"Paramtres",isActive:d.pathname==="/parametres",open:p,onClick:()=>a("/parametres"),isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S})]}),n.jsx("div",{style:{borderTop:`1px solid ${U}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Yn,{Icon:hn,title:"Dconnexion",isActive:!1,open:p,onClick:ie,isDarkMode:i,orangeColor:D,textColor:L,textSecondary:S})}),!x&&n.jsxs("button",{onClick:()=>m(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${U}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:S,transition:"background-color 0.2s"},onMouseEnter:J=>J.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:J=>J.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(gs,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{className:"dashboard-main",style:{flex:1,overflow:"auto",backgroundColor:re,paddingTop:x?"60px":0},children:n.jsxs("div",{className:`settings-page ${i?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"settings-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Paramtres"}),n.jsx("p",{children:"Grez vos prfrences et configurations"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[A==="success"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",backgroundColor:i?"#065f46":"#d1fae5",color:i?"#6ee7b7":"#065f46",fontSize:"14px",fontWeight:500},children:[n.jsx(Wm,{size:16}),"Enregistr"]}),n.jsx("button",{onClick:je,disabled:b,className:"save-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"none",backgroundColor:_,color:"#ffffff",fontSize:"14px",fontWeight:600,cursor:b?"not-allowed":"pointer",opacity:b?.7:1,transition:"all 0.2s",boxShadow:`0 2px 8px ${_}40`},onMouseEnter:J=>{b||(J.currentTarget.style.transform="translateY(-2px)",J.currentTarget.style.boxShadow=`0 4px 12px ${_}60`)},onMouseLeave:J=>{b||(J.currentTarget.style.transform="translateY(0)",J.currentTarget.style.boxShadow=`0 2px 8px ${_}40`)},children:b?n.jsxs(n.Fragment,{children:[n.jsx(Oa,{size:16,style:{animation:"spin 1s linear infinite"}}),"Enregistrement..."]}):n.jsxs(n.Fragment,{children:[n.jsx(cg,{size:16}),"Enregistrer"]})})]})]})}),n.jsxs("div",{className:"settings-container",children:[n.jsx("div",{className:"settings-sidebar",children:Ee.map(J=>{const Fe=J.icon;return n.jsxs("button",{onClick:()=>Q(J.id),className:`settings-nav-item ${E===J.id?"active":""}`,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"8px",border:"none",backgroundColor:E===J.id?i?`${D}30`:`${D}15`:"transparent",color:E===J.id?D:S,cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:E===J.id?600:500},onMouseEnter:ke=>{E!==J.id&&(ke.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",ke.currentTarget.style.color=L)},onMouseLeave:ke=>{E!==J.id&&(ke.currentTarget.style.backgroundColor="transparent",ke.currentTarget.style.color=S)},children:[n.jsx(Fe,{size:18}),n.jsx("span",{children:J.label})]},J.id)})}),n.jsxs("div",{className:"settings-content",children:[E==="general"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Qr,{size:24,style:{color:_}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Paramtres gnraux"}),n.jsx("p",{children:"Configurez les paramtres de base de votre application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Km,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Langue"}),n.jsx("p",{children:"Slectionnez votre langue prfre"})]})]}),n.jsxs("select",{value:ye,onChange:J=>ze(J.target.value),className:"setting-input",children:[n.jsx("option",{value:"fr",children:"Franais"}),n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Espaol"}),n.jsx("option",{value:"de",children:"Deutsch"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Hm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Fuseau horaire"}),n.jsx("p",{children:"Dfinissez votre fuseau horaire"})]})]}),n.jsxs("select",{value:ue,onChange:J=>ce(J.target.value),className:"setting-input",children:[n.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (GMT+1)"}),n.jsx("option",{value:"Europe/London",children:"Europe/London (GMT+0)"}),n.jsx("option",{value:"America/New_York",children:"America/New_York (GMT-5)"}),n.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx($a,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Sauvegarde automatique"}),n.jsx("p",{children:"Enregistrer automatiquement les modifications"})]})]}),n.jsx("button",{onClick:()=>ve(!X),className:`toggle-switch ${X?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),E==="notifications"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(_r,{size:24,style:{color:_}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Notifications"}),n.jsx("p",{children:"Grez vos prfrences de notification"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Zm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications par email"}),n.jsx("p",{children:"Recevoir des notifications par email"})]})]}),n.jsx("button",{onClick:()=>pe({...G,email:!G.email}),className:`toggle-switch ${G.email?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Pm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications push"}),n.jsx("p",{children:"Recevoir des notifications push en temps rel"})]})]}),n.jsx("button",{onClick:()=>pe({...G,push:!G.push}),className:`toggle-switch ${G.push?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Rm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications SMS"}),n.jsx("p",{children:"Recevoir des notifications par SMS"})]})]}),n.jsx("button",{onClick:()=>pe({...G,sms:!G.sms}),className:`toggle-switch ${G.sms?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),E==="appearance"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Ta,{size:24,style:{color:_}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Apparence"}),n.jsx("p",{children:"Personnalisez l'apparence de l'application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[i?n.jsx(zt,{size:20}):n.jsx(It,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Thme"}),n.jsx("p",{children:"Choisissez entre le mode clair et sombre"})]})]}),n.jsx("button",{onClick:F,className:`toggle-switch ${i?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",style:{flexDirection:"column",alignItems:"flex-start",gap:"20px"},children:[n.jsxs("div",{className:"setting-info",style:{width:"100%"},children:[n.jsx(Ta,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Couleur d'accentuation"}),n.jsx("p",{children:"Choisissez une couleur pour personnaliser l'interface"})]})]}),n.jsxs("div",{style:{width:"100%"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"12px",padding:"16px",backgroundColor:i?"#1a1a1a":"#f9fafb",borderRadius:"12px",border:`1px solid ${U}`},children:fe.map(J=>n.jsx("button",{onClick:()=>ge(J.value),style:{width:"60px",height:"60px",borderRadius:"12px",background:J.value,border:_===J.value?`3px solid ${i?"#ffffff":"#000000"}`:`2px solid ${U}`,cursor:"pointer",transition:"all 0.2s ease",position:"relative",boxShadow:_===J.value?`0 4px 12px ${J.value}60`:"0 2px 4px rgba(0, 0, 0, 0.1)",transform:_===J.value?"scale(1.1)":"scale(1)"},onMouseEnter:Fe=>{_!==J.value&&(Fe.currentTarget.style.transform="scale(1.05)",Fe.currentTarget.style.boxShadow=`0 4px 8px ${J.value}40`)},onMouseLeave:Fe=>{_!==J.value&&(Fe.currentTarget.style.transform="scale(1)",Fe.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)")},title:J.name,children:_===J.value&&n.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#ffffff",fontSize:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:""})},J.value))}),n.jsxs("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:i?"#1a1a1a":"#f9fafb",borderRadius:"8px",border:`1px solid ${U}`},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:_,border:`2px solid ${U}`,boxShadow:`0 2px 8px ${_}40`,flexShrink:0}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:L,marginBottom:"2px"},children:fe.find(J=>J.value===_)?.name||"Couleur personnalise"}),n.jsx("div",{style:{fontSize:"12px",color:S},children:_.toUpperCase()})]})]})]})]})]})]}),E==="data"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx($a,{size:24,style:{color:_}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Donnes"}),n.jsx("p",{children:"Grez vos donnes et sauvegardes"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(_d,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Exporter les donnes"}),n.jsx("p",{children:"Tlchargez une copie de toutes vos donnes"})]})]}),n.jsxs("button",{onClick:He,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${U}`,backgroundColor:Ce,color:L,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:J=>{J.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",J.currentTarget.style.borderColor=D},onMouseLeave:J=>{J.currentTarget.style.backgroundColor=Ce,J.currentTarget.style.borderColor=U},children:[n.jsx(_d,{size:16}),"Exporter"]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Rd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Importer les donnes"}),n.jsx("p",{children:"Restaurer vos donnes  partir d'un fichier"})]})]}),n.jsxs("button",{onClick:Ae,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${U}`,backgroundColor:Ce,color:L,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:J=>{J.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",J.currentTarget.style.borderColor=D},onMouseLeave:J=>{J.currentTarget.style.backgroundColor=Ce,J.currentTarget.style.borderColor=U},children:[n.jsx(Rd,{size:16}),"Importer"]})]}),n.jsxs("div",{className:"setting-item",style:{borderBottom:"none"},children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Ld,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Rinitialiser les paramtres"}),n.jsx("p",{children:"Rtablir tous les paramtres par dfaut"})]})]}),n.jsxs("button",{onClick:Ke,className:"action-button danger",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"1px solid #ef4444",backgroundColor:i?"#7f1d1d":"#fee2e2",color:"#ef4444",cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:J=>{J.currentTarget.style.backgroundColor=i?"#991b1b":"#fecaca"},onMouseLeave:J=>{J.currentTarget.style.backgroundColor=i?"#7f1d1d":"#fee2e2"},children:[n.jsx(Ld,{size:16}),"Rinitialiser"]})]})]})]})]})]})]})})]})}function Yg(){const a=bn(),d=mn(),[i,u]=f.useState(()=>{const q=localStorage.getItem("darkMode");return q?JSON.parse(q):!0}),[p,m]=f.useState(!0),[y,k]=f.useState(!1),[x,j]=f.useState(!1),[T,H]=f.useState(!0),[E,Q]=f.useState([]),[b,R]=f.useState("all"),[A,Z]=f.useState(""),[G,pe]=f.useState(nt.calendar1),[ye,ze]=f.useState(null),[ue,ce]=f.useState(""),[X,ve]=f.useState(""),[_,ge]=f.useState(!1),[F,ie]=f.useState(0),[je,He]=f.useState([]);f.useEffect(()=>{const q=sessionStorage.getItem("user");if(!q){a("/login");return}if(JSON.parse(q).role!=="admin"){a("/");return}Ae()},[a]),f.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(i)),document.documentElement.setAttribute("data-theme",i?"dark":"light")},[i]),f.useEffect(()=>{const q=()=>{j(window.innerWidth<=768),window.innerWidth>768&&k(!1)};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),f.useEffect(()=>{k(!1)},[d.pathname]),f.useEffect(()=>(y?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[y]),f.useEffect(()=>{Ae()},[b]),f.useEffect(()=>{Ee();const q=()=>{Ee()};return window.addEventListener("notificationRefresh",q),()=>window.removeEventListener("notificationRefresh",q)},[]),f.useEffect(()=>{const q=Ye=>{const Y=Ye.target;_&&!Y.closest("[data-notifications-dropdown]")&&ge(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[_]);const Ae=async()=>{try{if(b==="all"){const Ye=Object.values(nt).map(Ze=>So(Ze).then(lt=>({calendarId:Ze,holidays:lt}))),Y=await Promise.all(Ye),Be=[];Y.forEach(({calendarId:Ze,holidays:lt})=>{lt.forEach(Pe=>{Be.push({...Pe,calendarId:Ze})})}),Be.sort((Ze,lt)=>lt.holiday_date.localeCompare(Ze.holiday_date)),Q(Be)}else{const q=await So(b);Q(q.map(Ye=>({...Ye,calendarId:b})))}}catch(q){console.error("Error loading holidays:",q),alert("Erreur lors du chargement des jours fris")}},Ke=async()=>{if(!A){alert("Veuillez slectionner une date");return}try{await Sg(G,A),alert("Jour fri ajout avec succs"),Z(""),await Ae(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(q){console.error("Error adding holiday:",q);const Ye=q?.message||"Erreur lors de l'ajout du jour fri";alert(` ${Ye}`)}},D=q=>{ze(q),ce(q.holiday_date),ve(q.calendarId||q.calendar_id)},re=()=>{ze(null),ce(""),ve("")},L=async()=>{if(!ye||!ue){alert("Veuillez slectionner une date");return}try{await bg(ye.id,X,ue),alert("Jour fri modifi avec succs"),re(),await Ae(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(q){console.error("Error updating holiday:",q);const Ye=q?.message||"Erreur lors de la modification du jour fri";alert(` ${Ye}`)}},S=async q=>{if(window.confirm(`tes-vous sr de vouloir supprimer le jour fri du ${U(q.holiday_date)} ?`))try{await Ng(q.id),alert("Jour fri supprim avec succs"),await Ae(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(Ye){console.error("Error deleting holiday:",Ye);const Y=Ye?.message||"Erreur lors de la suppression du jour fri";alert(` ${Y}`)}},U=q=>new Date(q+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Ce=()=>{u(!i)},fe=()=>{sessionStorage.removeItem("user"),a("/")},Ee=async()=>{try{const q=await Bl();He(q),ie(q.length)}catch(q){console.error("Error loading notifications:",q)}},[J,Fe]=f.useState(()=>localStorage.getItem("accentColor")||"#fa541c");f.useEffect(()=>{const q=()=>{const Y=localStorage.getItem("accentColor");Y&&(Fe(Y),document.documentElement.style.setProperty("--accent-color",Y))};window.addEventListener("settingsUpdated",q),window.addEventListener("storage",q);const Ye=localStorage.getItem("accentColor");return Ye&&(Fe(Ye),document.documentElement.style.setProperty("--accent-color",Ye)),()=>{window.removeEventListener("settingsUpdated",q),window.removeEventListener("storage",q)}},[]);const ke=i?"#000000":"#f5f5f5",De=i?"#ffffff":"#111827",tt=i?"#9ca3af":"#6b7280",ot=i?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:ke},children:[y&&n.jsx("div",{className:"mobile-menu-overlay active",onClick:()=>k(!1),style:{display:x?"block":"none",position:"fixed",top:"60px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:998}}),x&&n.jsxs("div",{className:"mobile-header",style:{display:"flex",position:"fixed",top:0,left:0,right:0,height:"60px",backgroundColor:i?"#000000":"#ffffff",zIndex:1e3,padding:"0 16px",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${ot}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("button",{onClick:()=>k(!y),style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",borderRadius:"8px",color:De,zIndex:1001,position:"relative"},"aria-label":y?"Fermer le menu":"Ouvrir le menu",children:y?n.jsx(ks,{size:24}):n.jsx(vs,{size:24})}),n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${J} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ct,{style:{width:"16px",height:"16px",color:"#ffffff"}})}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:De},children:"Jours Fris"})]}),n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx("button",{onClick:Ce,style:{width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:"none",backgroundColor:"transparent",color:tt,cursor:"pointer"},children:i?n.jsx(zt,{style:{width:"18px",height:"18px"}}):n.jsx(It,{style:{width:"18px",height:"18px"}})})})]}),n.jsxs("nav",{className:`dashboard-sidebar ${y?"mobile-open":""}`,style:{position:x?"fixed":"sticky",top:x?"60px":0,left:0,height:x?"calc(100vh - 60px)":"100vh",width:x?"280px":p?"256px":"64px",borderRight:`1px solid ${ot}`,backgroundColor:i?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease, transform 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transform:x?y?"translateX(0)":"translateX(-100%)":"none",zIndex:999},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${ot}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${J} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:De},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:tt},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Jn,{Icon:ys,title:"Accueil",isActive:d.pathname==="/"||d.pathname==="/dashboard",open:p,onClick:()=>a("/dashboard"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt}),n.jsx(Jn,{Icon:xs,title:"Rservation",isActive:d.pathname==="/rservation",open:p,onClick:()=>a("/rservation"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt}),n.jsx(Jn,{Icon:wo,title:"Gestion des jours-fris",isActive:d.pathname==="/jours-feries",open:p,onClick:()=>a("/jours-feries"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt}),n.jsx(Jn,{Icon:Co,title:"Utilisateurs",isActive:d.pathname==="/utilisateurs",open:p,onClick:()=>a("/utilisateurs"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt}),n.jsxs("button",{onClick:()=>H(!T),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:tt,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:q=>{q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",q.currentTarget.style.color=De},onMouseLeave:q=>{q.currentTarget.style.backgroundColor="transparent",q.currentTarget.style.color=tt},children:[n.jsx(ct,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),T?n.jsx(js,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(ms,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),T&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Jn,{Icon:ct,title:"Metr",isActive:d.pathname==="/metre",open:p,onClick:()=>a("/metre"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt}),n.jsx(Jn,{Icon:ct,title:"Pose",isActive:d.pathname==="/pose",open:p,onClick:()=>a("/pose"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt}),n.jsx(Jn,{Icon:ct,title:"SAV",isActive:d.pathname==="/sav",open:p,onClick:()=>a("/sav"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${ot}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:tt,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Jn,{Icon:i?zt:It,title:i?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:Ce,isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt}),n.jsx(Jn,{Icon:Qr,title:"Paramtres",isActive:d.pathname==="/parametres",open:p,onClick:()=>a("/parametres"),isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt})]}),n.jsx("div",{style:{borderTop:`1px solid ${ot}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Jn,{Icon:hn,title:"Dconnexion",isActive:!1,open:p,onClick:fe,isDarkMode:i,orangeColor:J,textColor:De,textSecondary:tt})}),n.jsxs("button",{onClick:()=>m(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${ot}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:tt,transition:"background-color 0.2s",height:"48px"},onMouseEnter:q=>q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:q=>q.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(gs,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:ke,paddingTop:x?"60px":"0"},children:n.jsxs("div",{className:`admin-page ${i?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Gestion des jours fris"}),n.jsx("p",{children:"Grer les jours fris pour tous les calendriers"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>ge(!_),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:i?"#1a1a1a":"#ffffff",border:`1px solid ${i?"#333333":"#e5e7eb"}`,color:i?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:q=>{q.currentTarget.style.color=i?"#ffffff":"#111827",q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:q=>{q.currentTarget.style.color=i?"#9ca3af":"#6b7280",q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#ffffff"},children:[n.jsx(_r,{style:{width:"20px",height:"20px"}}),F>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:F>99?"99+":F})]}),_&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"fixed",top:x?"60px":"72px",right:x?"12px":"24px",width:x?"min(420px, calc(100vw - 24px))":"380px",maxHeight:"70vh",backgroundColor:i?"#1a1a1a":"#ffffff",border:`1px solid ${i?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 12px 30px rgba(0, 0, 0, 0.25)",zIndex:3e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${i?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:i?"#ffffff":"#111827"},children:"Notifications"}),F>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[F," nouvelle",F>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:je.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:i?"#9ca3af":"#6b7280"},children:"Aucune notification"}):je.slice(0,10).map(q=>{const Ye=Fl(q.timestamp),Y=()=>{if(q.type==="booking"){const it=q.data,Mt=pn(it.calendarId);return{title:"Nouvelle rservation",subtitle:`${it.name} - ${Mt}`,details:`${it.date} ${it.time&&it.time!=="21h00"?` ${it.time}`:""}`,onClick:()=>a("/rservation",{state:{highlightBookingId:it.id,calendarId:it.calendarId}})}}else if(q.type==="holiday"){const it=q.data;return{title:"Nouveau jour fri",subtitle:`${pn(it.calendarId)} - ${(we=>new Date(we+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(it.holiday_date)}`,details:"Jour fri ajout",onClick:()=>a("/jours-feries")}}else if(q.type==="user"){const it=q.data;return{title:"Nouveau compte",subtitle:it.name||"Nouvel utilisateur",details:it.role==="admin"?"Administrateur":"Utilisateur",onClick:()=>a("/utilisateurs")}}return{title:"Notification",subtitle:q.type,details:"",onClick:()=>{}}},{title:Be,subtitle:Ze,details:lt,onClick:Pe}=Y();return n.jsxs("div",{onClick:()=>{ge(!1),Pe()},style:{padding:"12px 16px",borderBottom:`1px solid ${i?"#333333":"#e5e7eb"}`,cursor:"pointer",backgroundColor:i?"#111111":"#ffffff",transition:"background-color 0.2s"},onMouseEnter:it=>it.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb",onMouseLeave:it=>it.currentTarget.style.backgroundColor=i?"#111111":"#ffffff",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[n.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:i?"#ffffff":"#111827"},children:Be}),n.jsx("span",{style:{fontSize:"12px",color:i?"#9ca3af":"#6b7280"},children:Ye})]}),n.jsx("div",{style:{fontSize:"13px",color:i?"#9ca3af":"#374151",marginBottom:"2px"},children:Ze}),lt&&n.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:lt})]},q.id)})}),je.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${i?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{ge(!1),je[0]?.type==="booking"?a("/rservation"):je[0]?.type==="holiday"?a("/jours-feries"):a("/utilisateurs")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:Ce,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${i?"#333333":"#e5e7eb"}`,backgroundColor:i?"#1a1a1a":"#ffffff",color:i?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>{q.currentTarget.style.color=i?"#ffffff":"#111827",q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:q=>{q.currentTarget.style.color=i?"#9ca3af":"#6b7280",q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#ffffff"},children:i?n.jsx(zt,{style:{width:"16px",height:"16px"}}):n.jsx(It,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:fe,style:{padding:"8px",borderRadius:"8px",backgroundColor:i?"#1a1a1a":"#ffffff",border:`1px solid ${i?"#333333":"#e5e7eb"}`,color:i?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:q=>{q.currentTarget.style.color=i?"#ffffff":"#111827",q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#f9fafb"},onMouseLeave:q=>{q.currentTarget.style.color=i?"#9ca3af":"#6b7280",q.currentTarget.style.backgroundColor=i?"#1a1a1a":"#ffffff"},children:n.jsx(hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"holiday-management-section",children:[n.jsxs("div",{className:"holiday-add-form",children:[n.jsx("h3",{children:"Ajouter un jour fri"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-calendar",children:"Calendrier:"}),n.jsxs("select",{id:"holiday-calendar",value:G,onChange:q=>pe(q.target.value),children:[n.jsx("option",{value:nt.calendar1,children:"Pose"}),n.jsx("option",{value:nt.calendar2,children:"Metr"}),n.jsx("option",{value:nt.calendar3,children:"SAV"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-date",children:"Date:"}),n.jsx("input",{id:"holiday-date",type:"date",value:A,onChange:q=>Z(q.target.value)})]}),n.jsxs("button",{className:"add-holiday-button",onClick:Ke,children:[n.jsx(Zd,{className:"add-holiday-icon"}),"Ajouter"]})]})]}),n.jsxs("div",{className:"holiday-list-section",children:[n.jsx("h3",{children:"Jours fris existants"}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"holiday-filter",children:"Filtrer par calendrier:"}),n.jsxs("select",{id:"holiday-filter",value:b,onChange:q=>R(q.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:nt.calendar1,children:"Pose"}),n.jsx("option",{value:nt.calendar2,children:"Metr"}),n.jsx("option",{value:nt.calendar3,children:"SAV"})]})]}),E.length===0?n.jsx("div",{className:"no-holidays",children:"Aucun jour fri enregistr"}):n.jsx("div",{className:"holidays-table-container",children:n.jsxs("table",{className:"holidays-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:E.map(q=>n.jsx("tr",{children:ye?.id===q.id?n.jsxs(n.Fragment,{children:[n.jsx("td",{children:n.jsx("input",{type:"date",value:ue,onChange:Ye=>ce(Ye.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}})}),n.jsx("td",{children:n.jsxs("select",{value:X,onChange:Ye=>ve(Ye.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[n.jsx("option",{value:nt.calendar1,children:"Pose"}),n.jsx("option",{value:nt.calendar2,children:"Metr"}),n.jsx("option",{value:nt.calendar3,children:"SAV"})]})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:L,title:"Enregistrer",children:""}),n.jsx("button",{className:"delete-button",onClick:re,title:"Annuler",children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("td",{children:U(q.holiday_date)}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:pn(q.calendarId||q.calendar_id)})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>D(q),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>S(q),title:"Supprimer",children:""})]})]})},q.id))})]})})]})]})]})})]})}const Jn=({Icon:a,title:d,isActive:i,open:u,onClick:p,isDarkMode:m,orangeColor:y,textColor:k,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:i?m?`${y}30`:`${y}15`:"transparent",color:i?y:x,borderLeft:i?`3px solid ${y}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:i?600:500},onMouseEnter:j=>{i||(j.currentTarget.style.backgroundColor=m?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=k)},onMouseLeave:j=>{i||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(a,{style:{width:"20px",height:"20px",flexShrink:0}}),u&&n.jsx("span",{children:d})]});typeof window<"u"&&(window.resetAllBookings=async()=>{confirm(" Are you sure you want to reset ALL bookings to 0? This cannot be undone!")&&(console.log(" Starting reset..."),await Cg(),alert(" All bookings have been reset! Please refresh the page."),window.location.reload())});nh.createRoot(document.getElementById("root")).render(n.jsx(Gp.StrictMode,{children:n.jsx(mm,{children:n.jsxs(Yh,{children:[n.jsx(Sn,{path:"/",element:n.jsx(Nm,{})}),n.jsx(Sn,{path:"/login",element:n.jsx(Fg,{})}),n.jsx(Sn,{path:"/calendrier",element:n.jsx(sr,{children:n.jsx(Pg,{})})}),n.jsx(Sn,{path:"/dashboard",element:n.jsx(sr,{requireAdmin:!0,children:n.jsx(ws,{})})}),n.jsx(Sn,{path:"/rservation",element:n.jsx(sr,{children:n.jsx(Wg,{})})}),n.jsx(Sn,{path:"/jours-feries",element:n.jsx(sr,{requireAdmin:!0,children:n.jsx(Yg,{})})}),n.jsx(Sn,{path:"/utilisateurs",element:n.jsx(sr,{requireAdmin:!0,children:n.jsx(Vg,{})})}),n.jsx(Sn,{path:"/parametres",element:n.jsx(sr,{requireAdmin:!0,children:n.jsx(Hg,{})})}),n.jsx(Sn,{path:"/pose",element:n.jsx(sr,{children:n.jsx(zg,{})})}),n.jsx(Sn,{path:"/sav",element:n.jsx(sr,{children:n.jsx(Ag,{})})}),n.jsx(Sn,{path:"/metre",element:n.jsx(sr,{children:n.jsx(Ig,{})})})]})})}));
