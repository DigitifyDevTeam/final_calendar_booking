(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const h of p)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function a(p){const h={};return p.integrity&&(h.integrity=p.integrity),p.referrerPolicy&&(h.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?h.credentials="include":p.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(p){if(p.ep)return;p.ep=!0;const h=a(p);fetch(p.href,h)}})();function kd(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Zi={exports:{}},Oo={},ea={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function Fp(){if(rd)return Ve;rd=1;var l=Symbol.for("react.element"),c=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),D=Symbol.iterator;function N(v){return v===null||typeof v!="object"?null:(v=D&&v[D]||v["@@iterator"],typeof v=="function"?v:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,P={};function L(v,k,de){this.props=v,this.context=k,this.refs=P,this.updater=de||B}L.prototype.isReactComponent={},L.prototype.setState=function(v,k){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,k,"setState")},L.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function K(){}K.prototype=L.prototype;function J(v,k,de){this.props=v,this.context=k,this.refs=P,this.updater=de||B}var H=J.prototype=new K;H.constructor=J,b(H,L.prototype),H.isPureReactComponent=!0;var le=Array.isArray,Ne=Object.prototype.hasOwnProperty,ne={current:null},Ae={key:!0,ref:!0,__self:!0,__source:!0};function ie(v,k,de){var he,Ie={},Ce=null,ke=null;if(k!=null)for(he in k.ref!==void 0&&(ke=k.ref),k.key!==void 0&&(Ce=""+k.key),k)Ne.call(k,he)&&!Ae.hasOwnProperty(he)&&(Ie[he]=k[he]);var be=arguments.length-2;if(be===1)Ie.children=de;else if(1<be){for(var We=Array(be),F=0;F<be;F++)We[F]=arguments[F+2];Ie.children=We}if(v&&v.defaultProps)for(he in be=v.defaultProps,be)Ie[he]===void 0&&(Ie[he]=be[he]);return{$$typeof:l,type:v,key:Ce,ref:ke,props:Ie,_owner:ne.current}}function pe(v,k){return{$$typeof:l,type:v.type,key:k,ref:v.ref,props:v.props,_owner:v._owner}}function Ee(v){return typeof v=="object"&&v!==null&&v.$$typeof===l}function ce(v){var k={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(de){return k[de]})}var ve=/\/+/g;function Xe(v,k){return typeof v=="object"&&v!==null&&v.key!=null?ce(""+v.key):k.toString(36)}function ue(v,k,de,he,Ie){var Ce=typeof v;(Ce==="undefined"||Ce==="boolean")&&(v=null);var ke=!1;if(v===null)ke=!0;else switch(Ce){case"string":case"number":ke=!0;break;case"object":switch(v.$$typeof){case l:case c:ke=!0}}if(ke)return ke=v,Ie=Ie(ke),v=he===""?"."+Xe(ke,0):he,le(Ie)?(de="",v!=null&&(de=v.replace(ve,"$&/")+"/"),ue(Ie,k,de,"",function(F){return F})):Ie!=null&&(Ee(Ie)&&(Ie=pe(Ie,de+(!Ie.key||ke&&ke.key===Ie.key?"":(""+Ie.key).replace(ve,"$&/")+"/")+v)),k.push(Ie)),1;if(ke=0,he=he===""?".":he+":",le(v))for(var be=0;be<v.length;be++){Ce=v[be];var We=he+Xe(Ce,be);ke+=ue(Ce,k,de,We,Ie)}else if(We=N(v),typeof We=="function")for(v=We.call(v),be=0;!(Ce=v.next()).done;)Ce=Ce.value,We=he+Xe(Ce,be++),ke+=ue(Ce,k,de,We,Ie);else if(Ce==="object")throw k=String(v),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return ke}function Ze(v,k,de){if(v==null)return v;var he=[],Ie=0;return ue(v,he,"","",function(Ce){return k.call(de,Ce,Ie++)}),he}function Le(v){if(v._status===-1){var k=v._result;k=k(),k.then(function(de){(v._status===0||v._status===-1)&&(v._status=1,v._result=de)},function(de){(v._status===0||v._status===-1)&&(v._status=2,v._result=de)}),v._status===-1&&(v._status=0,v._result=k)}if(v._status===1)return v._result.default;throw v._result}var Me={current:null},A={transition:null},ee={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:A,ReactCurrentOwner:ne};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Ze,forEach:function(v,k,de){Ze(v,function(){k.apply(this,arguments)},de)},count:function(v){var k=0;return Ze(v,function(){k++}),k},toArray:function(v){return Ze(v,function(k){return k})||[]},only:function(v){if(!Ee(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},Ve.Component=L,Ve.Fragment=a,Ve.Profiler=p,Ve.PureComponent=J,Ve.StrictMode=d,Ve.Suspense=x,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ve.act=te,Ve.cloneElement=function(v,k,de){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var he=b({},v.props),Ie=v.key,Ce=v.ref,ke=v._owner;if(k!=null){if(k.ref!==void 0&&(Ce=k.ref,ke=ne.current),k.key!==void 0&&(Ie=""+k.key),v.type&&v.type.defaultProps)var be=v.type.defaultProps;for(We in k)Ne.call(k,We)&&!Ae.hasOwnProperty(We)&&(he[We]=k[We]===void 0&&be!==void 0?be[We]:k[We])}var We=arguments.length-2;if(We===1)he.children=de;else if(1<We){be=Array(We);for(var F=0;F<We;F++)be[F]=arguments[F+2];he.children=be}return{$$typeof:l,type:v.type,key:Ie,ref:Ce,props:he,_owner:ke}},Ve.createContext=function(v){return v={$$typeof:g,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:h,_context:v},v.Consumer=v},Ve.createElement=ie,Ve.createFactory=function(v){var k=ie.bind(null,v);return k.type=v,k},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(v){return{$$typeof:S,render:v}},Ve.isValidElement=Ee,Ve.lazy=function(v){return{$$typeof:_,_payload:{_status:-1,_result:v},_init:Le}},Ve.memo=function(v,k){return{$$typeof:j,type:v,compare:k===void 0?null:k}},Ve.startTransition=function(v){var k=A.transition;A.transition={};try{v()}finally{A.transition=k}},Ve.unstable_act=te,Ve.useCallback=function(v,k){return Me.current.useCallback(v,k)},Ve.useContext=function(v){return Me.current.useContext(v)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(v){return Me.current.useDeferredValue(v)},Ve.useEffect=function(v,k){return Me.current.useEffect(v,k)},Ve.useId=function(){return Me.current.useId()},Ve.useImperativeHandle=function(v,k,de){return Me.current.useImperativeHandle(v,k,de)},Ve.useInsertionEffect=function(v,k){return Me.current.useInsertionEffect(v,k)},Ve.useLayoutEffect=function(v,k){return Me.current.useLayoutEffect(v,k)},Ve.useMemo=function(v,k){return Me.current.useMemo(v,k)},Ve.useReducer=function(v,k,de){return Me.current.useReducer(v,k,de)},Ve.useRef=function(v){return Me.current.useRef(v)},Ve.useState=function(v){return Me.current.useState(v)},Ve.useSyncExternalStore=function(v,k,de){return Me.current.useSyncExternalStore(v,k,de)},Ve.useTransition=function(){return Me.current.useTransition()},Ve.version="18.3.1",Ve}var od;function da(){return od||(od=1,ea.exports=Fp()),ea.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function Op(){if(sd)return Oo;sd=1;var l=da(),c=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function g(S,x,j){var _,D={},N=null,B=null;j!==void 0&&(N=""+j),x.key!==void 0&&(N=""+x.key),x.ref!==void 0&&(B=x.ref);for(_ in x)d.call(x,_)&&!h.hasOwnProperty(_)&&(D[_]=x[_]);if(S&&S.defaultProps)for(_ in x=S.defaultProps,x)D[_]===void 0&&(D[_]=x[_]);return{$$typeof:c,type:S,key:N,ref:B,props:D,_owner:p.current}}return Oo.Fragment=a,Oo.jsx=g,Oo.jsxs=g,Oo}var ld;function Up(){return ld||(ld=1,Zi.exports=Op()),Zi.exports}var n=Up(),m=da();const Wp=kd(m);var sl={},ta={exports:{}},Ht={},na={exports:{}},ra={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function Hp(){return id||(id=1,(function(l){function c(A,ee){var te=A.length;A.push(ee);e:for(;0<te;){var v=te-1>>>1,k=A[v];if(0<p(k,ee))A[v]=ee,A[te]=k,te=v;else break e}}function a(A){return A.length===0?null:A[0]}function d(A){if(A.length===0)return null;var ee=A[0],te=A.pop();if(te!==ee){A[0]=te;e:for(var v=0,k=A.length,de=k>>>1;v<de;){var he=2*(v+1)-1,Ie=A[he],Ce=he+1,ke=A[Ce];if(0>p(Ie,te))Ce<k&&0>p(ke,Ie)?(A[v]=ke,A[Ce]=te,v=Ce):(A[v]=Ie,A[he]=te,v=he);else if(Ce<k&&0>p(ke,te))A[v]=ke,A[Ce]=te,v=Ce;else break e}}return ee}function p(A,ee){var te=A.sortIndex-ee.sortIndex;return te!==0?te:A.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var g=Date,S=g.now();l.unstable_now=function(){return g.now()-S}}var x=[],j=[],_=1,D=null,N=3,B=!1,b=!1,P=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(A){for(var ee=a(j);ee!==null;){if(ee.callback===null)d(j);else if(ee.startTime<=A)d(j),ee.sortIndex=ee.expirationTime,c(x,ee);else break;ee=a(j)}}function le(A){if(P=!1,H(A),!b)if(a(x)!==null)b=!0,Le(Ne);else{var ee=a(j);ee!==null&&Me(le,ee.startTime-A)}}function Ne(A,ee){b=!1,P&&(P=!1,K(ie),ie=-1),B=!0;var te=N;try{for(H(ee),D=a(x);D!==null&&(!(D.expirationTime>ee)||A&&!ce());){var v=D.callback;if(typeof v=="function"){D.callback=null,N=D.priorityLevel;var k=v(D.expirationTime<=ee);ee=l.unstable_now(),typeof k=="function"?D.callback=k:D===a(x)&&d(x),H(ee)}else d(x);D=a(x)}if(D!==null)var de=!0;else{var he=a(j);he!==null&&Me(le,he.startTime-ee),de=!1}return de}finally{D=null,N=te,B=!1}}var ne=!1,Ae=null,ie=-1,pe=5,Ee=-1;function ce(){return!(l.unstable_now()-Ee<pe)}function ve(){if(Ae!==null){var A=l.unstable_now();Ee=A;var ee=!0;try{ee=Ae(!0,A)}finally{ee?Xe():(ne=!1,Ae=null)}}else ne=!1}var Xe;if(typeof J=="function")Xe=function(){J(ve)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Ze=ue.port2;ue.port1.onmessage=ve,Xe=function(){Ze.postMessage(null)}}else Xe=function(){L(ve,0)};function Le(A){Ae=A,ne||(ne=!0,Xe())}function Me(A,ee){ie=L(function(){A(l.unstable_now())},ee)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_continueExecution=function(){b||B||(b=!0,Le(Ne))},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return N},l.unstable_getFirstCallbackNode=function(){return a(x)},l.unstable_next=function(A){switch(N){case 1:case 2:case 3:var ee=3;break;default:ee=N}var te=N;N=ee;try{return A()}finally{N=te}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(A,ee){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var te=N;N=A;try{return ee()}finally{N=te}},l.unstable_scheduleCallback=function(A,ee,te){var v=l.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?v+te:v):te=v,A){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=te+k,A={id:_++,callback:ee,priorityLevel:A,startTime:te,expirationTime:k,sortIndex:-1},te>v?(A.sortIndex=te,c(j,A),a(x)===null&&A===a(j)&&(P?(K(ie),ie=-1):P=!0,Me(le,te-v))):(A.sortIndex=k,c(x,A),b||B||(b=!0,Le(Ne))),A},l.unstable_shouldYield=ce,l.unstable_wrapCallback=function(A){var ee=N;return function(){var te=N;N=ee;try{return A.apply(this,arguments)}finally{N=te}}}})(ra)),ra}var ad;function Vp(){return ad||(ad=1,na.exports=Hp()),na.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function Yp(){if(cd)return Ht;cd=1;var l=da(),c=Vp();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function h(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(p[e]=t,e=0;e<t.length;e++)d.add(t[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},D={};function N(e){return x.call(D,e)?!0:x.call(_,e)?!1:j.test(e)?D[e]=!0:(_[e]=!0,!1)}function B(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,r,o){if(t===null||typeof t>"u"||B(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,r,o,s,i,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=f}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];L[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(K,J);L[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(K,J);L[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(K,J);L[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,t,r,o){var s=L.hasOwnProperty(t)?L[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,r,s,o)&&(r=null),o||s===null?N(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var le=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ne=Symbol.for("react.element"),ne=Symbol.for("react.portal"),Ae=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),ce=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),A=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,v;function k(e){if(v===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var de=!1;function he(e,t){if(!e||de)return"";de=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var o=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){o=I}e.call(t.prototype)}else{try{throw Error()}catch(I){o=I}e()}}catch(I){if(I&&o&&typeof I.stack=="string"){for(var s=I.stack.split(`
`),i=o.stack.split(`
`),f=s.length-1,y=i.length-1;1<=f&&0<=y&&s[f]!==i[y];)y--;for(;1<=f&&0<=y;f--,y--)if(s[f]!==i[y]){if(f!==1||y!==1)do if(f--,y--,0>y||s[f]!==i[y]){var C=`
`+s[f].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=f&&0<=y);break}}}finally{de=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?k(e):""}function Ie(e){switch(e.tag){case 5:return k(e.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ae:return"Fragment";case ne:return"Portal";case pe:return"Profiler";case ie:return"StrictMode";case Xe:return"Suspense";case ue:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ce:return(e.displayName||"Context")+".Consumer";case Ee:return(e._context.displayName||"Context")+".Provider";case ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ze:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case Le:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(t);case 8:return t===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function We(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F(e){var t=We(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){o=""+f,i.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oe(e){e._valueTracker||(e._valueTracker=F(e))}function Ye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=We(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function jt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function De(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function G(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=be(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function me(e,t){t=t.checked,t!=null&&H(e,"checked",t,!1)}function Be(e,t){me(e,t);var r=be(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Te(e,t.type,r):t.hasOwnProperty("defaultValue")&&Te(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Te(e,t,r){(t!=="number"||jt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tt=Array.isArray;function M(e,t,r,o){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+be(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function V(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(a(92));if(tt(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:be(r)}}function $e(e,t){var r=be(t.value),o=be(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Je(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pt,Oe=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ue(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(e){ur.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vt[t]=Vt[e]})});function yn(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vt.hasOwnProperty(e)&&Vt[e]?(""+t).trim():t+"px"}function qe(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=yn(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var dr=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $n(e,t){if(t){if(dr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function fr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function _e(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var He=null,Mt=null,It=null;function kt(e){if(e=No(e)){if(typeof He!="function")throw Error(a(280));var t=e.stateNode;t&&(t=js(t),He(e.stateNode,e.type,t))}}function Mr(e){Mt?It?It.push(e):It=[e]:Mt=e}function u(){if(Mt){var e=Mt,t=It;if(It=Mt=null,kt(e),t)for(e=0;e<t.length;e++)kt(t[e])}}function z(e,t){return e(t)}function U(){}var O=!1;function w(e,t,r){if(O)return e(t,r);O=!0;try{return z(e,t,r)}finally{O=!1,(Mt!==null||It!==null)&&(U(),u())}}function W(e,t){var r=e.stateNode;if(r===null)return null;var o=js(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,t,typeof r));return r}var ge=!1;if(S)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){ge=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{ge=!1}function we(e,t,r,o,s,i,f,y,C){var I=Array.prototype.slice.call(arguments,3);try{t.apply(r,I)}catch(Q){this.onError(Q)}}var se=!1,it=null,Tt=!1,Yt=null,q={onError:function(e){se=!0,it=e}};function Jd(e,t,r,o,s,i,f,y,C){se=!1,it=null,we.apply(q,arguments)}function Qd(e,t,r,o,s,i,f,y,C){if(Jd.apply(this,arguments),se){if(se){var I=it;se=!1,it=null}else throw Error(a(198));Tt||(Tt=!0,Yt=I)}}function pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Na(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ea(e){if(pr(e)!==e)throw Error(a(188))}function Kd(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(a(188));return t!==e?null:e}for(var r=e,o=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ea(s),e;if(i===o)return Ea(s),t;i=i.sibling}throw Error(a(188))}if(r.return!==o.return)r=s,o=i;else{for(var f=!1,y=s.child;y;){if(y===r){f=!0,r=s,o=i;break}if(y===o){f=!0,o=s,r=i;break}y=y.sibling}if(!f){for(y=i.child;y;){if(y===r){f=!0,r=i,o=s;break}if(y===o){f=!0,o=i,r=s;break}y=y.sibling}if(!f)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:t}function _a(e){return e=Kd(e),e!==null?Ma(e):null}function Ma(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ma(e);if(t!==null)return t;e=e.sibling}return null}var Ta=c.unstable_scheduleCallback,La=c.unstable_cancelCallback,qd=c.unstable_shouldYield,Gd=c.unstable_requestPaint,xt=c.unstable_now,Xd=c.unstable_getCurrentPriorityLevel,vl=c.unstable_ImmediatePriority,$a=c.unstable_UserBlockingPriority,es=c.unstable_NormalPriority,Zd=c.unstable_LowPriority,Ra=c.unstable_IdlePriority,ts=null,vn=null;function ef(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ts,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:rf,tf=Math.log,nf=Math.LN2;function rf(e){return e>>>=0,e===0?32:31-(tf(e)/nf|0)|0}var ns=64,rs=4194304;function io(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function os(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,i=e.pingedLanes,f=r&268435455;if(f!==0){var y=f&~s;y!==0?o=io(y):(i&=f,i!==0&&(o=io(i)))}else f=r&~s,f!==0?o=io(f):i!==0&&(o=io(i));if(o===0)return 0;if(t!==0&&t!==o&&(t&s)===0&&(s=o&-o,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if((o&4)!==0&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-ln(t),s=1<<r,o|=e[r],t&=~s;return o}function of(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var f=31-ln(i),y=1<<f,C=s[f];C===-1?((y&r)===0||(y&o)!==0)&&(s[f]=of(y,t)):C<=t&&(e.expiredLanes|=y),i&=~y}}function jl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pa(){var e=ns;return ns<<=1,(ns&4194240)===0&&(ns=64),e}function kl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ao(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=r}function lf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ln(r),i=1<<s;t[s]=0,o[s]=-1,e[s]=-1,r&=~i}}function wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-ln(r),s=1<<o;s&t|e[o]&t&&(e[o]|=t),r&=~s}}var rt=0;function Ia(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Da,Sl,za,Ba,Aa,Cl=!1,ss=[],Vn=null,Yn=null,Jn=null,co=new Map,uo=new Map,Qn=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fa(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function fo(e,t,r,o,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:i,targetContainers:[s]},t!==null&&(t=No(t),t!==null&&Sl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cf(e,t,r,o,s){switch(t){case"focusin":return Vn=fo(Vn,e,t,r,o,s),!0;case"dragenter":return Yn=fo(Yn,e,t,r,o,s),!0;case"mouseover":return Jn=fo(Jn,e,t,r,o,s),!0;case"pointerover":var i=s.pointerId;return co.set(i,fo(co.get(i)||null,e,t,r,o,s)),!0;case"gotpointercapture":return i=s.pointerId,uo.set(i,fo(uo.get(i)||null,e,t,r,o,s)),!0}return!1}function Oa(e){var t=hr(e.target);if(t!==null){var r=pr(t);if(r!==null){if(t=r.tag,t===13){if(t=Na(r),t!==null){e.blockedOn=t,Aa(e.priority,function(){za(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);st=o,r.target.dispatchEvent(o),st=null}else return t=No(r),t!==null&&Sl(t),e.blockedOn=r,!1;t.shift()}return!0}function Ua(e,t,r){ls(e)&&r.delete(t)}function uf(){Cl=!1,Vn!==null&&ls(Vn)&&(Vn=null),Yn!==null&&ls(Yn)&&(Yn=null),Jn!==null&&ls(Jn)&&(Jn=null),co.forEach(Ua),uo.forEach(Ua)}function po(e,t){e.blockedOn===t&&(e.blockedOn=null,Cl||(Cl=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,uf)))}function ho(e){function t(s){return po(s,e)}if(0<ss.length){po(ss[0],e);for(var r=1;r<ss.length;r++){var o=ss[r];o.blockedOn===e&&(o.blockedOn=null)}}for(Vn!==null&&po(Vn,e),Yn!==null&&po(Yn,e),Jn!==null&&po(Jn,e),co.forEach(t),uo.forEach(t),r=0;r<Qn.length;r++)o=Qn[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qn.length&&(r=Qn[0],r.blockedOn===null);)Oa(r),r.blockedOn===null&&Qn.shift()}var Tr=le.ReactCurrentBatchConfig,is=!0;function df(e,t,r,o){var s=rt,i=Tr.transition;Tr.transition=null;try{rt=1,bl(e,t,r,o)}finally{rt=s,Tr.transition=i}}function ff(e,t,r,o){var s=rt,i=Tr.transition;Tr.transition=null;try{rt=4,bl(e,t,r,o)}finally{rt=s,Tr.transition=i}}function bl(e,t,r,o){if(is){var s=Nl(e,t,r,o);if(s===null)Wl(e,t,o,as,r),Fa(e,o);else if(cf(s,e,t,r,o))o.stopPropagation();else if(Fa(e,o),t&4&&-1<af.indexOf(e)){for(;s!==null;){var i=No(s);if(i!==null&&Da(i),i=Nl(e,t,r,o),i===null&&Wl(e,t,o,as,r),i===s)break;s=i}s!==null&&o.stopPropagation()}else Wl(e,t,o,null,r)}}var as=null;function Nl(e,t,r,o){if(as=null,e=_e(o),e=hr(e),e!==null)if(t=pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Na(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return as=e,null}function Wa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xd()){case vl:return 1;case $a:return 4;case es:case Zd:return 16;case Ra:return 536870912;default:return 16}default:return 16}}var Kn=null,El=null,cs=null;function Ha(){if(cs)return cs;var e,t=El,r=t.length,o,s="value"in Kn?Kn.value:Kn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var f=r-e;for(o=1;o<=f&&t[r-o]===s[i-o];o++);return cs=s.slice(e,1<o?1-o:void 0)}function us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function Va(){return!1}function Jt(e){function t(r,o,s,i,f){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=i,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(i):i[y]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ds:Va,this.isPropagationStopped=Va,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Jt(Lr),mo=te({},Lr,{view:0,detail:0}),pf=Jt(mo),Ml,Tl,go,fs=te({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==go&&(go&&e.type==="mousemove"?(Ml=e.screenX-go.screenX,Tl=e.screenY-go.screenY):Tl=Ml=0,go=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),Ya=Jt(fs),hf=te({},fs,{dataTransfer:0}),mf=Jt(hf),gf=te({},mo,{relatedTarget:0}),Ll=Jt(gf),xf=te({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),yf=Jt(xf),vf=te({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jf=Jt(vf),kf=te({},Lr,{data:0}),Ja=Jt(kf),wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cf[e])?!!t[e]:!1}function $l(){return bf}var Nf=te({},mo,{key:function(e){if(e.key){var t=wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ef=Jt(Nf),_f=te({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=Jt(_f),Mf=te({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Tf=Jt(Mf),Lf=te({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$f=Jt(Lf),Rf=te({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pf=Jt(Rf),If=[9,13,27,32],Rl=S&&"CompositionEvent"in window,xo=null;S&&"documentMode"in document&&(xo=document.documentMode);var Df=S&&"TextEvent"in window&&!xo,Ka=S&&(!Rl||xo&&8<xo&&11>=xo),qa=" ",Ga=!1;function Xa(e,t){switch(e){case"keyup":return If.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function zf(e,t){switch(e){case"compositionend":return Za(t);case"keypress":return t.which!==32?null:(Ga=!0,qa);case"textInput":return e=t.data,e===qa&&Ga?null:e;default:return null}}function Bf(e,t){if($r)return e==="compositionend"||!Rl&&Xa(e,t)?(e=Ha(),cs=El=Kn=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ka&&t.locale!=="ko"?null:t.data;default:return null}}var Af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Af[e.type]:t==="textarea"}function tc(e,t,r,o){Mr(o),t=xs(t,"onChange"),0<t.length&&(r=new _l("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var yo=null,vo=null;function Ff(e){vc(e,0)}function ps(e){var t=zr(e);if(Ye(t))return e}function Of(e,t){if(e==="change")return t}var nc=!1;if(S){var Pl;if(S){var Il="oninput"in document;if(!Il){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),Il=typeof rc.oninput=="function"}Pl=Il}else Pl=!1;nc=Pl&&(!document.documentMode||9<document.documentMode)}function oc(){yo&&(yo.detachEvent("onpropertychange",sc),vo=yo=null)}function sc(e){if(e.propertyName==="value"&&ps(vo)){var t=[];tc(t,vo,e,_e(e)),w(Ff,t)}}function Uf(e,t,r){e==="focusin"?(oc(),yo=t,vo=r,yo.attachEvent("onpropertychange",sc)):e==="focusout"&&oc()}function Wf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ps(vo)}function Hf(e,t){if(e==="click")return ps(t)}function Vf(e,t){if(e==="input"||e==="change")return ps(t)}function Yf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:Yf;function jo(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!x.call(t,s)||!an(e[s],t[s]))return!1}return!0}function lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ic(e,t){var r=lc(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lc(r)}}function ac(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ac(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cc(){for(var e=window,t=jt();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jt(e.document)}return t}function Dl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jf(e){var t=cc(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ac(r.ownerDocument.documentElement,r)){if(o!==null&&Dl(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(o.start,s);o=o.end===void 0?i:Math.min(o.end,s),!e.extend&&i>o&&(s=o,o=i,i=s),s=ic(r,i);var f=ic(r,o);s&&f&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qf=S&&"documentMode"in document&&11>=document.documentMode,Rr=null,zl=null,ko=null,Bl=!1;function uc(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bl||Rr==null||Rr!==jt(o)||(o=Rr,"selectionStart"in o&&Dl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&jo(ko,o)||(ko=o,o=xs(zl,"onSelect"),0<o.length&&(t=new _l("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Rr)))}function hs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pr={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Al={},dc={};S&&(dc=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function ms(e){if(Al[e])return Al[e];if(!Pr[e])return e;var t=Pr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dc)return Al[e]=t[r];return e}var fc=ms("animationend"),pc=ms("animationiteration"),hc=ms("animationstart"),mc=ms("transitionend"),gc=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){gc.set(e,t),h(t,[e])}for(var Fl=0;Fl<xc.length;Fl++){var Ol=xc[Fl],Kf=Ol.toLowerCase(),qf=Ol[0].toUpperCase()+Ol.slice(1);qn(Kf,"on"+qf)}qn(fc,"onAnimationEnd"),qn(pc,"onAnimationIteration"),qn(hc,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(mc,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gf=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function yc(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,Qd(o,t,void 0,e),e.currentTarget=null}function vc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var f=o.length-1;0<=f;f--){var y=o[f],C=y.instance,I=y.currentTarget;if(y=y.listener,C!==i&&s.isPropagationStopped())break e;yc(s,y,I),i=C}else for(f=0;f<o.length;f++){if(y=o[f],C=y.instance,I=y.currentTarget,y=y.listener,C!==i&&s.isPropagationStopped())break e;yc(s,y,I),i=C}}}if(Tt)throw e=Yt,Tt=!1,Yt=null,e}function ct(e,t){var r=t[Kl];r===void 0&&(r=t[Kl]=new Set);var o=e+"__bubble";r.has(o)||(jc(t,e,2,!1),r.add(o))}function Ul(e,t,r){var o=0;t&&(o|=4),jc(r,e,o,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function So(e){if(!e[gs]){e[gs]=!0,d.forEach(function(r){r!=="selectionchange"&&(Gf.has(r)||Ul(r,!1,e),Ul(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,Ul("selectionchange",!1,t))}}function jc(e,t,r,o){switch(Wa(t)){case 1:var s=df;break;case 4:s=ff;break;default:s=bl}r=s.bind(null,t,r,e),s=void 0,!ge||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wl(e,t,r,o,s){var i=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var y=o.stateNode.containerInfo;if(y===s||y.nodeType===8&&y.parentNode===s)break;if(f===4)for(f=o.return;f!==null;){var C=f.tag;if((C===3||C===4)&&(C=f.stateNode.containerInfo,C===s||C.nodeType===8&&C.parentNode===s))return;f=f.return}for(;y!==null;){if(f=hr(y),f===null)return;if(C=f.tag,C===5||C===6){o=i=f;continue e}y=y.parentNode}}o=o.return}w(function(){var I=i,Q=_e(r),X=[];e:{var Y=gc.get(e);if(Y!==void 0){var fe=_l,ye=e;switch(e){case"keypress":if(us(r)===0)break e;case"keydown":case"keyup":fe=Ef;break;case"focusin":ye="focus",fe=Ll;break;case"focusout":ye="blur",fe=Ll;break;case"beforeblur":case"afterblur":fe=Ll;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Tf;break;case fc:case pc:case hc:fe=yf;break;case mc:fe=$f;break;case"scroll":fe=pf;break;case"wheel":fe=Pf;break;case"copy":case"cut":case"paste":fe=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Qa}var je=(t&4)!==0,yt=!je&&e==="scroll",T=je?Y!==null?Y+"Capture":null:Y;je=[];for(var E=I,R;E!==null;){R=E;var Z=R.stateNode;if(R.tag===5&&Z!==null&&(R=Z,T!==null&&(Z=W(E,T),Z!=null&&je.push(Co(E,Z,R)))),yt)break;E=E.return}0<je.length&&(Y=new fe(Y,ye,null,r,Q),X.push({event:Y,listeners:je}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",Y&&r!==st&&(ye=r.relatedTarget||r.fromElement)&&(hr(ye)||ye[Rn]))break e;if((fe||Y)&&(Y=Q.window===Q?Q:(Y=Q.ownerDocument)?Y.defaultView||Y.parentWindow:window,fe?(ye=r.relatedTarget||r.toElement,fe=I,ye=ye?hr(ye):null,ye!==null&&(yt=pr(ye),ye!==yt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=I),fe!==ye)){if(je=Ya,Z="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(je=Qa,Z="onPointerLeave",T="onPointerEnter",E="pointer"),yt=fe==null?Y:zr(fe),R=ye==null?Y:zr(ye),Y=new je(Z,E+"leave",fe,r,Q),Y.target=yt,Y.relatedTarget=R,Z=null,hr(Q)===I&&(je=new je(T,E+"enter",ye,r,Q),je.target=R,je.relatedTarget=yt,Z=je),yt=Z,fe&&ye)t:{for(je=fe,T=ye,E=0,R=je;R;R=Ir(R))E++;for(R=0,Z=T;Z;Z=Ir(Z))R++;for(;0<E-R;)je=Ir(je),E--;for(;0<R-E;)T=Ir(T),R--;for(;E--;){if(je===T||T!==null&&je===T.alternate)break t;je=Ir(je),T=Ir(T)}je=null}else je=null;fe!==null&&kc(X,Y,fe,je,!1),ye!==null&&yt!==null&&kc(X,yt,ye,je,!0)}}e:{if(Y=I?zr(I):window,fe=Y.nodeName&&Y.nodeName.toLowerCase(),fe==="select"||fe==="input"&&Y.type==="file")var Se=Of;else if(ec(Y))if(nc)Se=Vf;else{Se=Wf;var Re=Uf}else(fe=Y.nodeName)&&fe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(Se=Hf);if(Se&&(Se=Se(e,I))){tc(X,Se,r,Q);break e}Re&&Re(e,Y,I),e==="focusout"&&(Re=Y._wrapperState)&&Re.controlled&&Y.type==="number"&&Te(Y,"number",Y.value)}switch(Re=I?zr(I):window,e){case"focusin":(ec(Re)||Re.contentEditable==="true")&&(Rr=Re,zl=I,ko=null);break;case"focusout":ko=zl=Rr=null;break;case"mousedown":Bl=!0;break;case"contextmenu":case"mouseup":case"dragend":Bl=!1,uc(X,r,Q);break;case"selectionchange":if(Qf)break;case"keydown":case"keyup":uc(X,r,Q)}var Pe;if(Rl)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else $r?Xa(e,r)&&(ze="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Ka&&r.locale!=="ko"&&($r||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&$r&&(Pe=Ha()):(Kn=Q,El="value"in Kn?Kn.value:Kn.textContent,$r=!0)),Re=xs(I,ze),0<Re.length&&(ze=new Ja(ze,e,null,r,Q),X.push({event:ze,listeners:Re}),Pe?ze.data=Pe:(Pe=Za(r),Pe!==null&&(ze.data=Pe)))),(Pe=Df?zf(e,r):Bf(e,r))&&(I=xs(I,"onBeforeInput"),0<I.length&&(Q=new Ja("onBeforeInput","beforeinput",null,r,Q),X.push({event:Q,listeners:I}),Q.data=Pe))}vc(X,t)})}function Co(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xs(e,t){for(var r=t+"Capture",o=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=W(e,r),i!=null&&o.unshift(Co(e,i,s)),i=W(e,t),i!=null&&o.push(Co(e,i,s))),e=e.return}return o}function Ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kc(e,t,r,o,s){for(var i=t._reactName,f=[];r!==null&&r!==o;){var y=r,C=y.alternate,I=y.stateNode;if(C!==null&&C===o)break;y.tag===5&&I!==null&&(y=I,s?(C=W(r,i),C!=null&&f.unshift(Co(r,C,y))):s||(C=W(r,i),C!=null&&f.push(Co(r,C,y)))),r=r.return}f.length!==0&&e.push({event:t,listeners:f})}var Xf=/\r\n?/g,Zf=/\u0000|\uFFFD/g;function wc(e){return(typeof e=="string"?e:""+e).replace(Xf,`
`).replace(Zf,"")}function ys(e,t,r){if(t=wc(t),wc(e)!==t&&r)throw Error(a(425))}function vs(){}var Hl=null,Vl=null;function Yl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,ep=typeof clearTimeout=="function"?clearTimeout:void 0,Sc=typeof Promise=="function"?Promise:void 0,tp=typeof queueMicrotask=="function"?queueMicrotask:typeof Sc<"u"?function(e){return Sc.resolve(null).then(e).catch(np)}:Jl;function np(e){setTimeout(function(){throw e})}function Ql(e,t){var r=t,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),ho(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);ho(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),jn="__reactFiber$"+Dr,bo="__reactProps$"+Dr,Rn="__reactContainer$"+Dr,Kl="__reactEvents$"+Dr,rp="__reactListeners$"+Dr,op="__reactHandles$"+Dr;function hr(e){var t=e[jn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rn]||r[jn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Cc(e);e!==null;){if(r=e[jn])return r;e=Cc(e)}return t}e=r,r=e.parentNode}return null}function No(e){return e=e[jn]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function js(e){return e[bo]||null}var ql=[],Br=-1;function Xn(e){return{current:e}}function ut(e){0>Br||(e.current=ql[Br],ql[Br]=null,Br--)}function at(e,t){Br++,ql[Br]=e.current,e.current=t}var Zn={},Lt=Xn(Zn),At=Xn(!1),mr=Zn;function Ar(e,t){var r=e.type.contextTypes;if(!r)return Zn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(e){return e=e.childContextTypes,e!=null}function ks(){ut(At),ut(Lt)}function bc(e,t,r){if(Lt.current!==Zn)throw Error(a(168));at(Lt,t),at(At,r)}function Nc(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(a(108,ke(e)||"Unknown",s));return te({},r,o)}function ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,mr=Lt.current,at(Lt,e),at(At,At.current),!0}function Ec(e,t,r){var o=e.stateNode;if(!o)throw Error(a(169));r?(e=Nc(e,t,mr),o.__reactInternalMemoizedMergedChildContext=e,ut(At),ut(Lt),at(Lt,e)):ut(At),at(At,r)}var Pn=null,Ss=!1,Gl=!1;function _c(e){Pn===null?Pn=[e]:Pn.push(e)}function sp(e){Ss=!0,_c(e)}function er(){if(!Gl&&Pn!==null){Gl=!0;var e=0,t=rt;try{var r=Pn;for(rt=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Pn=null,Ss=!1}catch(s){throw Pn!==null&&(Pn=Pn.slice(e+1)),Ta(vl,er),s}finally{rt=t,Gl=!1}}return null}var Fr=[],Or=0,Cs=null,bs=0,Xt=[],Zt=0,gr=null,In=1,Dn="";function xr(e,t){Fr[Or++]=bs,Fr[Or++]=Cs,Cs=e,bs=t}function Mc(e,t,r){Xt[Zt++]=In,Xt[Zt++]=Dn,Xt[Zt++]=gr,gr=e;var o=In;e=Dn;var s=32-ln(o)-1;o&=~(1<<s),r+=1;var i=32-ln(t)+s;if(30<i){var f=s-s%5;i=(o&(1<<f)-1).toString(32),o>>=f,s-=f,In=1<<32-ln(t)+s|r<<s|o,Dn=i+e}else In=1<<i|r<<s|o,Dn=e}function Xl(e){e.return!==null&&(xr(e,1),Mc(e,1,0))}function Zl(e){for(;e===Cs;)Cs=Fr[--Or],Fr[Or]=null,bs=Fr[--Or],Fr[Or]=null;for(;e===gr;)gr=Xt[--Zt],Xt[Zt]=null,Dn=Xt[--Zt],Xt[Zt]=null,In=Xt[--Zt],Xt[Zt]=null}var Qt=null,Kt=null,dt=!1,cn=null;function Tc(e,t){var r=rn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gr!==null?{id:In,overflow:Dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Kt=null,!0):!1;default:return!1}}function ei(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ti(e){if(dt){var t=Kt;if(t){var r=t;if(!Lc(e,t)){if(ei(e))throw Error(a(418));t=Gn(r.nextSibling);var o=Qt;t&&Lc(e,t)?Tc(o,r):(e.flags=e.flags&-4097|2,dt=!1,Qt=e)}}else{if(ei(e))throw Error(a(418));e.flags=e.flags&-4097|2,dt=!1,Qt=e}}}function $c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Ns(e){if(e!==Qt)return!1;if(!dt)return $c(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yl(e.type,e.memoizedProps)),t&&(t=Kt)){if(ei(e))throw Rc(),Error(a(418));for(;t;)Tc(e,t),t=Gn(t.nextSibling)}if($c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kt=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Qt?Gn(e.stateNode.nextSibling):null;return!0}function Rc(){for(var e=Kt;e;)e=Gn(e.nextSibling)}function Ur(){Kt=Qt=null,dt=!1}function ni(e){cn===null?cn=[e]:cn.push(e)}var lp=le.ReactCurrentBatchConfig;function Eo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(a(309));var o=r.stateNode}if(!o)throw Error(a(147,e));var s=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(f){var y=s.refs;f===null?delete y[i]:y[i]=f},t._stringRef=i,t)}if(typeof e!="string")throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function Ic(e){function t(T,E){if(e){var R=T.deletions;R===null?(T.deletions=[E],T.flags|=16):R.push(E)}}function r(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function o(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function s(T,E){return T=ar(T,E),T.index=0,T.sibling=null,T}function i(T,E,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<E?(T.flags|=2,E):R):(T.flags|=2,E)):(T.flags|=1048576,E)}function f(T){return e&&T.alternate===null&&(T.flags|=2),T}function y(T,E,R,Z){return E===null||E.tag!==6?(E=Ji(R,T.mode,Z),E.return=T,E):(E=s(E,R),E.return=T,E)}function C(T,E,R,Z){var Se=R.type;return Se===Ae?Q(T,E,R.props.children,Z,R.key):E!==null&&(E.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Le&&Pc(Se)===E.type)?(Z=s(E,R.props),Z.ref=Eo(T,E,R),Z.return=T,Z):(Z=Gs(R.type,R.key,R.props,null,T.mode,Z),Z.ref=Eo(T,E,R),Z.return=T,Z)}function I(T,E,R,Z){return E===null||E.tag!==4||E.stateNode.containerInfo!==R.containerInfo||E.stateNode.implementation!==R.implementation?(E=Qi(R,T.mode,Z),E.return=T,E):(E=s(E,R.children||[]),E.return=T,E)}function Q(T,E,R,Z,Se){return E===null||E.tag!==7?(E=br(R,T.mode,Z,Se),E.return=T,E):(E=s(E,R),E.return=T,E)}function X(T,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ji(""+E,T.mode,R),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ne:return R=Gs(E.type,E.key,E.props,null,T.mode,R),R.ref=Eo(T,null,E),R.return=T,R;case ne:return E=Qi(E,T.mode,R),E.return=T,E;case Le:var Z=E._init;return X(T,Z(E._payload),R)}if(tt(E)||ee(E))return E=br(E,T.mode,R,null),E.return=T,E;Es(T,E)}return null}function Y(T,E,R,Z){var Se=E!==null?E.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Se!==null?null:y(T,E,""+R,Z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ne:return R.key===Se?C(T,E,R,Z):null;case ne:return R.key===Se?I(T,E,R,Z):null;case Le:return Se=R._init,Y(T,E,Se(R._payload),Z)}if(tt(R)||ee(R))return Se!==null?null:Q(T,E,R,Z,null);Es(T,R)}return null}function fe(T,E,R,Z,Se){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return T=T.get(R)||null,y(E,T,""+Z,Se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ne:return T=T.get(Z.key===null?R:Z.key)||null,C(E,T,Z,Se);case ne:return T=T.get(Z.key===null?R:Z.key)||null,I(E,T,Z,Se);case Le:var Re=Z._init;return fe(T,E,R,Re(Z._payload),Se)}if(tt(Z)||ee(Z))return T=T.get(R)||null,Q(E,T,Z,Se,null);Es(E,Z)}return null}function ye(T,E,R,Z){for(var Se=null,Re=null,Pe=E,ze=E=0,Nt=null;Pe!==null&&ze<R.length;ze++){Pe.index>ze?(Nt=Pe,Pe=null):Nt=Pe.sibling;var nt=Y(T,Pe,R[ze],Z);if(nt===null){Pe===null&&(Pe=Nt);break}e&&Pe&&nt.alternate===null&&t(T,Pe),E=i(nt,E,ze),Re===null?Se=nt:Re.sibling=nt,Re=nt,Pe=Nt}if(ze===R.length)return r(T,Pe),dt&&xr(T,ze),Se;if(Pe===null){for(;ze<R.length;ze++)Pe=X(T,R[ze],Z),Pe!==null&&(E=i(Pe,E,ze),Re===null?Se=Pe:Re.sibling=Pe,Re=Pe);return dt&&xr(T,ze),Se}for(Pe=o(T,Pe);ze<R.length;ze++)Nt=fe(Pe,T,ze,R[ze],Z),Nt!==null&&(e&&Nt.alternate!==null&&Pe.delete(Nt.key===null?ze:Nt.key),E=i(Nt,E,ze),Re===null?Se=Nt:Re.sibling=Nt,Re=Nt);return e&&Pe.forEach(function(cr){return t(T,cr)}),dt&&xr(T,ze),Se}function je(T,E,R,Z){var Se=ee(R);if(typeof Se!="function")throw Error(a(150));if(R=Se.call(R),R==null)throw Error(a(151));for(var Re=Se=null,Pe=E,ze=E=0,Nt=null,nt=R.next();Pe!==null&&!nt.done;ze++,nt=R.next()){Pe.index>ze?(Nt=Pe,Pe=null):Nt=Pe.sibling;var cr=Y(T,Pe,nt.value,Z);if(cr===null){Pe===null&&(Pe=Nt);break}e&&Pe&&cr.alternate===null&&t(T,Pe),E=i(cr,E,ze),Re===null?Se=cr:Re.sibling=cr,Re=cr,Pe=Nt}if(nt.done)return r(T,Pe),dt&&xr(T,ze),Se;if(Pe===null){for(;!nt.done;ze++,nt=R.next())nt=X(T,nt.value,Z),nt!==null&&(E=i(nt,E,ze),Re===null?Se=nt:Re.sibling=nt,Re=nt);return dt&&xr(T,ze),Se}for(Pe=o(T,Pe);!nt.done;ze++,nt=R.next())nt=fe(Pe,T,ze,nt.value,Z),nt!==null&&(e&&nt.alternate!==null&&Pe.delete(nt.key===null?ze:nt.key),E=i(nt,E,ze),Re===null?Se=nt:Re.sibling=nt,Re=nt);return e&&Pe.forEach(function(Ap){return t(T,Ap)}),dt&&xr(T,ze),Se}function yt(T,E,R,Z){if(typeof R=="object"&&R!==null&&R.type===Ae&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Ne:e:{for(var Se=R.key,Re=E;Re!==null;){if(Re.key===Se){if(Se=R.type,Se===Ae){if(Re.tag===7){r(T,Re.sibling),E=s(Re,R.props.children),E.return=T,T=E;break e}}else if(Re.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Le&&Pc(Se)===Re.type){r(T,Re.sibling),E=s(Re,R.props),E.ref=Eo(T,Re,R),E.return=T,T=E;break e}r(T,Re);break}else t(T,Re);Re=Re.sibling}R.type===Ae?(E=br(R.props.children,T.mode,Z,R.key),E.return=T,T=E):(Z=Gs(R.type,R.key,R.props,null,T.mode,Z),Z.ref=Eo(T,E,R),Z.return=T,T=Z)}return f(T);case ne:e:{for(Re=R.key;E!==null;){if(E.key===Re)if(E.tag===4&&E.stateNode.containerInfo===R.containerInfo&&E.stateNode.implementation===R.implementation){r(T,E.sibling),E=s(E,R.children||[]),E.return=T,T=E;break e}else{r(T,E);break}else t(T,E);E=E.sibling}E=Qi(R,T.mode,Z),E.return=T,T=E}return f(T);case Le:return Re=R._init,yt(T,E,Re(R._payload),Z)}if(tt(R))return ye(T,E,R,Z);if(ee(R))return je(T,E,R,Z);Es(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,E!==null&&E.tag===6?(r(T,E.sibling),E=s(E,R),E.return=T,T=E):(r(T,E),E=Ji(R,T.mode,Z),E.return=T,T=E),f(T)):r(T,E)}return yt}var Wr=Ic(!0),Dc=Ic(!1),_s=Xn(null),Ms=null,Hr=null,ri=null;function oi(){ri=Hr=Ms=null}function si(e){var t=_s.current;ut(_s),e._currentValue=t}function li(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function Vr(e,t){Ms=e,ri=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ot=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(ri!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(Ms===null)throw Error(a(308));Hr=e,Ms.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var yr=null;function ii(e){yr===null?yr=[e]:yr.push(e)}function zc(e,t,r,o){var s=t.interleaved;return s===null?(r.next=r,ii(t)):(r.next=s.next,s.next=r),t.interleaved=r,zn(e,o)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var tr=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,zn(e,r)}return s=o.interleaved,s===null?(t.next=t,ii(o)):(t.next=s.next,s.next=t),o.interleaved=t,zn(e,r)}function Ts(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,wl(e,r)}}function Ac(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=f:i=i.next=f,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ls(e,t,r,o){var s=e.updateQueue;tr=!1;var i=s.firstBaseUpdate,f=s.lastBaseUpdate,y=s.shared.pending;if(y!==null){s.shared.pending=null;var C=y,I=C.next;C.next=null,f===null?i=I:f.next=I,f=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,y=Q.lastBaseUpdate,y!==f&&(y===null?Q.firstBaseUpdate=I:y.next=I,Q.lastBaseUpdate=C))}if(i!==null){var X=s.baseState;f=0,Q=I=C=null,y=i;do{var Y=y.lane,fe=y.eventTime;if((o&Y)===Y){Q!==null&&(Q=Q.next={eventTime:fe,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var ye=e,je=y;switch(Y=t,fe=r,je.tag){case 1:if(ye=je.payload,typeof ye=="function"){X=ye.call(fe,X,Y);break e}X=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=je.payload,Y=typeof ye=="function"?ye.call(fe,X,Y):ye,Y==null)break e;X=te({},X,Y);break e;case 2:tr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,Y=s.effects,Y===null?s.effects=[y]:Y.push(y))}else fe={eventTime:fe,lane:Y,tag:y.tag,payload:y.payload,callback:y.callback,next:null},Q===null?(I=Q=fe,C=X):Q=Q.next=fe,f|=Y;if(y=y.next,y===null){if(y=s.shared.pending,y===null)break;Y=y,y=Y.next,Y.next=null,s.lastBaseUpdate=Y,s.shared.pending=null}}while(!0);if(Q===null&&(C=X),s.baseState=C,s.firstBaseUpdate=I,s.lastBaseUpdate=Q,t=s.shared.interleaved,t!==null){s=t;do f|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);kr|=f,e.lanes=f,e.memoizedState=X}}function Fc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(a(191,s));s.call(o)}}}var _o={},kn=Xn(_o),Mo=Xn(_o),To=Xn(_o);function vr(e){if(e===_o)throw Error(a(174));return e}function ci(e,t){switch(at(To,t),at(Mo,e),at(kn,_o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ke(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ke(t,e)}ut(kn),at(kn,t)}function Yr(){ut(kn),ut(Mo),ut(To)}function Oc(e){vr(To.current);var t=vr(kn.current),r=Ke(t,e.type);t!==r&&(at(Mo,e),at(kn,r))}function ui(e){Mo.current===e&&(ut(kn),ut(Mo))}var ht=Xn(0);function $s(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function fi(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var Rs=le.ReactCurrentDispatcher,pi=le.ReactCurrentBatchConfig,jr=0,mt=null,wt=null,Ct=null,Ps=!1,Lo=!1,$o=0,ip=0;function $t(){throw Error(a(321))}function hi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function mi(e,t,r,o,s,i){if(jr=i,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=e===null||e.memoizedState===null?dp:fp,e=r(o,s),Lo){i=0;do{if(Lo=!1,$o=0,25<=i)throw Error(a(301));i+=1,Ct=wt=null,t.updateQueue=null,Rs.current=pp,e=r(o,s)}while(Lo)}if(Rs.current=zs,t=wt!==null&&wt.next!==null,jr=0,Ct=wt=mt=null,Ps=!1,t)throw Error(a(300));return e}function gi(){var e=$o!==0;return $o=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?mt.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function tn(){if(wt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=Ct===null?mt.memoizedState:Ct.next;if(t!==null)Ct=t,wt=e;else{if(e===null)throw Error(a(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?mt.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Ro(e,t){return typeof t=="function"?t(e):t}function xi(e){var t=tn(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=wt,s=o.baseQueue,i=r.pending;if(i!==null){if(s!==null){var f=s.next;s.next=i.next,i.next=f}o.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,o=o.baseState;var y=f=null,C=null,I=i;do{var Q=I.lane;if((jr&Q)===Q)C!==null&&(C=C.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),o=I.hasEagerState?I.eagerState:e(o,I.action);else{var X={lane:Q,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};C===null?(y=C=X,f=o):C=C.next=X,mt.lanes|=Q,kr|=Q}I=I.next}while(I!==null&&I!==i);C===null?f=o:C.next=y,an(o,t.memoizedState)||(Ot=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=C,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do i=s.lane,mt.lanes|=i,kr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yi(e){var t=tn(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var f=s=s.next;do i=e(i,f.action),f=f.next;while(f!==s);an(i,t.memoizedState)||(Ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,o]}function Uc(){}function Wc(e,t){var r=mt,o=tn(),s=t(),i=!an(o.memoizedState,s);if(i&&(o.memoizedState=s,Ot=!0),o=o.queue,vi(Yc.bind(null,r,o,e),[e]),o.getSnapshot!==t||i||Ct!==null&&Ct.memoizedState.tag&1){if(r.flags|=2048,Po(9,Vc.bind(null,r,o,s,t),void 0,null),bt===null)throw Error(a(349));(jr&30)!==0||Hc(r,t,s)}return s}function Hc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vc(e,t,r,o){t.value=r,t.getSnapshot=o,Jc(t)&&Qc(e)}function Yc(e,t,r){return r(function(){Jc(t)&&Qc(e)})}function Jc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function Qc(e){var t=zn(e,1);t!==null&&pn(t,e,1,-1)}function Kc(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=up.bind(null,mt,e),[t.memoizedState,e]}function Po(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function qc(){return tn().memoizedState}function Is(e,t,r,o){var s=wn();mt.flags|=e,s.memoizedState=Po(1|t,r,void 0,o===void 0?null:o)}function Ds(e,t,r,o){var s=tn();o=o===void 0?null:o;var i=void 0;if(wt!==null){var f=wt.memoizedState;if(i=f.destroy,o!==null&&hi(o,f.deps)){s.memoizedState=Po(t,r,i,o);return}}mt.flags|=e,s.memoizedState=Po(1|t,r,i,o)}function Gc(e,t){return Is(8390656,8,e,t)}function vi(e,t){return Ds(2048,8,e,t)}function Xc(e,t){return Ds(4,2,e,t)}function Zc(e,t){return Ds(4,4,e,t)}function eu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tu(e,t,r){return r=r!=null?r.concat([e]):null,Ds(4,4,eu.bind(null,t,e),r)}function ji(){}function nu(e,t){var r=tn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&hi(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function ru(e,t){var r=tn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&hi(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function ou(e,t,r){return(jr&21)===0?(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=r):(an(r,t)||(r=Pa(),mt.lanes|=r,kr|=r,e.baseState=!0),t)}function ap(e,t){var r=rt;rt=r!==0&&4>r?r:4,e(!0);var o=pi.transition;pi.transition={};try{e(!1),t()}finally{rt=r,pi.transition=o}}function su(){return tn().memoizedState}function cp(e,t,r){var o=lr(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},lu(e))iu(t,r);else if(r=zc(e,t,r,o),r!==null){var s=zt();pn(r,e,o,s),au(r,t,o)}}function up(e,t,r){var o=lr(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(lu(e))iu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var f=t.lastRenderedState,y=i(f,r);if(s.hasEagerState=!0,s.eagerState=y,an(y,f)){var C=t.interleaved;C===null?(s.next=s,ii(t)):(s.next=C.next,C.next=s),t.interleaved=s;return}}catch{}finally{}r=zc(e,t,s,o),r!==null&&(s=zt(),pn(r,e,o,s),au(r,t,o))}}function lu(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function iu(e,t){Lo=Ps=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function au(e,t,r){if((r&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,wl(e,r)}}var zs={readContext:en,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},dp={readContext:en,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:Gc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Is(4194308,4,eu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=wn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=wn();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=cp.bind(null,mt,e),[o.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Kc,useDebugValue:ji,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=Kc(!1),t=e[0];return e=ap.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=mt,s=wn();if(dt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=t(),bt===null)throw Error(a(349));(jr&30)!==0||Hc(o,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Gc(Yc.bind(null,o,i,e),[e]),o.flags|=2048,Po(9,Vc.bind(null,o,i,r,t),void 0,null),r},useId:function(){var e=wn(),t=bt.identifierPrefix;if(dt){var r=Dn,o=In;r=(o&~(1<<32-ln(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=$o++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ip++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fp={readContext:en,useCallback:nu,useContext:en,useEffect:vi,useImperativeHandle:tu,useInsertionEffect:Xc,useLayoutEffect:Zc,useMemo:ru,useReducer:xi,useRef:qc,useState:function(){return xi(Ro)},useDebugValue:ji,useDeferredValue:function(e){var t=tn();return ou(t,wt.memoizedState,e)},useTransition:function(){var e=xi(Ro)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Uc,useSyncExternalStore:Wc,useId:su,unstable_isNewReconciler:!1},pp={readContext:en,useCallback:nu,useContext:en,useEffect:vi,useImperativeHandle:tu,useInsertionEffect:Xc,useLayoutEffect:Zc,useMemo:ru,useReducer:yi,useRef:qc,useState:function(){return yi(Ro)},useDebugValue:ji,useDeferredValue:function(e){var t=tn();return wt===null?t.memoizedState=e:ou(t,wt.memoizedState,e)},useTransition:function(){var e=yi(Ro)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Uc,useSyncExternalStore:Wc,useId:su,unstable_isNewReconciler:!1};function un(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ki(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bs={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=zt(),s=lr(e),i=Bn(o,s);i.payload=t,r!=null&&(i.callback=r),t=nr(e,i,s),t!==null&&(pn(t,e,s,o),Ts(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=zt(),s=lr(e),i=Bn(o,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=nr(e,i,s),t!==null&&(pn(t,e,s,o),Ts(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),o=lr(e),s=Bn(r,o);s.tag=2,t!=null&&(s.callback=t),t=nr(e,s,o),t!==null&&(pn(t,e,o,r),Ts(t,e,o))}};function cu(e,t,r,o,s,i,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,f):t.prototype&&t.prototype.isPureReactComponent?!jo(r,o)||!jo(s,i):!0}function uu(e,t,r){var o=!1,s=Zn,i=t.contextType;return typeof i=="object"&&i!==null?i=en(i):(s=Ft(t)?mr:Lt.current,o=t.contextTypes,i=(o=o!=null)?Ar(e,s):Zn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function du(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function wi(e,t,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ai(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=en(i):(i=Ft(t)?mr:Lt.current,s.context=Ar(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ki(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bs.enqueueReplaceState(s,s.state,null),Ls(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var r="",o=t;do r+=Ie(o),o=o.return;while(o);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Si(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ci(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hp=typeof WeakMap=="function"?WeakMap:Map;function fu(e,t,r){r=Bn(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){Vs||(Vs=!0,Ai=o),Ci(e,t)},r}function pu(e,t,r){r=Bn(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;r.payload=function(){return o(s)},r.callback=function(){Ci(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ci(e,t),typeof o!="function"&&(or===null?or=new Set([this]):or.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),r}function hu(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new hp;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(r)||(s.add(r),e=_p.bind(null,e,t,r),t.then(e,e))}function mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gu(e,t,r,o,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bn(-1,1),t.tag=2,nr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var mp=le.ReactCurrentOwner,Ot=!1;function Dt(e,t,r,o){t.child=e===null?Dc(t,null,r,o):Wr(t,e.child,r,o)}function xu(e,t,r,o,s){r=r.render;var i=t.ref;return Vr(t,s),o=mi(e,t,r,o,i,s),r=gi(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(dt&&r&&Xl(t),t.flags|=1,Dt(e,t,o,s),t.child)}function yu(e,t,r,o,s){if(e===null){var i=r.type;return typeof i=="function"&&!Yi(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,vu(e,t,i,o,s)):(e=Gs(r.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&s)===0){var f=i.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(f,o)&&e.ref===t.ref)return An(e,t,s)}return t.flags|=1,e=ar(i,o),e.ref=t.ref,e.return=t,t.child=e}function vu(e,t,r,o,s){if(e!==null){var i=e.memoizedProps;if(jo(i,o)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=o=i,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Ot=!0);else return t.lanes=e.lanes,An(e,t,s)}return bi(e,t,r,o,s)}function ju(e,t,r){var o=t.pendingProps,s=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Kr,qt),qt|=r;else{if((r&1073741824)===0)return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(Kr,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:r,at(Kr,qt),qt|=o}else i!==null?(o=i.baseLanes|r,t.memoizedState=null):o=r,at(Kr,qt),qt|=o;return Dt(e,t,s,r),t.child}function ku(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bi(e,t,r,o,s){var i=Ft(r)?mr:Lt.current;return i=Ar(t,i),Vr(t,s),r=mi(e,t,r,o,i,s),o=gi(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(dt&&o&&Xl(t),t.flags|=1,Dt(e,t,r,s),t.child)}function wu(e,t,r,o,s){if(Ft(r)){var i=!0;ws(t)}else i=!1;if(Vr(t,s),t.stateNode===null)Fs(e,t),uu(t,r,o),wi(t,r,o,s),o=!0;else if(e===null){var f=t.stateNode,y=t.memoizedProps;f.props=y;var C=f.context,I=r.contextType;typeof I=="object"&&I!==null?I=en(I):(I=Ft(r)?mr:Lt.current,I=Ar(t,I));var Q=r.getDerivedStateFromProps,X=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function";X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==o||C!==I)&&du(t,f,o,I),tr=!1;var Y=t.memoizedState;f.state=Y,Ls(t,o,f,s),C=t.memoizedState,y!==o||Y!==C||At.current||tr?(typeof Q=="function"&&(ki(t,r,Q,o),C=t.memoizedState),(y=tr||cu(t,r,y,o,Y,C,I))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=C),f.props=o,f.state=C,f.context=I,o=y):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,Bc(e,t),y=t.memoizedProps,I=t.type===t.elementType?y:un(t.type,y),f.props=I,X=t.pendingProps,Y=f.context,C=r.contextType,typeof C=="object"&&C!==null?C=en(C):(C=Ft(r)?mr:Lt.current,C=Ar(t,C));var fe=r.getDerivedStateFromProps;(Q=typeof fe=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||Y!==C)&&du(t,f,o,C),tr=!1,Y=t.memoizedState,f.state=Y,Ls(t,o,f,s);var ye=t.memoizedState;y!==X||Y!==ye||At.current||tr?(typeof fe=="function"&&(ki(t,r,fe,o),ye=t.memoizedState),(I=tr||cu(t,r,I,o,Y,ye,C)||!1)?(Q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,ye,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,ye,C)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=ye),f.props=o,f.state=ye,f.context=C,o=I):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),o=!1)}return Ni(e,t,r,o,i,s)}function Ni(e,t,r,o,s,i){ku(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return s&&Ec(t,r,!1),An(e,t,i);o=t.stateNode,mp.current=t;var y=f&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=Wr(t,e.child,null,i),t.child=Wr(t,null,y,i)):Dt(e,t,y,i),t.memoizedState=o.state,s&&Ec(t,r,!0),t.child}function Su(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),ci(e,t.containerInfo)}function Cu(e,t,r,o,s){return Ur(),ni(s),t.flags|=256,Dt(e,t,r,o),t.child}var Ei={dehydrated:null,treeContext:null,retryLane:0};function _i(e){return{baseLanes:e,cachePool:null,transitions:null}}function bu(e,t,r){var o=t.pendingProps,s=ht.current,i=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(s&2)!==0),y?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),at(ht,s&1),e===null)return ti(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=o.children,e=o.fallback,i?(o=t.mode,i=t.child,f={mode:"hidden",children:f},(o&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=f):i=Xs(f,o,0,null),e=br(e,o,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_i(r),t.memoizedState=Ei,e):Mi(t,f));if(s=e.memoizedState,s!==null&&(y=s.dehydrated,y!==null))return gp(e,t,f,o,y,s,r);if(i){i=o.fallback,f=t.mode,s=e.child,y=s.sibling;var C={mode:"hidden",children:o.children};return(f&1)===0&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=C,t.deletions=null):(o=ar(s,C),o.subtreeFlags=s.subtreeFlags&14680064),y!==null?i=ar(y,i):(i=br(i,f,r,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,f=e.child.memoizedState,f=f===null?_i(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},i.memoizedState=f,i.childLanes=e.childLanes&~r,t.memoizedState=Ei,o}return i=e.child,e=i.sibling,o=ar(i,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Mi(e,t){return t=Xs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,o){return o!==null&&ni(o),Wr(t,e.child,null,r),e=Mi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gp(e,t,r,o,s,i,f){if(r)return t.flags&256?(t.flags&=-257,o=Si(Error(a(422))),As(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,s=t.mode,o=Xs({mode:"visible",children:o.children},s,0,null),i=br(i,s,f,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,(t.mode&1)!==0&&Wr(t,e.child,null,f),t.child.memoizedState=_i(f),t.memoizedState=Ei,i);if((t.mode&1)===0)return As(e,t,f,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var y=o.dgst;return o=y,i=Error(a(419)),o=Si(i,o,void 0),As(e,t,f,o)}if(y=(f&e.childLanes)!==0,Ot||y){if(o=bt,o!==null){switch(f&-f){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(o.suspendedLanes|f))!==0?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(e,s),pn(o,e,s,-1))}return Vi(),o=Si(Error(a(421))),As(e,t,f,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Kt=Gn(s.nextSibling),Qt=t,dt=!0,cn=null,e!==null&&(Xt[Zt++]=In,Xt[Zt++]=Dn,Xt[Zt++]=gr,In=e.id,Dn=e.overflow,gr=t),t=Mi(t,o.children),t.flags|=4096,t)}function Nu(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),li(e.return,t,r)}function Ti(e,t,r,o,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=r,i.tailMode=s)}function Eu(e,t,r){var o=t.pendingProps,s=o.revealOrder,i=o.tail;if(Dt(e,t,o.children,r),o=ht.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nu(e,r,t);else if(e.tag===19)Nu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(at(ht,o),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$s(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ti(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$s(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ti(t,!0,r,null,i);break;case"together":Ti(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xp(e,t,r){switch(t.tag){case 3:Su(t),Ur();break;case 5:Oc(t);break;case 1:Ft(t.type)&&ws(t);break;case 4:ci(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;at(_s,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(at(ht,ht.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?bu(e,t,r):(at(ht,ht.current&1),e=An(e,t,r),e!==null?e.sibling:null);at(ht,ht.current&1);break;case 19:if(o=(r&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Eu(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(ht,ht.current),o)break;return null;case 22:case 23:return t.lanes=0,ju(e,t,r)}return An(e,t,r)}var _u,Li,Mu,Tu;_u=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Li=function(){},Mu=function(e,t,r,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,vr(kn.current);var i=null;switch(r){case"input":s=De(e,s),o=De(e,o),i=[];break;case"select":s=te({},s,{value:void 0}),o=te({},o,{value:void 0}),i=[];break;case"textarea":s=V(e,s),o=V(e,o),i=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=vs)}$n(r,o);var f;r=null;for(I in s)if(!o.hasOwnProperty(I)&&s.hasOwnProperty(I)&&s[I]!=null)if(I==="style"){var y=s[I];for(f in y)y.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(p.hasOwnProperty(I)?i||(i=[]):(i=i||[]).push(I,null));for(I in o){var C=o[I];if(y=s?.[I],o.hasOwnProperty(I)&&C!==y&&(C!=null||y!=null))if(I==="style")if(y){for(f in y)!y.hasOwnProperty(f)||C&&C.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in C)C.hasOwnProperty(f)&&y[f]!==C[f]&&(r||(r={}),r[f]=C[f])}else r||(i||(i=[]),i.push(I,r)),r=C;else I==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,y=y?y.__html:void 0,C!=null&&y!==C&&(i=i||[]).push(I,C)):I==="children"?typeof C!="string"&&typeof C!="number"||(i=i||[]).push(I,""+C):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(p.hasOwnProperty(I)?(C!=null&&I==="onScroll"&&ct("scroll",e),i||y===C||(i=[])):(i=i||[]).push(I,C))}r&&(i=i||[]).push("style",r);var I=i;(t.updateQueue=I)&&(t.flags|=4)}},Tu=function(e,t,r,o){r!==o&&(t.flags|=4)};function Io(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function yp(e,t,r){var o=t.pendingProps;switch(Zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Ft(t.type)&&ks(),Rt(t),null;case 3:return o=t.stateNode,Yr(),ut(At),ut(Lt),fi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cn!==null&&(Ui(cn),cn=null))),Li(e,t),Rt(t),null;case 5:ui(t);var s=vr(To.current);if(r=t.type,e!==null&&t.stateNode!=null)Mu(e,t,r,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(a(166));return Rt(t),null}if(e=vr(kn.current),Ns(t)){o=t.stateNode,r=t.type;var i=t.memoizedProps;switch(o[jn]=t,o[bo]=i,e=(t.mode&1)!==0,r){case"dialog":ct("cancel",o),ct("close",o);break;case"iframe":case"object":case"embed":ct("load",o);break;case"video":case"audio":for(s=0;s<wo.length;s++)ct(wo[s],o);break;case"source":ct("error",o);break;case"img":case"image":case"link":ct("error",o),ct("load",o);break;case"details":ct("toggle",o);break;case"input":G(o,i),ct("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},ct("invalid",o);break;case"textarea":Fe(o,i),ct("invalid",o)}$n(r,i),s=null;for(var f in i)if(i.hasOwnProperty(f)){var y=i[f];f==="children"?typeof y=="string"?o.textContent!==y&&(i.suppressHydrationWarning!==!0&&ys(o.textContent,y,e),s=["children",y]):typeof y=="number"&&o.textContent!==""+y&&(i.suppressHydrationWarning!==!0&&ys(o.textContent,y,e),s=["children",""+y]):p.hasOwnProperty(f)&&y!=null&&f==="onScroll"&&ct("scroll",o)}switch(r){case"input":oe(o),$(o,i,!0);break;case"textarea":oe(o),re(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=vs)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Je(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(r,{is:o.is}):(e=f.createElement(r),r==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,r),e[jn]=t,e[bo]=o,_u(e,t,!1,!1),t.stateNode=e;e:{switch(f=fr(r,o),r){case"dialog":ct("cancel",e),ct("close",e),s=o;break;case"iframe":case"object":case"embed":ct("load",e),s=o;break;case"video":case"audio":for(s=0;s<wo.length;s++)ct(wo[s],e);s=o;break;case"source":ct("error",e),s=o;break;case"img":case"image":case"link":ct("error",e),ct("load",e),s=o;break;case"details":ct("toggle",e),s=o;break;case"input":G(e,o),s=De(e,o),ct("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=te({},o,{value:void 0}),ct("invalid",e);break;case"textarea":Fe(e,o),s=V(e,o),ct("invalid",e);break;default:s=o}$n(r,s),y=s;for(i in y)if(y.hasOwnProperty(i)){var C=y[i];i==="style"?qe(e,C):i==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Oe(e,C)):i==="children"?typeof C=="string"?(r!=="textarea"||C!=="")&&Ue(e,C):typeof C=="number"&&Ue(e,""+C):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(p.hasOwnProperty(i)?C!=null&&i==="onScroll"&&ct("scroll",e):C!=null&&H(e,i,C,f))}switch(r){case"input":oe(e),$(e,o,!1);break;case"textarea":oe(e),re(e);break;case"option":o.value!=null&&e.setAttribute("value",""+be(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?M(e,!!o.multiple,i,!1):o.defaultValue!=null&&M(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vs)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)Tu(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(a(166));if(r=vr(To.current),vr(kn.current),Ns(t)){if(o=t.stateNode,r=t.memoizedProps,o[jn]=t,(i=o.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:ys(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ys(o.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[jn]=t,t.stateNode=o}return Rt(t),null;case 13:if(ut(ht),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&Kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Rc(),Ur(),t.flags|=98560,i=!1;else if(i=Ns(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(a(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));i[jn]=t}else Ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rt(t),i=!1}else cn!==null&&(Ui(cn),cn=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ht.current&1)!==0?St===0&&(St=3):Vi())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Yr(),Li(e,t),e===null&&So(t.stateNode.containerInfo),Rt(t),null;case 10:return si(t.type._context),Rt(t),null;case 17:return Ft(t.type)&&ks(),Rt(t),null;case 19:if(ut(ht),i=t.memoizedState,i===null)return Rt(t),null;if(o=(t.flags&128)!==0,f=i.rendering,f===null)if(o)Io(i,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=$s(e),f!==null){for(t.flags|=128,Io(i,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)i=r,e=o,i.flags&=14680066,f=i.alternate,f===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,e=f.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(ht,ht.current&1|2),t.child}e=e.sibling}i.tail!==null&&xt()>qr&&(t.flags|=128,o=!0,Io(i,!1),t.lanes=4194304)}else{if(!o)if(e=$s(f),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Io(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!dt)return Rt(t),null}else 2*xt()-i.renderingStartTime>qr&&r!==1073741824&&(t.flags|=128,o=!0,Io(i,!1),t.lanes=4194304);i.isBackwards?(f.sibling=t.child,t.child=f):(r=i.last,r!==null?r.sibling=f:t.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xt(),t.sibling=null,r=ht.current,at(ht,o?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return Hi(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(qt&1073741824)!==0&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function vp(e,t){switch(Zl(t),t.tag){case 1:return Ft(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),ut(At),ut(Lt),fi(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ui(t),null;case 13:if(ut(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(ht),null;case 4:return Yr(),null;case 10:return si(t.type._context),null;case 22:case 23:return Hi(),null;case 24:return null;default:return null}}var Os=!1,Pt=!1,jp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){gt(e,t,o)}else r.current=null}function $i(e,t,r){try{r()}catch(o){gt(e,t,o)}}var Lu=!1;function kp(e,t){if(Hl=is,e=cc(),Dl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var f=0,y=-1,C=-1,I=0,Q=0,X=e,Y=null;t:for(;;){for(var fe;X!==r||s!==0&&X.nodeType!==3||(y=f+s),X!==i||o!==0&&X.nodeType!==3||(C=f+o),X.nodeType===3&&(f+=X.nodeValue.length),(fe=X.firstChild)!==null;)Y=X,X=fe;for(;;){if(X===e)break t;if(Y===r&&++I===s&&(y=f),Y===i&&++Q===o&&(C=f),(fe=X.nextSibling)!==null)break;X=Y,Y=X.parentNode}X=fe}r=y===-1||C===-1?null:{start:y,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vl={focusedElem:e,selectionRange:r},is=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var ye=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var je=ye.memoizedProps,yt=ye.memoizedState,T=t.stateNode,E=T.getSnapshotBeforeUpdate(t.elementType===t.type?je:un(t.type,je),yt);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Z){gt(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return ye=Lu,Lu=!1,ye}function Do(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$i(t,r,i)}s=s.next}while(s!==o)}}function Us(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function Ri(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $u(e){var t=e.alternate;t!==null&&(e.alternate=null,$u(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jn],delete t[bo],delete t[Kl],delete t[rp],delete t[op])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ru(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pi(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vs));else if(o!==4&&(e=e.child,e!==null))for(Pi(e,t,r),e=e.sibling;e!==null;)Pi(e,t,r),e=e.sibling}function Ii(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ii(e,t,r),e=e.sibling;e!==null;)Ii(e,t,r),e=e.sibling}var Et=null,dn=!1;function rr(e,t,r){for(r=r.child;r!==null;)Iu(e,t,r),r=r.sibling}function Iu(e,t,r){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ts,r)}catch{}switch(r.tag){case 5:Pt||Qr(r,t);case 6:var o=Et,s=dn;Et=null,rr(e,t,r),Et=o,dn=s,Et!==null&&(dn?(e=Et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Et.removeChild(r.stateNode));break;case 18:Et!==null&&(dn?(e=Et,r=r.stateNode,e.nodeType===8?Ql(e.parentNode,r):e.nodeType===1&&Ql(e,r),ho(e)):Ql(Et,r.stateNode));break;case 4:o=Et,s=dn,Et=r.stateNode.containerInfo,dn=!0,rr(e,t,r),Et=o,dn=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var i=s,f=i.destroy;i=i.tag,f!==void 0&&((i&2)!==0||(i&4)!==0)&&$i(r,t,f),s=s.next}while(s!==o)}rr(e,t,r);break;case 1:if(!Pt&&(Qr(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(y){gt(r,t,y)}rr(e,t,r);break;case 21:rr(e,t,r);break;case 22:r.mode&1?(Pt=(o=Pt)||r.memoizedState!==null,rr(e,t,r),Pt=o):rr(e,t,r);break;default:rr(e,t,r)}}function Du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jp),t.forEach(function(o){var s=Tp.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function fn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var i=e,f=t,y=f;e:for(;y!==null;){switch(y.tag){case 5:Et=y.stateNode,dn=!1;break e;case 3:Et=y.stateNode.containerInfo,dn=!0;break e;case 4:Et=y.stateNode.containerInfo,dn=!0;break e}y=y.return}if(Et===null)throw Error(a(160));Iu(i,f,s),Et=null,dn=!1;var C=s.alternate;C!==null&&(C.return=null),s.return=null}catch(I){gt(s,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zu(t,e),t=t.sibling}function zu(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),Sn(e),o&4){try{Do(3,e,e.return),Us(3,e)}catch(je){gt(e,e.return,je)}try{Do(5,e,e.return)}catch(je){gt(e,e.return,je)}}break;case 1:fn(t,e),Sn(e),o&512&&r!==null&&Qr(r,r.return);break;case 5:if(fn(t,e),Sn(e),o&512&&r!==null&&Qr(r,r.return),e.flags&32){var s=e.stateNode;try{Ue(s,"")}catch(je){gt(e,e.return,je)}}if(o&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,f=r!==null?r.memoizedProps:i,y=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{y==="input"&&i.type==="radio"&&i.name!=null&&me(s,i),fr(y,f);var I=fr(y,i);for(f=0;f<C.length;f+=2){var Q=C[f],X=C[f+1];Q==="style"?qe(s,X):Q==="dangerouslySetInnerHTML"?Oe(s,X):Q==="children"?Ue(s,X):H(s,Q,X,I)}switch(y){case"input":Be(s,i);break;case"textarea":$e(s,i);break;case"select":var Y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var fe=i.value;fe!=null?M(s,!!i.multiple,fe,!1):Y!==!!i.multiple&&(i.defaultValue!=null?M(s,!!i.multiple,i.defaultValue,!0):M(s,!!i.multiple,i.multiple?[]:"",!1))}s[bo]=i}catch(je){gt(e,e.return,je)}}break;case 6:if(fn(t,e),Sn(e),o&4){if(e.stateNode===null)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(je){gt(e,e.return,je)}}break;case 3:if(fn(t,e),Sn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ho(t.containerInfo)}catch(je){gt(e,e.return,je)}break;case 4:fn(t,e),Sn(e);break;case 13:fn(t,e),Sn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bi=xt())),o&4&&Du(e);break;case 22:if(Q=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(I=Pt)||Q,fn(t,e),Pt=I):fn(t,e),Sn(e),o&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!Q&&(e.mode&1)!==0)for(xe=e,Q=e.child;Q!==null;){for(X=xe=Q;xe!==null;){switch(Y=xe,fe=Y.child,Y.tag){case 0:case 11:case 14:case 15:Do(4,Y,Y.return);break;case 1:Qr(Y,Y.return);var ye=Y.stateNode;if(typeof ye.componentWillUnmount=="function"){o=Y,r=Y.return;try{t=o,ye.props=t.memoizedProps,ye.state=t.memoizedState,ye.componentWillUnmount()}catch(je){gt(o,r,je)}}break;case 5:Qr(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Fu(X);continue}}fe!==null?(fe.return=Y,xe=fe):Fu(X)}Q=Q.sibling}e:for(Q=null,X=e;;){if(X.tag===5){if(Q===null){Q=X;try{s=X.stateNode,I?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(y=X.stateNode,C=X.memoizedProps.style,f=C!=null&&C.hasOwnProperty("display")?C.display:null,y.style.display=yn("display",f))}catch(je){gt(e,e.return,je)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=I?"":X.memoizedProps}catch(je){gt(e,e.return,je)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===e)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===e)break e;for(;X.sibling===null;){if(X.return===null||X.return===e)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:fn(t,e),Sn(e),o&4&&Du(e);break;case 21:break;default:fn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ru(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(Ue(s,""),o.flags&=-33);var i=Pu(e);Ii(e,i,s);break;case 3:case 4:var f=o.stateNode.containerInfo,y=Pu(e);Pi(e,y,f);break;default:throw Error(a(161))}}catch(C){gt(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wp(e,t,r){xe=e,Bu(e)}function Bu(e,t,r){for(var o=(e.mode&1)!==0;xe!==null;){var s=xe,i=s.child;if(s.tag===22&&o){var f=s.memoizedState!==null||Os;if(!f){var y=s.alternate,C=y!==null&&y.memoizedState!==null||Pt;y=Os;var I=Pt;if(Os=f,(Pt=C)&&!I)for(xe=s;xe!==null;)f=xe,C=f.child,f.tag===22&&f.memoizedState!==null?Ou(s):C!==null?(C.return=f,xe=C):Ou(s);for(;i!==null;)xe=i,Bu(i),i=i.sibling;xe=s,Os=y,Pt=I}Au(e)}else(s.subtreeFlags&8772)!==0&&i!==null?(i.return=s,xe=i):Au(e)}}function Au(e){for(;xe!==null;){var t=xe;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Pt||Us(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Pt)if(r===null)o.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:un(t.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fc(t,i,o);break;case 3:var f=t.updateQueue;if(f!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fc(t,f,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&r.focus();break;case"img":C.src&&(r.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var Q=I.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&ho(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Pt||t.flags&512&&Ri(t)}catch(Y){gt(t,t.return,Y)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function Fu(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function Ou(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Us(4,t)}catch(C){gt(t,r,C)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(C){gt(t,s,C)}}var i=t.return;try{Ri(t)}catch(C){gt(t,i,C)}break;case 5:var f=t.return;try{Ri(t)}catch(C){gt(t,f,C)}}}catch(C){gt(t,t.return,C)}if(t===e){xe=null;break}var y=t.sibling;if(y!==null){y.return=t.return,xe=y;break}xe=t.return}}var Sp=Math.ceil,Ws=le.ReactCurrentDispatcher,Di=le.ReactCurrentOwner,nn=le.ReactCurrentBatchConfig,et=0,bt=null,vt=null,_t=0,qt=0,Kr=Xn(0),St=0,zo=null,kr=0,Hs=0,zi=0,Bo=null,Ut=null,Bi=0,qr=1/0,Fn=null,Vs=!1,Ai=null,or=null,Ys=!1,sr=null,Js=0,Ao=0,Fi=null,Qs=-1,Ks=0;function zt(){return(et&6)!==0?xt():Qs!==-1?Qs:Qs=xt()}function lr(e){return(e.mode&1)===0?1:(et&2)!==0&&_t!==0?_t&-_t:lp.transition!==null?(Ks===0&&(Ks=Pa()),Ks):(e=rt,e!==0||(e=window.event,e=e===void 0?16:Wa(e.type)),e)}function pn(e,t,r,o){if(50<Ao)throw Ao=0,Fi=null,Error(a(185));ao(e,r,o),((et&2)===0||e!==bt)&&(e===bt&&((et&2)===0&&(Hs|=r),St===4&&ir(e,_t)),Wt(e,o),r===1&&et===0&&(t.mode&1)===0&&(qr=xt()+500,Ss&&er()))}function Wt(e,t){var r=e.callbackNode;sf(e,t);var o=os(e,e===bt?_t:0);if(o===0)r!==null&&La(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&La(r),t===1)e.tag===0?sp(Wu.bind(null,e)):_c(Wu.bind(null,e)),tp(function(){(et&6)===0&&er()}),r=null;else{switch(Ia(o)){case 1:r=vl;break;case 4:r=$a;break;case 16:r=es;break;case 536870912:r=Ra;break;default:r=es}r=Gu(r,Uu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uu(e,t){if(Qs=-1,Ks=0,(et&6)!==0)throw Error(a(327));var r=e.callbackNode;if(Gr()&&e.callbackNode!==r)return null;var o=os(e,e===bt?_t:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=qs(e,o);else{t=o;var s=et;et|=2;var i=Vu();(bt!==e||_t!==t)&&(Fn=null,qr=xt()+500,Sr(e,t));do try{Np();break}catch(y){Hu(e,y)}while(!0);oi(),Ws.current=i,et=s,vt!==null?t=0:(bt=null,_t=0,t=St)}if(t!==0){if(t===2&&(s=jl(e),s!==0&&(o=s,t=Oi(e,s))),t===1)throw r=zo,Sr(e,0),ir(e,o),Wt(e,xt()),r;if(t===6)ir(e,o);else{if(s=e.current.alternate,(o&30)===0&&!Cp(s)&&(t=qs(e,o),t===2&&(i=jl(e),i!==0&&(o=i,t=Oi(e,i))),t===1))throw r=zo,Sr(e,0),ir(e,o),Wt(e,xt()),r;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:Cr(e,Ut,Fn);break;case 3:if(ir(e,o),(o&130023424)===o&&(t=Bi+500-xt(),10<t)){if(os(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Jl(Cr.bind(null,e,Ut,Fn),t);break}Cr(e,Ut,Fn);break;case 4:if(ir(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var f=31-ln(o);i=1<<f,f=t[f],f>s&&(s=f),o&=~i}if(o=s,o=xt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Sp(o/1960))-o,10<o){e.timeoutHandle=Jl(Cr.bind(null,e,Ut,Fn),o);break}Cr(e,Ut,Fn);break;case 5:Cr(e,Ut,Fn);break;default:throw Error(a(329))}}}return Wt(e,xt()),e.callbackNode===r?Uu.bind(null,e):null}function Oi(e,t){var r=Bo;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=qs(e,t),e!==2&&(t=Ut,Ut=r,t!==null&&Ui(t)),e}function Ui(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function Cp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],i=s.getSnapshot;s=s.value;try{if(!an(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~zi,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ln(t),o=1<<r;e[r]=-1,t&=~o}}function Wu(e){if((et&6)!==0)throw Error(a(327));Gr();var t=os(e,0);if((t&1)===0)return Wt(e,xt()),null;var r=qs(e,t);if(e.tag!==0&&r===2){var o=jl(e);o!==0&&(t=o,r=Oi(e,o))}if(r===1)throw r=zo,Sr(e,0),ir(e,t),Wt(e,xt()),r;if(r===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,Ut,Fn),Wt(e,xt()),null}function Wi(e,t){var r=et;et|=1;try{return e(t)}finally{et=r,et===0&&(qr=xt()+500,Ss&&er())}}function wr(e){sr!==null&&sr.tag===0&&(et&6)===0&&Gr();var t=et;et|=1;var r=nn.transition,o=rt;try{if(nn.transition=null,rt=1,e)return e()}finally{rt=o,nn.transition=r,et=t,(et&6)===0&&er()}}function Hi(){qt=Kr.current,ut(Kr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ep(r)),vt!==null)for(r=vt.return;r!==null;){var o=r;switch(Zl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ks();break;case 3:Yr(),ut(At),ut(Lt),fi();break;case 5:ui(o);break;case 4:Yr();break;case 13:ut(ht);break;case 19:ut(ht);break;case 10:si(o.type._context);break;case 22:case 23:Hi()}r=r.return}if(bt=e,vt=e=ar(e.current,null),_t=qt=t,St=0,zo=null,zi=Hs=kr=0,Ut=Bo=null,yr!==null){for(t=0;t<yr.length;t++)if(r=yr[t],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,i=r.pending;if(i!==null){var f=i.next;i.next=s,o.next=f}r.pending=o}yr=null}return e}function Hu(e,t){do{var r=vt;try{if(oi(),Rs.current=zs,Ps){for(var o=mt.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Ps=!1}if(jr=0,Ct=wt=mt=null,Lo=!1,$o=0,Di.current=null,r===null||r.return===null){St=1,zo=t,vt=null;break}e:{var i=e,f=r.return,y=r,C=t;if(t=_t,y.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=C,Q=y,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var Y=Q.alternate;Y?(Q.updateQueue=Y.updateQueue,Q.memoizedState=Y.memoizedState,Q.lanes=Y.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var fe=mu(f);if(fe!==null){fe.flags&=-257,gu(fe,f,y,i,t),fe.mode&1&&hu(i,I,t),t=fe,C=I;var ye=t.updateQueue;if(ye===null){var je=new Set;je.add(C),t.updateQueue=je}else ye.add(C);break e}else{if((t&1)===0){hu(i,I,t),Vi();break e}C=Error(a(426))}}else if(dt&&y.mode&1){var yt=mu(f);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),gu(yt,f,y,i,t),ni(Jr(C,y));break e}}i=C=Jr(C,y),St!==4&&(St=2),Bo===null?Bo=[i]:Bo.push(i),i=f;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var T=fu(i,C,t);Ac(i,T);break e;case 1:y=C;var E=i.type,R=i.stateNode;if((i.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(or===null||!or.has(R)))){i.flags|=65536,t&=-t,i.lanes|=t;var Z=pu(i,y,t);Ac(i,Z);break e}}i=i.return}while(i!==null)}Ju(r)}catch(Se){t=Se,vt===r&&r!==null&&(vt=r=r.return);continue}break}while(!0)}function Vu(){var e=Ws.current;return Ws.current=zs,e===null?zs:e}function Vi(){(St===0||St===3||St===2)&&(St=4),bt===null||(kr&268435455)===0&&(Hs&268435455)===0||ir(bt,_t)}function qs(e,t){var r=et;et|=2;var o=Vu();(bt!==e||_t!==t)&&(Fn=null,Sr(e,t));do try{bp();break}catch(s){Hu(e,s)}while(!0);if(oi(),et=r,Ws.current=o,vt!==null)throw Error(a(261));return bt=null,_t=0,St}function bp(){for(;vt!==null;)Yu(vt)}function Np(){for(;vt!==null&&!qd();)Yu(vt)}function Yu(e){var t=qu(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?Ju(e):vt=t,Di.current=null}function Ju(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=yp(r,t,qt),r!==null){vt=r;return}}else{if(r=vp(r,t),r!==null){r.flags&=32767,vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,vt=null;return}}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);St===0&&(St=5)}function Cr(e,t,r){var o=rt,s=nn.transition;try{nn.transition=null,rt=1,Ep(e,t,r,o)}finally{nn.transition=s,rt=o}return null}function Ep(e,t,r,o){do Gr();while(sr!==null);if((et&6)!==0)throw Error(a(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(lf(e,i),e===bt&&(vt=bt=null,_t=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ys||(Ys=!0,Gu(es,function(){return Gr(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=nn.transition,nn.transition=null;var f=rt;rt=1;var y=et;et|=4,Di.current=null,kp(e,r),zu(r,e),Jf(Vl),is=!!Hl,Vl=Hl=null,e.current=r,wp(r),Gd(),et=y,rt=f,nn.transition=i}else e.current=r;if(Ys&&(Ys=!1,sr=e,Js=s),i=e.pendingLanes,i===0&&(or=null),ef(r.stateNode),Wt(e,xt()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(Vs)throw Vs=!1,e=Ai,Ai=null,e;return(Js&1)!==0&&e.tag!==0&&Gr(),i=e.pendingLanes,(i&1)!==0?e===Fi?Ao++:(Ao=0,Fi=e):Ao=0,er(),null}function Gr(){if(sr!==null){var e=Ia(Js),t=nn.transition,r=rt;try{if(nn.transition=null,rt=16>e?16:e,sr===null)var o=!1;else{if(e=sr,sr=null,Js=0,(et&6)!==0)throw Error(a(331));var s=et;for(et|=4,xe=e.current;xe!==null;){var i=xe,f=i.child;if((xe.flags&16)!==0){var y=i.deletions;if(y!==null){for(var C=0;C<y.length;C++){var I=y[C];for(xe=I;xe!==null;){var Q=xe;switch(Q.tag){case 0:case 11:case 15:Do(8,Q,i)}var X=Q.child;if(X!==null)X.return=Q,xe=X;else for(;xe!==null;){Q=xe;var Y=Q.sibling,fe=Q.return;if($u(Q),Q===I){xe=null;break}if(Y!==null){Y.return=fe,xe=Y;break}xe=fe}}}var ye=i.alternate;if(ye!==null){var je=ye.child;if(je!==null){ye.child=null;do{var yt=je.sibling;je.sibling=null,je=yt}while(je!==null)}}xe=i}}if((i.subtreeFlags&2064)!==0&&f!==null)f.return=i,xe=f;else e:for(;xe!==null;){if(i=xe,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Do(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,xe=T;break e}xe=i.return}}var E=e.current;for(xe=E;xe!==null;){f=xe;var R=f.child;if((f.subtreeFlags&2064)!==0&&R!==null)R.return=f,xe=R;else e:for(f=E;xe!==null;){if(y=xe,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Us(9,y)}}catch(Se){gt(y,y.return,Se)}if(y===f){xe=null;break e}var Z=y.sibling;if(Z!==null){Z.return=y.return,xe=Z;break e}xe=y.return}}if(et=s,er(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ts,e)}catch{}o=!0}return o}finally{rt=r,nn.transition=t}}return!1}function Qu(e,t,r){t=Jr(r,t),t=fu(e,t,1),e=nr(e,t,1),t=zt(),e!==null&&(ao(e,1,t),Wt(e,t))}function gt(e,t,r){if(e.tag===3)Qu(e,e,r);else for(;t!==null;){if(t.tag===3){Qu(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(or===null||!or.has(o))){e=Jr(r,e),e=pu(t,e,1),t=nr(t,e,1),e=zt(),t!==null&&(ao(t,1,e),Wt(t,e));break}}t=t.return}}function _p(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,bt===e&&(_t&r)===r&&(St===4||St===3&&(_t&130023424)===_t&&500>xt()-Bi?Sr(e,0):zi|=r),Wt(e,t)}function Ku(e,t){t===0&&((e.mode&1)===0?t=1:(t=rs,rs<<=1,(rs&130023424)===0&&(rs=4194304)));var r=zt();e=zn(e,t),e!==null&&(ao(e,t,r),Wt(e,r))}function Mp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ku(e,r)}function Tp(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}o!==null&&o.delete(t),Ku(e,r)}var qu;qu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Ot=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ot=!1,xp(e,t,r);Ot=(e.flags&131072)!==0}else Ot=!1,dt&&(t.flags&1048576)!==0&&Mc(t,bs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Fs(e,t),e=t.pendingProps;var s=Ar(t,Lt.current);Vr(t,r),s=mi(null,t,o,e,s,r);var i=gi();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(o)?(i=!0,ws(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ai(t),s.updater=Bs,t.stateNode=s,s._reactInternals=t,wi(t,o,e,r),t=Ni(null,t,o,!0,i,r)):(t.tag=0,dt&&i&&Xl(t),Dt(null,t,s,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=$p(o),e=un(o,e),s){case 0:t=bi(null,t,o,e,r);break e;case 1:t=wu(null,t,o,e,r);break e;case 11:t=xu(null,t,o,e,r);break e;case 14:t=yu(null,t,o,un(o.type,e),r);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:un(o,s),bi(e,t,o,s,r);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:un(o,s),wu(e,t,o,s,r);case 3:e:{if(Su(t),e===null)throw Error(a(387));o=t.pendingProps,i=t.memoizedState,s=i.element,Bc(e,t),Ls(t,o,null,r);var f=t.memoizedState;if(o=f.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Jr(Error(a(423)),t),t=Cu(e,t,o,r,s);break e}else if(o!==s){s=Jr(Error(a(424)),t),t=Cu(e,t,o,r,s);break e}else for(Kt=Gn(t.stateNode.containerInfo.firstChild),Qt=t,dt=!0,cn=null,r=Dc(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),o===s){t=An(e,t,r);break e}Dt(e,t,o,r)}t=t.child}return t;case 5:return Oc(t),e===null&&ti(t),o=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,f=s.children,Yl(o,s)?f=null:i!==null&&Yl(o,i)&&(t.flags|=32),ku(e,t),Dt(e,t,f,r),t.child;case 6:return e===null&&ti(t),null;case 13:return bu(e,t,r);case 4:return ci(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Wr(t,null,o,r):Dt(e,t,o,r),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:un(o,s),xu(e,t,o,s,r);case 7:return Dt(e,t,t.pendingProps,r),t.child;case 8:return Dt(e,t,t.pendingProps.children,r),t.child;case 12:return Dt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,i=t.memoizedProps,f=s.value,at(_s,o._currentValue),o._currentValue=f,i!==null)if(an(i.value,f)){if(i.children===s.children&&!At.current){t=An(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var y=i.dependencies;if(y!==null){f=i.child;for(var C=y.firstContext;C!==null;){if(C.context===o){if(i.tag===1){C=Bn(-1,r&-r),C.tag=2;var I=i.updateQueue;if(I!==null){I=I.shared;var Q=I.pending;Q===null?C.next=C:(C.next=Q.next,Q.next=C),I.pending=C}}i.lanes|=r,C=i.alternate,C!==null&&(C.lanes|=r),li(i.return,r,t),y.lanes|=r;break}C=C.next}}else if(i.tag===10)f=i.type===t.type?null:i.child;else if(i.tag===18){if(f=i.return,f===null)throw Error(a(341));f.lanes|=r,y=f.alternate,y!==null&&(y.lanes|=r),li(f,r,t),f=i.sibling}else f=i.child;if(f!==null)f.return=i;else for(f=i;f!==null;){if(f===t){f=null;break}if(i=f.sibling,i!==null){i.return=f.return,f=i;break}f=f.return}i=f}Dt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,Vr(t,r),s=en(s),o=o(s),t.flags|=1,Dt(e,t,o,r),t.child;case 14:return o=t.type,s=un(o,t.pendingProps),s=un(o.type,s),yu(e,t,o,s,r);case 15:return vu(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:un(o,s),Fs(e,t),t.tag=1,Ft(o)?(e=!0,ws(t)):e=!1,Vr(t,r),uu(t,o,s),wi(t,o,s,r),Ni(null,t,o,!0,e,r);case 19:return Eu(e,t,r);case 22:return ju(e,t,r)}throw Error(a(156,t.tag))};function Gu(e,t){return Ta(e,t)}function Lp(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,r,o){return new Lp(e,t,r,o)}function Yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $p(e){if(typeof e=="function")return Yi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ve)return 11;if(e===Ze)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=rn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gs(e,t,r,o,s,i){var f=2;if(o=e,typeof e=="function")Yi(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Ae:return br(r.children,s,i,t);case ie:f=8,s|=8;break;case pe:return e=rn(12,r,t,s|2),e.elementType=pe,e.lanes=i,e;case Xe:return e=rn(13,r,t,s),e.elementType=Xe,e.lanes=i,e;case ue:return e=rn(19,r,t,s),e.elementType=ue,e.lanes=i,e;case Me:return Xs(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ee:f=10;break e;case ce:f=9;break e;case ve:f=11;break e;case Ze:f=14;break e;case Le:f=16,o=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=rn(f,r,t,s),t.elementType=e,t.type=o,t.lanes=i,t}function br(e,t,r,o){return e=rn(7,e,o,t),e.lanes=r,e}function Xs(e,t,r,o){return e=rn(22,e,o,t),e.elementType=Me,e.lanes=r,e.stateNode={isHidden:!1},e}function Ji(e,t,r){return e=rn(6,e,null,t),e.lanes=r,e}function Qi(e,t,r){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rp(e,t,r,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ki(e,t,r,o,s,i,f,y,C){return e=new Rp(e,t,r,y,C),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ai(i),e}function Pp(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function Xu(e){if(!e)return Zn;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var r=e.type;if(Ft(r))return Nc(e,r,t)}return t}function Zu(e,t,r,o,s,i,f,y,C){return e=Ki(r,o,!0,e,s,i,f,y,C),e.context=Xu(null),r=e.current,o=zt(),s=lr(r),i=Bn(o,s),i.callback=t??null,nr(r,i,s),e.current.lanes=s,ao(e,s,o),Wt(e,o),e}function Zs(e,t,r,o){var s=t.current,i=zt(),f=lr(s);return r=Xu(r),t.context===null?t.context=r:t.pendingContext=r,t=Bn(i,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=nr(s,t,f),e!==null&&(pn(e,s,f,i),Ts(e,s,f)),f}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qi(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function Ip(){return null}var td=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gi(e){this._internalRoot=e}tl.prototype.render=Gi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Zs(e,t,null,null)},tl.prototype.unmount=Gi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){Zs(null,e,null,null)}),t[Rn]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ba();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qn.length&&t!==0&&t<Qn[r].priority;r++);Qn.splice(r,0,e),r===0&&Oa(e)}};function Xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nd(){}function Dp(e,t,r,o,s){if(s){if(typeof o=="function"){var i=o;o=function(){var I=el(f);i.call(I)}}var f=Zu(t,o,e,0,null,!1,!1,"",nd);return e._reactRootContainer=f,e[Rn]=f.current,So(e.nodeType===8?e.parentNode:e),wr(),f}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var y=o;o=function(){var I=el(C);y.call(I)}}var C=Ki(e,0,!1,null,null,!1,!1,"",nd);return e._reactRootContainer=C,e[Rn]=C.current,So(e.nodeType===8?e.parentNode:e),wr(function(){Zs(t,C,r,o)}),C}function rl(e,t,r,o,s){var i=r._reactRootContainer;if(i){var f=i;if(typeof s=="function"){var y=s;s=function(){var C=el(f);y.call(C)}}Zs(t,f,e,s)}else f=Dp(r,t,e,s,o);return el(f)}Da=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=io(t.pendingLanes);r!==0&&(wl(t,r|1),Wt(t,xt()),(et&6)===0&&(qr=xt()+500,er()))}break;case 13:wr(function(){var o=zn(e,1);if(o!==null){var s=zt();pn(o,e,1,s)}}),qi(e,1)}},Sl=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=zt();pn(t,e,134217728,r)}qi(e,134217728)}},za=function(e){if(e.tag===13){var t=lr(e),r=zn(e,t);if(r!==null){var o=zt();pn(r,e,t,o)}qi(e,t)}},Ba=function(){return rt},Aa=function(e,t){var r=rt;try{return rt=e,t()}finally{rt=r}},He=function(e,t,r){switch(t){case"input":if(Be(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var s=js(o);if(!s)throw Error(a(90));Ye(o),Be(o,s)}}}break;case"textarea":$e(e,r);break;case"select":t=r.value,t!=null&&M(e,!!r.multiple,t,!1)}},z=Wi,U=wr;var zp={usingClientEntryPoint:!1,Events:[No,zr,js,Mr,u,Wi]},Fo={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bp={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_a(e),e===null?null:e.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||Ip,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ts=ol.inject(Bp),vn=ol}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zp,Ht.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xi(t))throw Error(a(200));return Pp(e,t,null,r)},Ht.createRoot=function(e,t){if(!Xi(e))throw Error(a(299));var r=!1,o="",s=td;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ki(e,1,!1,null,null,r,!1,o,s),e[Rn]=t.current,So(e.nodeType===8?e.parentNode:e),new Gi(t)},Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_a(t),e=e===null?null:e.stateNode,e},Ht.flushSync=function(e){return wr(e)},Ht.hydrate=function(e,t,r){if(!nl(t))throw Error(a(200));return rl(null,e,t,!0,r)},Ht.hydrateRoot=function(e,t,r){if(!Xi(e))throw Error(a(405));var o=r!=null&&r.hydratedSources||null,s=!1,i="",f=td;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),t=Zu(t,null,e,1,r??null,s,!1,i,f),e[Rn]=t.current,So(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new tl(t)},Ht.render=function(e,t,r){if(!nl(t))throw Error(a(200));return rl(null,e,t,!1,r)},Ht.unmountComponentAtNode=function(e){if(!nl(e))throw Error(a(40));return e._reactRootContainer?(wr(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1},Ht.unstable_batchedUpdates=Wi,Ht.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!nl(r))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return rl(e,t,r,!1,o)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var ud;function Jp(){if(ud)return ta.exports;ud=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(c){console.error(c)}}return l(),ta.exports=Yp(),ta.exports}var dd;function Qp(){if(dd)return sl;dd=1;var l=Jp();return sl.createRoot=l.createRoot,sl.hydrateRoot=l.hydrateRoot,sl}var Kp=Qp();const qp=kd(Kp);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fd="popstate";function Gp(l={}){function c(d,p){let{pathname:h,search:g,hash:S}=d.location;return aa("",{pathname:h,search:g,hash:S},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function a(d,p){return typeof p=="string"?p:Ho(p)}return Zp(c,a,null,l)}function ft(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function mn(l,c){if(!l){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function Xp(){return Math.random().toString(36).substring(2,10)}function pd(l,c){return{usr:l.state,key:l.key,idx:c}}function aa(l,c,a=null,d){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof c=="string"?no(c):c,state:a,key:c&&c.key||d||Xp()}}function Ho({pathname:l="/",search:c="",hash:a=""}){return c&&c!=="?"&&(l+=c.charAt(0)==="?"?c:"?"+c),a&&a!=="#"&&(l+=a.charAt(0)==="#"?a:"#"+a),l}function no(l){let c={};if(l){let a=l.indexOf("#");a>=0&&(c.hash=l.substring(a),l=l.substring(0,a));let d=l.indexOf("?");d>=0&&(c.search=l.substring(d),l=l.substring(0,d)),l&&(c.pathname=l)}return c}function Zp(l,c,a,d={}){let{window:p=document.defaultView,v5Compat:h=!1}=d,g=p.history,S="POP",x=null,j=_();j==null&&(j=0,g.replaceState({...g.state,idx:j},""));function _(){return(g.state||{idx:null}).idx}function D(){S="POP";let L=_(),K=L==null?null:L-j;j=L,x&&x({action:S,location:P.location,delta:K})}function N(L,K){S="PUSH";let J=aa(P.location,L,K);j=_()+1;let H=pd(J,j),le=P.createHref(J);try{g.pushState(H,"",le)}catch(Ne){if(Ne instanceof DOMException&&Ne.name==="DataCloneError")throw Ne;p.location.assign(le)}h&&x&&x({action:S,location:P.location,delta:1})}function B(L,K){S="REPLACE";let J=aa(P.location,L,K);j=_();let H=pd(J,j),le=P.createHref(J);g.replaceState(H,"",le),h&&x&&x({action:S,location:P.location,delta:0})}function b(L){return eh(L)}let P={get action(){return S},get location(){return l(p,g)},listen(L){if(x)throw new Error("A history only accepts one active listener");return p.addEventListener(fd,D),x=L,()=>{p.removeEventListener(fd,D),x=null}},createHref(L){return c(p,L)},createURL:b,encodeLocation(L){let K=b(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:N,replace:B,go(L){return g.go(L)}};return P}function eh(l,c=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ft(a,"No window.location.(origin|href) available to create URL");let d=typeof l=="string"?l:Ho(l);return d=d.replace(/ $/,"%20"),!c&&d.startsWith("//")&&(d=a+d),new URL(d,a)}function wd(l,c,a="/"){return th(l,c,a,!1)}function th(l,c,a,d){let p=typeof c=="string"?no(c):c,h=Wn(p.pathname||"/",a);if(h==null)return null;let g=Sd(l);nh(g);let S=null;for(let x=0;S==null&&x<g.length;++x){let j=ph(h);S=dh(g[x],j,d)}return S}function Sd(l,c=[],a=[],d="",p=!1){let h=(g,S,x=p,j)=>{let _={relativePath:j===void 0?g.path||"":j,caseSensitive:g.caseSensitive===!0,childrenIndex:S,route:g};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(d)&&x)return;ft(_.relativePath.startsWith(d),`Absolute route path "${_.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(d.length)}let D=Un([d,_.relativePath]),N=a.concat(_);g.children&&g.children.length>0&&(ft(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${D}".`),Sd(g.children,c,N,D,x)),!(g.path==null&&!g.index)&&c.push({path:D,score:ch(D,g.index),routesMeta:N})};return l.forEach((g,S)=>{if(g.path===""||!g.path?.includes("?"))h(g,S);else for(let x of Cd(g.path))h(g,S,!0,x)}),c}function Cd(l){let c=l.split("/");if(c.length===0)return[];let[a,...d]=c,p=a.endsWith("?"),h=a.replace(/\?$/,"");if(d.length===0)return p?[h,""]:[h];let g=Cd(d.join("/")),S=[];return S.push(...g.map(x=>x===""?h:[h,x].join("/"))),p&&S.push(...g),S.map(x=>l.startsWith("/")&&x===""?"/":x)}function nh(l){l.sort((c,a)=>c.score!==a.score?a.score-c.score:uh(c.routesMeta.map(d=>d.childrenIndex),a.routesMeta.map(d=>d.childrenIndex)))}var rh=/^:[\w-]+$/,oh=3,sh=2,lh=1,ih=10,ah=-2,hd=l=>l==="*";function ch(l,c){let a=l.split("/"),d=a.length;return a.some(hd)&&(d+=ah),c&&(d+=sh),a.filter(p=>!hd(p)).reduce((p,h)=>p+(rh.test(h)?oh:h===""?lh:ih),d)}function uh(l,c){return l.length===c.length&&l.slice(0,-1).every((d,p)=>d===c[p])?l[l.length-1]-c[c.length-1]:0}function dh(l,c,a=!1){let{routesMeta:d}=l,p={},h="/",g=[];for(let S=0;S<d.length;++S){let x=d[S],j=S===d.length-1,_=h==="/"?c:c.slice(h.length)||"/",D=ul({path:x.relativePath,caseSensitive:x.caseSensitive,end:j},_),N=x.route;if(!D&&j&&a&&!d[d.length-1].route.index&&(D=ul({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},_)),!D)return null;Object.assign(p,D.params),g.push({params:p,pathname:Un([h,D.pathname]),pathnameBase:xh(Un([h,D.pathnameBase])),route:N}),D.pathnameBase!=="/"&&(h=Un([h,D.pathnameBase]))}return g}function ul(l,c){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[a,d]=fh(l.path,l.caseSensitive,l.end),p=c.match(a);if(!p)return null;let h=p[0],g=h.replace(/(.)\/+$/,"$1"),S=p.slice(1);return{params:d.reduce((j,{paramName:_,isOptional:D},N)=>{if(_==="*"){let b=S[N]||"";g=h.slice(0,h.length-b.length).replace(/(.)\/+$/,"$1")}const B=S[N];return D&&!B?j[_]=void 0:j[_]=(B||"").replace(/%2F/g,"/"),j},{}),pathname:h,pathnameBase:g,pattern:l}}function fh(l,c=!1,a=!0){mn(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let d=[],p="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,S,x)=>(d.push({paramName:S,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(d.push({paramName:"*"}),p+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?p+="\\/*$":l!==""&&l!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,c?void 0:"i"),d]}function ph(l){try{return l.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return mn(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),l}}function Wn(l,c){if(c==="/")return l;if(!l.toLowerCase().startsWith(c.toLowerCase()))return null;let a=c.endsWith("/")?c.length-1:c.length,d=l.charAt(a);return d&&d!=="/"?null:l.slice(a)||"/"}function hh(l,c="/"){let{pathname:a,search:d="",hash:p=""}=typeof l=="string"?no(l):l;return{pathname:a?a.startsWith("/")?a:mh(a,c):c,search:yh(d),hash:vh(p)}}function mh(l,c){let a=c.replace(/\/+$/,"").split("/");return l.split("/").forEach(p=>{p===".."?a.length>1&&a.pop():p!=="."&&a.push(p)}),a.length>1?a.join("/"):"/"}function oa(l,c,a,d){return`Cannot include a '${l}' character in a manually specified \`to.${c}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gh(l){return l.filter((c,a)=>a===0||c.route.path&&c.route.path.length>0)}function fa(l){let c=gh(l);return c.map((a,d)=>d===c.length-1?a.pathname:a.pathnameBase)}function pa(l,c,a,d=!1){let p;typeof l=="string"?p=no(l):(p={...l},ft(!p.pathname||!p.pathname.includes("?"),oa("?","pathname","search",p)),ft(!p.pathname||!p.pathname.includes("#"),oa("#","pathname","hash",p)),ft(!p.search||!p.search.includes("#"),oa("#","search","hash",p)));let h=l===""||p.pathname==="",g=h?"/":p.pathname,S;if(g==null)S=a;else{let D=c.length-1;if(!d&&g.startsWith("..")){let N=g.split("/");for(;N[0]==="..";)N.shift(),D-=1;p.pathname=N.join("/")}S=D>=0?c[D]:"/"}let x=hh(p,S),j=g&&g!=="/"&&g.endsWith("/"),_=(h||g===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(j||_)&&(x.pathname+="/"),x}var Un=l=>l.join("/").replace(/\/\/+/g,"/"),xh=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),yh=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,vh=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function jh(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bd=["POST","PUT","PATCH","DELETE"];new Set(bd);var kh=["GET",...bd];new Set(kh);var ro=m.createContext(null);ro.displayName="DataRouter";var pl=m.createContext(null);pl.displayName="DataRouterState";m.createContext(!1);var Nd=m.createContext({isTransitioning:!1});Nd.displayName="ViewTransition";var wh=m.createContext(new Map);wh.displayName="Fetchers";var Sh=m.createContext(null);Sh.displayName="Await";var xn=m.createContext(null);xn.displayName="Navigation";var Yo=m.createContext(null);Yo.displayName="Location";var Ln=m.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var ha=m.createContext(null);ha.displayName="RouteError";function Ch(l,{relative:c}={}){ft(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:d}=m.useContext(xn),{hash:p,pathname:h,search:g}=Jo(l,{relative:c}),S=h;return a!=="/"&&(S=h==="/"?a:Un([a,h])),d.createHref({pathname:S,search:g,hash:p})}function oo(){return m.useContext(Yo)!=null}function Gt(){return ft(oo(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Yo).location}var Ed="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _d(l){m.useContext(xn).static||m.useLayoutEffect(l)}function sn(){let{isDataRoute:l}=m.useContext(Ln);return l?zh():bh()}function bh(){ft(oo(),"useNavigate() may be used only in the context of a <Router> component.");let l=m.useContext(ro),{basename:c,navigator:a}=m.useContext(xn),{matches:d}=m.useContext(Ln),{pathname:p}=Gt(),h=JSON.stringify(fa(d)),g=m.useRef(!1);return _d(()=>{g.current=!0}),m.useCallback((x,j={})=>{if(mn(g.current,Ed),!g.current)return;if(typeof x=="number"){a.go(x);return}let _=pa(x,JSON.parse(h),p,j.relative==="path");l==null&&c!=="/"&&(_.pathname=_.pathname==="/"?c:Un([c,_.pathname])),(j.replace?a.replace:a.push)(_,j.state,j)},[c,a,h,p,l])}m.createContext(null);function Jo(l,{relative:c}={}){let{matches:a}=m.useContext(Ln),{pathname:d}=Gt(),p=JSON.stringify(fa(a));return m.useMemo(()=>pa(l,JSON.parse(p),d,c==="path"),[l,p,d,c])}function Nh(l,c){return Md(l,c)}function Md(l,c,a,d,p){ft(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=m.useContext(xn),{matches:g}=m.useContext(Ln),S=g[g.length-1],x=S?S.params:{},j=S?S.pathname:"/",_=S?S.pathnameBase:"/",D=S&&S.route;{let J=D&&D.path||"";Td(j,!D||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${j}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let N=Gt(),B;if(c){let J=typeof c=="string"?no(c):c;ft(_==="/"||J.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),B=J}else B=N;let b=B.pathname||"/",P=b;if(_!=="/"){let J=_.replace(/^\//,"").split("/");P="/"+b.replace(/^\//,"").split("/").slice(J.length).join("/")}let L=wd(l,{pathname:P});mn(D||L!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),mn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Lh(L&&L.map(J=>Object.assign({},J,{params:Object.assign({},x,J.params),pathname:Un([_,h.encodeLocation?h.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:Un([_,h.encodeLocation?h.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),g,a,d,p);return c&&K?m.createElement(Yo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},K):K}function Eh(){let l=Dh(),c=jh(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),a=l instanceof Error?l.stack:null,d="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:d},h={padding:"2px 4px",backgroundColor:d},g=null;return console.error("Error handled by React Router default ErrorBoundary:",l),g=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:h},"ErrorBoundary")," or"," ",m.createElement("code",{style:h},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},c),a?m.createElement("pre",{style:p},a):null,g)}var _h=m.createElement(Eh,null),Mh=class extends m.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,c){return c.location!==l.location||c.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:c.error,location:c.location,revalidation:l.revalidation||c.revalidation}}componentDidCatch(l,c){this.props.unstable_onError?this.props.unstable_onError(l,c):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?m.createElement(Ln.Provider,{value:this.props.routeContext},m.createElement(ha.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Th({routeContext:l,match:c,children:a}){let d=m.useContext(ro);return d&&d.static&&d.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=c.route.id),m.createElement(Ln.Provider,{value:l},a)}function Lh(l,c=[],a=null,d=null,p=null){if(l==null){if(!a)return null;if(a.errors)l=a.matches;else if(c.length===0&&!a.initialized&&a.matches.length>0)l=a.matches;else return null}let h=l,g=a?.errors;if(g!=null){let j=h.findIndex(_=>_.route.id&&g?.[_.route.id]!==void 0);ft(j>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),h=h.slice(0,Math.min(h.length,j+1))}let S=!1,x=-1;if(a)for(let j=0;j<h.length;j++){let _=h[j];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(x=j),_.route.id){let{loaderData:D,errors:N}=a,B=_.route.loader&&!D.hasOwnProperty(_.route.id)&&(!N||N[_.route.id]===void 0);if(_.route.lazy||B){S=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((j,_,D)=>{let N,B=!1,b=null,P=null;a&&(N=g&&_.route.id?g[_.route.id]:void 0,b=_.route.errorElement||_h,S&&(x<0&&D===0?(Td("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,P=null):x===D&&(B=!0,P=_.route.hydrateFallbackElement||null)));let L=c.concat(h.slice(0,D+1)),K=()=>{let J;return N?J=b:B?J=P:_.route.Component?J=m.createElement(_.route.Component,null):_.route.element?J=_.route.element:J=j,m.createElement(Th,{match:_,routeContext:{outlet:j,matches:L,isDataRoute:a!=null},children:J})};return a&&(_.route.ErrorBoundary||_.route.errorElement||D===0)?m.createElement(Mh,{location:a.location,revalidation:a.revalidation,component:b,error:N,children:K(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:d}):K()},null)}function ma(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $h(l){let c=m.useContext(ro);return ft(c,ma(l)),c}function Rh(l){let c=m.useContext(pl);return ft(c,ma(l)),c}function Ph(l){let c=m.useContext(Ln);return ft(c,ma(l)),c}function ga(l){let c=Ph(l),a=c.matches[c.matches.length-1];return ft(a.route.id,`${l} can only be used on routes that contain a unique "id"`),a.route.id}function Ih(){return ga("useRouteId")}function Dh(){let l=m.useContext(ha),c=Rh("useRouteError"),a=ga("useRouteError");return l!==void 0?l:c.errors?.[a]}function zh(){let{router:l}=$h("useNavigate"),c=ga("useNavigate"),a=m.useRef(!1);return _d(()=>{a.current=!0}),m.useCallback(async(p,h={})=>{mn(a.current,Ed),a.current&&(typeof p=="number"?l.navigate(p):await l.navigate(p,{fromRouteId:c,...h}))},[l,c])}var md={};function Td(l,c,a){!c&&!md[l]&&(md[l]=!0,mn(!1,a))}m.memo(Bh);function Bh({routes:l,future:c,state:a,unstable_onError:d}){return Md(l,void 0,a,d,c)}function Nr({to:l,replace:c,state:a,relative:d}){ft(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:p}=m.useContext(xn);mn(!p,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=m.useContext(Ln),{pathname:g}=Gt(),S=sn(),x=pa(l,fa(h),g,d==="path"),j=JSON.stringify(x);return m.useEffect(()=>{S(JSON.parse(j),{replace:c,state:a,relative:d})},[S,j,d,c,a]),null}function on(l){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ah({basename:l="/",children:c=null,location:a,navigationType:d="POP",navigator:p,static:h=!1}){ft(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=l.replace(/^\/*/,"/"),S=m.useMemo(()=>({basename:g,navigator:p,static:h,future:{}}),[g,p,h]);typeof a=="string"&&(a=no(a));let{pathname:x="/",search:j="",hash:_="",state:D=null,key:N="default"}=a,B=m.useMemo(()=>{let b=Wn(x,g);return b==null?null:{location:{pathname:b,search:j,hash:_,state:D,key:N},navigationType:d}},[g,x,j,_,D,N,d]);return mn(B!=null,`<Router basename="${g}"> is not able to match the URL "${x}${j}${_}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:m.createElement(xn.Provider,{value:S},m.createElement(Yo.Provider,{children:c,value:B}))}function Fh({children:l,location:c}){return Nh(ca(l),c)}function ca(l,c=[]){let a=[];return m.Children.forEach(l,(d,p)=>{if(!m.isValidElement(d))return;let h=[...c,p];if(d.type===m.Fragment){a.push.apply(a,ca(d.props.children,h));return}ft(d.type===on,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!d.props.index||!d.props.children,"An index route cannot have child routes.");let g={id:d.props.id||h.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(g.children=ca(d.props.children,h)),a.push(g)}),a}var al="get",cl="application/x-www-form-urlencoded";function hl(l){return l!=null&&typeof l.tagName=="string"}function Oh(l){return hl(l)&&l.tagName.toLowerCase()==="button"}function Uh(l){return hl(l)&&l.tagName.toLowerCase()==="form"}function Wh(l){return hl(l)&&l.tagName.toLowerCase()==="input"}function Hh(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Vh(l,c){return l.button===0&&(!c||c==="_self")&&!Hh(l)}var ll=null;function Yh(){if(ll===null)try{new FormData(document.createElement("form"),0),ll=!1}catch{ll=!0}return ll}var Jh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sa(l){return l!=null&&!Jh.has(l)?(mn(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cl}"`),null):l}function Qh(l,c){let a,d,p,h,g;if(Uh(l)){let S=l.getAttribute("action");d=S?Wn(S,c):null,a=l.getAttribute("method")||al,p=sa(l.getAttribute("enctype"))||cl,h=new FormData(l)}else if(Oh(l)||Wh(l)&&(l.type==="submit"||l.type==="image")){let S=l.form;if(S==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=l.getAttribute("formaction")||S.getAttribute("action");if(d=x?Wn(x,c):null,a=l.getAttribute("formmethod")||S.getAttribute("method")||al,p=sa(l.getAttribute("formenctype"))||sa(S.getAttribute("enctype"))||cl,h=new FormData(S,l),!Yh()){let{name:j,type:_,value:D}=l;if(_==="image"){let N=j?`${j}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else j&&h.append(j,D)}}else{if(hl(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=al,d=null,p=cl,g=l}return h&&p==="text/plain"&&(g=h,h=void 0),{action:d,method:a.toLowerCase(),encType:p,formData:h,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xa(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function Kh(l,c,a){let d=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return d.pathname==="/"?d.pathname=`_root.${a}`:c&&Wn(d.pathname,c)==="/"?d.pathname=`${c.replace(/\/$/,"")}/_root.${a}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${a}`,d}async function qh(l,c){if(l.id in c)return c[l.id];try{let a=await import(l.module);return c[l.id]=a,a}catch(a){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gh(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Xh(l,c,a){let d=await Promise.all(l.map(async p=>{let h=c.routes[p.route.id];if(h){let g=await qh(h,a);return g.links?g.links():[]}return[]}));return nm(d.flat(1).filter(Gh).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function gd(l,c,a,d,p,h){let g=(x,j)=>a[j]?x.route.id!==a[j].route.id:!0,S=(x,j)=>a[j].pathname!==x.pathname||a[j].route.path?.endsWith("*")&&a[j].params["*"]!==x.params["*"];return h==="assets"?c.filter((x,j)=>g(x,j)||S(x,j)):h==="data"?c.filter((x,j)=>{let _=d.routes[x.route.id];if(!_||!_.hasLoader)return!1;if(g(x,j)||S(x,j))return!0;if(x.route.shouldRevalidate){let D=x.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function Zh(l,c,{includeHydrateFallback:a}={}){return em(l.map(d=>{let p=c.routes[d.route.id];if(!p)return[];let h=[p.module];return p.clientActionModule&&(h=h.concat(p.clientActionModule)),p.clientLoaderModule&&(h=h.concat(p.clientLoaderModule)),a&&p.hydrateFallbackModule&&(h=h.concat(p.hydrateFallbackModule)),p.imports&&(h=h.concat(p.imports)),h}).flat(1))}function em(l){return[...new Set(l)]}function tm(l){let c={},a=Object.keys(l).sort();for(let d of a)c[d]=l[d];return c}function nm(l,c){let a=new Set;return new Set(c),l.reduce((d,p)=>{let h=JSON.stringify(tm(p));return a.has(h)||(a.add(h),d.push({key:h,link:p})),d},[])}function Ld(){let l=m.useContext(ro);return xa(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function rm(){let l=m.useContext(pl);return xa(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var ya=m.createContext(void 0);ya.displayName="FrameworkContext";function $d(){let l=m.useContext(ya);return xa(l,"You must render this element inside a <HydratedRouter> element"),l}function om(l,c){let a=m.useContext(ya),[d,p]=m.useState(!1),[h,g]=m.useState(!1),{onFocus:S,onBlur:x,onMouseEnter:j,onMouseLeave:_,onTouchStart:D}=c,N=m.useRef(null);m.useEffect(()=>{if(l==="render"&&g(!0),l==="viewport"){let P=K=>{K.forEach(J=>{g(J.isIntersecting)})},L=new IntersectionObserver(P,{threshold:.5});return N.current&&L.observe(N.current),()=>{L.disconnect()}}},[l]),m.useEffect(()=>{if(d){let P=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(P)}}},[d]);let B=()=>{p(!0)},b=()=>{p(!1),g(!1)};return a?l!=="intent"?[h,N,{}]:[h,N,{onFocus:Uo(S,B),onBlur:Uo(x,b),onMouseEnter:Uo(j,B),onMouseLeave:Uo(_,b),onTouchStart:Uo(D,B)}]:[!1,N,{}]}function Uo(l,c){return a=>{l&&l(a),a.defaultPrevented||c(a)}}function sm({page:l,...c}){let{router:a}=Ld(),d=m.useMemo(()=>wd(a.routes,l,a.basename),[a.routes,l,a.basename]);return d?m.createElement(im,{page:l,matches:d,...c}):null}function lm(l){let{manifest:c,routeModules:a}=$d(),[d,p]=m.useState([]);return m.useEffect(()=>{let h=!1;return Xh(l,c,a).then(g=>{h||p(g)}),()=>{h=!0}},[l,c,a]),d}function im({page:l,matches:c,...a}){let d=Gt(),{manifest:p,routeModules:h}=$d(),{basename:g}=Ld(),{loaderData:S,matches:x}=rm(),j=m.useMemo(()=>gd(l,c,x,p,d,"data"),[l,c,x,p,d]),_=m.useMemo(()=>gd(l,c,x,p,d,"assets"),[l,c,x,p,d]),D=m.useMemo(()=>{if(l===d.pathname+d.search+d.hash)return[];let b=new Set,P=!1;if(c.forEach(K=>{let J=p.routes[K.route.id];!J||!J.hasLoader||(!j.some(H=>H.route.id===K.route.id)&&K.route.id in S&&h[K.route.id]?.shouldRevalidate||J.hasClientLoader?P=!0:b.add(K.route.id))}),b.size===0)return[];let L=Kh(l,g,"data");return P&&b.size>0&&L.searchParams.set("_routes",c.filter(K=>b.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[g,S,d,p,j,c,l,h]),N=m.useMemo(()=>Zh(_,p),[_,p]),B=lm(_);return m.createElement(m.Fragment,null,D.map(b=>m.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...a})),N.map(b=>m.createElement("link",{key:b,rel:"modulepreload",href:b,...a})),B.map(({key:b,link:P})=>m.createElement("link",{key:b,nonce:a.nonce,...P})))}function am(...l){return c=>{l.forEach(a=>{typeof a=="function"?a(c):a!=null&&(a.current=c)})}}var Rd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rd&&(window.__reactRouterVersion="7.9.5")}catch{}function cm({basename:l,children:c,window:a}){let d=m.useRef();d.current==null&&(d.current=Gp({window:a,v5Compat:!0}));let p=d.current,[h,g]=m.useState({action:p.action,location:p.location}),S=m.useCallback(x=>{m.startTransition(()=>g(x))},[g]);return m.useLayoutEffect(()=>p.listen(S),[p,S]),m.createElement(Ah,{basename:l,children:c,location:h.location,navigationType:h.action,navigator:p})}var Pd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Id=m.forwardRef(function({onClick:c,discover:a="render",prefetch:d="none",relative:p,reloadDocument:h,replace:g,state:S,target:x,to:j,preventScrollReset:_,viewTransition:D,...N},B){let{basename:b}=m.useContext(xn),P=typeof j=="string"&&Pd.test(j),L,K=!1;if(typeof j=="string"&&P&&(L=j,Rd))try{let pe=new URL(window.location.href),Ee=j.startsWith("//")?new URL(pe.protocol+j):new URL(j),ce=Wn(Ee.pathname,b);Ee.origin===pe.origin&&ce!=null?j=ce+Ee.search+Ee.hash:K=!0}catch{mn(!1,`<Link to="${j}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Ch(j,{relative:p}),[H,le,Ne]=om(d,N),ne=pm(j,{replace:g,state:S,target:x,preventScrollReset:_,relative:p,viewTransition:D});function Ae(pe){c&&c(pe),pe.defaultPrevented||ne(pe)}let ie=m.createElement("a",{...N,...Ne,href:L||J,onClick:K||h?c:Ae,ref:am(B,le),target:x,"data-discover":!P&&a==="render"?"true":void 0});return H&&!P?m.createElement(m.Fragment,null,ie,m.createElement(sm,{page:J})):ie});Id.displayName="Link";var um=m.forwardRef(function({"aria-current":c="page",caseSensitive:a=!1,className:d="",end:p=!1,style:h,to:g,viewTransition:S,children:x,...j},_){let D=Jo(g,{relative:j.relative}),N=Gt(),B=m.useContext(pl),{navigator:b,basename:P}=m.useContext(xn),L=B!=null&&ym(D)&&S===!0,K=b.encodeLocation?b.encodeLocation(D).pathname:D.pathname,J=N.pathname,H=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;a||(J=J.toLowerCase(),H=H?H.toLowerCase():null,K=K.toLowerCase()),H&&P&&(H=Wn(H,P)||H);const le=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let Ne=J===K||!p&&J.startsWith(K)&&J.charAt(le)==="/",ne=H!=null&&(H===K||!p&&H.startsWith(K)&&H.charAt(K.length)==="/"),Ae={isActive:Ne,isPending:ne,isTransitioning:L},ie=Ne?c:void 0,pe;typeof d=="function"?pe=d(Ae):pe=[d,Ne?"active":null,ne?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof h=="function"?h(Ae):h;return m.createElement(Id,{...j,"aria-current":ie,className:pe,ref:_,style:Ee,to:g,viewTransition:S},typeof x=="function"?x(Ae):x)});um.displayName="NavLink";var dm=m.forwardRef(({discover:l="render",fetcherKey:c,navigate:a,reloadDocument:d,replace:p,state:h,method:g=al,action:S,onSubmit:x,relative:j,preventScrollReset:_,viewTransition:D,...N},B)=>{let b=gm(),P=xm(S,{relative:j}),L=g.toLowerCase()==="get"?"get":"post",K=typeof S=="string"&&Pd.test(S),J=H=>{if(x&&x(H),H.defaultPrevented)return;H.preventDefault();let le=H.nativeEvent.submitter,Ne=le?.getAttribute("formmethod")||g;b(le||H.currentTarget,{fetcherKey:c,method:Ne,navigate:a,replace:p,state:h,relative:j,preventScrollReset:_,viewTransition:D})};return m.createElement("form",{ref:B,method:L,action:P,onSubmit:d?x:J,...N,"data-discover":!K&&l==="render"?"true":void 0})});dm.displayName="Form";function fm(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dd(l){let c=m.useContext(ro);return ft(c,fm(l)),c}function pm(l,{target:c,replace:a,state:d,preventScrollReset:p,relative:h,viewTransition:g}={}){let S=sn(),x=Gt(),j=Jo(l,{relative:h});return m.useCallback(_=>{if(Vh(_,c)){_.preventDefault();let D=a!==void 0?a:Ho(x)===Ho(j);S(l,{replace:D,state:d,preventScrollReset:p,relative:h,viewTransition:g})}},[x,S,j,a,d,c,l,p,h,g])}var hm=0,mm=()=>`__${String(++hm)}__`;function gm(){let{router:l}=Dd("useSubmit"),{basename:c}=m.useContext(xn),a=Ih();return m.useCallback(async(d,p={})=>{let{action:h,method:g,encType:S,formData:x,body:j}=Qh(d,c);if(p.navigate===!1){let _=p.fetcherKey||mm();await l.fetch(_,a,p.action||h,{preventScrollReset:p.preventScrollReset,formData:x,body:j,formMethod:p.method||g,formEncType:p.encType||S,flushSync:p.flushSync})}else await l.navigate(p.action||h,{preventScrollReset:p.preventScrollReset,formData:x,body:j,formMethod:p.method||g,formEncType:p.encType||S,replace:p.replace,state:p.state,fromRouteId:a,flushSync:p.flushSync,viewTransition:p.viewTransition})},[l,c,a])}function xm(l,{relative:c}={}){let{basename:a}=m.useContext(xn),d=m.useContext(Ln);ft(d,"useFormAction must be used inside a RouteContext");let[p]=d.matches.slice(-1),h={...Jo(l||".",{relative:c})},g=Gt();if(l==null){h.search=g.search;let S=new URLSearchParams(h.search),x=S.getAll("index");if(x.some(_=>_==="")){S.delete("index"),x.filter(D=>D).forEach(D=>S.append("index",D));let _=S.toString();h.search=_?`?${_}`:""}}return(!l||l===".")&&p.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(h.pathname=h.pathname==="/"?a:Un([a,h.pathname])),Ho(h)}function ym(l,{relative:c}={}){let a=m.useContext(Nd);ft(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=Dd("useViewTransitionState"),p=Jo(l,{relative:c});if(!a.isTransitioning)return!1;let h=Wn(a.currentLocation.pathname,d)||a.currentLocation.pathname,g=Wn(a.nextLocation.pathname,d)||a.nextLocation.pathname;return ul(p.pathname,g)!=null||ul(p.pathname,h)!=null}function On({children:l,requireAdmin:c=!1,requireUser:a=!1}){const[d,p]=m.useState(!0),[h,g]=m.useState(!1);return m.useEffect(()=>{const S=localStorage.getItem("user");if(!S){g(!1),p(!1);return}try{const x=JSON.parse(S),j=x.isAuthenticated,_=x.role==="admin";if(!j){g(!1),p(!1);return}if(c&&!_){g(!1),p(!1);return}if(a&&_){g(!1),p(!1);return}g(!0),p(!1)}catch{g(!1),p(!1)}},[c,a]),d?n.jsx("div",{children:"Loading..."}):h?n.jsx(n.Fragment,{children:l}):c?n.jsx(Nr,{to:"/calendrier",replace:!0}):n.jsx(Nr,{to:"/login",replace:!0})}function vm(){const[l,c]=m.useState(!0),[a,d]=m.useState(null);return m.useEffect(()=>{const p=localStorage.getItem("user");if(!p){d(n.jsx(Nr,{to:"/login",replace:!0})),c(!1);return}try{const h=JSON.parse(p),g=h.isAuthenticated,S=h.role==="admin";if(!g){d(n.jsx(Nr,{to:"/login",replace:!0})),c(!1);return}d(S?n.jsx(Nr,{to:"/dashboard",replace:!0}):n.jsx(Nr,{to:"/calendrier",replace:!0})),c(!1)}catch{d(n.jsx(Nr,{to:"/login",replace:!0})),c(!1)}},[]),l?n.jsx("div",{children:"Loading..."}):n.jsx(n.Fragment,{children:a})}function ml({isDarkMode:l}){const[c]=m.useState(()=>Array.from({length:30},(d,p)=>({id:p,left:Math.random()*100,delay:Math.random()*5,duration:3+Math.random()*4,size:5+Math.random()*10}))),[a]=m.useState(()=>Array.from({length:15},(d,p)=>({id:p,left:Math.random()*100,top:Math.random()*100,delay:Math.random()*2,size:10+Math.random()*15})));return n.jsxs("div",{className:"noel-decorations",children:[c.map(d=>n.jsx("div",{className:"snowflake",style:{left:`${d.left}%`,animationDelay:`${d.delay}s`,animationDuration:`${d.duration}s`,width:`${d.size}px`,height:`${d.size}px`},children:""},`snowflake-${d.id}`)),a.map(d=>n.jsx("div",{className:`star ${l?"star-dark":"star-light"}`,style:{left:`${d.left}%`,top:`${d.top}%`,animationDelay:`${d.delay}s`,width:`${d.size}px`,height:`${d.size}px`},children:""},`star-${d.id}`)),n.jsx("div",{className:"ornament ornament-1",children:""}),n.jsx("div",{className:"ornament ornament-2",children:""}),n.jsx("div",{className:"ornament ornament-3",children:""}),n.jsx("div",{className:"ornament ornament-4",children:""}),n.jsx("div",{className:"ornament ornament-5",children:""}),n.jsx("div",{className:"corner-decoration corner-top-left",children:""}),n.jsx("div",{className:"corner-decoration corner-top-right",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-left",children:""}),n.jsx("div",{className:"corner-decoration corner-bottom-right",children:""})]})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),km=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,a,d)=>d?d.toUpperCase():a.toLowerCase()),xd=l=>{const c=km(l);return c.charAt(0).toUpperCase()+c.slice(1)},zd=(...l)=>l.filter((c,a,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===a).join(" ").trim(),wm=l=>{for(const c in l)if(c.startsWith("aria-")||c==="role"||c==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=m.forwardRef(({color:l="currentColor",size:c=24,strokeWidth:a=2,absoluteStrokeWidth:d,className:p="",children:h,iconNode:g,...S},x)=>m.createElement("svg",{ref:x,...Sm,width:c,height:c,stroke:l,strokeWidth:d?Number(a)*24/Number(c):a,className:zd("lucide",p),...!h&&!wm(S)&&{"aria-hidden":"true"},...S},[...g.map(([j,_])=>m.createElement(j,_)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(l,c)=>{const a=m.forwardRef(({className:d,...p},h)=>m.createElement(Cm,{ref:h,iconNode:c,className:zd(`lucide-${jm(xd(l))}`,`lucide-${l}`,d),...p}));return a.displayName=xd(l),a};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Nm=ot("bell-off",bm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],_m=ot("bell-ring",Em);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Zr=ot("bell",Mm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],eo=ot("calendar-check",Tm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lt=ot("calendar",Lm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qo=ot("chevron-down",$m);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Ko=ot("chevrons-right",Rm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Im=ot("circle-check",Pm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],qo=ot("clipboard-list",Dm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bm=ot("clock",zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],la=ot("database",Am);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yd=ot("download",Fm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Um=ot("globe",Om);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Go=ot("house",Wm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hn=ot("log-out",Hm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ym=ot("mail",Vm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M5 12h14",key:"1ays0h"}]],Xo=ot("minus",Jm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Mn=ot("moon",Qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ia=ot("palette",Km);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Gm=ot("percent",qm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bd=ot("plus",Xm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],va=ot("refresh-cw",Zm);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tg=ot("save",eg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Er=ot("settings",ng);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Tn=ot("sun",rg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vd=ot("trash-2",og);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lg=ot("trending-up",sg);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jd=ot("upload",ig);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],to=ot("users",ag);function Ad({disableAnimations:l=!1,isAdminView:c=!1}){const a=sn(),[d,p]=m.useState(()=>{const N=localStorage.getItem("darkMode");return N?JSON.parse(N):!0}),[h,g]=m.useState(""),[S,x]=m.useState("");m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(d)),document.documentElement.setAttribute("data-theme",d?"dark":"light")},[d]),m.useEffect(()=>{const N=localStorage.getItem("user");if(N)try{const B=JSON.parse(N);g(B.name||""),x(B.role||"")}catch(B){console.error("Error parsing user data:",B)}},[]);const j=()=>{p(!d)},_=()=>{localStorage.removeItem("user"),a("/login")},D=N=>{a(`/${N}`)};return n.jsxs("div",{className:`home-page ${d?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(ml,{isDarkMode:d}),!c&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`home-header ${c?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[c?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Calendrier"}),n.jsx("p",{children:"Gestion des calendriers"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous"}),n.jsx("p",{children:"Slectionnez un type de rendez-vous"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[S==="technicien"&&h&&!c&&n.jsxs("div",{style:{fontSize:"16px",fontWeight:500,color:d?"#ffffff":"#111827",marginBottom:"4px"},children:["Bienvenue ",h]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[!c&&n.jsx("button",{className:"home-button",onClick:()=>a("/calendrier"),"aria-label":"Home",title:"Accueil",children:""}),n.jsxs("button",{style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:d?"#1a1a1a":"#ffffff",border:`1px solid ${d?"#333333":"#e5e7eb"}`,color:d?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:N=>{N.currentTarget.style.color=d?"#ffffff":"#111827",N.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f9fafb"},onMouseLeave:N=>{N.currentTarget.style.color=d?"#9ca3af":"#6b7280",N.currentTarget.style.backgroundColor=d?"#1a1a1a":"#ffffff"},children:[n.jsx(Zr,{style:{width:"20px",height:"20px"}}),n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%"}})]}),n.jsx("button",{onClick:j,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${d?"#333333":"#e5e7eb"}`,backgroundColor:d?"#1a1a1a":"#ffffff",color:d?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>{N.currentTarget.style.color=d?"#ffffff":"#111827",N.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f9fafb"},onMouseLeave:N=>{N.currentTarget.style.color=d?"#9ca3af":"#6b7280",N.currentTarget.style.backgroundColor=d?"#1a1a1a":"#ffffff"},children:d?n.jsx(Tn,{style:{width:"16px",height:"16px"}}):n.jsx(Mn,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:_,style:{padding:"8px",borderRadius:"8px",backgroundColor:d?"#1a1a1a":"#ffffff",border:`1px solid ${d?"#333333":"#e5e7eb"}`,color:d?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:N=>{N.currentTarget.style.color=d?"#ffffff":"#111827",N.currentTarget.style.backgroundColor=d?"#1a1a1a":"#f9fafb"},onMouseLeave:N=>{N.currentTarget.style.color=d?"#9ca3af":"#6b7280",N.currentTarget.style.backgroundColor=d?"#1a1a1a":"#ffffff"},children:n.jsx(Hn,{style:{width:"20px",height:"20px"}})})]})]})]})}),n.jsx("main",{className:"home-main",children:n.jsxs("div",{className:"calendar-buttons-container",children:[n.jsx("button",{className:"calendar-button metric-button",onClick:()=>D("metre"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Metr"}),n.jsx("p",{children:"Rservation Metr"})]})}),n.jsx("button",{className:"calendar-button pose-button",onClick:()=>D("pose"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"Pose"}),n.jsx("p",{children:"Rservation Pose"})]})}),n.jsx("button",{className:"calendar-button sav-button",onClick:()=>D("sav"),children:n.jsxs("div",{className:"button-content",children:[n.jsx("h2",{children:"SAV"}),n.jsx("p",{children:"Rservation SAV"})]})})]})})]})}const cg={},Fd="calendar1",Qe={calendar1:"calendar1",calendar2:"calendar2",calendar3:"calendar3"},Od=Qe[Fd],ug=cg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",so=l=>l||Od,ua=l=>({id:String(l.id),date:l.booking_date,name:l.client_name,phone:l.client_phone,designer:l.designer_name,message:l.message,time:l.booking_time||"21h00",timestamp:new Date(l.created_at).getTime()}),gn=async(l,c)=>{const a=await fetch(`${ug}${l}`,{headers:{"Content-Type":"application/json",...c?.headers||{}},...c});if(!a.ok){let d=`API request failed with status ${a.status}`;const p=a.clone();try{const h=await a.json();if(h.detail)d=h.detail;else if(h.non_field_errors&&h.non_field_errors.length>0)d=h.non_field_errors[0];else if(typeof h=="object"){const g=Object.keys(h)[0];g&&Array.isArray(h[g])&&h[g].length>0?d=h[g][0]:g&&typeof h[g]=="string"&&(d=h[g])}}catch{try{const h=await p.text();h&&(d=h)}catch{}}throw new Error(d)}if(a.status!==204)return await a.json()},Ud={calendar1:"Pose",calendar2:"SAV",calendar3:"Metr"},ja=(l="calendar1")=>Qe[l]||Qe[Fd],hn=l=>{if(!l)return"Pose";for(const[c,a]of Object.entries(Qe))if(a===l)return Ud[c]||"Pose";return"Pose"},Xr=new Map,dl=1e3,lo=async(l,c)=>{const a=so(l),d=new URLSearchParams({calendar_id:a}),p=`bookings_${a}_${d.toString()}`,h=Xr.get(p);if(h&&Date.now()-h.timestamp<dl)return console.log(`[getAllBookings] Using cached request for calendar_id: ${a}`),h.promise;console.log(`[getAllBookings] Querying bookings for calendar_id: ${a}`);const g=(async()=>{try{const S=await gn(`/bookings/?${d.toString()}`);return console.log(`[getAllBookings] Received ${S.length} bookings from API for calendar_id: ${a}`),S.map(ua)}catch(S){if(console.warn(`[getAllBookings] Failed to fetch bookings for calendar_id: ${a}`,S),a==="calendar1"||a==="calendar2"||a==="calendar3"){const x=a==="calendar1"?"1":a==="calendar2"?"2":"3";console.log(`[getAllBookings] Trying legacy format: ${x}`);try{const j=new URLSearchParams({calendar_id:x});c?.startDate,c?.endDate;const _=await gn(`/bookings/?${j.toString()}`);return console.log(`[getAllBookings] Received ${_.length} bookings from API using legacy format`),_.map(ua)}catch(j){console.warn("[getAllBookings] Legacy format also failed:",j)}}return[]}finally{setTimeout(()=>{Xr.delete(p)},dl)}})();return Xr.set(p,{promise:g,timestamp:Date.now()}),g},dg={[Qe.calendar1]:2,[Qe.calendar2]:3,[Qe.calendar3]:8},ka=l=>l?dg[l]??3:3,Bt=l=>l?l===Qe.calendar2||l===Qe.calendar3:!1,fg=async(l,c,a)=>{try{const d=new Date;d.setHours(0,0,0,0);const p=new Date(l+"T00:00:00");if(p.setHours(0,0,0,0),p<d)return!1;const g=(await lo(c)).filter(x=>{const j=new Date(x.date+"T00:00:00");return j.setHours(0,0,0,0),x.date===l&&j>=d}),S=a??ka(c);return g.length>=S}catch(d){return console.error("Error checking booking limit:",d),!1}},gl=async(l,c,a)=>{const d=so(c);try{if(await yg(l.date,d))throw new Error("Cette date est un jour fri ou un jour non disponible. Les rservations ne sont pas autorises pour cette date.");const h=await lo(d);if(Bt(d)&&l.timeSlot){const x=new Date;x.setHours(0,0,0,0);const j=new Date(l.date+"T00:00:00");if(j.setHours(0,0,0,0),j>=x){const _=B=>B.trim().toLowerCase(),D=_(l.timeSlot);if(h.some(B=>{const b=new Date(B.date+"T00:00:00");if(b.setHours(0,0,0,0),b<x)return!1;const P=_(B.time||"");return B.date===l.date&&P===D}))throw new Error(`Ce crneau (${l.timeSlot}) est dj rserv pour cette date. Veuillez choisir un autre crneau.`)}}if(!Bt(d)){const x=a??ka(d);if(await fg(l.date,d,x))throw new Error(`This date is fully booked. Maximum ${x} bookings per day.`)}let g=l.timeSlot||"21h00";Bt(d)&&!l.timeSlot&&(console.warn("[addBooking] Time slot calendar but no timeSlot provided!"),g="");const S={calendar_id:d,booking_date:l.date,booking_time:g,client_name:l.name,client_phone:l.phone,designer_name:l.designer,message:l.message};return console.log("[addBooking] Sending booking to API:",S),console.log("[addBooking] Time slot from bookingData:",l.timeSlot),console.log("[addBooking] Calendar uses time slots:",Bt(d)),await gn("/bookings/",{method:"POST",body:JSON.stringify(S)}),!0}catch(p){throw console.error("Error adding booking:",p),p}},pg=async l=>{const c=so(l);try{return await gn(`/bookings/reset/?calendar_id=${c}`,{method:"DELETE"}),console.log(`Cleared backend bookings for calendar: ${c}`),!0}catch(a){return console.error("Error resetting bookings:",a),!1}},hg=async()=>{console.log(" Resetting all calendars...");const l=Object.values(Qe),c=[...new Set(l)];for(const a of c)await pg(a);console.log(" All calendars have been reset to 0 bookings")},Wd=async(l,c)=>{try{console.log("[updateBooking] Updating booking:",l,c);const a=await gn(`/bookings/${l}/`,{method:"PUT",body:JSON.stringify(c)});return ua(a)}catch(a){throw console.error("Error updating booking:",a),a}},Wo=async l=>{try{return console.log("[deleteBooking] Deleting booking:",l),await gn(`/bookings/${l}/`,{method:"DELETE"}),!0}catch(c){throw console.error("Error deleting booking:",c),c}},fl=l=>({id:l.id,calendar_id:l.calendar_id,holiday_date:l.holiday_date,description:l.description,created_at:l.created_at}),Vo=async(l,c)=>{const a=so(l),d=new URLSearchParams({calendar_id:a}),p=`holidays_${a}_${d.toString()}`,h=Xr.get(p);if(h&&Date.now()-h.timestamp<dl)return console.log(`[getAllHolidays] Using cached request for calendar_id: ${a}`),h.promise;const g=(async()=>{try{return(await gn(`/holidays/?${d.toString()}`)).map(fl)}catch(S){if(console.warn(`[getAllHolidays] Failed to fetch holidays for calendar_id: ${a}`,S),a==="calendar1"||a==="calendar2"||a==="calendar3"){const x=a==="calendar1"?"1":a==="calendar2"?"2":"3";try{const j=new URLSearchParams({calendar_id:x});return c?.startDate,c?.endDate,(await gn(`/holidays/?${j.toString()}`)).map(fl)}catch(j){console.warn("[getAllHolidays] Legacy format also failed:",j)}}return[]}finally{setTimeout(()=>{Xr.delete(p)},dl)}})();return Xr.set(p,{promise:g,timestamp:Date.now()}),g},mg=async(l,c,a)=>{const d=so(l);try{const h=await gn("/holidays/",{method:"POST",body:JSON.stringify({calendar_id:d,holiday_date:c,description:a||""})});return fl(h)}catch(p){throw console.error("Error adding holiday:",p),p}},gg=async(l,c,a,d)=>{const p=so(c);try{const h={calendar_id:p,holiday_date:a,description:d||""},g=await gn(`/holidays/${l}/`,{method:"PUT",body:JSON.stringify(h)});return fl(g)}catch(h){throw console.error("Error updating holiday:",h),h}},xg=async l=>{try{return await gn(`/holidays/${l}/`,{method:"DELETE"}),!0}catch(c){throw console.error("Error deleting holiday:",c),c}},yg=async(l,c)=>{try{return(await Vo(c)).some(d=>d.holiday_date===l)}catch(a){return console.error("Error checking holiday:",a),!1}},vg={},jg=vg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",xl=async(l,c={})=>{const a=`${jg}${l}`,p={...c,headers:{...{"Content-Type":"application/json"},...c.headers}},h=await fetch(a,p);if(!h.ok){let g=`Erreur ${h.status}: ${h.statusText}`;try{const S=await h.json();if(S.detail)g=S.detail;else if(S.password)g=S.password[0]||g;else if(S.confirm_password)g=S.confirm_password[0]||g;else if(S.email)g=S.email[0]||g;else if(typeof S=="object"){const x=Object.keys(S)[0];x&&S[x]&&(g=Array.isArray(S[x])?S[x][0]:S[x])}}catch{}throw new Error(g)}if(h.status!==204)return await h.json()},wa=l=>({id:l.id,name:l.name,email:l.email,phone:l.phone||"",role:l.role,created_at:l.created_at,updated_at:l.updated_at}),_r=async l=>{const c=new URLSearchParams;l&&l!=="all"&&c.append("role",l);const a=c.toString()?`/users/?${c.toString()}`:"/users/";try{return(await xl(a)).map(wa)}catch(d){throw console.error("Error fetching users:",d),d}},kg=async l=>{try{const c=await xl("/users/",{method:"POST",body:JSON.stringify(l)});return wa(c)}catch(c){throw console.error("Error creating user:",c),c}},wg=async(l,c)=>{try{const a=await xl(`/users/${l}/`,{method:"PUT",body:JSON.stringify(c)});return wa(a)}catch(a){throw console.error(`Error updating user ${l}:`,a),a}},Sg=async l=>{try{await xl(`/users/${l}/`,{method:"DELETE"})}catch(c){throw console.error(`Error deleting user ${l}:`,c),c}},yl=({selectedDate:l,selectedTimeSlot:c,onClose:a,onSubmit:d,isDarkMode:p=!1,initialData:h,users:g=[]})=>{const[S,x]=m.useState(""),[j,_]=m.useState(!1);m.useEffect(()=>{const H=localStorage.getItem("user");if(H)try{const le=JSON.parse(H);le.role==="technicien"&&le.name&&x(le.name),le.role==="admin"&&_(!0)}catch(le){console.error("Error parsing user data:",le)}},[]);const[D,N]=m.useState({name:h?.name||"",phone:h?.phone||"",designer:h?.designer||"",message:h?.message||""}),[B,b]=m.useState({});m.useEffect(()=>{S&&!h?.designer&&N(H=>H.designer.trim()?H:{...H,designer:S})},[S,h?.designer]),m.useEffect(()=>{h&&N({name:h.name||"",phone:h.phone||"",designer:h.designer||"",message:h.message||""})},[h]);const P=H=>{const{name:le,value:Ne}=H.target;if(le==="phone"){const ne=Ne.replace(/\D/g,"");N(Ae=>({...Ae,[le]:ne}))}else N(ne=>({...ne,[le]:Ne}));B[le]&&b(ne=>({...ne,[le]:""}))},L=()=>{const H={};return D.name.trim()||(H.name="Le nom est requis"),D.phone.trim()?/^\d+$/.test(D.phone)||(H.phone="Le numro de tlphone ne doit contenir que des chiffres"):H.phone="Le numro de tlphone est requis",D.designer.trim()||(H.designer="Le nom du concepteur est requis"),b(H),Object.keys(H).length===0},K=H=>{if(H.preventDefault(),L()){const le=l.getFullYear(),Ne=String(l.getMonth()+1).padStart(2,"0"),ne=String(l.getDate()).padStart(2,"0"),Ae=`${le}-${Ne}-${ne}`,ie={...D,date:Ae,selectedDate:l,timeSlot:c};console.log("[BookingModal] Submitting booking:",ie),d(ie)}},J=H=>H.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return n.jsx("div",{className:"modal-overlay",onClick:a,children:n.jsxs("div",{className:`modal-content ${p?"dark-mode":"light-mode"}`,onClick:H=>H.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Rservez Votre Rendez-vous"}),n.jsx("button",{className:"close-button",onClick:a,"aria-label":"Fermer",children:""})]}),n.jsxs("div",{className:"selected-date",children:[n.jsx("strong",{children:"Date slectionne :"})," ",J(l)]}),n.jsxs("form",{onSubmit:K,className:"booking-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:D.name,onChange:P,className:B.name?"error":"",placeholder:"Entrez le nom du client"}),B.name&&n.jsx("span",{className:"error-message",children:B.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Numro de tlphone *"}),n.jsx("input",{type:"text",id:"phone",name:"phone",value:D.phone,onChange:P,className:B.phone?"error":"",placeholder:"Entrez le numro de tlphone",required:!0,inputMode:"numeric"}),B.phone&&n.jsx("span",{className:"error-message",children:B.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer",children:"Nom du concepteur *"}),j&&g.length>0?n.jsxs("select",{id:"designer",name:"designer",value:D.designer,onChange:P,className:B.designer?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),g.filter(H=>H.role!=="admin").map(H=>n.jsxs("option",{value:H.name,children:[H.name," (Technicien)"]},H.id))]}):n.jsx("input",{type:"text",id:"designer",name:"designer",value:D.designer,onChange:P,className:B.designer?"error":"",placeholder:"Entrez le nom du concepteur",readOnly:!!S,style:S?{backgroundColor:p?"#555":"#f5f5f5",cursor:"not-allowed",opacity:.8}:{}}),B.designer&&n.jsx("span",{className:"error-message",children:B.designer}),S&&!j&&n.jsx("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:" Automatiquement rempli avec votre nom (non modifiable)"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message ou commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:D.message,onChange:P,placeholder:"Toute information supplmentaire ou demande spciale",rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:a,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:"Rserver"})]})]})]})})},Ge=()=>n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%",display:"block"},children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#fa541c",strokeWidth:"2",fill:"none"}),n.jsx("path",{d:"M12 16V12",stroke:"#fa541c",strokeWidth:"2",strokeLinecap:"round"}),n.jsx("circle",{cx:"12",cy:"8",r:"1",fill:"#fa541c"})]}),Sa=({onDateSelect:l,isDarkMode:c=!0,refreshTrigger:a,binId:d,view:p="monthly",showTimeSlots:h=!0,timeSlotType:g="numerical"})=>{const S=()=>{const u=localStorage.getItem(`calendar_currentDate_${d||"default"}`);if(u)try{const z=new Date(u);if(!isNaN(z.getTime()))return z}catch{}return new Date},[x,j]=m.useState(S()),[_,D]=m.useState(0);m.useEffect(()=>{x&&localStorage.setItem(`calendar_currentDate_${d||"default"}`,x.toISOString())},[x,d]);const[N,B]=m.useState({}),[b,P]=m.useState(!1),[L,K]=m.useState({}),[J,H]=m.useState({}),[le,Ne]=m.useState([]),[ne,Ae]=m.useState(!1),[ie,pe]=m.useState(!1),[Ee,ce]=m.useState(!1),[ve,Xe]=m.useState(""),[ue,Ze]=m.useState(""),[Le,Me]=m.useState({}),[A,ee]=m.useState(null),[te,v]=m.useState(!1),[k,de]=m.useState(null),[he,Ie]=m.useState([]),[Ce,ke]=m.useState(null),be=m.useRef(null),We=m.useRef(null),F=async()=>{try{const u=await _r();Ie(u)}catch(u){console.error("Error loading users:",u)}};m.useEffect(()=>{const u=localStorage.getItem("user");if(u){const z=JSON.parse(u);Ae(z.role==="admin"),pe(z.role==="technicien"),ce(z.role!=="admin"&&z.role!=="technicien"),Xe(z.email||""),Ze(z.name||z.email||""),z.role==="admin"&&F(),console.log("=== CALENDAR USER INFO ===",{role:z.role,email:z.email,name:z.name,isAdmin:z.role==="admin",isTechnicien:z.role==="technicien"})}else console.log("=== CALENDAR USER INFO === No user found in localStorage")},[]);const oe=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],Ye=u=>u===0?6:u-1,jt=u=>{const z=u.getFullYear(),U=u.getMonth(),O=new Date(z,U+1,0).getDate(),w=new Date(z,U,1),W=Ye(w.getDay()),ge=[];for(let ae=0;ae<W;ae++)ge.push(null);for(let ae=1;ae<=O;ae++)ge.push(new Date(z,U,ae));return ge},De=u=>{const z=u.getDay(),U=z===0?-6:1-z,O=new Date(u);O.setDate(u.getDate()+U),O.setHours(0,0,0,0);const w=[];for(let W=0;W<7;W++){const ge=new Date(O);ge.setDate(O.getDate()+W),w.push(ge)}return w},G=(u,z)=>{l(u,z)},me=u=>{j(z=>{const U=new Date(z);return U.setMonth(z.getMonth()+u),U})},Be=u=>{j(z=>{const U=new Date(z);return U.setDate(z.getDate()+u*7),U})},$=u=>{const z=new Date;return z.setHours(0,0,0,0),u<z},Te=u=>u.getDay()===0,tt=u=>{const z=u.getFullYear(),U=String(u.getMonth()+1).padStart(2,"0"),O=String(u.getDate()).padStart(2,"0"),w=`${z}-${U}-${O}`;return Le[w]||!1},M=u=>$(u)||Te(u)||tt(u),V=p==="monthly"?jt(x):[],Fe=p==="weekly"?De(x):[];m.useEffect(()=>{const u=`holidays_${d}_${a}`;return be.current===u?void 0:(be.current=u,(async()=>{try{const U=await Vo(d),O={};U.forEach(w=>{O[w.holiday_date]=!0}),Me(O)}catch(U){console.error("Error loading holidays:",U),Me({})}finally{be.current===u&&(be.current=null)}})(),()=>{be.current===u&&(be.current=null)})},[a,d]),m.useEffect(()=>{const u=`bookings_${d}_${a}_${_}`;return We.current===u?void 0:(We.current=u,(async()=>{try{const U=await lo(d),O=new Date;O.setHours(0,0,0,0);const w={},W={},ge={};U.forEach(ae=>{const we=new Date(ae.date+"T00:00:00");if(we.setHours(0,0,0,0),we>=O)if(Bt(d)){if(ae.time&&ae.time.trim()&&ae.time!=="21h00"){const se=ae.time.trim().toLowerCase(),it=`${ae.date}|${se}`;W[it]=!0,ge[it]=ae}}else w[ae.date]=(w[ae.date]||0)+1}),console.log(`[Calendar] Loaded ${U.length} bookings for calendar: ${d}`),console.log("[Calendar] All bookings:",U),console.log(`[Calendar] Booking counts for ${Object.keys(w).length} future dates:`,w),console.log("[Calendar] Booked time slots:",W),console.log("[Calendar] Today's date:",O.toISOString().split("T")[0]),w["2025-11-18"]?console.log(`[Calendar] DEBUG: Found ${w["2025-11-18"]} bookings for 2025-11-18`):console.log("[Calendar] DEBUG: No bookings found for 2025-11-18 in counts"),B(w),K(W),H(ge),Ne(U),P(!0)}catch(U){if(console.error("Error loading booking counts:",U),d){const O=`booking_calendar_data_${d}`;localStorage.getItem(O)||(B({}),K({}))}else B({}),K({});P(!0)}finally{We.current===u&&(We.current=null)}})(),()=>{We.current===u&&(We.current=null)})},[a,d,_]);const $e=u=>{const z=u.getFullYear(),U=String(u.getMonth()+1).padStart(2,"0"),O=String(u.getDate()).padStart(2,"0"),w=`${z}-${U}-${O}`,W=M(u),ge=ka(d);if(!b&&!W)return{count:0,isFullyBooked:!1,isDisabled:!0,statusText:""};const ae=Le[w]||!1,we=N[w]||0,se=!W&&!ae&&we>=ge;return(w==="2025-11-18"||we>0||se||ae)&&console.log(`[getBookingStatus] Date: ${w}, Count: ${we}, Max: ${ge}, isFullyBooked: ${se}, isDisabled: ${W}, isHoliday: ${ae}, binId: ${d}, bookingCounts keys:`,Object.keys(N)),{count:W||ae?0:we,isFullyBooked:se,isDisabled:W||se||ae,statusText:ae?"Jour fri":W?"":se?`${ge} sur ${ge} rservs`:`${we} sur ${ge} rservs`}},re=(u,z)=>{const U=new Date;U.setHours(0,0,0,0);const O=new Date(u);if(O.setHours(0,0,0,0),O<U)return!1;const w=u.getFullYear(),W=String(u.getMonth()+1).padStart(2,"0"),ge=String(u.getDate()).padStart(2,"0"),ae=`${w}-${W}-${ge}`,we=z.trim().toLowerCase(),se=`${ae}|${we}`,it=L[se]||!1;return ae==="2025-11-18"&&z&&console.log(`[isSlotBooked] Date: ${ae}, TimeSlot: ${z}, Normalized: ${we}, Key: ${se}, IsBooked: ${it}`),it},Je=(u,z)=>{const U=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),w=String(u.getDate()).padStart(2,"0"),W=`${U}-${O}-${w}`,ge=z.trim().toLowerCase(),ae=`${W}|${ge}`;return J[ae]||null},Ke=(u,z)=>pt(u,z).map(O=>O.name),pt=(u,z)=>{const U=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),w=String(u.getDate()).padStart(2,"0"),W=`${U}-${O}-${w}`,ge=new Date;ge.setHours(0,0,0,0);const ae=new Date(u);if(ae.setHours(0,0,0,0),ae<ge)return[];if(z){const we=Je(u,z);if(we){if(ne)return[we];if(ur(we))return[we]}return[]}else{const we=[];return le.forEach(se=>{se.date===W&&we.push(se)}),we}},Oe=(u,z)=>{if(ne)return z?re(u,z):$e(u).count>0;if(ie)if(z){const U=Je(u,z);return U?ur(U):!1}else{const U=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),w=String(u.getDate()).padStart(2,"0"),W=`${U}-${O}-${w}`;return le.filter(we=>we.date===W).filter(we=>ur(we)).length>0}else return z?re(u,z)&&Ke(u,z).length>0:$e(u).count>0&&Ke(u).length>0},Ue=(u,z,U)=>{u.stopPropagation();const O=pt(z,U);if(O.length>0){const w=u.currentTarget,W=w.closest(".calendar");if(W){const ge=W.getBoundingClientRect(),ae=w.getBoundingClientRect();de({x:ae.right-ge.left+8,y:ae.top-ge.top,names:O.map(we=>we.name),bookings:O,date:z,timeSlot:U})}}};m.useEffect(()=>{const u=()=>{de(null)};if(k){document.addEventListener("click",u);const z=setTimeout(()=>{de(null)},2e3);return()=>{document.removeEventListener("click",u),clearTimeout(z)}}},[k]),m.useEffect(()=>{const u=z=>{z.target.closest(".booking-select-popup")||ke(null)};if(Ce)return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[Ce]);const Vt=u=>{if(!ie||!ue)return console.log("[isBookingByTechnicien] Not a technicien or no name:",{isTechnicien:ie,userName:ue,userEmail:ve}),!1;const z=u.designer.toLowerCase().trim()===ue.toLowerCase().trim(),U=u.designer.toLowerCase().includes(ue.toLowerCase()),O=z||U;return console.log("[isBookingByTechnicien]",{bookingId:u.id,bookingDesigner:u.designer,bookingName:u.name,userName:ue,userEmail:ve,designerMatch:z,designerContains:U,matches:O}),O},ur=u=>ie?!Vt(u):!1,yn=u=>{if(!Ee||!ve&&!ue)return!1;const z=ve&&(u.name.toLowerCase().includes(ve.toLowerCase())||u.designer.toLowerCase().includes(ve.toLowerCase())||u.phone===ve),U=ue&&(u.name.toLowerCase()===ue.toLowerCase()||u.name.toLowerCase().includes(ue.toLowerCase()));return z||U||!1},qe=(u,z)=>{if(!ie)return console.log("[getBookingForDateAndSlot] Not a technicien"),null;if(z){const U=Je(u,z),O=U&&Vt(U)?U:null;return console.log("[getBookingForDateAndSlot] Time slot booking:",{timeSlot:z,booking:U,result:O}),O}else{const U=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),w=String(u.getDate()).padStart(2,"0"),W=`${U}-${O}-${w}`;console.log("[getBookingForDateAndSlot] Looking for Pose booking:",{dateString:W,allBookingsCount:le.length});const ge=le.find(ae=>{const we=ae.date===W,se=Vt(ae);return console.log("[getBookingForDateAndSlot] Checking booking:",{bookingDate:ae.date,dateString:W,matchesDate:we,matchesTechnicien:se,booking:ae}),we&&se});return console.log("[getBookingForDateAndSlot] Found booking:",ge),ge||null}},dr=(u,z)=>{if(z){const U=Je(u,z);return U&&yn(U)?U:null}else{const U=u.getFullYear(),O=String(u.getMonth()+1).padStart(2,"0"),w=String(u.getDate()).padStart(2,"0"),W=`${U}-${O}-${w}`;return le.find(ae=>ae.date===W&&yn(ae))||null}},$n=(u,z)=>{const U=dr(u,z);U&&(ee(U),v(!0),de(null))},fr=async(u,z)=>{const U=dr(u,z);if(!U)return;const O=z?`tes-vous sr de vouloir supprimer votre rservation du ${new Date(U.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${z} ?`:`tes-vous sr de vouloir supprimer votre rservation du ${new Date(U.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(O))try{await Wo(U.id),alert(" Rservation supprime avec succs"),de(null),D(w=>w+1)}catch(w){console.error("Error deleting booking:",w),alert(" Erreur lors de la suppression de la rservation")}},st=u=>{const z=u.getFullYear(),U=String(u.getMonth()+1).padStart(2,"0"),O=String(u.getDate()).padStart(2,"0"),w=`${z}-${U}-${O}`;return le.filter(W=>W.date!==w?!1:ie?Vt(W):Ee?yn(W):!1)},_e=(u,z,U)=>{if(z){const w=qe(u,z);w&&(ee(w),v(!0));return}const O=st(u);if(O.length!==0)if(O.length===1)ee(O[0]),v(!0);else{const w=U?.currentTarget?.getBoundingClientRect();ke({x:w?w.left+w.width/2:200,y:w?w.bottom+5:200,bookings:O,date:u,action:"edit"})}},He=async(u,z,U)=>{if(z){const w=qe(u,z);if(!w)return;const W=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(w.date+"T00:00:00").toLocaleDateString("fr-FR")}  ${z} ?`;if(!window.confirm(W))return;try{await Wo(w.id),alert("Rservation supprime avec succs"),D(ge=>ge+1)}catch(ge){console.error("Error deleting booking:",ge),alert("Erreur lors de la suppression de la rservation")}return}const O=st(u);if(O.length!==0)if(O.length===1){const w=O[0],W=`tes-vous sr de vouloir supprimer votre rservation du ${new Date(w.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(!window.confirm(W))return;try{await Wo(w.id),alert("Rservation supprime avec succs"),D(ge=>ge+1)}catch(ge){console.error("Error deleting booking:",ge),alert("Erreur lors de la suppression de la rservation")}}else{const w=U?.currentTarget?.getBoundingClientRect();ke({x:w?w.left+w.width/2:200,y:w?w.bottom+5:200,bookings:O,date:u,action:"delete"})}},Mt=async u=>{if(Ce){if(Ce.action==="edit")ee(u),v(!0);else if(Ce.action==="delete"){const z=`tes-vous sr de vouloir supprimer la rservation de ${u.name} du ${new Date(u.date+"T00:00:00").toLocaleDateString("fr-FR")} ?`;if(window.confirm(z))try{await Wo(u.id),alert("Rservation supprime avec succs"),D(U=>U+1)}catch(U){console.error("Error deleting booking:",U),alert("Erreur lors de la suppression de la rservation")}}ke(null)}},It=async u=>{if(A){if(Ee&&!yn(A)){alert(" Vous ne pouvez modifier que vos propres rservations");return}if(ie&&!Vt(A)){alert(" Vous ne pouvez modifier que vos propres rservations");return}try{const z={calendar_id:d,booking_date:u.date,booking_time:u.timeSlot||"21h00",client_name:u.name,client_phone:u.phone,designer_name:u.designer,message:u.message};await Wd(A.id,z),alert(" Rservation modifie avec succs"),v(!1),ee(null),D(U=>U+1)}catch(z){console.error("Error updating booking:",z);const U=z?.message||"Erreur lors de la modification de la rservation";alert(` ${U}`)}}},kt=g!=="pose"&&g!=="sav"&&g!=="numerical",Mr=()=>{const u=De(x)[0],z=De(x)[6];return u.getMonth()===z.getMonth()?`${u.getDate()} - ${z.getDate()} ${oe[u.getMonth()]} ${u.getFullYear()}`:`${u.getDate()} ${oe[u.getMonth()].slice(0,3)} - ${z.getDate()} ${oe[z.getMonth()].slice(0,3)} ${z.getFullYear()}`};return n.jsxs("div",{className:`calendar ${c?"dark-mode":"light-mode"}`,style:{position:"relative"},children:[n.jsxs("div",{className:"calendar-header",children:[n.jsx("button",{className:"nav-button",onClick:()=>p==="weekly"?Be(-1):me(-1),"aria-label":p==="weekly"?"Previous week":"Previous month",children:""}),n.jsx("h2",{className:"month-year",children:p==="weekly"?Mr():`${oe[x.getMonth()].charAt(0).toUpperCase()+oe[x.getMonth()].slice(1)} ${x.getFullYear()}`}),n.jsx("button",{className:"nav-button",onClick:()=>p==="weekly"?Be(1):me(1),"aria-label":p==="weekly"?"Next week":"Next month",children:""})]}),n.jsx("div",{className:"calendar-container",children:n.jsxs("div",{className:"calendar-grid",children:[n.jsx("div",{className:"day-headers-row",children:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"].map((u,z)=>n.jsx("div",{className:"day-header-cell",children:u},z))}),p==="weekly"?n.jsx("div",{className:"date-headers",children:Fe.map((u,z)=>{const U=$e(u),O=U.isFullyBooked,w=U.isDisabled;return n.jsxs("div",{className:`date-header ${w?"past":""} ${O?"fully-booked":""}`,children:[n.jsxs("div",{className:`date-number ${w?"past":""} ${O?"fully-booked-number":""}`,onClick:kt?(()=>!w&&!O&&G(u)):void 0,style:{cursor:kt?w||O?"not-allowed":"pointer":"default"},children:[n.jsx("span",{children:u.getDate()}),!Bt(d)&&Oe(u)&&n.jsx("button",{className:"calendar-info-button",onClick:W=>Ue(W,u),title:"Voir les rservations",children:n.jsx(Ge,{})})]}),h&&n.jsx(n.Fragment,{children:g==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Aprs-midi"})]}):g==="pose"?n.jsx(n.Fragment,{children:(()=>{const W=re(u,"8:00-11:00"),ge=re(u,"11:00-14:00"),ae=re(u,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${w||W?"disabled":""}`,onClick:()=>!w&&!W&&G(u,"8:00-11:00"),style:{cursor:w||W?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),Oe(u,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:we=>Ue(we,u,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(Ge,{})})]}),n.jsxs("div",{className:`time-slot ${w||ge?"disabled":""}`,onClick:()=>!w&&!ge&&G(u,"11:00-14:00"),style:{cursor:w||ge?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),Oe(u,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:we=>Ue(we,u,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(Ge,{})})]}),n.jsxs("div",{className:`time-slot ${w||ae?"disabled":""}`,onClick:()=>!w&&!ae&&G(u,"14:00-17:00"),style:{cursor:w||ae?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),Oe(u,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:we=>Ue(we,u,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(Ge,{})})]})]})})()}):g==="sav"?n.jsx(n.Fragment,{children:(()=>{const W=re(u,"8:00"),ge=re(u,"9:30"),ae=re(u,"11:00"),we=re(u,"12:30"),se=re(u,"14:00"),it=re(u,"15:30"),Tt=re(u,"17:00"),Yt=re(u,"18:30");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${w||W?"disabled":""}`,onClick:()=>!w&&!W&&G(u,"8:00"),style:{cursor:w||W?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"8:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ge?"disabled":""}`,onClick:()=>!w&&!ge&&G(u,"9:30"),style:{cursor:w||ge?"not-allowed":"pointer"},children:[n.jsx("span",{children:"9:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"9:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ae?"disabled":""}`,onClick:()=>!w&&!ae&&G(u,"11:00"),style:{cursor:w||ae?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"11:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||we?"disabled":""}`,onClick:()=>!w&&!we&&G(u,"12:30"),style:{cursor:w||we?"not-allowed":"pointer"},children:[n.jsx("span",{children:"12:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"12:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||se?"disabled":""}`,onClick:()=>!w&&!se&&G(u,"14:00"),style:{cursor:w||se?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"14:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||it?"disabled":""}`,onClick:()=>!w&&!it&&G(u,"15:30"),style:{cursor:w||it?"not-allowed":"pointer"},children:[n.jsx("span",{children:"15:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"15:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||Tt?"disabled":""}`,onClick:()=>!w&&!Tt&&G(u,"17:00"),style:{cursor:w||Tt?"not-allowed":"pointer"},children:[n.jsx("span",{children:"17:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"17:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||Yt?"disabled":""}`,onClick:()=>!w&&!Yt&&G(u,"18:30"),style:{cursor:w||Yt?"not-allowed":"pointer"},children:[n.jsx("span",{children:"18:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"18:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const W=re(u,"8-10"),ge=re(u,"10-12"),ae=re(u,"14-16"),we=re(u,"16-18");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${w||W?"disabled":""}`,onClick:()=>!w&&!W&&G(u,"8-10"),style:{cursor:w||W?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8-10"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"8-10")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"8-10"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"8-10")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"8-10")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"8-10")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ge?"disabled":""}`,onClick:()=>!w&&!ge&&G(u,"10-12"),style:{cursor:w||ge?"not-allowed":"pointer"},children:[n.jsx("span",{children:"10-12"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"10-12")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"10-12"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"10-12")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"10-12")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"10-12")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ae?"disabled":""}`,onClick:()=>!w&&!ae&&G(u,"14-16"),style:{cursor:w||ae?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14-16"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"14-16")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"14-16"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"14-16")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"14-16")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"14-16")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||we?"disabled":""}`,onClick:()=>!w&&!we&&G(u,"16-18"),style:{cursor:w||we?"not-allowed":"pointer"},children:[n.jsx("span",{children:"16-18"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"16-18")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"16-18"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"16-18")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"16-18")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},z)})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"date-headers",children:V.slice(0,7).map((u,z)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},z);const U=$e(u),O=U.isFullyBooked,w=U.isDisabled;return n.jsxs("div",{className:`date-header ${w?"past":""} ${O?"fully-booked":""}`,children:[!Bt(d)&&Oe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:W=>Ue(W,u),title:"Voir les rservations",children:n.jsx(Ge,{})})}),ie&&!Bt(d)&&qe(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:W=>{W.stopPropagation(),_e(u,void 0,W)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:W=>{W.stopPropagation(),He(u,void 0,W)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${w?"past":""} ${O?"fully-booked-number":""} ${kt?"":"not-clickable"}`,onClick:kt?(()=>!w&&!O&&G(u)):void 0,style:{cursor:kt?w||O?"not-allowed":"pointer":"default"},children:u.getDate()}),h&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},z)})}),n.jsx("div",{className:"date-headers",children:V.slice(7,14).map((u,z)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`second-${z}`);const U=$e(u),O=U.isFullyBooked,w=U.isDisabled;return n.jsxs("div",{className:`date-header ${w?"past":""} ${O?"fully-booked":""}`,children:[!Bt(d)&&Oe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:W=>Ue(W,u),title:"Voir les rservations",children:n.jsx(Ge,{})})}),ie&&!Bt(d)&&qe(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:W=>{W.stopPropagation(),_e(u)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:W=>{W.stopPropagation(),He(u)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${w?"past":""} ${O?"fully-booked-number":""}`,onClick:kt?(()=>!w&&!O&&G(u)):void 0,style:{cursor:kt?w||O?"not-allowed":"pointer":"default"},children:u.getDate()}),h&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`second-${z}`)})}),n.jsx("div",{className:"date-headers",children:V.slice(14,21).map((u,z)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`third-${z}`);const U=$e(u),O=U.isFullyBooked,w=U.isDisabled;return n.jsxs("div",{className:`date-header ${w?"past":""} ${O?"fully-booked":""}`,children:[!Bt(d)&&Oe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:W=>Ue(W,u),title:"Voir les rservations",children:n.jsx(Ge,{})})}),ie&&!Bt(d)&&qe(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:W=>{W.stopPropagation(),_e(u)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:W=>{W.stopPropagation(),He(u)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${w?"past":""} ${O?"fully-booked-number":""}`,onClick:kt?(()=>!w&&!O&&G(u)):void 0,style:{cursor:kt?w||O?"not-allowed":"pointer":"default"},children:u.getDate()}),h&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`third-${z}`)})}),n.jsx("div",{className:"date-headers",children:V.slice(21,28).map((u,z)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`fourth-${z}`);const U=$e(u),O=U.isFullyBooked,w=U.isDisabled;return n.jsxs("div",{className:`date-header ${w?"past":""} ${O?"fully-booked":""}`,children:[!Bt(d)&&Oe(u)&&n.jsx("div",{className:"date-header-info-left",children:n.jsx("button",{className:"calendar-info-button-pose",onClick:W=>Ue(W,u),title:"Voir les rservations",children:n.jsx(Ge,{})})}),ie&&!Bt(d)&&qe(u)&&n.jsxs("div",{className:"date-header-actions",children:[n.jsx("button",{className:"calendar-edit-button-pose",onClick:W=>{W.stopPropagation(),_e(u)},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button-pose",onClick:W=>{W.stopPropagation(),He(u)},title:"Supprimer",children:""})]}),n.jsx("div",{className:`date-number ${w?"past":""} ${O?"fully-booked-number":""}`,onClick:kt?(()=>!w&&!O&&G(u)):void 0,style:{cursor:kt?w||O?"not-allowed":"pointer":"default"},children:u.getDate()}),h&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Aprs-midi"})]})]},`fourth-${z}`)})}),V.length>28&&n.jsx("div",{className:"date-headers",children:V.slice(28).map((u,z)=>{if(u===null)return n.jsx("div",{className:"date-header empty"},`fifth-${z}`);const U=$e(u),O=U.isFullyBooked,w=U.isDisabled;return n.jsxs("div",{className:`date-header ${w?"past":""} ${O?"fully-booked":""}`,children:[n.jsxs("div",{className:`date-number ${w?"past":""} ${O?"fully-booked-number":""}`,onClick:kt?(()=>!w&&!O&&G(u)):void 0,style:{cursor:kt?w||O?"not-allowed":"pointer":"default"},children:[n.jsx("span",{children:u.getDate()}),!Bt(d)&&Oe(u)&&n.jsx("button",{className:"calendar-info-button",onClick:W=>Ue(W,u),title:"Voir les rservations",children:n.jsx(Ge,{})})]}),h&&n.jsx(n.Fragment,{children:g==="basic"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Matin"}),n.jsx("div",{className:`time-slot ${w?"disabled":""}`,onClick:()=>!w&&!O&&G(u),style:{cursor:w||O?"not-allowed":"pointer"},children:"Aprs-midi"})]}):g==="pose"?n.jsx(n.Fragment,{children:(()=>{const W=re(u,"8:00-11:00"),ge=re(u,"11:00-14:00"),ae=re(u,"14:00-17:00");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${w||W?"disabled":""}`,onClick:()=>!w&&!W&&G(u,"8:00-11:00"),style:{cursor:w||W?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00-11:00"}),Oe(u,"8:00-11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:we=>Ue(we,u,"8:00-11:00"),title:"Voir les rservations",children:n.jsx(Ge,{})})]}),n.jsxs("div",{className:`time-slot ${w||ge?"disabled":""}`,onClick:()=>!w&&!ge&&G(u,"11:00-14:00"),style:{cursor:w||ge?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00-14:00"}),Oe(u,"11:00-14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:we=>Ue(we,u,"11:00-14:00"),title:"Voir les rservations",children:n.jsx(Ge,{})})]}),n.jsxs("div",{className:`time-slot ${w||ae?"disabled":""}`,onClick:()=>!w&&!ae&&G(u,"14:00-17:00"),style:{cursor:w||ae?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00-17:00"}),Oe(u,"14:00-17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:we=>Ue(we,u,"14:00-17:00"),title:"Voir les rservations",children:n.jsx(Ge,{})})]})]})})()}):g==="sav"?n.jsx(n.Fragment,{children:(()=>{const W=re(u,"8:00"),ge=re(u,"9:30"),ae=re(u,"11:00"),we=re(u,"12:30"),se=re(u,"14:00"),it=re(u,"15:30"),Tt=re(u,"17:00"),Yt=re(u,"18:30");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${w||W?"disabled":""}`,onClick:()=>!w&&!W&&G(u,"8:00"),style:{cursor:w||W?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"8:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"8:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"8:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"8:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"8:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ge?"disabled":""}`,onClick:()=>!w&&!ge&&G(u,"9:30"),style:{cursor:w||ge?"not-allowed":"pointer"},children:[n.jsx("span",{children:"9:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"9:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"9:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"9:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"9:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"9:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ae?"disabled":""}`,onClick:()=>!w&&!ae&&G(u,"11:00"),style:{cursor:w||ae?"not-allowed":"pointer"},children:[n.jsx("span",{children:"11:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"11:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"11:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"11:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"11:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"11:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||we?"disabled":""}`,onClick:()=>!w&&!we&&G(u,"12:30"),style:{cursor:w||we?"not-allowed":"pointer"},children:[n.jsx("span",{children:"12:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"12:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"12:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"12:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"12:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"12:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||se?"disabled":""}`,onClick:()=>!w&&!se&&G(u,"14:00"),style:{cursor:w||se?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"14:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"14:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"14:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"14:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"14:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||it?"disabled":""}`,onClick:()=>!w&&!it&&G(u,"15:30"),style:{cursor:w||it?"not-allowed":"pointer"},children:[n.jsx("span",{children:"15:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"15:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"15:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"15:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"15:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"15:30")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||Tt?"disabled":""}`,onClick:()=>!w&&!Tt&&G(u,"17:00"),style:{cursor:w||Tt?"not-allowed":"pointer"},children:[n.jsx("span",{children:"17:00"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"17:00")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"17:00"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"17:00")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"17:00")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"17:00")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||Yt?"disabled":""}`,onClick:()=>!w&&!Yt&&G(u,"18:30"),style:{cursor:w||Yt?"not-allowed":"pointer"},children:[n.jsx("span",{children:"18:30"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"18:30")&&n.jsx("button",{className:"calendar-info-button",onClick:q=>Ue(q,u,"18:30"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"18:30")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:q=>{q.stopPropagation(),_e(u,"18:30")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:q=>{q.stopPropagation(),He(u,"18:30")},title:"Supprimer",children:""})]})]})]})]})})()}):n.jsx(n.Fragment,{children:(()=>{const W=re(u,"8-10"),ge=re(u,"10-12"),ae=re(u,"14-16"),we=re(u,"16-18");return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`time-slot ${w||W?"disabled":""}`,onClick:()=>!w&&!W&&G(u,"8-10"),style:{cursor:w||W?"not-allowed":"pointer"},children:[n.jsx("span",{children:"8-10"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"8-10")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"8-10"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"8-10")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"8-10")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"8-10")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ge?"disabled":""}`,onClick:()=>!w&&!ge&&G(u,"10-12"),style:{cursor:w||ge?"not-allowed":"pointer"},children:[n.jsx("span",{children:"10-12"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"10-12")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"10-12"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"10-12")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"10-12")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"10-12")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||ae?"disabled":""}`,onClick:()=>!w&&!ae&&G(u,"14-16"),style:{cursor:w||ae?"not-allowed":"pointer"},children:[n.jsx("span",{children:"14-16"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"14-16")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"14-16"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"14-16")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"14-16")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"14-16")},title:"Supprimer",children:""})]})]})]}),n.jsxs("div",{className:`time-slot ${w||we?"disabled":""}`,onClick:()=>!w&&!we&&G(u,"16-18"),style:{cursor:w||we?"not-allowed":"pointer"},children:[n.jsx("span",{children:"16-18"}),n.jsxs("div",{className:"time-slot-actions",children:[Oe(u,"16-18")&&n.jsx("button",{className:"calendar-info-button",onClick:se=>Ue(se,u,"16-18"),title:"Voir les rservations",children:n.jsx(Ge,{})}),ie&&qe(u,"16-18")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"calendar-edit-button",onClick:se=>{se.stopPropagation(),_e(u,"16-18")},title:"Modifier",children:""}),n.jsx("button",{className:"calendar-delete-button",onClick:se=>{se.stopPropagation(),He(u,"16-18")},title:"Supprimer",children:""})]})]})]})]})})()})})]},`fifth-${z}`)})})]})]})}),k&&n.jsx("div",{className:"calendar-info-popup",style:{position:"absolute",left:`${k.x}px`,top:`${k.y}px`,zIndex:1e3},onClick:u=>u.stopPropagation(),children:n.jsxs("div",{className:"calendar-info-popup-content",children:[n.jsx("button",{className:"calendar-info-popup-close",onClick:()=>de(null),"aria-label":"Fermer",children:""}),n.jsx("div",{className:"calendar-info-popup-title",children:"Rserve pour:"}),n.jsx("div",{className:"calendar-info-popup-names",children:k.bookings&&k.bookings.length>0?k.bookings.map((u,z)=>n.jsx("div",{children:u.name},z)):k.names.map((u,z)=>n.jsx("div",{children:u},z))}),Ee&&k&&dr(k.date,k.timeSlot)&&n.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${c?"#333333":"#e5e7eb"}`,display:"flex",gap:"8px",justifyContent:"flex-end"},children:[n.jsxs("button",{onClick:u=>{u.stopPropagation(),$n(k.date,k.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:"#fa541c",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(250, 84, 28, 0.3)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#ff6b35",u.currentTarget.style.transform="translateY(-1px)",u.currentTarget.style.boxShadow="0 4px 8px rgba(250, 84, 28, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="#fa541c",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 2px 4px rgba(250, 84, 28, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Modifier"})]}),n.jsxs("button",{onClick:u=>{u.stopPropagation(),fr(k.date,k.timeSlot)},style:{padding:"8px 16px",borderRadius:"8px",border:"none",backgroundColor:c?"#dc2626":"#ef4444",color:"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor=c?"#b91c1c":"#dc2626",u.currentTarget.style.transform="translateY(-1px)",u.currentTarget.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor=c?"#dc2626":"#ef4444",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.3)"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Supprimer"})]})]})]})}),Ce&&n.jsxs("div",{className:"booking-select-popup",style:{position:"fixed",left:Math.min(Ce.x,window.innerWidth-280),top:Ce.y,zIndex:1e4,backgroundColor:c?"#1a1a1a":"#ffffff",border:`1px solid ${c?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",padding:"12px",minWidth:"250px",maxWidth:"350px"},onClick:u=>u.stopPropagation(),children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:c?"#ffffff":"#111827",marginBottom:"12px",paddingBottom:"8px",borderBottom:`1px solid ${c?"#333333":"#e5e7eb"}`},children:Ce.action==="edit"?" Slectionner une rservation  modifier":" Slectionner une rservation  supprimer"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"300px",overflowY:"auto"},children:Ce.bookings.sort((u,z)=>u.name.localeCompare(z.name)).map((u,z)=>n.jsxs("button",{onClick:()=>Mt(u),style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",padding:"10px 12px",borderRadius:"8px",border:`1px solid ${c?"#333333":"#e5e7eb"}`,backgroundColor:c?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left"},onMouseEnter:U=>{U.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f0f0f0",U.currentTarget.style.borderColor="#fa541c"},onMouseLeave:U=>{U.currentTarget.style.backgroundColor=c?"#0a0a0a":"#f9fafb",U.currentTarget.style.borderColor=c?"#333333":"#e5e7eb"},children:[n.jsxs("div",{style:{fontSize:"14px",fontWeight:600,color:c?"#ffffff":"#111827"},children:[" ",u.name]}),n.jsxs("div",{style:{fontSize:"12px",color:c?"#9ca3af":"#6b7280"},children:[" ",u.phone]}),n.jsxs("div",{style:{fontSize:"11px",color:c?"#6b7280":"#9ca3af"},children:[" Concepteur: ",u.designer]})]},u.id||z))}),n.jsx("button",{onClick:()=>ke(null),style:{marginTop:"12px",padding:"8px 16px",borderRadius:"6px",border:`1px solid ${c?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:c?"#9ca3af":"#6b7280",cursor:"pointer",fontSize:"13px",width:"100%",transition:"all 0.2s"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor=c?"#1a1a1a":"#f0f0f0"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="transparent"},children:"Annuler"})]}),te&&A&&n.jsx(yl,{selectedDate:new Date(A.date+"T00:00:00"),selectedTimeSlot:A.time&&A.time!=="21h00"?A.time:void 0,onClose:()=>{v(!1),ee(null)},onSubmit:It,isDarkMode:c,initialData:{name:A.name,phone:A.phone,designer:A.designer,message:A.message},users:ne?he:[]})]})};function Hd({disableAnimations:l=!1,isAdminView:c=!1}){const a=sn(),[d,p]=m.useState(null),[h,g]=m.useState(void 0),[S,x]=m.useState(!1),[j,_]=m.useState(0),[D,N]=m.useState(null),[B,b]=m.useState(null),[P,L]=m.useState(()=>{const ce=localStorage.getItem("darkMode");return ce?JSON.parse(ce):!0}),[K,J]=m.useState(!1),[H,le]=m.useState([]),Ne=ja("calendar3");m.useEffect(()=>{const ce=localStorage.getItem("user");ce&&JSON.parse(ce).role==="admin"&&(J(!0),ne())},[]);const ne=async()=>{try{const ce=await _r();le(ce)}catch(ce){console.error("Error loading users:",ce)}};m.useEffect(()=>{_(ce=>ce+1)},[Ne]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(P)),document.documentElement.setAttribute("data-theme",P?"dark":"light")},[P]),m.useEffect(()=>{const ce=ve=>{const Xe=ve.detail.isDarkMode;Xe!==P&&L(Xe)};return window.addEventListener("darkModeChanged",ce),()=>{window.removeEventListener("darkModeChanged",ce)}},[P]),m.useEffect(()=>{if(B){const ce=setTimeout(()=>{b(null)},3e3);return()=>clearTimeout(ce)}},[B]);const Ae=()=>{L(!P)},ie=(ce,ve)=>{p(ce),g(ve),x(!0)},pe=()=>{x(!1),p(null),g(void 0)},Ee=async ce=>{console.log("Booking submitted:",ce);try{b("Traitement de votre rservation..."),await gl(ce,Ne),await new Promise(ve=>setTimeout(ve,500)),b(null),N(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{_(ve=>ve+1)},300)}catch(ve){console.error("Booking submission error:",ve),b(null),ve instanceof Error&&ve.message?alert(` ${ve.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}pe()};return n.jsxs("div",{className:`App ${P?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(ml,{isDarkMode:P}),!c&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${c?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[c?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Metr"}),n.jsx("p",{children:"Gestion des rservations Metr"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Metr"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!c&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>a("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:Ae,"aria-label":"Toggle dark mode",title:P?"Switch to light mode":"Switch to dark mode",children:P?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Sa,{onDateSelect:ie,isDarkMode:P,refreshTrigger:j,binId:Ne,view:"weekly",timeSlotType:"numerical"})}),S&&d&&n.jsx(yl,{selectedDate:d,selectedTimeSlot:h,onClose:pe,onSubmit:Ee,isDarkMode:P,users:K?H:[]}),D&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:D}),n.jsx("button",{className:"notification-toast-button",onClick:()=>N(null),children:"j'ai compris"})]}),B&&n.jsx("div",{className:"notification-toast",children:B})]})}function Vd({disableAnimations:l=!1,isAdminView:c=!1}){const a=sn(),[d,p]=m.useState(null),[h,g]=m.useState(!1),[S,x]=m.useState(0),[j,_]=m.useState(null),[D,N]=m.useState(null),[B,b]=m.useState(()=>{const pe=localStorage.getItem("darkMode");return pe?JSON.parse(pe):!0}),[P,L]=m.useState(!1),[K,J]=m.useState([]),H=ja("calendar1");m.useEffect(()=>{const pe=localStorage.getItem("user");pe&&JSON.parse(pe).role==="admin"&&(L(!0),le())},[]);const le=async()=>{try{const pe=await _r();J(pe)}catch(pe){console.error("Error loading users:",pe)}};m.useEffect(()=>{x(pe=>pe+1)},[H]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(B)),document.documentElement.setAttribute("data-theme",B?"dark":"light")},[B]),m.useEffect(()=>{const pe=Ee=>{const ce=Ee.detail.isDarkMode;ce!==B&&b(ce)};return window.addEventListener("darkModeChanged",pe),()=>{window.removeEventListener("darkModeChanged",pe)}},[B]),m.useEffect(()=>{if(D){const pe=setTimeout(()=>{N(null)},3e3);return()=>clearTimeout(pe)}},[D]);const Ne=()=>{b(!B)},ne=pe=>{p(pe),g(!0)},Ae=()=>{g(!1),p(null)},ie=async pe=>{console.log("Booking submitted:",pe);try{N("Traitement de votre rservation..."),await gl(pe,H),await new Promise(Ee=>setTimeout(Ee,500)),N(null),_(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{x(Ee=>Ee+1)},300)}catch(Ee){console.error("Booking submission error:",Ee),N(null),Ee instanceof Error&&Ee.message?alert(` ${Ee.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}Ae()};return n.jsxs("div",{className:`App ${B?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(ml,{isDarkMode:B}),!c&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${c?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[c?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Pose"}),n.jsx("p",{children:"Gestion des rservations Pose"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de Pose"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!c&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>a("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:Ne,"aria-label":"Toggle dark mode",title:B?"Switch to light mode":"Switch to dark mode",children:B?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Sa,{onDateSelect:ne,isDarkMode:B,refreshTrigger:S,binId:H,view:"monthly",showTimeSlots:!1,timeSlotType:"basic"})}),h&&d&&n.jsx(yl,{selectedDate:d,onClose:Ae,onSubmit:ie,isDarkMode:B,users:P?K:[]}),j&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:j}),n.jsx("button",{className:"notification-toast-button",onClick:()=>_(null),children:"j'ai compris"})]}),D&&n.jsx("div",{className:"notification-toast",children:D})]})}function Yd({disableAnimations:l=!1,isAdminView:c=!1}){const a=sn(),[d,p]=m.useState(null),[h,g]=m.useState(void 0),[S,x]=m.useState(!1),[j,_]=m.useState(0),[D,N]=m.useState(null),[B,b]=m.useState(null),[P,L]=m.useState(()=>{const ce=localStorage.getItem("darkMode");return ce?JSON.parse(ce):!0}),[K,J]=m.useState(!1),[H,le]=m.useState([]),Ne=ja("calendar2");m.useEffect(()=>{const ce=localStorage.getItem("user");ce&&JSON.parse(ce).role==="admin"&&(J(!0),ne())},[]);const ne=async()=>{try{const ce=await _r();le(ce)}catch(ce){console.error("Error loading users:",ce)}};m.useEffect(()=>{_(ce=>ce+1)},[Ne]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(P)),document.documentElement.setAttribute("data-theme",P?"dark":"light")},[P]),m.useEffect(()=>{const ce=ve=>{const Xe=ve.detail.isDarkMode;Xe!==P&&L(Xe)};return window.addEventListener("darkModeChanged",ce),()=>{window.removeEventListener("darkModeChanged",ce)}},[P]),m.useEffect(()=>{if(B){const ce=setTimeout(()=>{b(null)},3e3);return()=>clearTimeout(ce)}},[B]);const Ae=()=>{L(!P)},ie=(ce,ve)=>{p(ce),g(ve),x(!0)},pe=()=>{x(!1),p(null),g(void 0)},Ee=async ce=>{console.log("Booking submitted:",ce);try{b("Traitement de votre rservation..."),await gl(ce,Ne),await new Promise(ve=>setTimeout(ve,500)),b(null),N(" Rservation confirme.  ATTENTION cette rservation ne remplace pas l'envoi du dossier via smart"),setTimeout(()=>{_(ve=>ve+1)},300)}catch(ve){console.error("Booking submission error:",ve),b(null),ve instanceof Error&&ve.message?alert(` ${ve.message}`):alert(" Une erreur s'est produite lors de la soumission de votre rservation. Veuillez ressayer.")}pe()};return n.jsxs("div",{className:`App ${P?"dark-mode":"light-mode"}`,children:[!l&&n.jsx(ml,{isDarkMode:P}),!c&&n.jsx("div",{className:"app-logo",children:n.jsx("img",{src:"https://cdn.prod.website-files.com/5bf555ae8892f8064dda7415/5fbfc91e9d2e7ae94b22dbb4_logo.svg",alt:"Logo",className:"logo-image"})}),n.jsx("header",{className:`app-header ${c?"admin-style":""}`,children:n.jsxs("div",{className:"header-content",children:[c?n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - SAV"}),n.jsx("p",{children:"Gestion des rservations SAV"})]}):n.jsxs("div",{children:[n.jsx("h1",{children:"Rservez Votre Rendez-vous de SAV"}),n.jsx("p",{children:"Slectionnez une date pour rserver votre rendez-vous"})]}),!c&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"home-button",onClick:()=>a("/"),"aria-label":"Home",title:"Accueil",children:""}),n.jsx("button",{className:"theme-toggle",onClick:Ae,"aria-label":"Toggle dark mode",title:P?"Switch to light mode":"Switch to dark mode",children:P?"":""})]})]})}),n.jsx("main",{className:"app-main",children:n.jsx(Sa,{onDateSelect:ie,isDarkMode:P,refreshTrigger:j,binId:Ne,view:"weekly",timeSlotType:"sav"})}),S&&d&&n.jsx(yl,{selectedDate:d,selectedTimeSlot:h,onClose:pe,onSubmit:Ee,isDarkMode:P,users:K?H:[]}),D&&n.jsxs("div",{className:"notification-toast persistent",children:[n.jsx("div",{children:D}),n.jsx("button",{className:"notification-toast-button",onClick:()=>N(null),children:"j'ai compris"})]}),B&&n.jsx("div",{className:"notification-toast",children:B})]})}const Ca=async()=>{const l=[],c=Date.now(),a=c-1440*60*1e3,d=c-10080*60*1e3;try{const h=Object.values(Qe).map(S=>lo(S).then(x=>({calendarId:S,bookings:x})));(await Promise.all(h)).forEach(({calendarId:S,bookings:x})=>{x.forEach(j=>{if(j.timestamp>a){const _=hn(S);l.push({id:`booking-${j.id}`,type:"booking",title:"Nouvelle rservation",message:`${j.name} - ${_}`,timestamp:j.timestamp,data:{...j,calendarId:S}})}})})}catch(p){console.error("Error loading booking notifications:",p)}try{const h=Object.values(Qe).map(S=>Vo(S).then(x=>({calendarId:S,holidays:x})));(await Promise.all(h)).forEach(({calendarId:S,holidays:x})=>{x.forEach(j=>{const _=new Date(j.created_at).getTime();if(_>d){const D=hn(S);l.push({id:`holiday-${j.id}`,type:"holiday",title:"Nouveau jour fri",message:`${D} - ${j.holiday_date}`,timestamp:_,data:{...j,calendarId:S}})}})})}catch(p){console.error("Error loading holiday notifications:",p)}return l.sort((p,h)=>h.timestamp-p.timestamp),l},Cg=l=>{const a=Date.now()-10080*60*1e3,d=[];return l.forEach(p=>{const h=new Date(p.createdAt).getTime();h>a&&d.push({id:`user-${p.id}`,type:"user",title:"Nouvel utilisateur",message:`${p.name} (${p.role})`,timestamp:h,data:p})}),d.sort((p,h)=>h.timestamp-p.timestamp)},ba=l=>{const a=Date.now()-l,d=Math.floor(a/6e4),p=Math.floor(a/36e5),h=Math.floor(a/864e5);return d<1?" l'instant":d<60?`Il y a ${d} min`:p<24?`Il y a ${p} h`:h<7?`Il y a ${h} j`:new Date(l).toLocaleDateString("fr-FR")};function Zo(){const l=sn(),c=Gt(),[a,d]=m.useState(()=>{const $=localStorage.getItem("darkMode");return $?JSON.parse($):!0}),[p,h]=m.useState(!0),[g,S]=m.useState(!1),[x,j]=m.useState(!1),[_,D]=m.useState([]),[N,B]=m.useState(!0),[b,P]=m.useState([]),[L,K]=m.useState(!0),[J,H]=m.useState(!0),[le,Ne]=m.useState(0),[ne,Ae]=m.useState(0),[ie,pe]=m.useState(0),[Ee,ce]=m.useState(0),[ve,Xe]=m.useState(0),[ue,Ze]=m.useState([]),[Le,Me]=m.useState(0),[A,ee]=m.useState(null),[te,v]=m.useState(!1),[k,de]=m.useState(0),[he,Ie]=m.useState([]);m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),document.documentElement.setAttribute("data-theme",a?"dark":"light");const $=localStorage.getItem("user");if($){const Te=JSON.parse($);S(Te.role==="admin")}},[a]),m.useEffect(()=>{const $=setTimeout(()=>{setTimeout(()=>j(!0),300)},300);return()=>clearTimeout($)},[]),m.useEffect(()=>{(async()=>{try{B(!0),K(!0);const tt=["calendar1","calendar2","calendar3"].map(async st=>{try{return(await lo(st)).map(He=>({...He,calendarId:st}))}catch(_e){return console.warn(`Failed to fetch bookings for ${st}:`,_e),[]}}),M=await Promise.all(tt),V=M.flat(),Fe=M[0]?.length||0,$e=M[1]?.length||0,re=M[2]?.length||0;Ne(V.length),ce(Fe),pe($e),Xe(re);const Je=new Date,Ke=Je.getMonth(),pt=Je.getFullYear(),Oe=Je.getDate(),Ue=V.filter(st=>{const _e=new Date(st.date);return _e.getMonth()===Ke&&_e.getFullYear()===pt}),Vt=new Set(Ue.map(st=>st.date)).size,ur=Oe>0?Math.round(Vt/Oe*100):0;Me(ur);const yn=["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Aot","Sep","Oct","Nov","Dc"],qe=[];if(V.length===0)Ze([]);else{let st=null,_e=null;if(V.forEach(He=>{const Mt=He.date.split("-");if(Mt.length===3){const It=new Date(parseInt(Mt[0],10),parseInt(Mt[1],10)-1,parseInt(Mt[2],10));(!st||It<st)&&(st=It),(!_e||It>_e)&&(_e=It)}}),st!==null&&_e!==null){const He=st,Mt=_e,It=He.getMonth(),kt=He.getFullYear(),Mr=Mt.getMonth(),u=Mt.getFullYear();let z=It,U=kt;for(;U<u||U===u&&z<=Mr;){const O=z,w=U,W=V.filter(it=>{const Tt=it.date.split("-");if(Tt.length===3){const Yt=parseInt(Tt[0],10);return parseInt(Tt[1],10)-1===O&&Yt===w}return!1}),ge=W.filter(it=>it.calendarId==="calendar3").length,ae=W.filter(it=>it.calendarId==="calendar1").length,we=W.filter(it=>it.calendarId==="calendar2").length,se=kt!==u?`${yn[O]} ${w.toString().slice(-2)}`:yn[O];qe.push({month:se,Metr:ge,Pose:ae,SAV:we}),z++,z>11&&(z=0,U++)}}Ze(qe)}const dr=V.sort((st,_e)=>_e.timestamp-st.timestamp).slice(0,5);D(dr);const $n={};V.forEach(st=>{const _e=st.name;_e&&($n[_e]=($n[_e]||0)+1)});const fr=Object.entries($n).map(([st,_e])=>({name:st,count:_e})).sort((st,_e)=>_e.count-st.count).slice(0,10);P(fr)}catch(Te){console.error("Error loading bookings data:",Te),P([])}finally{B(!1),K(!1)}})()},[]),m.useEffect(()=>{(async()=>{try{const Te=await _r();Ae(Te.length)}catch(Te){console.error("Error loading users count:",Te),Ae(0)}})()},[]);const Ce=async()=>{try{const $=await Ca();Ie($),de($.length)}catch($){console.error("Error loading notifications:",$)}};m.useEffect(()=>{Ce();const $=setInterval(Ce,3e4),Te=()=>Ce();return window.addEventListener("notificationRefresh",Te),()=>{clearInterval($),window.removeEventListener("notificationRefresh",Te)}},[]),m.useEffect(()=>{const $=Te=>{const tt=Te.target;te&&!tt.closest("[data-notifications-dropdown]")&&v(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[te]);const ke=ue.length>0?Math.max(...ue.flatMap($=>[$.Metr,$.Pose,$.SAV]),1)+2:10,be=$=>{const tt=Date.now()-$,M=Math.floor(tt/6e4),V=Math.floor(tt/36e5),Fe=Math.floor(tt/864e5);return M<1?" l'instant":M<60?`Il y a ${M} min`:V<24?`Il y a ${V} h`:Fe<7?`Il y a ${Fe} j`:new Date($).toLocaleDateString("fr-FR")},We=()=>{const $=!a;d($),window.dispatchEvent(new CustomEvent("darkModeChanged",{detail:{isDarkMode:$}}))},F=()=>{localStorage.removeItem("user"),l("/")},[oe,Ye]=m.useState(()=>localStorage.getItem("accentColor")||"#fa541c");m.useEffect(()=>{const $=()=>{const tt=localStorage.getItem("accentColor");tt&&(Ye(tt),document.documentElement.style.setProperty("--accent-color",tt))};window.addEventListener("settingsUpdated",$),window.addEventListener("storage",$);const Te=localStorage.getItem("accentColor");return Te&&(Ye(Te),document.documentElement.style.setProperty("--accent-color",Te)),()=>{window.removeEventListener("settingsUpdated",$),window.removeEventListener("storage",$)}},[]);const jt=a?"#000000":"#f5f5f5",De=a?"#1a1a1a":"#ffffff",G=a?"#ffffff":"#111827",me=a?"#9ca3af":"#6b7280",Be=a?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:jt},children:[n.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInLeft {
          from {
            opacity: 0;
            transform: translateX(-30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
      `}),n.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:p?"256px":"64px",borderRight:`1px solid ${Be}`,backgroundColor:a?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${Be}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${oe} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(lt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:G},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:me},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Cn,{Icon:Go,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:p,onClick:()=>l("/dashboard"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me}),g&&n.jsx(Cn,{Icon:qo,title:"Rservation",isActive:c.pathname==="/rservation",open:p,onClick:()=>l("/rservation"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me}),g&&n.jsx(Cn,{Icon:eo,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:p,onClick:()=>l("/jours-feries"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me}),g&&n.jsx(Cn,{Icon:to,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:p,onClick:()=>l("/utilisateurs"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me}),n.jsxs("button",{onClick:()=>H(!J),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:me,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:$=>{$.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",$.currentTarget.style.color=G},onMouseLeave:$=>{$.currentTarget.style.backgroundColor="transparent",$.currentTarget.style.color=me},children:[n.jsx(lt,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),J?n.jsx(Xo,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(Qo,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),g&&J&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Cn,{Icon:lt,title:"Metr",isActive:c.pathname==="/metre",open:p,onClick:()=>l("/metre"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me}),n.jsx(Cn,{Icon:lt,title:"Pose",isActive:c.pathname==="/pose",open:p,onClick:()=>l("/pose"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me}),n.jsx(Cn,{Icon:lt,title:"SAV",isActive:c.pathname==="/sav",open:p,onClick:()=>l("/sav"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${Be}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:me,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Cn,{Icon:a?Tn:Mn,title:a?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:We,isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me}),n.jsx(Cn,{Icon:Er,title:"Paramtres",isActive:c.pathname==="/parametres",open:p,onClick:()=>l("/parametres"),isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me})]}),n.jsx("div",{style:{borderTop:`1px solid ${Be}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Cn,{Icon:Hn,title:"Dconnexion",isActive:!1,open:p,onClick:F,isDarkMode:a,orangeColor:oe,textColor:G,textSecondary:me})}),n.jsxs("button",{onClick:()=>h(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${Be}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:me,transition:"background-color 0.2s",height:"48px"},onMouseEnter:$=>$.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",onMouseLeave:$=>$.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ko,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:jt,display:"flex",flexDirection:"column"},children:c.pathname==="/calendrier"?n.jsx(Ad,{disableAnimations:!0,isAdminView:!0}):c.pathname==="/metre"?n.jsx(Hd,{disableAnimations:!0,isAdminView:!0}):c.pathname==="/pose"?n.jsx(Vd,{disableAnimations:!0,isAdminView:!0}):c.pathname==="/sav"?n.jsx(Yd,{disableAnimations:!0,isAdminView:!0}):n.jsxs("div",{style:{padding:"24px",flex:1,display:"flex",flexDirection:"column",minHeight:0},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px",animation:"fadeInDown 0.5s ease-out"},children:[n.jsxs("div",{children:[n.jsx("h1",{style:{fontSize:"30px",fontWeight:700,color:G,marginBottom:"4px"},children:"Tableau de Bord"}),n.jsx("p",{style:{fontSize:"16px",color:me,marginTop:"4px"},children:"Bienvenue sur votre tableau de bord"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>v(!te),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:De,border:`1px solid ${Be}`,color:me,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:$=>{$.currentTarget.style.color=G,$.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb"},onMouseLeave:$=>{$.currentTarget.style.color=me,$.currentTarget.style.backgroundColor=De},children:[n.jsx(Zr,{style:{width:"20px",height:"20px"}}),k>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:k>99?"99+":k})]}),te&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:De,border:`1px solid ${Be}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${Be}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:G},children:"Notifications"}),k>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[k," nouvelle",k>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:he.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:me},children:"Aucune notification"}):he.slice(0,10).map($=>{const Te=ba($.timestamp),M=(()=>{if($.type==="booking"){const V=$.data,Fe=hn(V.calendarId);return{subtitle:`${V.name} - ${Fe}`,details:`${V.date} ${V.time&&V.time!=="21h00"?` ${V.time}`:""}`,onClick:()=>{v(!1),l("/rservation")}}}else if($.type==="holiday"){const V=$.data;return{subtitle:`${hn(V.calendarId)} - ${(re=>new Date(re+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(V.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{v(!1),l("/jours-feries")}}}else if($.type==="user"){const V=$.data,Fe=$e=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[$e]||$e;return{subtitle:`${V.name} (${Fe(V.role)})`,details:V.email,onClick:()=>{v(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:M.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${Be}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:V=>{V.currentTarget.style.backgroundColor=a?"#2a2a2a":"#f9fafb"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:G,marginBottom:"4px"},children:$.title}),n.jsx("div",{style:{fontSize:"13px",color:me,marginBottom:"4px"},children:M.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:me},children:M.details})]}),n.jsx("div",{style:{fontSize:"11px",color:me,whiteSpace:"nowrap"},children:Te})]})},$.id)})}),he.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${Be}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{v(!1),he[0]?.type==="booking"?l("/rservation"):he[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:oe,cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:We,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${Be}`,backgroundColor:De,color:me,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:$=>{$.currentTarget.style.color=G,$.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb"},onMouseLeave:$=>{$.currentTarget.style.color=me,$.currentTarget.style.backgroundColor=De},children:a?n.jsx(Tn,{style:{width:"16px",height:"16px"}}):n.jsx(Mn,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:F,style:{padding:"8px",borderRadius:"8px",backgroundColor:De,border:`1px solid ${Be}`,color:me,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:$=>{$.currentTarget.style.color=G,$.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb"},onMouseLeave:$=>{$.currentTarget.style.color=me,$.currentTarget.style.backgroundColor=De},children:n.jsx(Hn,{style:{width:"20px",height:"20px"}})})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"24px",marginBottom:"32px",animation:"fadeInUp 0.6s ease-out"},children:[n.jsx(il,{title:"Taux de rservation",value:`${Le} %`,change:"Jours avec rservations ce mois",Icon:Gm,iconBg:a?`${oe}30`:`${oe}20`,iconColor:oe,cardBg:De,textColor:G,textSecondary:me,borderColor:Be}),n.jsx(il,{title:"Utilisateurs",value:ne.toLocaleString("fr-FR"),change:"Comptes enregistrs",Icon:to,iconBg:a?"#10b98130":"#10b98120",iconColor:"#10b981",cardBg:De,textColor:G,textSecondary:me,borderColor:Be}),n.jsx(il,{title:"Total Rservations",value:le.toLocaleString("fr-FR"),change:`Pose: ${Ee} | Metr: ${ve}  | SAV: ${ie}`,Icon:eo,iconBg:a?"#8b5cf630":"#8b5cf620",iconColor:"#8b5cf6",cardBg:De,textColor:G,textSecondary:me,borderColor:Be}),n.jsx(il,{title:"Rservations SAV",value:ie.toLocaleString("fr-FR"),change:"Interventions SAV",Icon:lt,iconBg:a?`${oe}30`:`${oe}20`,iconColor:oe,cardBg:De,textColor:G,textSecondary:me,borderColor:Be})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"auto auto",gap:"32px",animation:"fadeInUp 0.8s ease-out",flex:1,minHeight:0},children:[n.jsxs("div",{style:{backgroundColor:De,borderRadius:"16px",padding:"24px",border:`1px solid ${Be}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 1s ease-out",transition:"all 0.3s ease",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:$=>{$.currentTarget.style.transform="translateY(-4px)",$.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",$.currentTarget.style.borderColor=Be==="#333333"?"#444444":"#d1d5db"},onMouseLeave:$=>{$.currentTarget.style.transform="translateY(0)",$.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",$.currentTarget.style.borderColor=Be},children:[n.jsx("h3",{style:{fontSize:"20px",fontWeight:600,color:G,marginBottom:"20px"},children:"volution des Rservations"}),n.jsxs("div",{style:{display:"flex",gap:"24px",marginBottom:"20px",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#3b82f6",boxShadow:"0 0 8px rgba(59, 130, 246, 0.5)"}}),n.jsx("span",{style:{fontSize:"14px",color:me},children:"Metr"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:oe,boxShadow:`0 0 8px ${oe}50`}}),n.jsx("span",{style:{fontSize:"14px",color:me},children:"Pose"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#10b981",boxShadow:"0 0 8px rgba(16, 185, 129, 0.5)"}}),n.jsx("span",{style:{fontSize:"14px",color:me},children:"SAV"})]})]}),n.jsx("div",{style:{position:"relative",width:"100%",flex:1,minHeight:"400px"},children:ue.length===0?n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"400px",color:me,fontSize:"16px",flexDirection:"column",gap:"12px"},children:[n.jsx(lt,{style:{width:"48px",height:"48px",opacity:.5}}),n.jsx("span",{children:"Aucune rservation pour afficher le graphique"})]}):n.jsxs("svg",{width:"100%",height:"100%",style:{overflow:"visible"},viewBox:"0 0 900 400",preserveAspectRatio:"xMidYMid meet",children:[[0,1,2,3,4,5].map($=>{const Te=$/5*380+10;return n.jsx("line",{x1:"60",y1:Te,x2:"860",y2:Te,stroke:Be,strokeWidth:"1",strokeDasharray:"4 4",opacity:"0.3",style:{animation:x?`fadeIn 0.5s ease-out ${$*.1}s both`:"none"}},`grid-${$}`)}),[0,1,2,3,4,5].map($=>{const Te=Math.round(ke/5*(5-$)),tt=$/5*380+10;return n.jsx("text",{x:"55",y:tt+4,textAnchor:"end",fontSize:"12",fill:me,style:{animation:x?`fadeIn 0.5s ease-out ${$*.1}s both`:"none"},children:Te},`y-label-${$}`)}),n.jsxs("g",{transform:"translate(60, 10)",children:[ue.length>0&&ue.map(($,Te)=>{const M=ue.length>1?ue.length-1:1,V=Te/M*800;return n.jsx("g",{children:n.jsx("text",{x:V,y:"395",textAnchor:"middle",fontSize:"13",fill:me,style:{animation:x?`fadeInUp 0.5s ease-out ${.6+Te*.1}s both`:"none"},children:$.month})},`month-${Te}`)}),ue.length>0&&n.jsx("path",{d:(()=>{const Te=ue.length>1?ue.length-1:1;return ue.map((M,V)=>{const Fe=V/Te*800,$e=380-M.Metr/ke*380;let re=0;(M.Metr===M.Pose||M.Metr===M.SAV)&&(re=-8);const Je=Math.max(5,$e+re);return`${V===0?"M":"L"} ${Fe} ${Je}`}).join(" ")||"M 0 380"})(),fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:x?"1000":"0",strokeDashoffset:x?"0":"1000",transition:"stroke-dashoffset 2s ease-out",filter:"drop-shadow(0 0 4px rgba(59, 130, 246, 0.5))"}}),ue.length>0&&n.jsx("path",{d:(()=>{const Te=ue.length>1?ue.length-1:1;return ue.map((M,V)=>{const Fe=V/Te*800,$e=380-M.Pose/ke*380;return`${V===0?"M":"L"} ${Fe} ${$e}`}).join(" ")||"M 0 380"})(),fill:"none",stroke:oe,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:x?"1000":"0",strokeDashoffset:x?"0":"1000",transition:"stroke-dashoffset 2s ease-out 0.3s",filter:`drop-shadow(0 0 4px ${oe}50)`}}),ue.length>0&&n.jsx("path",{d:(()=>{const Te=ue.length>1?ue.length-1:1;return ue.map((M,V)=>{const Fe=V/Te*800,$e=380-M.SAV/ke*380;let re=0;(M.SAV===M.Pose||M.SAV===M.Metr)&&(re=8);const Je=Math.min(378,$e+re);return`${V===0?"M":"L"} ${Fe} ${Je}`}).join(" ")||"M 0 380"})(),fill:"none",stroke:"#10b981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{strokeDasharray:x?"1000":"0",strokeDashoffset:x?"0":"1000",transition:"stroke-dashoffset 2s ease-out 0.6s",filter:"drop-shadow(0 0 4px rgba(16, 185, 129, 0.5))"}}),ue.length>0&&ue.map(($,Te)=>{const M=ue.length>1?ue.length-1:1,V=Te/M*800,Fe=.8+Te*.1,$e=A===Te,re=380-$.Metr/ke*380,Je=380-$.Pose/ke*380,Ke=380-$.SAV/ke*380,pt=$.Metr===$.Pose||$.Metr===$.SAV?-8:0,Oe=$.SAV===$.Pose||$.SAV===$.Metr?8:0;return n.jsxs("g",{onMouseEnter:()=>ee(Te),onMouseLeave:()=>ee(null),style:{cursor:"pointer"},children:[n.jsx("rect",{x:V-30,y:0,width:60,height:380,fill:"transparent"}),$e&&n.jsx("line",{x1:V,y1:10,x2:V,y2:380,stroke:a?"#ffffff20":"#00000015",strokeWidth:"2",strokeDasharray:"4 4"}),n.jsx("circle",{cx:V,cy:Math.max(5,re+pt),r:$e?8:6,fill:"#3b82f6",stroke:$e?"#ffffff":"none",strokeWidth:"2",style:{opacity:x?1:0,transform:x?"scale(1)":"scale(0)",transformOrigin:"center",transition:`all 0.3s ease-out ${Fe}s`,filter:$e?"drop-shadow(0 0 10px rgba(59, 130, 246, 1))":"drop-shadow(0 0 6px rgba(59, 130, 246, 0.8))"}}),n.jsx("circle",{cx:V,cy:Je,r:$e?8:6,fill:oe,stroke:$e?"#ffffff":"none",strokeWidth:"2",style:{opacity:x?1:0,transform:x?"scale(1)":"scale(0)",transformOrigin:"center",transition:`all 0.3s ease-out ${Fe+.1}s`,filter:$e?`drop-shadow(0 0 10px ${oe})`:`drop-shadow(0 0 6px ${oe}80)`}}),n.jsx("circle",{cx:V,cy:Math.min(378,Ke+Oe),r:$e?8:6,fill:"#10b981",stroke:$e?"#ffffff":"none",strokeWidth:"2",style:{opacity:x?1:0,transform:x?"scale(1)":"scale(0)",transformOrigin:"center",transition:`all 0.3s ease-out ${Fe+.2}s`,filter:$e?"drop-shadow(0 0 10px rgba(16, 185, 129, 1))":"drop-shadow(0 0 6px rgba(16, 185, 129, 0.8))"}}),$e&&n.jsxs("g",{children:[n.jsx("rect",{x:V-70,y:Math.min(re,Je,Ke)-90,width:140,height:80,rx:"8",fill:a?"#1a1a1a":"#ffffff",stroke:a?"#333333":"#e5e7eb",strokeWidth:"1",style:{filter:"drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15))"}}),n.jsx("text",{x:V,y:Math.min(re,Je,Ke)-68,textAnchor:"middle",fontSize:"12",fontWeight:"600",fill:a?"#ffffff":"#111827",children:$.month}),n.jsxs("text",{x:V-55,y:Math.min(re,Je,Ke)-48,fontSize:"11",fill:"#3b82f6",fontWeight:"500",children:[" Metr: ",$.Metr]}),n.jsxs("text",{x:V-55,y:Math.min(re,Je,Ke)-32,fontSize:"11",fill:oe,fontWeight:"500",children:[" Pose: ",$.Pose]}),n.jsxs("text",{x:V-55,y:Math.min(re,Je,Ke)-16,fontSize:"11",fill:"#10b981",fontWeight:"500",children:[" SAV: ",$.SAV]})]})]},`points-${Te}`)})]}),n.jsx("line",{x1:"60",y1:"10",x2:"60",y2:"390",stroke:Be,strokeWidth:"2",style:{animation:x?"fadeIn 0.5s ease-out":"none"}}),n.jsx("line",{x1:"60",y1:"390",x2:"860",y2:"390",stroke:Be,strokeWidth:"2",style:{animation:x?"fadeIn 0.5s ease-out 0.3s both":"none"}})]})})]}),n.jsxs("div",{style:{backgroundColor:De,borderRadius:"16px",padding:"24px",border:`1px solid ${Be}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInRight 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column"},onMouseEnter:$=>{$.currentTarget.style.transform="translateY(-4px)",$.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",$.currentTarget.style.borderColor=Be==="#333333"?"#444444":"#d1d5db"},onMouseLeave:$=>{$.currentTarget.style.transform="translateY(0)",$.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",$.currentTarget.style.borderColor=Be},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[n.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:G},children:"Top 10 Clients"}),n.jsx("button",{style:{fontSize:"12px",color:oe,fontWeight:500,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:$=>$.currentTarget.style.color="#ff6b35",onMouseLeave:$=>$.currentTarget.style.color=oe,children:"Voir tout"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",flex:"1"},children:L?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:me},children:"Chargement..."}):b.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:me},children:"Aucun client"}):b.map(($,Te)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px"},children:[n.jsx("span",{style:{fontSize:"14px",color:me},children:$.name}),n.jsxs("span",{style:{fontSize:"14px",fontWeight:500,color:G},children:[$.count," ",$.count===1?"rservation":"rservations"]})]},Te))})]}),n.jsxs("div",{style:{backgroundColor:De,borderRadius:"16px",padding:"24px",border:`1px solid ${Be}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:"fadeInLeft 0.7s ease-out",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",flex:1,minHeight:0},onMouseEnter:$=>{$.currentTarget.style.transform="translateY(-4px)",$.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",$.currentTarget.style.borderColor=Be==="#333333"?"#444444":"#d1d5db"},onMouseLeave:$=>{$.currentTarget.style.transform="translateY(0)",$.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",$.currentTarget.style.borderColor=Be},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[n.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:G},children:"Rservation Rcente"}),n.jsx("button",{onClick:()=>l("/rservation"),style:{fontSize:"12px",color:oe,fontWeight:500,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"color 0.2s"},onMouseEnter:$=>$.currentTarget.style.color="#ff6b35",onMouseLeave:$=>$.currentTarget.style.color=oe,children:"Voir tout"})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:N?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:me},children:"Chargement..."}):_.length===0?n.jsx("div",{style:{padding:"20px",textAlign:"center",color:me},children:"Aucune rservation rcente"}):_.map($=>{const Te=$.calendarId||"calendar1",tt=Ud[Te]||"Pose",M=be($.timestamp),V={Pose:{bg:a?`${oe}30`:`${oe}20`,icon:oe},SAV:{bg:a?"#10b98130":"#10b98120",icon:"#10b981"},Metr:{bg:a?"#3b82f630":"#3b82f620",icon:"#3b82f6"}},Fe=V[tt]||V.Pose;return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",borderRadius:"8px",backgroundColor:a?"#0a0a0a":"#f9fafb",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:$e=>$e.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f0f0f0",onMouseLeave:$e=>$e.currentTarget.style.backgroundColor=a?"#0a0a0a":"#f9fafb",onClick:()=>l("/rservation"),children:[n.jsx("div",{style:{padding:"6px",borderRadius:"6px",backgroundColor:Fe.bg,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(lt,{style:{width:"14px",height:"14px",color:Fe.icon}})}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsxs("p",{style:{fontSize:"13px",fontWeight:500,color:G,marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[$.name," - ",tt]}),n.jsxs("p",{style:{fontSize:"11px",color:me,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[$.date," ",$.time&&$.time!=="21h00"?` ${$.time}`:""]})]}),n.jsx("div",{style:{fontSize:"11px",color:me,whiteSpace:"nowrap"},children:M})]},$.id)})})]})]})]})})]})}const Cn=({Icon:l,title:c,isActive:a,open:d,onClick:p,isDarkMode:h,orangeColor:g,textColor:S,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${g}30`:`${g}15`:"transparent",color:a?g:x,borderLeft:a?`3px solid ${g}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:j=>{a||(j.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=S)},onMouseLeave:j=>{a||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),d&&n.jsx("span",{children:c})]}),il=({title:l,value:c,change:a,Icon:d,iconBg:p,iconColor:h,cardBg:g,textColor:S,textSecondary:x,borderColor:j})=>n.jsxs("div",{style:{padding:"24px",borderRadius:"16px",border:`1px solid ${j}`,backgroundColor:g,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-4px) scale(1.02)",_.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.15)",_.currentTarget.style.borderColor=j==="#333333"?"#444444":"#d1d5db"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0) scale(1)",_.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.1)",_.currentTarget.style.borderColor=j},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[n.jsx("div",{style:{padding:"8px",backgroundColor:p,borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(d,{style:{width:"20px",height:"20px",color:h}})}),n.jsx(lg,{style:{width:"16px",height:"16px",color:"#10b981"}})]}),n.jsx("h3",{style:{fontSize:"14px",fontWeight:500,color:x,marginBottom:"4px"},children:l}),n.jsx("p",{style:{fontSize:"24px",fontWeight:700,color:S,marginBottom:"4px"},children:c}),n.jsx("p",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"},children:a})]});function bg(){const[l,c]=m.useState(!1),[a,d]=m.useState(!0);return m.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const h=JSON.parse(p);c(h.role==="admin")}catch{c(!1)}d(!1)},[]),a?n.jsx("div",{children:"Loading..."}):l?n.jsx(Zo,{}):n.jsx(Ad,{})}function Ng(){const[l,c]=m.useState(!1),[a,d]=m.useState(!0);return m.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const h=JSON.parse(p);c(h.role==="admin")}catch{c(!1)}d(!1)},[]),a?n.jsx("div",{children:"Loading..."}):l?n.jsx(Zo,{}):n.jsx(Hd,{})}function Eg(){const[l,c]=m.useState(!1),[a,d]=m.useState(!0);return m.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const h=JSON.parse(p);c(h.role==="admin")}catch{c(!1)}d(!1)},[]),a?n.jsx("div",{children:"Loading..."}):l?n.jsx(Zo,{}):n.jsx(Vd,{})}function _g(){const[l,c]=m.useState(!1),[a,d]=m.useState(!0);return m.useEffect(()=>{const p=localStorage.getItem("user");if(p)try{const h=JSON.parse(p);c(h.role==="admin")}catch{c(!1)}d(!1)},[]),a?n.jsx("div",{children:"Loading..."}):l?n.jsx(Zo,{}):n.jsx(Yd,{})}const Mg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function Tg(){const l=sn(),[c,a]=m.useState({email:"",password:""}),[d,p]=m.useState({email:"",password:""}),[h,g]=m.useState(!1),[S,x]=m.useState(!1),j=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),_=N=>{const{name:B,value:b}=N.target;a(P=>({...P,[B]:b})),d[B]&&p(P=>({...P,[B]:""}))},D=async N=>{N.preventDefault();const B={email:"",password:""};let b=!0;if(c.email?j(c.email)||(B.email="Please enter a valid email address",b=!1):(B.email="Email is required",b=!1),c.password||(B.password="Password is required",b=!1),!b){p(B);return}g(!0);try{const P=Mg?.VITE_API_BASE_URL?.replace(/\/$/,"")??"/api",L=await fetch(`${P}/users/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})}),K=await L.json();L.ok?(localStorage.setItem("user",JSON.stringify({id:K.id,name:K.name,email:K.email,phone:K.phone,role:K.role,isAuthenticated:!0})),l("/")):(p({email:"",password:K.detail||"Email ou mot de passe incorrect. Veuillez ressayer."}),g(!1))}catch(P){console.error("Login error:",P),p({email:"",password:"Une erreur s'est produite. Veuillez ressayer."}),g(!1)}};return n.jsxs("div",{className:"login-page",children:[n.jsxs("div",{className:"login-background",children:[n.jsx("div",{className:"gradient-orb orb-1"}),n.jsx("div",{className:"gradient-orb orb-2"}),n.jsx("div",{className:"gradient-orb orb-3"})]}),n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("div",{className:"logo-wrapper",children:n.jsx("div",{className:"logo-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),n.jsx("h1",{className:"login-title",children:"Welcome Back"}),n.jsx("p",{className:"login-subtitle",children:"Sign in to your account to continue"})]}),n.jsxs("form",{className:"login-form",onSubmit:D,children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M22 6L12 13L2 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:"email",id:"email",name:"email",className:`form-input ${d.email?"input-error":""}`,placeholder:"Enter your email",value:c.email,onChange:_,autoComplete:"email"})]}),d.email&&n.jsx("span",{className:"error-message",children:d.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("div",{className:"input-icon",children:n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsx("input",{type:S?"text":"password",id:"password",name:"password",className:`form-input ${d.password?"input-error":""}`,placeholder:"Enter your password",value:c.password,onChange:_,autoComplete:"current-password"}),n.jsx("button",{type:"button",className:"password-toggle",onClick:()=>x(!S),"aria-label":S?"Hide password":"Show password",children:S?n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06M9.9 4.24C10.5883 4.0789 11.2931 3.99836 12 4C19 4 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1751 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.5719 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2218 9.18488 10.8538C9.34884 10.4859 9.58525 10.1546 9.88 9.88",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M1 1L23 23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),d.password&&n.jsx("span",{className:"error-message",children:d.password})]}),n.jsxs("div",{className:"form-options",children:[n.jsxs("label",{className:"checkbox-wrapper",children:[n.jsx("input",{type:"checkbox",className:"checkbox-input"}),n.jsx("span",{className:"checkbox-label",children:"Remember me"})]}),n.jsx("a",{href:"#",className:"forgot-password",children:"Forgot password?"})]}),n.jsx("button",{type:"submit",className:`login-button ${h?"loading":""}`,disabled:h,children:h?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Signing in..."]}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx("svg",{className:"button-arrow",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}),n.jsx("div",{className:"login-footer",children:n.jsxs("p",{children:["Don't have an account?"," ",n.jsx("a",{href:"#",className:"signup-link",children:"Sign up"})]})})]})})]})}const Lg=({isOpen:l,onClose:c,onSubmit:a,booking:d,isDarkMode:p=!0,users:h=[]})=>{const[g,S]=m.useState({calendar_id:Qe.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),[x,j]=m.useState({});m.useEffect(()=>{S(d?{calendar_id:d.calendarId||Qe.calendar1,booking_date:d.date||"",booking_time:d.time&&d.time!=="21h00"?d.time:"",client_name:d.name||"",client_phone:d.phone||"",designer_name:d.designer||"",message:d.message||""}:{calendar_id:Qe.calendar1,booking_date:"",booking_time:"",client_name:"",client_phone:"",designer_name:"",message:""}),j({})},[d,l]);const _=L=>{const{name:K,value:J}=L.target;if(K==="client_phone"){const H=J.replace(/\D/g,"");S(le=>({...le,[K]:H}))}else S(H=>({...H,[K]:J}));x[K]&&j(H=>({...H,[K]:void 0}))},D=()=>{const L={};return g.calendar_id.trim()||(L.calendar_id="Le calendrier est requis"),g.booking_date.trim()||(L.booking_date="La date est requise"),[Qe.calendar2,Qe.calendar3].includes(g.calendar_id)&&!g.booking_time.trim()&&(L.booking_time="Le crneau horaire est requis pour ce calendrier"),g.client_name.trim()||(L.client_name="Le nom du client est requis"),g.client_phone.trim()?g.client_phone.length<8&&(L.client_phone="Le numro de tlphone doit contenir au moins 8 chiffres"):L.client_phone="Le tlphone est requis",g.designer_name.trim()||(L.designer_name="Le nom du concepteur est requis"),j(L),Object.keys(L).length===0},N=L=>{if(L.preventDefault(),D()){const K={...g,booking_time:g.booking_time||"21h00"};a(K)}},B=()=>{const L=g.calendar_id;return L===Qe.calendar2?["9h00","10h30","14h00"]:L===Qe.calendar3?["8-10","10-12","14-16","16-18"]:[]};if(!l)return null;const b=B(),P=b.length>0;return n.jsx("div",{className:`admin-booking-modal-overlay ${p?"dark-mode":"light-mode"}`,onClick:c,children:n.jsxs("div",{className:"admin-booking-modal",onClick:L=>L.stopPropagation(),children:[n.jsxs("div",{className:"admin-booking-modal-header",children:[n.jsx("h2",{children:d?"Modifier la rservation":"Nouvelle rservation"}),n.jsx("button",{className:"close-button",onClick:c,children:""})]}),n.jsxs("form",{onSubmit:N,className:"admin-booking-modal-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"calendar_id",children:"Calendrier *"}),n.jsxs("select",{id:"calendar_id",name:"calendar_id",value:g.calendar_id,onChange:_,className:x.calendar_id?"error":"",children:[n.jsx("option",{value:Qe.calendar1,children:"Pose"}),n.jsx("option",{value:Qe.calendar2,children:"SAV"}),n.jsx("option",{value:Qe.calendar3,children:"Metr"})]}),x.calendar_id&&n.jsx("span",{className:"error-message",children:x.calendar_id})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_date",children:"Date *"}),n.jsx("input",{type:"date",id:"booking_date",name:"booking_date",value:g.booking_date,onChange:_,className:x.booking_date?"error":""}),x.booking_date&&n.jsx("span",{className:"error-message",children:x.booking_date})]}),P&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"booking_time",children:"Crneau horaire *"}),n.jsxs("select",{id:"booking_time",name:"booking_time",value:g.booking_time,onChange:_,className:x.booking_time?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un crneau"}),b.map(L=>n.jsx("option",{value:L,children:L},L))]}),x.booking_time&&n.jsx("span",{className:"error-message",children:x.booking_time})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_name",children:"Nom du client *"}),n.jsx("input",{type:"text",id:"client_name",name:"client_name",value:g.client_name,onChange:_,className:x.client_name?"error":""}),x.client_name&&n.jsx("span",{className:"error-message",children:x.client_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"client_phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"client_phone",name:"client_phone",value:g.client_phone,onChange:_,className:x.client_phone?"error":"",placeholder:"Ex: 0612345678"}),x.client_phone&&n.jsx("span",{className:"error-message",children:x.client_phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"designer_name",children:"Nom du concepteur *"}),h.length>0?n.jsxs("select",{id:"designer_name",name:"designer_name",value:g.designer_name,onChange:_,className:x.designer_name?"error":"",children:[n.jsx("option",{value:"",children:"Slectionner un concepteur"}),h.filter(L=>L.role!=="admin").map(L=>n.jsxs("option",{value:L.name,children:[L.name," (Technicien)"]},L.id))]}):n.jsx("input",{type:"text",id:"designer_name",name:"designer_name",value:g.designer_name,onChange:_,className:x.designer_name?"error":""}),x.designer_name&&n.jsx("span",{className:"error-message",children:x.designer_name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"message",children:"Message / Commentaire"}),n.jsx("textarea",{id:"message",name:"message",value:g.message,onChange:_,rows:4})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:c,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:d?"Modifier":"Crer"})]})]})]})})};function $g(){const l=sn(),c=Gt(),[a,d]=m.useState([]),[p,h]=m.useState([]),[g,S]=m.useState(!0),[x,j]=m.useState("all"),[_,D]=m.useState(""),[N,B]=m.useState("all"),[b,P]=m.useState(()=>{const M=localStorage.getItem("darkMode");return M?JSON.parse(M):!0}),[L,K]=m.useState(!0),[J,H]=m.useState(!1),[le,Ne]=m.useState(null),[ne,Ae]=m.useState(!0),[ie,pe]=m.useState(!1),[Ee,ce]=m.useState(0),[ve,Xe]=m.useState([]),[ue,Ze]=m.useState(null),[Le,Me]=m.useState(!1),[A,ee]=m.useState(null),[te,v]=m.useState([]);m.useEffect(()=>{const M=localStorage.getItem("user");if(!M){l("/login");return}const V=JSON.parse(M);Ze(V),Me(V.role==="admin"),de(),V.role==="admin"&&he()},[l]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(b)),document.documentElement.setAttribute("data-theme",b?"dark":"light")},[b]),m.useEffect(()=>{Ce()},[a,x,_,N,ue,Le]);const k=async()=>{try{const M=await Ca();Xe(M),ce(M.length)}catch(M){console.error("Error loading notifications:",M)}};m.useEffect(()=>{k();const M=setInterval(k,3e4),V=()=>k();return window.addEventListener("notificationRefresh",V),()=>{clearInterval(M),window.removeEventListener("notificationRefresh",V)}},[a]),m.useEffect(()=>{const M=V=>{const Fe=V.target;ie&&!Fe.closest("[data-notifications-dropdown]")&&pe(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[ie]);const de=async()=>{S(!0);try{const V=Object.values(Qe).map(re=>lo(re).then(Je=>({calendarId:re,bookings:Je}))),Fe=await Promise.all(V),$e=[];Fe.forEach(({calendarId:re,bookings:Je})=>{Je.forEach(Ke=>{$e.push({...Ke,calendarId:re})})}),$e.sort((re,Je)=>{const Ke=Je.date.localeCompare(re.date);return Ke!==0?Ke:(Je.time||"").localeCompare(re.time||"")}),d($e)}catch(M){console.error("Error loading bookings:",M),alert("Erreur lors du chargement des rservations")}finally{S(!1)}},he=async()=>{try{const M=await _r();v(M)}catch(M){console.error("Error loading users:",M)}},Ie=M=>{if(!ue)return!1;if(Le)return!0;const V=ue.name?.toLowerCase().trim()||"",Fe=ue.email?.toLowerCase().trim()||"",$e=ue.phone?.trim()||"",re=V&&M.name?.toLowerCase().trim()===V,Je=$e&&M.phone?.trim()===$e,Ke=V&&M.designer?.toLowerCase().trim()===V,pt=Fe&&(M.name?.toLowerCase().includes(Fe)||M.designer?.toLowerCase().includes(Fe));return re||Je||Ke||pt||!1},Ce=()=>{let M=[...a];if(!Le&&ue&&(M=M.filter(Ke=>Ie(Ke))),x!=="all"&&(M=M.filter(Ke=>Ke.calendarId===x)),_){const Ke=_.toLowerCase();M=M.filter(pt=>pt.name.toLowerCase().includes(Ke)||pt.phone.includes(Ke)||pt.designer.toLowerCase().includes(Ke))}const V=new Date;V.setHours(0,0,0,0);const Fe=V.getFullYear(),$e=String(V.getMonth()+1).padStart(2,"0"),re=String(V.getDate()).padStart(2,"0"),Je=`${Fe}-${$e}-${re}`;N==="today"?M=M.filter(Ke=>Ke.date===Je):N==="future"?M=M.filter(Ke=>{const pt=new Date(Ke.date+"T00:00:00");return pt.setHours(0,0,0,0),pt>=V}):N==="past"&&(M=M.filter(Ke=>{const pt=new Date(Ke.date+"T00:00:00");return pt.setHours(0,0,0,0),pt<V})),h(M)},ke=M=>new Date(M+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),be=M=>new Date(M).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),We=M=>({admin:"Administrateur",technicien:"Technicien",user:"Utilisateur"})[M]||M,F=()=>{P(!b)},oe=()=>{localStorage.removeItem("user"),l("/")},[Ye,jt]=m.useState(()=>localStorage.getItem("accentColor")||"#fa541c");m.useEffect(()=>{const M=()=>{const Fe=localStorage.getItem("accentColor");Fe&&(jt(Fe),document.documentElement.style.setProperty("--accent-color",Fe))};window.addEventListener("settingsUpdated",M),window.addEventListener("storage",M);const V=localStorage.getItem("accentColor");return V&&(jt(V),document.documentElement.style.setProperty("--accent-color",V)),()=>{window.removeEventListener("settingsUpdated",M),window.removeEventListener("storage",M)}},[]);const De=b?"#000000":"#f5f5f5",G=b?"#ffffff":"#111827",me=b?"#9ca3af":"#6b7280",Be=b?"#333333":"#e5e7eb",$=M=>{if(!Le&&!Ie(M)){alert("Vous ne pouvez modifier que vos propres rservations.");return}Ne(M),H(!0)},Te=async M=>{if(!Le&&!Ie(M)){alert("Vous ne pouvez supprimer que vos propres rservations.");return}if(window.confirm(`tes-vous sr de vouloir supprimer la rservation de ${M.name} pour le ${ke(M.date)} ?`))try{await Wo(M.id),alert("Rservation supprime avec succs"),await de(),k()}catch(V){console.error("Error deleting booking:",V),alert("Erreur lors de la suppression de la rservation")}},tt=async M=>{try{if(le)await Wd(le.id,M),alert("Rservation modifie avec succs");else{const V={name:M.client_name,phone:M.client_phone,designer:M.designer_name,message:M.message,date:M.booking_date,selectedDate:new Date(M.booking_date),timeSlot:M.booking_time||void 0};await gl(V,M.calendar_id),alert("Rservation cre avec succs")}H(!1),Ne(null),await de(),k()}catch(V){console.error("Error saving booking:",V);const Fe=V?.message||"Erreur lors de l'enregistrement de la rservation";alert(` ${Fe}`)}};return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:De},children:[n.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:L?"256px":"64px",borderRight:`1px solid ${Be}`,backgroundColor:b?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${Be}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Ye} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(lt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),L&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:G},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:me},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(bn,{Icon:Go,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:L,onClick:()=>l("/dashboard"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me}),n.jsx(bn,{Icon:qo,title:"Rservation",isActive:c.pathname==="/rservation",open:L,onClick:()=>l("/rservation"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me}),n.jsx(bn,{Icon:eo,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:L,onClick:()=>l("/jours-feries"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me}),n.jsx(bn,{Icon:to,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:L,onClick:()=>l("/utilisateurs"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me}),n.jsxs("button",{onClick:()=>Ae(!ne),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:me,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:M=>{M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb",M.currentTarget.style.color=G},onMouseLeave:M=>{M.currentTarget.style.backgroundColor="transparent",M.currentTarget.style.color=me},children:[n.jsx(lt,{style:{width:"20px",height:"20px",flexShrink:0}}),L&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),ne?n.jsx(Xo,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(Qo,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),ne&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(bn,{Icon:lt,title:"Metr",isActive:c.pathname==="/metre",open:L,onClick:()=>l("/metre"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me}),n.jsx(bn,{Icon:lt,title:"Pose",isActive:c.pathname==="/pose",open:L,onClick:()=>l("/pose"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me}),n.jsx(bn,{Icon:lt,title:"SAV",isActive:c.pathname==="/sav",open:L,onClick:()=>l("/sav"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me})]})]}),L&&n.jsxs("div",{style:{borderTop:`1px solid ${Be}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:me,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(bn,{Icon:b?Tn:Mn,title:b?"Mode clair":"Mode sombre",isActive:!1,open:L,onClick:F,isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me}),n.jsx(bn,{Icon:Er,title:"Paramtres",isActive:c.pathname==="/parametres",open:L,onClick:()=>l("/parametres"),isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me})]}),n.jsx("div",{style:{borderTop:`1px solid ${Be}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(bn,{Icon:Hn,title:"Dconnexion",isActive:!1,open:L,onClick:oe,isDarkMode:b,orangeColor:Ye,textColor:G,textSecondary:me})}),n.jsxs("button",{onClick:()=>K(!L),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${Be}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:me,transition:"background-color 0.2s",height:"48px"},onMouseEnter:M=>M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb",onMouseLeave:M=>M.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ko,{style:{width:"16px",height:"16px",transform:L?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),L&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:De},children:n.jsxs("div",{className:`admin-page ${b?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:Le?"Administration - Rservations":"Mes Rservations"}),n.jsx("p",{children:Le?"Gestion des rservations":"Vos rservations personnelles"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>pe(!ie),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:b?"#1a1a1a":"#ffffff",border:`1px solid ${b?"#333333":"#e5e7eb"}`,color:b?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:M=>{M.currentTarget.style.color=b?"#ffffff":"#111827",M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb"},onMouseLeave:M=>{M.currentTarget.style.color=b?"#9ca3af":"#6b7280",M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#ffffff"},children:[n.jsx(Zr,{style:{width:"20px",height:"20px"}}),Ee>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:Ee>99?"99+":Ee})]}),ie&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:b?"#1a1a1a":"#ffffff",border:`1px solid ${b?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${b?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:b?"#ffffff":"#111827"},children:"Notifications"}),Ee>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[Ee," nouvelle",Ee>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:ve.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:b?"#9ca3af":"#6b7280"},children:"Aucune notification"}):ve.slice(0,10).map(M=>{const V=ba(M.timestamp),$e=(()=>{if(M.type==="booking"){const re=M.data,Je=hn(re.calendarId);return{subtitle:`${re.name} - ${Je}`,details:`${ke(re.date)} ${re.time&&re.time!=="21h00"?` ${re.time}`:""}`,onClick:()=>{pe(!1),l("/rservation")}}}else if(M.type==="holiday"){const re=M.data;return{subtitle:`${hn(re.calendarId)} - ${ke(re.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{pe(!1),l("/jours-feries")}}}else if(M.type==="user"){const re=M.data;return{subtitle:`${re.name} (${We(re.role)})`,details:re.email,onClick:()=>{pe(!1),l("/utilisateurs")}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:$e.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${b?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:re=>{re.currentTarget.style.backgroundColor=b?"#2a2a2a":"#f9fafb"},onMouseLeave:re=>{re.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:b?"#ffffff":"#111827",marginBottom:"4px"},children:M.title}),n.jsx("div",{style:{fontSize:"13px",color:b?"#9ca3af":"#6b7280",marginBottom:"4px"},children:$e.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:b?"#6b7280":"#9ca3af"},children:$e.details})]}),n.jsx("div",{style:{fontSize:"11px",color:b?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:V})]})},M.id)})}),ve.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${b?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{pe(!1),ve[0]?.type==="booking"?l("/rservation"):ve[0]?.type==="holiday"?l("/jours-feries"):l("/utilisateurs")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:F,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${b?"#333333":"#e5e7eb"}`,backgroundColor:b?"#1a1a1a":"#ffffff",color:b?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:M=>{M.currentTarget.style.color=b?"#ffffff":"#111827",M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb"},onMouseLeave:M=>{M.currentTarget.style.color=b?"#9ca3af":"#6b7280",M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#ffffff"},children:b?n.jsx(Tn,{style:{width:"16px",height:"16px"}}):n.jsx(Mn,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:oe,style:{padding:"8px",borderRadius:"8px",backgroundColor:b?"#1a1a1a":"#ffffff",border:`1px solid ${b?"#333333":"#e5e7eb"}`,color:b?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:M=>{M.currentTarget.style.color=b?"#ffffff":"#111827",M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#f9fafb"},onMouseLeave:M=>{M.currentTarget.style.color=b?"#9ca3af":"#6b7280",M.currentTarget.style.backgroundColor=b?"#1a1a1a":"#ffffff"},children:n.jsx(Hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"calendar-filter",children:"Calendrier:"}),n.jsxs("select",{id:"calendar-filter",value:x,onChange:M=>j(M.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:Qe.calendar1,children:"Pose"}),n.jsx("option",{value:Qe.calendar2,children:"SAV"}),n.jsx("option",{value:Qe.calendar3,children:"Metr"})]})]}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"date-filter",children:"Date:"}),n.jsxs("select",{id:"date-filter",value:N,onChange:M=>B(M.target.value),children:[n.jsx("option",{value:"all",children:"Toutes les dates"}),n.jsx("option",{value:"today",children:"Aujourd'hui"}),n.jsx("option",{value:"future",children:"Futures"}),n.jsx("option",{value:"past",children:"Passes"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, tlphone, concepteur...",value:_,onChange:M=>D(M.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:de,children:[n.jsx(va,{className:"refresh-icon"}),"Actualiser"]})]}),n.jsx("main",{className:"admin-main",children:g?n.jsx("div",{className:"loading-message",children:"Chargement des rservations..."}):p.length===0?n.jsx("div",{className:"no-bookings",children:"Aucune rservation trouve"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",p.length," rservation(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Heure"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Client"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Concepteur"}),n.jsx("th",{children:"Message"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:p.map(M=>n.jsxs("tr",{children:[n.jsx("td",{children:ke(M.date)}),n.jsx("td",{className:"time-slot-cell",children:M.time&&M.time!=="21h00"?M.time:"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:hn(M.calendarId)})}),n.jsx("td",{children:M.name}),n.jsx("td",{children:M.phone}),n.jsx("td",{children:M.designer}),n.jsx("td",{className:"message-cell",children:M.message||n.jsx("span",{className:"no-message",children:"-"})}),n.jsx("td",{children:be(M.timestamp)}),n.jsx("td",{className:"actions-cell",children:Le||Ie(M)?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"edit-button",onClick:()=>$(M),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>Te(M),title:"Supprimer",children:""})]}):n.jsx("span",{style:{color:b?"#6b7280":"#9ca3af",fontSize:"12px"},children:"Non autoris"})})]},M.id))})]})})]})}),n.jsx(Lg,{isOpen:J,onClose:()=>{H(!1),Ne(null)},onSubmit:tt,booking:le,isDarkMode:b,users:Le?te:[]}),A&&n.jsx("div",{className:`admin-booking-modal-overlay ${b?"dark-mode":"light-mode"}`,onClick:()=>ee(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{className:"admin-booking-modal",onClick:M=>M.stopPropagation(),style:{backgroundColor:b?"#1a1a1a":"#ffffff",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:b?"#ffffff":"#111827"},children:"Dtails de la rservation"}),n.jsx("button",{onClick:()=>ee(null),style:{background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:b?"#9ca3af":"#6b7280",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Date:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:ke(A.date)})]}),A.time&&A.time!=="21h00"&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Heure:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:A.time})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Calendrier:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:hn(A.calendarId)})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Client:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:A.name})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Tlphone:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:A.phone})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Concepteur:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:A.designer})]}),A.message&&n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Message:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827",whiteSpace:"pre-wrap"},children:A.message})]}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:b?"#9ca3af":"#6b7280",fontSize:"12px"},children:"Cr le:"}),n.jsx("p",{style:{margin:"4px 0 0 0",color:b?"#ffffff":"#111827"},children:be(A.timestamp)})]})]}),n.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:n.jsx("button",{onClick:()=>ee(null),style:{padding:"8px 16px",borderRadius:"8px",border:`1px solid ${b?"#333333":"#e5e7eb"}`,backgroundColor:"transparent",color:b?"#ffffff":"#111827",cursor:"pointer",fontSize:"14px"},children:"Fermer"})})]})})]})})]})}const bn=({Icon:l,title:c,isActive:a,open:d,onClick:p,isDarkMode:h,orangeColor:g,textColor:S,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${g}30`:`${g}15`:"transparent",color:a?g:x,borderLeft:a?`3px solid ${g}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:j=>{a||(j.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=S)},onMouseLeave:j=>{a||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),d&&n.jsx("span",{children:c})]}),Rg=({isOpen:l,onClose:c,onSubmit:a,user:d,isDarkMode:p=!0})=>{const[h,g]=m.useState({name:"",email:"",phone:"",role:"technicien",password:""}),[S,x]=m.useState(""),[j,_]=m.useState({});m.useEffect(()=>{d?(g({name:d.name||"",email:d.email||"",phone:d.phone||"",role:d.role||"technicien",password:""}),x("")):(g({name:"",email:"",phone:"",role:"technicien",password:""}),x("")),_({})},[d,l]);const D=P=>{const{name:L,value:K}=P.target;if(L==="confirmPassword"){x(K),j.confirmPassword&&_(J=>({...J,confirmPassword:void 0}));return}if(L==="phone"){const J=K.replace(/\D/g,"");g(H=>({...H,[L]:J}))}else g(J=>({...J,[L]:K}));j[L]&&_(J=>({...J,[L]:void 0})),L==="password"&&j.confirmPassword&&_(J=>({...J,confirmPassword:void 0}))},N=()=>{const P={};return h.name.trim()||(P.name="Le nom est requis"),h.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email)||(P.email="L'email n'est pas valide"):P.email="L'email est requis",h.phone.trim()?h.phone.length<8&&(P.phone="Le numro de tlphone doit contenir au moins 8 chiffres"):P.phone="Le tlphone est requis",h.role||(P.role="Le rle est requis"),!d&&!h.password.trim()?P.password="Le mot de passe est requis":!d&&h.password.length<6&&(P.password="Le mot de passe doit contenir au moins 6 caractres"),d?h.password.trim()&&(S.trim()?h.password!==S&&(P.confirmPassword="Les mots de passe ne correspondent pas"):P.confirmPassword="Veuillez confirmer le mot de passe"):S.trim()?h.password!==S&&(P.confirmPassword="Les mots de passe ne correspondent pas"):P.confirmPassword="Veuillez confirmer le mot de passe",_(P),Object.keys(P).length===0},B=P=>{P.preventDefault(),N()&&a({...h,confirm_password:S})};if(!l)return null;const b=P=>{P.target===P.currentTarget&&c()};return n.jsx("div",{className:`user-modal-overlay ${p?"dark-mode":"light-mode"}`,onClick:b,children:n.jsxs("div",{className:"user-modal",onClick:P=>P.stopPropagation(),children:[n.jsxs("div",{className:"user-modal-header",children:[n.jsx("h2",{children:d?"Modifier l'utilisateur":"Nouvel utilisateur"}),n.jsx("button",{className:"close-button",onClick:c,children:""})]}),n.jsxs("form",{onSubmit:B,className:"user-modal-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",children:"Nom *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:D,className:j.name?"error":"",placeholder:"Ex: Jean Dupont"}),j.name&&n.jsx("span",{className:"error-message",children:j.name})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email *"}),n.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:D,className:j.email?"error":"",placeholder:"Ex: jean.dupont@example.com"}),j.email&&n.jsx("span",{className:"error-message",children:j.email})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",children:"Tlphone *"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:D,className:j.phone?"error":"",placeholder:"Ex: 0612345678"}),j.phone&&n.jsx("span",{className:"error-message",children:j.phone})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"role",children:"Rle *"}),n.jsxs("select",{id:"role",name:"role",value:h.role,onChange:D,className:j.role?"error":"",children:[n.jsx("option",{value:"technicien",children:"Technicien"}),n.jsx("option",{value:"admin",children:"Admin"})]}),j.role&&n.jsx("span",{className:"error-message",children:j.role})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{htmlFor:"password",children:["Mot de passe ",!d&&"*",d&&n.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"normal",color:"#999"},children:"(Laisser vide pour ne pas modifier)"})]}),n.jsx("input",{type:"password",id:"password",name:"password",value:h.password,onChange:D,className:j.password?"error":"",placeholder:d?"Nouveau mot de passe (optionnel)":"Mot de passe"}),j.password&&n.jsx("span",{className:"error-message",children:j.password})]}),(!d||h.password.trim())&&n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",children:"Confirmer le mot de passe *"}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:S,onChange:D,className:j.confirmPassword?"error":"",placeholder:"Confirmer le mot de passe"}),j.confirmPassword&&n.jsx("span",{className:"error-message",children:j.confirmPassword})]}),n.jsxs("div",{className:"form-actions",children:[n.jsx("button",{type:"button",className:"cancel-button",onClick:c,children:"Annuler"}),n.jsx("button",{type:"submit",className:"submit-button",children:d?"Modifier":"Crer"})]})]})]})})};function Pg(){const l=sn(),c=Gt(),[a,d]=m.useState([]),[p,h]=m.useState([]),[g,S]=m.useState(!0),[x,j]=m.useState("all"),[_,D]=m.useState(""),[N,B]=m.useState(()=>{const F=localStorage.getItem("darkMode");return F?JSON.parse(F):!0}),[b,P]=m.useState(!0),[L,K]=m.useState(!0),[J,H]=m.useState(!1),[le,Ne]=m.useState(0),[ne,Ae]=m.useState([]),[ie,pe]=m.useState(!1),[Ee,ce]=m.useState(null);m.useEffect(()=>{const F=localStorage.getItem("user");if(!F){l("/login");return}if(JSON.parse(F).role!=="admin"){l("/");return}Xe()},[l]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(N)),document.documentElement.setAttribute("data-theme",N?"dark":"light")},[N]),m.useEffect(()=>{ue()},[a,x,_]);const ve=async()=>{try{const F=await Ca(),oe=a.map(De=>({id:De.id,name:De.name,email:De.email,role:De.role,createdAt:De.created_at})),Ye=Cg(oe),jt=[...F,...Ye].sort((De,G)=>G.timestamp-De.timestamp);Ae(jt),Ne(jt.length)}catch(F){console.error("Error loading notifications:",F)}};m.useEffect(()=>{ve();const F=setInterval(ve,3e4),oe=()=>ve();return window.addEventListener("notificationRefresh",oe),()=>{clearInterval(F),window.removeEventListener("notificationRefresh",oe)}},[a]),m.useEffect(()=>{const F=oe=>{const Ye=oe.target;J&&!Ye.closest("[data-notifications-dropdown]")&&H(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[J]);const Xe=async()=>{S(!0);try{const F=await _r(x!=="all"?x:void 0);d(F)}catch(F){console.error("Error loading users:",F);const oe=F instanceof Error?F.message:"Erreur lors du chargement des utilisateurs";alert(`Erreur: ${oe}`)}finally{S(!1)}},ue=()=>{let F=[...a];if(x!=="all"&&(F=F.filter(oe=>oe.role===x)),_){const oe=_.toLowerCase();F=F.filter(Ye=>Ye.name.toLowerCase().includes(oe)||Ye.email.toLowerCase().includes(oe)||Ye.phone&&Ye.phone.includes(oe))}h(F)},Ze=F=>new Date(F).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Le=F=>({admin:"Administrateur",technicien:"Technicien"})[F]||F,Me=F=>({admin:"#fa541c",technicien:"#17a2b8"})[F]||"#6c757d",A=()=>{B(!N)},ee=()=>{localStorage.removeItem("user"),l("/")},te=()=>{ce(null),pe(!0)},v=F=>{ce(F),pe(!0)},k=async F=>{if(window.confirm(`tes-vous sr de vouloir supprimer l'utilisateur ${F.name} (${F.email}) ?`))try{await Sg(F.id),alert(" Utilisateur supprim avec succs"),await Xe()}catch(oe){console.error("Error deleting user:",oe);const Ye=oe?.message||"Erreur lors de la suppression de l'utilisateur";alert(` ${Ye}`)}},de=async F=>{try{if(Ee){const oe={name:F.name,email:F.email,phone:F.phone,role:F.role};F.password&&(oe.password=F.password,oe.confirm_password=F.confirm_password),await wg(Ee.id,oe),alert(" Utilisateur modifi avec succs")}else await kg(F),alert(" Utilisateur cr avec succs");pe(!1),ce(null),await Xe()}catch(oe){console.error("Error saving user:",oe);const Ye=oe?.message||"Erreur lors de l'enregistrement de l'utilisateur";alert(` ${Ye}`)}},[he,Ie]=m.useState(()=>localStorage.getItem("accentColor")||"#fa541c");m.useEffect(()=>{const F=()=>{const Ye=localStorage.getItem("accentColor");Ye&&(Ie(Ye),document.documentElement.style.setProperty("--accent-color",Ye))};window.addEventListener("settingsUpdated",F),window.addEventListener("storage",F);const oe=localStorage.getItem("accentColor");return oe&&(Ie(oe),document.documentElement.style.setProperty("--accent-color",oe)),()=>{window.removeEventListener("settingsUpdated",F),window.removeEventListener("storage",F)}},[]);const Ce=N?"#000000":"#f5f5f5",ke=N?"#ffffff":"#111827",be=N?"#9ca3af":"#6b7280",We=N?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:Ce},children:[n.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:b?"256px":"64px",borderRight:`1px solid ${We}`,backgroundColor:N?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${We}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${he} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(lt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),b&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:ke},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:be},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(Nn,{Icon:Go,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:b,onClick:()=>l("/dashboard"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be}),n.jsx(Nn,{Icon:qo,title:"Rservation",isActive:c.pathname==="/rservation",open:b,onClick:()=>l("/rservation"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be}),n.jsx(Nn,{Icon:eo,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:b,onClick:()=>l("/jours-feries"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be}),n.jsx(Nn,{Icon:to,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:b,onClick:()=>l("/utilisateurs"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be}),n.jsxs("button",{onClick:()=>K(!L),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:be,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:F=>{F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",F.currentTarget.style.color=ke},onMouseLeave:F=>{F.currentTarget.style.backgroundColor="transparent",F.currentTarget.style.color=be},children:[n.jsx(lt,{style:{width:"20px",height:"20px",flexShrink:0}}),b&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),L?n.jsx(Xo,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(Qo,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),L&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(Nn,{Icon:lt,title:"Metr",isActive:c.pathname==="/metre",open:b,onClick:()=>l("/metre"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be}),n.jsx(Nn,{Icon:lt,title:"Pose",isActive:c.pathname==="/pose",open:b,onClick:()=>l("/pose"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be}),n.jsx(Nn,{Icon:lt,title:"SAV",isActive:c.pathname==="/sav",open:b,onClick:()=>l("/sav"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be})]})]}),b&&n.jsxs("div",{style:{borderTop:`1px solid ${We}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:be,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(Nn,{Icon:N?Tn:Mn,title:N?"Mode clair":"Mode sombre",isActive:!1,open:b,onClick:A,isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be}),n.jsx(Nn,{Icon:Er,title:"Paramtres",isActive:c.pathname==="/parametres",open:b,onClick:()=>l("/parametres"),isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be})]}),n.jsx("div",{style:{borderTop:`1px solid ${We}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(Nn,{Icon:Hn,title:"Dconnexion",isActive:!1,open:b,onClick:ee,isDarkMode:N,orangeColor:he,textColor:ke,textSecondary:be})}),n.jsxs("button",{onClick:()=>P(!b),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${We}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:be,transition:"background-color 0.2s",height:"48px"},onMouseEnter:F=>F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb",onMouseLeave:F=>F.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ko,{style:{width:"16px",height:"16px",transform:b?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),b&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:Ce},children:n.jsxs("div",{className:`admin-page ${N?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Administration - Utilisateurs"}),n.jsx("p",{children:"Gestion des utilisateurs"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative"},children:[n.jsxs("button",{"data-notifications-dropdown":!0,onClick:()=>H(!J),style:{position:"relative",padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:F=>{F.currentTarget.style.color=N?"#ffffff":"#111827",F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.color=N?"#9ca3af":"#6b7280",F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:[n.jsx(Zr,{style:{width:"20px",height:"20px"}}),le>0&&n.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",minWidth:"18px",height:"18px",backgroundColor:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:600,color:"#ffffff",padding:"0 4px"},children:le>99?"99+":le})]}),J&&n.jsxs("div",{"data-notifications-dropdown":!0,style:{position:"absolute",top:"50px",right:"0",width:"380px",maxHeight:"500px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[n.jsxs("div",{style:{padding:"16px",borderBottom:`1px solid ${N?"#333333":"#e5e7eb"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:600,color:N?"#ffffff":"#111827"},children:"Notifications"}),le>0&&n.jsxs("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:600},children:[le," nouvelle",le>1?"s":""]})]}),n.jsx("div",{style:{overflowY:"auto",maxHeight:"400px",flex:1},children:ne.length===0?n.jsx("div",{style:{padding:"40px 20px",textAlign:"center",color:N?"#9ca3af":"#6b7280"},children:"Aucune notification"}):ne.slice(0,10).map(F=>{const oe=ba(F.timestamp),jt=(()=>{if(F.type==="booking"){const De=F.data,G=hn(De.calendarId),me=Be=>new Date(Be+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return{subtitle:`${De.name} - ${G}`,details:`${me(De.date)} ${De.time&&De.time!=="21h00"?` ${De.time}`:""}`,onClick:()=>{H(!1),l("/rservation")}}}else if(F.type==="holiday"){const De=F.data;return{subtitle:`${hn(De.calendarId)} - ${(Be=>new Date(Be+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))(De.holiday_date)}`,details:"Jour fri ajout",onClick:()=>{H(!1),l("/jours-feries")}}}else if(F.type==="user"){const De=F.data;return{subtitle:`${De.name} (${Le(De.role)})`,details:De.email,onClick:()=>{H(!1)}}}return{subtitle:"",details:"",onClick:()=>{}}})();return n.jsx("div",{onClick:jt.onClick,style:{padding:"12px 16px",borderBottom:`1px solid ${N?"#2a2a2a":"#f0f0f0"}`,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:De=>{De.currentTarget.style.backgroundColor=N?"#2a2a2a":"#f9fafb"},onMouseLeave:De=>{De.currentTarget.style.backgroundColor="transparent"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"12px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:N?"#ffffff":"#111827",marginBottom:"4px"},children:F.title}),n.jsx("div",{style:{fontSize:"13px",color:N?"#9ca3af":"#6b7280",marginBottom:"4px"},children:jt.subtitle}),n.jsx("div",{style:{fontSize:"12px",color:N?"#6b7280":"#9ca3af"},children:jt.details})]}),n.jsx("div",{style:{fontSize:"11px",color:N?"#6b7280":"#9ca3af",whiteSpace:"nowrap"},children:oe})]})},F.id)})}),ne.length>0&&n.jsx("div",{style:{padding:"12px 16px",borderTop:`1px solid ${N?"#333333":"#e5e7eb"}`,textAlign:"center"},children:n.jsx("button",{onClick:()=>{H(!1),ne[0]?.type==="booking"?l("/rservation"):ne[0]?.type==="holiday"&&l("/jours-feries")},style:{background:"transparent",border:"none",color:"#fa541c",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Voir toutes les notifications"})})]}),n.jsx("button",{onClick:A,style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",border:`1px solid ${N?"#333333":"#e5e7eb"}`,backgroundColor:N?"#1a1a1a":"#ffffff",color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.color=N?"#ffffff":"#111827",F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.color=N?"#9ca3af":"#6b7280",F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:N?n.jsx(Tn,{style:{width:"16px",height:"16px"}}):n.jsx(Mn,{style:{width:"16px",height:"16px"}})}),n.jsx("button",{onClick:ee,style:{padding:"8px",borderRadius:"8px",backgroundColor:N?"#1a1a1a":"#ffffff",border:`1px solid ${N?"#333333":"#e5e7eb"}`,color:N?"#9ca3af":"#6b7280",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:F=>{F.currentTarget.style.color=N?"#ffffff":"#111827",F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#f9fafb"},onMouseLeave:F=>{F.currentTarget.style.color=N?"#9ca3af":"#6b7280",F.currentTarget.style.backgroundColor=N?"#1a1a1a":"#ffffff"},children:n.jsx(Hn,{style:{width:"20px",height:"20px"}})})]})]})}),n.jsxs("div",{className:"admin-filters",children:[n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"role-filter",children:"Rle:"}),n.jsxs("select",{id:"role-filter",value:x,onChange:F=>j(F.target.value),children:[n.jsx("option",{value:"all",children:"Tous les rles"}),n.jsx("option",{value:"admin",children:"Administrateur"}),n.jsx("option",{value:"technicien",children:"Technicien"})]})]}),n.jsxs("div",{className:"filter-group search-group",children:[n.jsx("label",{htmlFor:"search",children:"Rechercher:"}),n.jsx("div",{style:{position:"relative",width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px"},children:n.jsx("input",{id:"search",type:"text",placeholder:"Nom, email, tlphone...",value:_,onChange:F=>D(F.target.value),style:{width:"100%",height:"42px",minHeight:"42px",maxHeight:"42px",boxSizing:"border-box"}})})]}),n.jsxs("button",{className:"refresh-button",onClick:Xe,children:[n.jsx(va,{className:"refresh-icon"}),"Actualiser"]}),n.jsxs("button",{className:"create-button",onClick:te,children:[n.jsx(Bd,{className:"create-icon"}),"Nouvel utilisateur"]})]}),n.jsx("main",{className:"admin-main",children:g?n.jsx("div",{className:"loading-message",children:"Chargement des utilisateurs..."}):p.length===0?n.jsx("div",{className:"no-bookings",children:"Aucun utilisateur trouv"}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bookings-summary",children:n.jsxs("p",{children:["Total: ",p.length," utilisateur(s)"]})}),n.jsx("div",{className:"bookings-table-container",children:n.jsxs("table",{className:"bookings-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nom"}),n.jsx("th",{children:"Email"}),n.jsx("th",{children:"Tlphone"}),n.jsx("th",{children:"Rle"}),n.jsx("th",{children:"Cr le"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:p.map(F=>n.jsxs("tr",{children:[n.jsx("td",{children:F.name}),n.jsx("td",{children:F.email}),n.jsx("td",{children:F.phone||"-"}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",style:{backgroundColor:Me(F.role)},children:Le(F.role)})}),n.jsx("td",{children:Ze(F.created_at)}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>v(F),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>k(F),title:"Supprimer",children:""})]})]},F.id))})]})})]})}),n.jsx(Rg,{isOpen:ie,onClose:()=>{pe(!1),ce(null)},onSubmit:de,user:Ee,isDarkMode:N})]})})]})}const Nn=({Icon:l,title:c,isActive:a,open:d,onClick:p,isDarkMode:h,orangeColor:g,textColor:S,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${g}30`:`${g}15`:"transparent",color:a?g:x,borderLeft:a?`3px solid ${g}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:j=>{a||(j.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=S)},onMouseLeave:j=>{a||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),d&&n.jsx("span",{children:c})]}),En=({Icon:l,title:c,isActive:a,open:d,onClick:p,isDarkMode:h,orangeColor:g,textColor:S,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${g}30`:`${g}15`:"transparent",color:a?g:x,borderLeft:a?`3px solid ${g}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:j=>{a||(j.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=S)},onMouseLeave:j=>{a||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),d&&n.jsx("span",{children:c})]});function Ig(){const l=sn(),c=Gt(),[a,d]=m.useState(()=>{const k=localStorage.getItem("darkMode");return k?JSON.parse(k):!0}),[p,h]=m.useState(!0),[g,S]=m.useState(!0),[x,j]=m.useState("general"),[_,D]=m.useState(!1),[N,B]=m.useState("idle"),[b,P]=m.useState({email:!0,push:!1,sms:!1}),[L,K]=m.useState("fr"),[J,H]=m.useState("Europe/Paris"),[le,Ne]=m.useState(!0),[ne,Ae]=m.useState(()=>localStorage.getItem("accentColor")||"#fa541c");m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),document.documentElement.setAttribute("data-theme",a?"dark":"light")},[a]),m.useEffect(()=>{localStorage.setItem("accentColor",ne),document.documentElement.style.setProperty("--accent-color",ne)},[ne]),m.useEffect(()=>{const k=localStorage.getItem("user");if(!k){l("/login");return}if(JSON.parse(k).role!=="admin"){l("/");return}},[l]);const ie=()=>{d(!a)},pe=()=>{localStorage.removeItem("user"),l("/")},Ee=async()=>{D(!0),B("idle");try{localStorage.setItem("accentColor",ne),localStorage.setItem("darkMode",JSON.stringify(a)),localStorage.setItem("notifications",JSON.stringify(b)),localStorage.setItem("language",L),localStorage.setItem("timezone",J),localStorage.setItem("autoSave",JSON.stringify(le)),document.documentElement.style.setProperty("--accent-color",ne),window.dispatchEvent(new Event("settingsUpdated")),await new Promise(k=>setTimeout(k,500)),D(!1),B("success"),setTimeout(()=>{B("idle")},3e3)}catch(k){console.error("Error saving settings:",k),D(!1),B("error"),setTimeout(()=>{B("idle")},3e3)}},ce=()=>{alert("Fonctionnalit d'export  venir")},ve=()=>{alert("Fonctionnalit d'import  venir")},Xe=()=>{window.confirm("tes-vous sr de vouloir rinitialiser tous les paramtres ?")&&(P({email:!0,push:!1,sms:!1}),K("fr"),H("Europe/Paris"),Ne(!0),alert("Paramtres rinitialiss"))},ue=ne,Ze=a?"#000000":"#f5f5f5",Le=a?"#ffffff":"#111827",Me=a?"#9ca3af":"#6b7280",A=a?"#333333":"#e5e7eb",ee=a?"#111111":"#ffffff",te=[{name:"Orange",value:"#fa541c",hex:"#fa541c"},{name:"Bleu",value:"#1890ff",hex:"#1890ff"},{name:"Vert",value:"#52c41a",hex:"#52c41a"},{name:"Rouge",value:"#f5222d",hex:"#f5222d"},{name:"Violet",value:"#722ed1",hex:"#722ed1"},{name:"Rose",value:"#eb2f96",hex:"#eb2f96"},{name:"Cyan",value:"#13c2c2",hex:"#13c2c2"},{name:"Jaune",value:"#faad14",hex:"#faad14"},{name:"Indigo",value:"#2f54eb",hex:"#2f54eb"},{name:"Turquoise",value:"#36cfc9",hex:"#36cfc9"},{name:"Magenta",value:"#f759ab",hex:"#f759ab"},{name:"Lime",value:"#a0d911",hex:"#a0d911"}],v=[{id:"general",label:"Gnral",icon:Er},{id:"notifications",label:"Notifications",icon:Zr},{id:"appearance",label:"Apparence",icon:ia},{id:"data",label:"Donnes",icon:la}];return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:Ze},children:[n.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:p?"256px":"64px",borderRight:`1px solid ${A}`,backgroundColor:a?"#000000":"#ffffff",padding:"8px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${A}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${ne} 0%, ${ne}dd 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${ne}40`},children:n.jsx(lt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:Le},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:Me},children:"Paramtres"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(En,{Icon:Go,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:p,onClick:()=>l("/dashboard"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me}),n.jsx(En,{Icon:qo,title:"Rservation",isActive:c.pathname==="/rservation",open:p,onClick:()=>l("/rservation"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me}),n.jsx(En,{Icon:eo,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:p,onClick:()=>l("/jours-feries"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me}),n.jsx(En,{Icon:to,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:p,onClick:()=>l("/utilisateurs"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me}),n.jsxs("button",{onClick:()=>S(!g),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:Me,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",k.currentTarget.style.color=Le},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="transparent",k.currentTarget.style.color=Me},children:[n.jsx(lt,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),g?n.jsx(Xo,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(Qo,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),g&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(En,{Icon:lt,title:"Metr",isActive:c.pathname==="/metre",open:p,onClick:()=>l("/metre"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me}),n.jsx(En,{Icon:lt,title:"Pose",isActive:c.pathname==="/pose",open:p,onClick:()=>l("/pose"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me}),n.jsx(En,{Icon:lt,title:"SAV",isActive:c.pathname==="/sav",open:p,onClick:()=>l("/sav"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${A}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:Me,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(En,{Icon:a?Tn:Mn,title:a?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:ie,isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me}),n.jsx(En,{Icon:Er,title:"Paramtres",isActive:c.pathname==="/parametres",open:p,onClick:()=>l("/parametres"),isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me})]}),n.jsx("div",{style:{borderTop:`1px solid ${A}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(En,{Icon:Hn,title:"Dconnexion",isActive:!1,open:p,onClick:pe,isDarkMode:a,orangeColor:ue,textColor:Le,textSecondary:Me})}),n.jsxs("button",{onClick:()=>h(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${A}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:Me,transition:"background-color 0.2s"},onMouseEnter:k=>k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",onMouseLeave:k=>k.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ko,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:Ze},children:n.jsxs("div",{className:`settings-page ${a?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"settings-header",children:n.jsxs("div",{className:"header-content",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Paramtres"}),n.jsx("p",{children:"Grez vos prfrences et configurations"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[N==="success"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",backgroundColor:a?"#065f46":"#d1fae5",color:a?"#6ee7b7":"#065f46",fontSize:"14px",fontWeight:500},children:[n.jsx(Im,{size:16}),"Enregistr"]}),n.jsx("button",{onClick:Ee,disabled:_,className:"save-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"none",backgroundColor:ne,color:"#ffffff",fontSize:"14px",fontWeight:600,cursor:_?"not-allowed":"pointer",opacity:_?.7:1,transition:"all 0.2s",boxShadow:`0 2px 8px ${ne}40`},onMouseEnter:k=>{_||(k.currentTarget.style.transform="translateY(-2px)",k.currentTarget.style.boxShadow=`0 4px 12px ${ne}60`)},onMouseLeave:k=>{_||(k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow=`0 2px 8px ${ne}40`)},children:_?n.jsxs(n.Fragment,{children:[n.jsx(va,{size:16,style:{animation:"spin 1s linear infinite"}}),"Enregistrement..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tg,{size:16}),"Enregistrer"]})})]})]})}),n.jsxs("div",{className:"settings-container",children:[n.jsx("div",{className:"settings-sidebar",children:v.map(k=>{const de=k.icon;return n.jsxs("button",{onClick:()=>j(k.id),className:`settings-nav-item ${x===k.id?"active":""}`,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"8px",border:"none",backgroundColor:x===k.id?a?`${ue}30`:`${ue}15`:"transparent",color:x===k.id?ue:Me,cursor:"pointer",transition:"all 0.2s",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:x===k.id?600:500},onMouseEnter:he=>{x!==k.id&&(he.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",he.currentTarget.style.color=Le)},onMouseLeave:he=>{x!==k.id&&(he.currentTarget.style.backgroundColor="transparent",he.currentTarget.style.color=Me)},children:[n.jsx(de,{size:18}),n.jsx("span",{children:k.label})]},k.id)})}),n.jsxs("div",{className:"settings-content",children:[x==="general"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Er,{size:24,style:{color:ne}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Paramtres gnraux"}),n.jsx("p",{children:"Configurez les paramtres de base de votre application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Um,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Langue"}),n.jsx("p",{children:"Slectionnez votre langue prfre"})]})]}),n.jsxs("select",{value:L,onChange:k=>K(k.target.value),className:"setting-input",children:[n.jsx("option",{value:"fr",children:"Franais"}),n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Espaol"}),n.jsx("option",{value:"de",children:"Deutsch"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Bm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Fuseau horaire"}),n.jsx("p",{children:"Dfinissez votre fuseau horaire"})]})]}),n.jsxs("select",{value:J,onChange:k=>H(k.target.value),className:"setting-input",children:[n.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (GMT+1)"}),n.jsx("option",{value:"Europe/London",children:"Europe/London (GMT+0)"}),n.jsx("option",{value:"America/New_York",children:"America/New_York (GMT-5)"}),n.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(la,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Sauvegarde automatique"}),n.jsx("p",{children:"Enregistrer automatiquement les modifications"})]})]}),n.jsx("button",{onClick:()=>Ne(!le),className:`toggle-switch ${le?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),x==="notifications"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(Zr,{size:24,style:{color:ne}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Notifications"}),n.jsx("p",{children:"Grez vos prfrences de notification"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Ym,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications par email"}),n.jsx("p",{children:"Recevoir des notifications par email"})]})]}),n.jsx("button",{onClick:()=>P({...b,email:!b.email}),className:`toggle-switch ${b.email?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(_m,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications push"}),n.jsx("p",{children:"Recevoir des notifications push en temps rel"})]})]}),n.jsx("button",{onClick:()=>P({...b,push:!b.push}),className:`toggle-switch ${b.push?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(Nm,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Notifications SMS"}),n.jsx("p",{children:"Recevoir des notifications par SMS"})]})]}),n.jsx("button",{onClick:()=>P({...b,sms:!b.sms}),className:`toggle-switch ${b.sms?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]})]})]}),x==="appearance"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(ia,{size:24,style:{color:ne}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Apparence"}),n.jsx("p",{children:"Personnalisez l'apparence de l'application"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[a?n.jsx(Tn,{size:20}):n.jsx(Mn,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Thme"}),n.jsx("p",{children:"Choisissez entre le mode clair et sombre"})]})]}),n.jsx("button",{onClick:ie,className:`toggle-switch ${a?"active":""}`,children:n.jsx("span",{className:"toggle-slider"})})]}),n.jsxs("div",{className:"setting-item",style:{flexDirection:"column",alignItems:"flex-start",gap:"20px"},children:[n.jsxs("div",{className:"setting-info",style:{width:"100%"},children:[n.jsx(ia,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Couleur d'accentuation"}),n.jsx("p",{children:"Choisissez une couleur pour personnaliser l'interface"})]})]}),n.jsxs("div",{style:{width:"100%"},children:[n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"12px",padding:"16px",backgroundColor:a?"#1a1a1a":"#f9fafb",borderRadius:"12px",border:`1px solid ${A}`},children:te.map(k=>n.jsx("button",{onClick:()=>Ae(k.value),style:{width:"60px",height:"60px",borderRadius:"12px",background:k.value,border:ne===k.value?`3px solid ${a?"#ffffff":"#000000"}`:`2px solid ${A}`,cursor:"pointer",transition:"all 0.2s ease",position:"relative",boxShadow:ne===k.value?`0 4px 12px ${k.value}60`:"0 2px 4px rgba(0, 0, 0, 0.1)",transform:ne===k.value?"scale(1.1)":"scale(1)"},onMouseEnter:de=>{ne!==k.value&&(de.currentTarget.style.transform="scale(1.05)",de.currentTarget.style.boxShadow=`0 4px 8px ${k.value}40`)},onMouseLeave:de=>{ne!==k.value&&(de.currentTarget.style.transform="scale(1)",de.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.1)")},title:k.name,children:ne===k.value&&n.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#ffffff",fontSize:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:""})},k.value))}),n.jsxs("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",backgroundColor:a?"#1a1a1a":"#f9fafb",borderRadius:"8px",border:`1px solid ${A}`},children:[n.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:ne,border:`2px solid ${A}`,boxShadow:`0 2px 8px ${ne}40`,flexShrink:0}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:Le,marginBottom:"2px"},children:te.find(k=>k.value===ne)?.name||"Couleur personnalise"}),n.jsx("div",{style:{fontSize:"12px",color:Me},children:ne.toUpperCase()})]})]})]})]})]})]}),x==="data"&&n.jsxs("div",{className:"settings-section",children:[n.jsxs("div",{className:"section-header",children:[n.jsx(la,{size:24,style:{color:ne}}),n.jsxs("div",{children:[n.jsx("h2",{children:"Donnes"}),n.jsx("p",{children:"Grez vos donnes et sauvegardes"})]})]}),n.jsxs("div",{className:"settings-card",children:[n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(yd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Exporter les donnes"}),n.jsx("p",{children:"Tlchargez une copie de toutes vos donnes"})]})]}),n.jsxs("button",{onClick:ce,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${A}`,backgroundColor:ee,color:Le,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",k.currentTarget.style.borderColor=ue},onMouseLeave:k=>{k.currentTarget.style.backgroundColor=ee,k.currentTarget.style.borderColor=A},children:[n.jsx(yd,{size:16}),"Exporter"]})]}),n.jsxs("div",{className:"setting-item",children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(jd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Importer les donnes"}),n.jsx("p",{children:"Restaurer vos donnes  partir d'un fichier"})]})]}),n.jsxs("button",{onClick:ve,className:"action-button",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:`1px solid ${A}`,backgroundColor:ee,color:Le,cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",k.currentTarget.style.borderColor=ue},onMouseLeave:k=>{k.currentTarget.style.backgroundColor=ee,k.currentTarget.style.borderColor=A},children:[n.jsx(jd,{size:16}),"Importer"]})]}),n.jsxs("div",{className:"setting-item",style:{borderBottom:"none"},children:[n.jsxs("div",{className:"setting-info",children:[n.jsx(vd,{size:20}),n.jsxs("div",{children:[n.jsx("label",{children:"Rinitialiser les paramtres"}),n.jsx("p",{children:"Rtablir tous les paramtres par dfaut"})]})]}),n.jsxs("button",{onClick:Xe,className:"action-button danger",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"1px solid #ef4444",backgroundColor:a?"#7f1d1d":"#fee2e2",color:"#ef4444",cursor:"pointer",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:k=>{k.currentTarget.style.backgroundColor=a?"#991b1b":"#fecaca"},onMouseLeave:k=>{k.currentTarget.style.backgroundColor=a?"#7f1d1d":"#fee2e2"},children:[n.jsx(vd,{size:16}),"Rinitialiser"]})]})]})]})]})]})]})})]})}function Dg(){const l=sn(),c=Gt(),[a,d]=m.useState(()=>{const v=localStorage.getItem("darkMode");return v?JSON.parse(v):!0}),[p,h]=m.useState(!0),[g,S]=m.useState(!0),[x,j]=m.useState([]),[_,D]=m.useState("all"),[N,B]=m.useState(""),[b,P]=m.useState(Qe.calendar1),[L,K]=m.useState(null),[J,H]=m.useState(""),[le,Ne]=m.useState("");m.useEffect(()=>{const v=localStorage.getItem("user");if(!v){l("/login");return}if(JSON.parse(v).role!=="admin"){l("/");return}ne()},[l]),m.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(a)),document.documentElement.setAttribute("data-theme",a?"dark":"light")},[a]),m.useEffect(()=>{ne()},[_]);const ne=async()=>{try{if(_==="all"){const k=Object.values(Qe).map(Ie=>Vo(Ie).then(Ce=>({calendarId:Ie,holidays:Ce}))),de=await Promise.all(k),he=[];de.forEach(({calendarId:Ie,holidays:Ce})=>{Ce.forEach(ke=>{he.push({...ke,calendarId:Ie})})}),he.sort((Ie,Ce)=>Ce.holiday_date.localeCompare(Ie.holiday_date)),j(he)}else{const v=await Vo(_);j(v.map(k=>({...k,calendarId:_})))}}catch(v){console.error("Error loading holidays:",v),alert("Erreur lors du chargement des jours fris")}},Ae=async()=>{if(!N){alert("Veuillez slectionner une date");return}try{await mg(b,N),alert("Jour fri ajout avec succs"),B(""),await ne(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(v){console.error("Error adding holiday:",v);const k=v?.message||"Erreur lors de l'ajout du jour fri";alert(` ${k}`)}},ie=v=>{K(v),H(v.holiday_date),Ne(v.calendarId||v.calendar_id)},pe=()=>{K(null),H(""),Ne("")},Ee=async()=>{if(!L||!J){alert("Veuillez slectionner une date");return}try{await gg(L.id,le,J),alert("Jour fri modifi avec succs"),pe(),await ne(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(v){console.error("Error updating holiday:",v);const k=v?.message||"Erreur lors de la modification du jour fri";alert(` ${k}`)}},ce=async v=>{if(window.confirm(`tes-vous sr de vouloir supprimer le jour fri du ${ve(v.holiday_date)} ?`))try{await xg(v.id),alert("Jour fri supprim avec succs"),await ne(),window.dispatchEvent(new CustomEvent("notificationRefresh"))}catch(k){console.error("Error deleting holiday:",k);const de=k?.message||"Erreur lors de la suppression du jour fri";alert(` ${de}`)}},ve=v=>new Date(v+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Xe=()=>{d(!a)},ue=()=>{localStorage.removeItem("user"),l("/")},[Ze,Le]=m.useState(()=>localStorage.getItem("accentColor")||"#fa541c");m.useEffect(()=>{const v=()=>{const de=localStorage.getItem("accentColor");de&&(Le(de),document.documentElement.style.setProperty("--accent-color",de))};window.addEventListener("settingsUpdated",v),window.addEventListener("storage",v);const k=localStorage.getItem("accentColor");return k&&(Le(k),document.documentElement.style.setProperty("--accent-color",k)),()=>{window.removeEventListener("settingsUpdated",v),window.removeEventListener("storage",v)}},[]);const Me=a?"#000000":"#f5f5f5",A=a?"#ffffff":"#111827",ee=a?"#9ca3af":"#6b7280",te=a?"#333333":"#e5e7eb";return n.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",backgroundColor:Me},children:[n.jsxs("nav",{style:{position:"sticky",top:0,height:"100vh",width:p?"256px":"64px",borderRight:`1px solid ${te}`,backgroundColor:a?"#000000":"#ffffff",padding:"8px",paddingBottom:"60px",transition:"width 0.3s ease",display:"flex",flexDirection:"column",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[n.jsxs("div",{style:{marginBottom:"24px",paddingBottom:"16px",borderBottom:`1px solid ${te}`,display:"flex",alignItems:"center",gap:"12px",padding:"8px"},children:[n.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:`linear-gradient(135deg, ${Ze} 0%, #ff6b35 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(250, 84, 28, 0.3)"},children:n.jsx(lt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),p&&n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:A},children:"Tableau de Bord"}),n.jsx("div",{style:{fontSize:"12px",color:ee},children:"Tableau de Bord"})]})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx(_n,{Icon:Go,title:"Accueil",isActive:c.pathname==="/"||c.pathname==="/dashboard",open:p,onClick:()=>l("/dashboard"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee}),n.jsx(_n,{Icon:qo,title:"Rservation",isActive:c.pathname==="/rservation",open:p,onClick:()=>l("/rservation"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee}),n.jsx(_n,{Icon:eo,title:"Gestion des jours-fris",isActive:c.pathname==="/jours-feries",open:p,onClick:()=>l("/jours-feries"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee}),n.jsx(_n,{Icon:to,title:"Utilisateurs",isActive:c.pathname==="/utilisateurs",open:p,onClick:()=>l("/utilisateurs"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee}),n.jsxs("button",{onClick:()=>S(!g),style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"transparent",color:ee,borderLeft:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:500},onMouseEnter:v=>{v.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",v.currentTarget.style.color=A},onMouseLeave:v=>{v.currentTarget.style.backgroundColor="transparent",v.currentTarget.style.color=ee},children:[n.jsx(lt,{style:{width:"20px",height:"20px",flexShrink:0}}),p&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{flex:1,textAlign:"left"},children:"Calendriers"}),g?n.jsx(Xo,{style:{width:"16px",height:"16px",flexShrink:0}}):n.jsx(Qo,{style:{width:"16px",height:"16px",flexShrink:0}})]})]}),g&&n.jsxs("div",{style:{paddingLeft:"20px"},children:[n.jsx(_n,{Icon:lt,title:"Metr",isActive:c.pathname==="/metre",open:p,onClick:()=>l("/metre"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee}),n.jsx(_n,{Icon:lt,title:"Pose",isActive:c.pathname==="/pose",open:p,onClick:()=>l("/pose"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee}),n.jsx(_n,{Icon:lt,title:"SAV",isActive:c.pathname==="/sav",open:p,onClick:()=>l("/sav"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee})]})]}),p&&n.jsxs("div",{style:{borderTop:`1px solid ${te}`,paddingTop:"16px",display:"flex",flexDirection:"column",gap:"4px",marginBottom:"8px"},children:[n.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",fontWeight:500,color:ee,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Paramtres"}),n.jsx(_n,{Icon:a?Tn:Mn,title:a?"Mode clair":"Mode sombre",isActive:!1,open:p,onClick:Xe,isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee}),n.jsx(_n,{Icon:Er,title:"Paramtres",isActive:c.pathname==="/parametres",open:p,onClick:()=>l("/parametres"),isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee})]}),n.jsx("div",{style:{borderTop:`1px solid ${te}`,paddingTop:"8px",paddingBottom:"8px",marginBottom:"8px"},children:n.jsx(_n,{Icon:Hn,title:"Dconnexion",isActive:!1,open:p,onClick:ue,isDarkMode:a,orangeColor:Ze,textColor:A,textSecondary:ee})}),n.jsxs("button",{onClick:()=>h(!p),style:{position:"absolute",bottom:0,left:0,right:0,borderTop:`1px solid ${te}`,padding:"12px",backgroundColor:"transparent",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",color:ee,transition:"background-color 0.2s",height:"48px"},onMouseEnter:v=>v.currentTarget.style.backgroundColor=a?"#1a1a1a":"#f9fafb",onMouseLeave:v=>v.currentTarget.style.backgroundColor="transparent",children:[n.jsx("div",{style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Ko,{style:{width:"16px",height:"16px",transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})}),p&&n.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:"Masquer"})]})]}),n.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:Me},children:n.jsxs("div",{className:`admin-page ${a?"dark-mode":"light-mode"}`,children:[n.jsx("header",{className:"admin-header",children:n.jsx("div",{className:"header-content",children:n.jsxs("div",{children:[n.jsx("h1",{children:"Gestion des jours fris"}),n.jsx("p",{children:"Grer les jours fris pour tous les calendriers"})]})})}),n.jsxs("div",{className:"holiday-management-section",children:[n.jsxs("div",{className:"holiday-add-form",children:[n.jsx("h3",{children:"Ajouter un jour fri"}),n.jsxs("div",{className:"form-row",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-calendar",children:"Calendrier:"}),n.jsxs("select",{id:"holiday-calendar",value:b,onChange:v=>P(v.target.value),children:[n.jsx("option",{value:Qe.calendar1,children:"Pose"}),n.jsx("option",{value:Qe.calendar2,children:"SAV"}),n.jsx("option",{value:Qe.calendar3,children:"Metr"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"holiday-date",children:"Date:"}),n.jsx("input",{id:"holiday-date",type:"date",value:N,onChange:v=>B(v.target.value)})]}),n.jsxs("button",{className:"add-holiday-button",onClick:Ae,children:[n.jsx(Bd,{className:"add-holiday-icon"}),"Ajouter"]})]})]}),n.jsxs("div",{className:"holiday-list-section",children:[n.jsx("h3",{children:"Jours fris existants"}),n.jsxs("div",{className:"filter-group",children:[n.jsx("label",{htmlFor:"holiday-filter",children:"Filtrer par calendrier:"}),n.jsxs("select",{id:"holiday-filter",value:_,onChange:v=>D(v.target.value),children:[n.jsx("option",{value:"all",children:"Tous les calendriers"}),n.jsx("option",{value:Qe.calendar1,children:"Pose"}),n.jsx("option",{value:Qe.calendar2,children:"SAV"}),n.jsx("option",{value:Qe.calendar3,children:"Metr"})]})]}),x.length===0?n.jsx("div",{className:"no-holidays",children:"Aucun jour fri enregistr"}):n.jsx("div",{className:"holidays-table-container",children:n.jsxs("table",{className:"holidays-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Calendrier"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:x.map(v=>n.jsx("tr",{children:L?.id===v.id?n.jsxs(n.Fragment,{children:[n.jsx("td",{children:n.jsx("input",{type:"date",value:J,onChange:k=>H(k.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}})}),n.jsx("td",{children:n.jsxs("select",{value:le,onChange:k=>Ne(k.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[n.jsx("option",{value:Qe.calendar1,children:"Pose"}),n.jsx("option",{value:Qe.calendar2,children:"SAV"}),n.jsx("option",{value:Qe.calendar3,children:"Metr"})]})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:Ee,title:"Enregistrer",children:""}),n.jsx("button",{className:"delete-button",onClick:pe,title:"Annuler",children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("td",{children:ve(v.holiday_date)}),n.jsx("td",{children:n.jsx("span",{className:"calendar-badge",children:hn(v.calendarId||v.calendar_id)})}),n.jsxs("td",{className:"actions-cell",children:[n.jsx("button",{className:"edit-button",onClick:()=>ie(v),title:"Modifier",children:""}),n.jsx("button",{className:"delete-button",onClick:()=>ce(v),title:"Supprimer",children:""})]})]})},v.id))})]})})]})]})]})})]})}const _n=({Icon:l,title:c,isActive:a,open:d,onClick:p,isDarkMode:h,orangeColor:g,textColor:S,textSecondary:x})=>n.jsxs("button",{onClick:p,style:{width:"100%",height:"44px",display:"flex",alignItems:"center",gap:"12px",padding:"0 12px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:a?h?`${g}30`:`${g}15`:"transparent",color:a?g:x,borderLeft:a?`3px solid ${g}`:"3px solid transparent",transition:"all 0.2s",fontSize:"14px",fontWeight:a?600:500},onMouseEnter:j=>{a||(j.currentTarget.style.backgroundColor=h?"#1a1a1a":"#f9fafb",j.currentTarget.style.color=S)},onMouseLeave:j=>{a||(j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color=x)},children:[n.jsx(l,{style:{width:"20px",height:"20px",flexShrink:0}}),d&&n.jsx("span",{children:c})]});typeof window<"u"&&(window.resetAllBookings=async()=>{confirm(" Are you sure you want to reset ALL bookings to 0? This cannot be undone!")&&(console.log(" Starting reset..."),await hg(),alert(" All bookings have been reset! Please refresh the page."),window.location.reload())});qp.createRoot(document.getElementById("root")).render(n.jsx(Wp.StrictMode,{children:n.jsx(cm,{children:n.jsxs(Fh,{children:[n.jsx(on,{path:"/",element:n.jsx(vm,{})}),n.jsx(on,{path:"/login",element:n.jsx(Tg,{})}),n.jsx(on,{path:"/calendrier",element:n.jsx(On,{children:n.jsx(bg,{})})}),n.jsx(on,{path:"/dashboard",element:n.jsx(On,{requireAdmin:!0,children:n.jsx(Zo,{})})}),n.jsx(on,{path:"/rservation",element:n.jsx(On,{children:n.jsx($g,{})})}),n.jsx(on,{path:"/jours-feries",element:n.jsx(On,{requireAdmin:!0,children:n.jsx(Dg,{})})}),n.jsx(on,{path:"/utilisateurs",element:n.jsx(On,{requireAdmin:!0,children:n.jsx(Pg,{})})}),n.jsx(on,{path:"/parametres",element:n.jsx(On,{requireAdmin:!0,children:n.jsx(Ig,{})})}),n.jsx(on,{path:"/pose",element:n.jsx(On,{children:n.jsx(Eg,{})})}),n.jsx(on,{path:"/sav",element:n.jsx(On,{children:n.jsx(_g,{})})}),n.jsx(on,{path:"/metre",element:n.jsx(On,{children:n.jsx(Ng,{})})})]})})}));
